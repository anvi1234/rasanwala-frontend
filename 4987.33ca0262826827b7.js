"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{4987:(I,u,s)=>{s.r(u),s.d(u,{LoginPageModule:()=>A});var m=s(6895),r=s(4719),l=s(191),g=s(1808),d=s(5861),e=s(4650),c=s(9404),p=s(9463),f=s(9089);function h(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.message)}}function b(i,n){1&i&&(e.TgZ(0,"span",17),e._uU(1," *Username is required "),e.qZA())}function _(i,n){1&i&&(e.TgZ(0,"span",17),e._uU(1," *Mobile No is required "),e.qZA())}function x(i,n){1&i&&(e.TgZ(0,"span",17),e._uU(1," *Please, Enter 10 digit Mobile Number. "),e.qZA())}function v(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",9),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.regsterUser())}),e.TgZ(1,"h4",10),e._uU(2),e.qZA(),e._UZ(3,"div"),e.TgZ(4,"div",11)(5,"div",11)(6,"label",12),e._uU(7,"UserName"),e.qZA(),e._UZ(8,"ion-input",13),e.YNc(9,b,2,0,"span",14),e.qZA(),e.TgZ(10,"div",11)(11,"label",12),e._uU(12,"Mobile Number"),e.qZA(),e._UZ(13,"ion-input",15),e.YNc(14,_,2,0,"span",14),e.YNc(15,x,2,0,"span",14),e.qZA()(),e._UZ(16,"br"),e.TgZ(17,"button",16),e._uU(18),e.qZA(),e._UZ(19,"br"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.registerForm),e.xp6(2),e.Oqu(t.name),e.xp6(7),e.Q6J("ngIf",(t.f.username.touched||t.submitted)&&(null==t.f.username.errors?null:t.f.username.errors.required)),e.xp6(5),e.Q6J("ngIf",(t.f.mobileNo.touched||t.submitted)&&(null==t.f.mobileNo.errors?null:t.f.mobileNo.errors.required)),e.xp6(1),e.Q6J("ngIf",(t.f.mobileNo.touched||t.submitted)&&(null==t.f.mobileNo||null==t.f.mobileNo.errors?null:t.f.mobileNo.errors.pattern)),e.xp6(2),e.Q6J("disabled",!t.registerForm.valid),e.xp6(1),e.Oqu(t.name)}}function Z(i,n){1&i&&(e.TgZ(0,"span",17),e._uU(1," *Mobile No is required "),e.qZA())}function N(i,n){1&i&&(e.TgZ(0,"span",17),e._uU(1," *Please, Enter 10 digit Mobile Number. "),e.qZA())}function P(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",9),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.loginUser())}),e.TgZ(1,"h4",10),e._uU(2),e.qZA(),e._UZ(3,"div"),e.TgZ(4,"div",11)(5,"div",11)(6,"label",12),e._uU(7,"Mobile Number"),e.qZA(),e._UZ(8,"ion-input",15),e.YNc(9,Z,2,0,"span",14),e.YNc(10,N,2,0,"span",14),e.qZA()(),e._UZ(11,"br"),e.TgZ(12,"button",16),e._uU(13),e.qZA(),e._UZ(14,"br"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.loginForm),e.xp6(2),e.Oqu(t.name),e.xp6(7),e.Q6J("ngIf",(t.l.mobileNo.touched||t.submitted)&&(null==t.l.mobileNo.errors?null:t.l.mobileNo.errors.required)),e.xp6(1),e.Q6J("ngIf",(t.l.mobileNo.touched||t.submitted)&&(null==t.l.mobileNo||null==t.l.mobileNo.errors?null:t.l.mobileNo.errors.pattern)),e.xp6(2),e.Q6J("disabled",!t.loginForm.valid),e.xp6(1),e.Oqu(t.name)}}function M(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.regFormSignupChange())}),e._uU(1,"Don't have an account? SignUp"),e.qZA()}}function U(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.regFormLoginChange())}),e._uU(1,"Already have an account? LogIn"),e.qZA()}}const L=[{path:"",component:(()=>{class i{constructor(t,o,a,C,F){this.AuthSerivice=t,this.router=o,this.prodSer=a,this.userService=C,this.fb=F,this.isRegister=!0,this.showMessageForLogin=!1,this.submitted=!1,this.verifiedUser=!1,this.message="You have registered successfully, Please Login on site.",this.mobileNo="",this.username="",this.name="Sign Up",this.isError=!1,this.errorMessage="",this.model={email:"",password:""},this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}ngOnInit(){this.registerForm=this.fb.group({mobileNo:["",[r.kI.required,r.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],username:["",[r.kI.required]]}),this.loginForm=this.fb.group({mobileNo:["",[r.kI.required,r.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]]})}get l(){return this.loginForm.controls}get f(){return this.registerForm.controls}ionViewWillEnter(){this.innerWidth=window.innerWidth}checkMobileValidation(){var t=this;return(0,d.Z)(function*(){t.AuthSerivice.mobileValidation(t.registerForm.value).subscribe(o=>{200==o.status&&(t.message=o.message,t.verifiedUser=!0),404==o.status&&(t.verifiedUser=!1)})})()}loginUser(){this.submitted=!0,this.loginForm.valid&&this.AuthSerivice.login(this.loginForm.value).subscribe(t=>{this.showMessageForLogin=!1;let o=t;this.AuthSerivice.setToken(t.token),this.prodSer.getProduct(),localStorage.setItem("userid",o.user._id),localStorage.setItem("employee",o.user.userName),localStorage.setItem("address1",o.user.address1),localStorage.setItem("pinCode",o.user.pinCode),localStorage.setItem("district",o.user.district),localStorage.setItem("mobileNo",o.user.mobileNo),this.router.navigateByUrl("/tabs/home")},t=>{404==t.status?(this.showMessageForLogin=!0,this.message=t.error.message):this.showMessageForLogin=!1})}regsterUser(){this.checkMobileValidation(),this.submitted=!0,this.registerForm.valid&&0==this.verifiedUser&&this.userService.createUser({userName:this.registerForm.value.username,mobileNo:this.registerForm.value.mobileNo,address1:"",address2:"",district:"",pinCode:"",emailName:"",password:"",changeAddress:[]}).subscribe(a=>{this.showMessageForLogin=!0,this.isRegister=!1,this.name="Sign In"})}regFormSignupChange(){this.isRegister=!0,this.name="Sign Up"}regFormLoginChange(){this.isRegister=!1,this.name="Sign In"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.$),e.Y36(g.F0),e.Y36(p.M),e.Y36(f.K),e.Y36(r.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login"]],decls:11,vars:5,consts:[[1,"login-form"],[1,"row"],[1,"col"],[1,"logoimage"],["src","../../assets/img/login-logo-1.png"],["class","showmessage",4,"ngIf"],["class","m-5",3,"formGroup","ngSubmit",4,"ngIf"],["class","child",3,"click",4,"ngIf"],[1,"showmessage"],[1,"m-5",3,"formGroup","ngSubmit"],[1,"account-label"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","formControlName","username","aria-describedby","emailHelp","placeholder","Enter Your Name"],["class","text-danger",4,"ngIf"],["type","text","id","exampleInputEmail1","formControlName","mobileNo","maxlength","10","aria-describedby","emailHelp","placeholder","Enter Phone No"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"],[1,"child",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-content")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"img",4),e.qZA(),e.YNc(6,h,3,1,"div",5),e.YNc(7,v,20,7,"form",6),e.YNc(8,P,15,6,"form",6),e.YNc(9,M,2,0,"div",7),e.YNc(10,U,2,0,"div",7),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",o.showMessageForLogin),e.xp6(1),e.Q6J("ngIf",o.isRegister),e.xp6(1),e.Q6J("ngIf",!o.isRegister),e.xp6(1),e.Q6J("ngIf",!o.isRegister),e.xp6(1),e.Q6J("ngIf",o.isRegister))},dependencies:[m.O5,r._Y,r.JJ,r.JL,r.nD,l.W2,l.pK,l.j9,r.sg,r.u],styles:[".bg-image[_ngcontent-%COMP%]{background:#fff;padding-top:50px;height:100%}.login-form[_ngcontent-%COMP%]{background:radial-gradient(#db0f0f,#780202);height:100%;color:#fff;box-shadow:1px 4px 22px -8px #00000045}label[_ngcontent-%COMP%]{color:#fff;font-size:14px}.login-heading[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.container[_ngcontent-%COMP%]{background:rgba(9,9,10,.3098039216);border-radius:50px;box-shadow:10px 10px 5px #00000061}.btn-primary[_ngcontent-%COMP%]{width:100%}ion-input[_ngcontent-%COMP%]{border-bottom:2px solid #6e0303;width:100%;position:relative;left:0;right:0;color:#000;background:white}.text-danger[_ngcontent-%COMP%]{color:#000!important}.child[_ngcontent-%COMP%]{margin:5px;font-size:15px;font-weight:500;color:#fff;text-align:center}.child[_ngcontent-%COMP%]:nth-of-type(1){flex-grow:4}.account-label[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:600;text-transform:uppercase}.red[_ngcontent-%COMP%]{color:red;font-size:12px}.logoimage[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;position:relative;top:15%;width:50%}.logoimage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.showmessage[_ngcontent-%COMP%]{position:relative;background:white;color:red;top:20px;padding:5px;margin:5px;border-radius:10px;text-align:-webkit-center}"]}),i})()}];let T=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.Bz.forChild(L),g.Bz]}),i})(),A=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[c.$],imports:[m.ez,r.u5,l.Pc,r.UX,T]}),i})()}}]);