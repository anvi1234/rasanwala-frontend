"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7492],{7492:(Y,y,c)=>{c.r(y),c.d(y,{TodoListPageModule:()=>z});var d=c(6895),h=c(4719),a=c(191),g=c(1808),_=c(2662),t=c(4650),T=c(1737),m=c(529),u=c(7221),P=c(2340);let b=(()=>{class o{constructor(e){this.http=e,this.baseUri=P.N.baseUrl,this.headers=(new m.WM).set("Content-Type","application/json")}getTodoById(e){return this.http.get(`${this.baseUri}/todo/get-todo-by-id/${e}`).pipe((0,u.K)(this.errorMgmt))}addTodo(e){return this.http.post(`${this.baseUri}/todo/addtodo`,e).pipe((0,u.K)(this.errorMgmt))}getTodo(){return this.http.get(`${this.baseUri}/todo/get-todo`)}deleteTodo(e){const i=new m.WM;return this.http.delete(`${this.baseUri}/todo/deletetodo/${e}`,{headers:i}).pipe((0,u.K)(this.errorMgmt))}updateTodo(e,i){return this.http.put(`${this.baseUri}/todo/updatetodo/${e}`,i,{headers:this.headers}).pipe((0,u.K)(this.errorMgmt))}errorMgmt(e){let i="";return i=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(i),(0,T._)(i)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(m.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function w(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label",7),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selectMember(r._id))}),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"span",8),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.removeData(r._id))}),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(2),t.hij("",t.lcZ(3,1,e.date)," Shopping List")}}let C=(()=>{class o{constructor(e,i){this.todoService=e,this.router=i,this.historyArray=[]}ionViewWillEnter(){this.getToDo()}getToDo(){this.todoService.getTodo().subscribe(e=>{this.historyArray=e,console.log(e)})}selectMember(e){console.log("sdfjdjfgsjdfgdsf",e),this.router.navigateByUrl(`/tabs/to-do/todohistory/${e}`)}removeData(e){this.todoService.deleteTodo(e).subscribe(i=>{this.getToDo()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b),t.Y36(g.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-todo-history"]],decls:10,vars:1,consts:[["color","primary"],["slot","start"],["name","menu"],[1,"logo-img"],["src","../../assets/img/login-logo-1.png"],[1,"list"],[4,"ngFor","ngForOf"],[3,"click"],["title","Delete Task",1,"delete-btn",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-menu-button"),t._UZ(4,"ion-icon",2),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"img",4),t.qZA()()()(),t.TgZ(7,"ion-content")(8,"ion-list",5),t.YNc(9,w,5,3,"ion-item",6),t.qZA()()),2&e&&(t.xp6(9),t.Q6J("ngForOf",i.historyArray))},dependencies:[d.sg,a.Sm,a.W2,a.Gu,a.gu,a.Ie,a.Q$,a.q_,a.fG,a.sr,d.uU],styles:[".delete-btn[_ngcontent-%COMP%]{margin-left:auto;display:block;width:16px;height:16px;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23ff3d46' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-trash-2'%3E%3Cpolyline points='3 6 5 6 21 6'/%3E%3Cpath d='M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2'/%3E%3Cline x1='10' y1='11' x2='10' y2='17'/%3E%3Cline x1='14' y1='11' x2='14' y2='17'/%3E%3C/svg%3E\");background-size:16px;background-position:center;cursor:pointer}"]}),o})();var M=c(5861),f=c(3682),A=c(5226),k=c.n(A),Z=c(4037),O=c(9463);function I(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",21),t.NdJ("click",function(){const n=t.CHM(e),r=n.$implicit,l=n.index,p=t.oxw(2);return t.KtG(p.selected(r.productName,r,l))}),t._uU(1),t.qZA()}if(2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",e.productName," ")}}function L(o,s){if(1&o&&(t.TgZ(0,"ion-list",19),t.YNc(1,I,2,1,"ion-item",20),t.qZA()),2&o){const e=t.oxw();t.Q6J("hidden",e.items.length<=0),t.xp6(1),t.Q6J("ngForOf",e.items)}}function S(o,s){if(1&o&&(t.TgZ(0,"ion-item"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.AsE(" ",e.subweight," - ",t.Dn7(2,2,e.price,"INR","symbol")," ")}}function F(o,s){if(1&o&&(t.TgZ(0,"ion-list",19),t.YNc(1,S,3,6,"ion-item",17),t.qZA()),2&o){const e=t.oxw();t.Q6J("hidden",e.items.length<=0),t.xp6(1),t.Q6J("ngForOf",e.priceArrayValue)}}function D(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label",22),t._uU(2),t.qZA(),t.TgZ(3,"span",23),t.NdJ("click",function(){const n=t.CHM(e),r=n.index,l=n.$implicit,p=t.oxw();return t.KtG(p.removeRow(r,l.productItem))}),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.productItem)}}function N(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.save())}),t._uU(1,"Save"),t.qZA()}}function B(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.update())}),t._uU(1,"Update"),t.qZA()}}function E(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",8),t.YNc(4,N,2,0,"button",27),t.YNc(5,B,2,0,"button",27),t.qZA(),t.TgZ(6,"div",28),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"div",8)(10,"ion-button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.placeOrder())}),t._uU(11,"Place Order"),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.fetchidBoo),t.xp6(1),t.Q6J("ngIf",e.fetchidBoo),t.xp6(2),t.hij(" ",t.Dn7(8,3,e.grandTotal,"INR","symbol")," ")}}const v=function(){return{standalone:!0}};let x=(()=>{class o{constructor(e,i,n,r,l){this.todoService=e,this.activatedRoute=i,this.cartService=n,this.router=r,this.productService=l,this.newDynamic={},this.isSearchItem=!1,this.addButtoBoolean=!0,this.overallweightforcustomPrice="",this.specificPriceOfValue=0,this.items=[],this.priceArrayforcalculation=[],this.listArray=[],this.fetchidBoo=!1,this.dynamicArray=[],this.isList=!1,this.isFooter=!1,this.priceArrayValue=[],this.isSearchPrice=!1}ionViewWillEnter(){this.addButtoBoolean=!0,this.fetchId=this.activatedRoute.snapshot.paramMap.get("id"),this.fetchId&&(this.fetchidBoo=!0,this.addButtoBoolean=!1,this.isFooter=!0,this.getToDoById(this.fetchId))}addRow(e,i){this.isList=!0,this.isFooter=!0,this.isSearchPrice=!1,this.productItem="",this.overallweightforcustomPrice?(this.newDynamic={productItem:e+" "+this.overallweightforcustomPrice},this.priceArrayforcalculation.push(this.priceForchange),this.dynamicArray.push(this.newDynamic),this.addButtoBoolean=!0,this.caculateTotalprice()):this.newDynamic={productItem:e+" "+i},this.productweight=""}removeRow(e,i){this.dynamicArray.splice(e,1),this.dynamicArray.length<1&&(this.isFooter=!1),this.totalPriceAfterRemove()}save(){this.isList=!0,this.listArray=this.dynamicArray,this.newDynamic={productItem:""},this.newDynamic.productItem&&this.dynamicArray.push(this.newDynamic);let e={array:this.listArray,userId:localStorage.getItem(f.lq),status:"pending",type:"todo",totalAmount:this.grandTotal,date:this.getConvert(new Date)};this.todoService.addTodo(e).subscribe(i=>{k().fire({heightAuto:!1,icon:"success",title:"Your Item list save successfully",showConfirmButton:!1,showCloseButton:!0}).then(n=>{})})}getConvert(e){var i=new Date(e),n=("0"+(i.getMonth()+1)).slice(-2),r=("0"+i.getDate()).slice(-2);return[i.getFullYear(),n,r].join("-")}getToDoById(e){this.todoService.getTodoById(e).subscribe(i=>{this.dynamicArray=i.user.array,this.isList=!0})}update(){this.isList=!0,this.listArray=this.dynamicArray;let e={array:this.listArray,userId:localStorage.getItem(f.lq),status:"pending",totalAmount:this.grandTotal,date:this.getConvert(new Date)};this.todoService.updateTodo(this.fetchId,e).subscribe(i=>{})}placeOrder(){if(localStorage.getItem("employee")&&localStorage.getItem("address1")&&localStorage.getItem("address2")&&localStorage.getItem("pincode")&&localStorage.getItem("mobileNo")){let e={userId:localStorage.getItem(f.lq),cartArray:this.dynamicArray,status:"ordered",type:"todo",totalAmount:this.grandTotal,date:this.getConvert(new Date)};this.cartService.checkoutProduct.next(e),this.router.navigateByUrl("/checkout")}else this.cartService.routingBehaviour.next("/todo"),this.router.navigateByUrl("/user")}inputChanged(e){var i=this;return(0,M.Z)(function*(){console.log(e.target.value);const n=e.target.value;n.length<=0?i.items=[]:yield i.productService.productData.subscribe(r=>{i.isSearchItem=!0;let l=r.filter(p=>p.productName.toLocaleLowerCase().includes(n.toLocaleLowerCase()));i.items=l})})()}selected(e,i,n){this.weightForSelecteditem="",this.specificPriceOfValue=0,this.productItem=e,this.specificData=i,this.isSearchItem=!1,this.priceArrayValue=i.priceArray,this.weightForSelecteditem=this.removeNumberFromDigit(this.specificData.weight),this.specificPriceOfValue=Number(this.specificData.price)}inputweightChanged(e){this.productweight=e.target.value,this.addButtoBoolean=!1;let i=this.removeAlphafromString(this.productweight);if(this.isSearchPrice=!0,"Lt."===this.weightForSelecteditem){let n=Number(this.specificPriceOfValue)*Number(i);this.priceForchange=n;let l=Number(i)+"Lt-"+n+"\u20b9";this.overallweightforcustomPrice=l}if("gm"===this.weightForSelecteditem){let n=parseInt(i)/parseInt("1000")*this.specificData.priceArray[0].price,r=i+"gm-"+n+"\u20b9";this.priceForchange=n,this.overallweightforcustomPrice=r}if("kg"===this.weightForSelecteditem){let n=Number(this.specificData.priceArray[0].price)*Number(i);this.priceForchange=n,this.overallweightforcustomPrice=i+"kg-"+n+"\u20b9"}}caculateTotalprice(){let e=0;this.priceArrayforcalculation.forEach(i=>{e+=i}),this.grandTotal=e}removeNumberFromDigit(e){return e.replace(/[0-9]/g,"")}removeAlphafromString(e){return e.replace(/\D/g,"")}totalPriceAfterRemove(){this.grandTotal=0,this.dynamicArray.forEach(e=>{let i=e.productItem.split("-"),n=this.removeAlphafromString(i[1]);this.grandTotal=Number(this.grandTotal)+Number(n)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b),t.Y36(g.gz),t.Y36(Z.N),t.Y36(g.F0),t.Y36(O.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-todo-list"]],decls:26,vars:11,consts:[["color","primary"],["slot","start"],["name","menu"],[1,"logo-img"],["src","../../assets/img/login-logo-1.png"],["id","taskList",1,"app-container"],[1,"parenttitle"],[1,"parentProduct","add-task"],[1,"child"],["type","text","placeholder","Product's name",1,"task-input",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["input",""],["type","text","placeholder","weight gm/kg/Lt",1,"task-input",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["inputweight",""],[1,"parentProduct"],[1,"btn-child",3,"disabled","click"],[3,"hidden",4,"ngIf"],[1,"list"],[4,"ngFor","ngForOf"],["class","grid_12 summary",4,"ngIf"],[3,"hidden"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[2,"font-size","10px"],["title","Delete Task",1,"delete-btn",3,"click"],[1,"grid_12","summary"],[1,"inner_container"],[1,"btn-summary","parent-container"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"child","totalAmount"],["fill","outline",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-menu-button"),t._UZ(4,"ion-icon",2),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"img",4),t.qZA()(),t._UZ(7,"br"),t.qZA()(),t.TgZ(8,"ion-content")(9,"div",5),t._UZ(10,"div",6),t.TgZ(11,"div",7)(12,"div",8)(13,"input",9,10),t.NdJ("ngModelChange",function(r){return i.productItem=r})("keyup",function(r){return i.inputChanged(r)}),t.qZA()(),t.TgZ(15,"div",8)(16,"input",11,12),t.NdJ("ngModelChange",function(r){return i.productweight=r})("keyup",function(r){return i.inputweightChanged(r)}),t.qZA()()(),t.TgZ(18,"div",13)(19,"ion-button",14),t.NdJ("click",function(){return i.addRow(i.productItem,i.productweight)}),t._uU(20," Add"),t.qZA()(),t.YNc(21,L,2,2,"ion-list",15),t.YNc(22,F,2,2,"ion-list",15),t.TgZ(23,"ion-list",16),t.YNc(24,D,4,1,"ion-item",17),t.qZA()(),t.YNc(25,E,12,7,"div",18),t.qZA()),2&e&&(t.xp6(13),t.Q6J("ngModel",i.productItem)("ngModelOptions",t.DdM(9,v)),t.xp6(3),t.Q6J("ngModel",i.productweight)("ngModelOptions",t.DdM(10,v)),t.xp6(3),t.Q6J("disabled",i.addButtoBoolean),t.xp6(2),t.Q6J("ngIf",i.isSearchItem),t.xp6(1),t.Q6J("ngIf",i.isSearchPrice),t.xp6(2),t.Q6J("ngForOf",i.dynamicArray),t.xp6(1),t.Q6J("ngIf",i.isFooter))},dependencies:[d.sg,d.O5,h.Fj,h.JJ,h.On,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.Ie,a.Q$,a.q_,a.fG,a.sr,d.H9],styles:["@import\"https://fonts.googleapis.com/css?family=DM+Sans:400,500,700&display=swap\";*[_ngcontent-%COMP%]{box-sizing:border-box}[_ngcontent-%COMP%]:root{--checkbox-color: #ee9ca7;--checkbox-shadow: rgba(238, 156, 167, .2);--add-button: #ee9ca7;--add-button-shadow: rgba(238, 156, 167,.4)}body[_ngcontent-%COMP%]{width:100%;height:100vh;margin:0;padding:16px;display:flex;justify-content:center;align-items:center;background-image:linear-gradient(62deg,rgba(1,95,183,.9732216701) 13%,rgba(255,122,151,.5) 4%),linear-gradient(44deg,rgba(0,43,99,.0792209024) 39%,rgba(242,140,143,.5) 18%),linear-gradient(118deg,rgba(84,202,242,.0315299727) 40%,rgba(247,155,187,.5) 54%),linear-gradient(58deg,rgba(90,90,237,.1614444357) 83%,rgba(249,156,142,.5) 23%);background-blend-mode:normal,lighten,multiply,hard-light;font-family:DM Sans,sans-serif;overflow:hidden}ul[_ngcontent-%COMP%]{list-style:none;padding:0}.app-header[_ngcontent-%COMP%]{font-size:20px;line-height:32px;margin:0 0 12px;color:#fff}.submit-task[_ngcontent-%COMP%]{width:32px;height:32px;flex-shrink:0;border:none;background:var(--add-button);color:gray;background-image:url(plus.b9895710e9a111e7.png);background-size:18px;background-position:center;background-repeat:no-repeat;border-radius:50%;cursor:pointer;box-shadow:0 0 12px 0 var(--add-button-shadow)}.add-task[_ngcontent-%COMP%]{height:40px;font-size:14px;display:flex}.task-list-item[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);border-radius:4px;margin-bottom:12px;display:flex;align-items:center;padding:8px}.delete-btn[_ngcontent-%COMP%]{margin-left:auto;display:block;width:16px;height:16px;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23ff3d46' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-trash-2'%3E%3Cpolyline points='3 6 5 6 21 6'/%3E%3Cpath d='M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2'/%3E%3Cline x1='10' y1='11' x2='10' y2='17'/%3E%3Cline x1='14' y1='11' x2='14' y2='17'/%3E%3C/svg%3E\");background-size:16px;background-position:center;cursor:pointer}@supports (-webkit-appearance: none) or (-moz-appearance: none){input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none}}.mt-20[_ngcontent-%COMP%]{margin-top:6px}@media only screen and (max-width: 768px){.grid_12.summary[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;z-index:99999;width:100%;margin-bottom:0}.sub-total[_ngcontent-%COMP%], .taxes[_ngcontent-%COMP%]{font-size:1em}.summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-size:1.6em;line-height:1em;margin:10px 0}.btn-checkout[_ngcontent-%COMP%]{font-size:1.6em}}.summary[_ngcontent-%COMP%]{padding:20px;background:#fff;box-shadow:0 0 5px #0000001a;border-radius:5px;margin-bottom:80px}.summary[_ngcontent-%COMP%]   .meta-data[_ngcontent-%COMP%]{border-right:1px solid #eee;padding-right:10%}.summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-size:2em;text-align:center;line-height:65px}.parent-container[_ngcontent-%COMP%]{display:flex;position:relative;margin-top:10px;justify-content:space-between}.totalAmount[_ngcontent-%COMP%]{font-size:16px;position:relative;bottom:-12px}.parentProduct[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.red[_ngcontent-%COMP%]{color:red}input[_ngcontent-%COMP%]{height:34px;background-color:transparent;border-radius:10px;border:2px solid red;padding:6px;width:100%}.child[_ngcontent-%COMP%]{position:relative;margin:4px;border-radius:5px solid black}.btn-child[_ngcontent-%COMP%]{width:100%}.parenttitle[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:400;font-size:12px}ion-item[_ngcontent-%COMP%]{font-size:12px;height:31px;overflow:scroll;padding:0}"]}),o})();const J=[{path:"",component:x},{path:"todohistory",component:C,canActivate:[_.a]},{path:"todohistory/:id",component:x,canActivate:[_.a]}];let U=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(J),g.Bz]}),o})(),z=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,h.u5,a.Pc,U]}),o})()}}]);