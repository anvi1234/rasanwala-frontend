"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5213],{5213:(Z,h,i)=>{i.r(h),i.d(h,{CartPageModule:()=>w});var d=i(6895),g=i(4719),c=i(191),u=i(1808),m=i(2662),f=i(5861),p=i(3682),t=i(4650),_=i(4037),x=i(7942),C=i(9463);function b(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",11),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selected(s))}),t._uU(1),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.productName," ")}}function P(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"div",28),t._UZ(3,"img",29),t.qZA(),t.TgZ(4,"div",30)(5,"h5"),t._uU(6),t.qZA(),t.TgZ(7,"h6"),t._uU(8),t.qZA()()(),t.TgZ(9,"div",31)(10,"div",32)(11,"div",23),t._uU(12),t.ALo(13,"currency"),t.qZA(),t.TgZ(14,"div",23),t._uU(15),t.qZA(),t.TgZ(16,"div",23)(17,"ion-icon",33),t.NdJ("click",function(){const r=t.CHM(e),s=r.$implicit,l=r.index,A=t.oxw(2);return t.KtG(A.removeItem(s,l))}),t.qZA()()()()()}if(2&n){const e=a.$implicit;t.xp6(3),t.s9C("src",e.fireBaseUrl,t.LSH),t.xp6(3),t.Oqu(e.productName),t.xp6(2),t.Oqu(e.dscription),t.xp6(4),t.hij(" Price:",t.Dn7(13,5,e.priceValue,"INR","symbol")," "),t.xp6(3),t.hij("Weight: ",e.weightValue,"")}}function v(n,a){1&n&&(t.TgZ(0,"div")(1,"b"),t._uU(2),t.ALo(3,"currency"),t.qZA()()),2&n&&(t.xp6(2),t.hij("Add items worth ",t.Dn7(3,1,"250","INR","symbol")," more to place an order"))}function M(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ion-content",12)(1,"div",13)(2,"div",14)(3,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.emptycart())}),t._uU(4,"Empty Cart"),t.qZA()(),t.TgZ(5,"div",14)(6,"button",16),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.shopMore("View All"))}),t._uU(7,"Shop More"),t.qZA()()(),t.TgZ(8,"div",17),t.YNc(9,P,18,9,"div",18),t.qZA(),t.TgZ(10,"div",19)(11,"div",20),t.YNc(12,v,4,5,"div",10),t.TgZ(13,"div",21)(14,"div",22),t._uU(15),t.ALo(16,"currency"),t.qZA(),t.TgZ(17,"div",23)(18,"ion-button",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.placeOrder())}),t._uU(19,"Place Order"),t.qZA()()(),t.TgZ(20,"div")(21,"button",25),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.shopMore("View All"))}),t._uU(22,"Shop More"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(9),t.Q6J("ngForOf",e.products),t.xp6(3),t.Q6J("ngIf",e.placorderDis),t.xp6(3),t.hij(" ",t.Dn7(16,4,e.grandTotal,"INR","symbol")," "),t.xp6(3),t.Q6J("disabled",e.placorderDis)}}function O(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",34)(2,"div",35),t._UZ(3,"img",36),t.TgZ(4,"h4"),t._uU(5,"Your cart is empty!"),t.qZA(),t.TgZ(6,"h6"),t._uU(7,"Add item to it now"),t.qZA(),t.TgZ(8,"button",37),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.shopMore("View All"))}),t._uU(9," Shop Now "),t.qZA()()(),t.BQk()}}const y=[{path:"",component:(()=>{class n{constructor(e,o,r,s){this.cartService=e,this.router=o,this.tabComp=r,this.productService=s,this.valueOfSearch="",this.reorder=!1,this.isSearchbar=!1,this.value="The best dog bones of all time. Holy crap. Your dog will be begging for these things! I got curious once and ate one myself. I'm a fan.",this.price="123123",this.products=[],this.placorderDis=!0,this.changeAddressValue="default",this.items=[],this.isSearchContainer=!1,this.form=new g.cw({seletedItem:new g.NI(null)})}ionViewWillEnter(){this.cartService.addressChange.subscribe(e=>{e&&(this.changeAddressValue=e)}),this.cartService.productListAfterReorder.subscribe(e=>{e?(this.reorder=!0,this.totalProduct=e,this.products=e.cartArray,this.cartService.productList.next(this.products.length),this.grandTotal=this.cartService.getTotalPrice(this.products),this.placorderDis=!(this.grandTotal>250)):(this.reorder=!1,this.cartService.getCartByidForData(localStorage.getItem(p.lq)).subscribe(o=>{1==o.status&&(this.totalProduct=o.user,this.products=this.totalProduct.cartArray,this.cartService.productList.next(this.products.length),this.grandTotal=this.cartService.getTotalPrice(this.products),this.placorderDis=!(this.grandTotal>250))}))})}removeItem(e,o){1==this.reorder?(this.products.splice(o,1),this.grandTotal=this.cartService.getTotalPrice(this.products),this.placorderDis=!(this.grandTotal>250)):(this.totalProduct.cartArray.splice(o,1),this.cartService.updateCart(this.totalProduct._id,this.totalProduct).subscribe(r=>{this.grandTotal=this.cartService.getTotalPrice(this.totalProduct.cartArray),this.placorderDis=!(this.grandTotal>250)}))}emptycart(){return new Promise((e,o)=>{this.cartService.removeAllCart(localStorage.getItem("userid")).subscribe(r=>{r&&(this.deleteDataRes=r,e(r))})}).finally(()=>{console.log("sdmsbfsmdbfsdf"),this.cartService.getCartByidForData(localStorage.getItem(p.lq)).subscribe(e=>{this.products=[],this.cartService.productListAfterReorder.next(null),this.cartService.productList.next(this.products.length),this.tabComp.ionViewWillEnter()})})}placeOrder(){if(localStorage.getItem("employee")&&localStorage.getItem("address1")&&localStorage.getItem("address2")&&localStorage.getItem("pinCode")&&localStorage.getItem("mobileNo")){let e={_id:this.totalProduct._id,userId:localStorage.getItem(p.lq),cartArray:this.products,status:"ordered",type:"cart",date:new Date,changeAdress:this.changeAddressValue,totalAmount:this.grandTotal};this.cartService.checkoutProduct.next(e),sessionStorage.setItem("routerUrlForCheckout",this.router.url),this.router.navigateByUrl("/checkout")}else this.cartService.routingBehaviour.next("/checkout"),this.router.navigateByUrl("/user")}selected(e){this.valueOfSearch="",this.products=this.products.filter(o=>o.productName===e.productName),this.isSearchbar=!1,this.items=[]}openSearchBar(){this.isSearchbar=!this.isSearchbar}inputChanged(e){var o=this;return(0,f.Z)(function*(){const r=e.target.value;if(r.length<=0)return void(o.items=[]);let s=o.products.filter(l=>l.productName?.toLocaleLowerCase().includes(r?.toLocaleLowerCase()));o.items=s})()}shopMore(e){this.router.navigate(["/tabs/product-list"],{queryParams:{order:e}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.N),t.Y36(u.F0),t.Y36(x.D),t.Y36(C.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cart"]],decls:13,vars:4,consts:[["color","primary"],[1,"parent-header-btn"],[1,"header-child-btn"],["slot","start",1,"button-header"],["name","menu"],[1,"logo-img"],["src","../../assets/img/login-logo-1.png"],[1,"search-list",3,"hidden"],[3,"click",4,"ngFor","ngForOf"],["fullscreen","","scroll-y","true",4,"ngIf"],[4,"ngIf"],[3,"click"],["fullscreen","","scroll-y","true"],[1,"parent-btn"],[1,"btn-child"],["fill","outline",1,"btn","btn-outline-danger",3,"click"],[1,"btn","btn-outline-success",3,"click"],[1,"upper-div"],["class","cart",4,"ngFor","ngForOf"],[1,"grid_12","summary"],[1,"inner_container"],[1,"btn-summary","parent-container"],[1,"child","totalAmount"],[1,"child"],["fill","outline",3,"disabled","click"],["type","button",1,"btn","btn-danger","btn-sm","w-100",3,"click"],[1,"cart"],[1,"parent-container","item"],[1,"child1"],[3,"src"],[1,"child2"],[1,"footer"],[1,"parent-container"],["name","trash-outline",3,"click"],[1,"container"],[1,"center"],["src","https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png?q=90","alt",""],[1,"btn","btn-danger",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div",1)(3,"div",2)(4,"ion-buttons",3)(5,"ion-menu-button"),t._UZ(6,"ion-icon",4),t.qZA(),t.TgZ(7,"div",5),t._UZ(8,"img",6),t.qZA()()()()(),t.TgZ(9,"ion-list",7),t.YNc(10,b,2,1,"ion-item",8),t.qZA()(),t.YNc(11,M,23,8,"ion-content",9),t.YNc(12,O,10,0,"ng-container",10)),2&e&&(t.xp6(9),t.Q6J("hidden",o.items.length<=0),t.xp6(1),t.Q6J("ngForOf",o.items),t.xp6(1),t.Q6J("ngIf",0!=o.products.length),t.xp6(1),t.Q6J("ngIf",0==o.products.length))},dependencies:[d.sg,d.O5,c.YG,c.Sm,c.W2,c.Gu,c.gu,c.Ie,c.q_,c.fG,c.sr,d.H9],styles:[".mt-20[_ngcontent-%COMP%]{margin-top:60px}h5[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.parent-container[_ngcontent-%COMP%]{display:flex;margin-top:10px;align-items:center;justify-content:space-evenly}.item[_ngcontent-%COMP%]{margin:12px}.child1[_ngcontent-%COMP%]{width:45%;position:relative;margin-left:5px}.child1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.child2[_ngcontent-%COMP%]{width:346px;word-wrap:break-word}.align-left[_ngcontent-%COMP%]{text-align:left}.align-right[_ngcontent-%COMP%]{text-align:right}.align-center[_ngcontent-%COMP%]{text-align:center}html[_ngcontent-%COMP%]{background:#f5f5f5;font-family:Roboto,sans-serif}.summary[_ngcontent-%COMP%]{padding:20px;width:100%;bottom:0;position:absolute;background:#fff;box-shadow:0 0 5px #0000001a;border-radius:5px;margin-bottom:80px}.summary[_ngcontent-%COMP%]   .meta-data[_ngcontent-%COMP%]{border-right:1px solid #eee;padding-right:10%}.summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-size:2em;text-align:center;line-height:65px}.container[_ngcontent-%COMP%]{max-width:1140px;margin:200px auto 0;padding:0 50px}.picker[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:center}.quantity-text[_ngcontent-%COMP%]{margin:0 20px;font-size:1.2em}.sub-total[_ngcontent-%COMP%], .taxes[_ngcontent-%COMP%]{font-size:1.5em;margin:10px 0}.btn-summary[_ngcontent-%COMP%]{display:flex;justify-content:space-around;font-family:Amatic SC,cursive}.btn-reverse[_ngcontent-%COMP%]{background-color:#fff;color:#478298;border:1px solid #478298}input[_ngcontent-%COMP%]{border-radius:10px;height:40px}.header[_ngcontent-%COMP%]{z-index:99999}.summary-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end}@media only screen and (max-width: 768px){.grid_12.summary[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;z-index:99999;width:100%;margin-bottom:0}.sub-total[_ngcontent-%COMP%], .taxes[_ngcontent-%COMP%]{font-size:1em}.summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-size:1.6em;line-height:1em;margin:10px 0}.btn-checkout[_ngcontent-%COMP%]{font-size:1.6em}}@media only screen and (max-width: 480px){.btn-checkout[_ngcontent-%COMP%]{font-size:1.2em}.container[_ngcontent-%COMP%]{padding:0 30px}.btn-remove[_ngcontent-%COMP%]{font-size:1.2em}}p[_ngcontent-%COMP%]{position:relative;bottom:7px;white-space:nowrap}.footer[_ngcontent-%COMP%]{border:1px solid #dad6d6;font-size:14px;font-weight:500;margin:4px;border-left:none;border-right:none}.footer[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{margin:4px}.footer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:red;margin-right:10px;cursor:pointer}.btn-details[_ngcontent-%COMP%]{background-color:red;color:#fff;padding:5px 13px;font-size:17px;border:none;box-shadow:0 10px 30px #ff886bb3}.btn-details[_ngcontent-%COMP%]:hover{background-color:#e28d8d;color:#fff}.totalAmount[_ngcontent-%COMP%]{font-size:16px}p[_ngcontent-%COMP%]{font-size:12px}.center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{text-decoration:none;color:inherit;border:none;outline:none;height:162px;width:250px;margin:20px 0}h4[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:400}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.card-table[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:none;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(188,187,187,.2);border-radius:.25rem}.center[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px!important;margin-top:20px!important;font-weight:400;padding:12px 72px;border-radius:3px!important}.footer[_ngcontent-%COMP%]:last-child{position:relative;margin-bottom:30px}.parent-btn[_ngcontent-%COMP%]{display:flex;margin:5px;justify-content:space-between}.upper-div[_ngcontent-%COMP%]{margin-bottom:39%}"]}),n})(),canActivate:[m.a]}];let T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(y),u.Bz]}),n})(),w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,g.u5,c.Pc,T]}),n})()}}]);