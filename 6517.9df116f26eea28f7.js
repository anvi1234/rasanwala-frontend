"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6517],{1255:(k,g,d)=>{d.d(g,{x:()=>p});class p{}},179:(k,g,d)=>{d.r(g),d.d(g,{ProductUpdatePagePageModule:()=>C});var p=d(6895),P=d(4719),e=d(191),m=d(1808),M=d(9165),i=d(4650);const f=[{path:"",component:M.v}];let c=(()=>{class r{}return r.\u0275fac=function(_){return new(_||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[m.Bz.forChild(f),m.Bz]}),r})(),C=(()=>{class r{}return r.\u0275fac=function(_){return new(_||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[p.ez,P.u5,e.Pc,c]}),r})()},9165:(k,g,d)=>{d.d(g,{v:()=>y});var p=d(537),P=d(1255),e=d(4650),m=d(9463),M=d(4586),i=d(191),f=d(6895),c=d(4719);function C(s,l){if(1&s&&(e.TgZ(0,"ion-select-option",16),e._uU(1),e.qZA()),2&s){const t=l.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}const r=function(){return{standalone:!0}};function u(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"ion-list",17)(1,"ion-item")(2,"div",18)(3,"div",19)(4,"ion-input",20),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.price=a)}),e.qZA()(),e.TgZ(5,"div",19)(6,"ion-input",21),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.subWeight=a)}),e.qZA()(),e.TgZ(7,"div",19)(8,"button",1),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.addRow(a.subWeight,a.price))}),e._uU(9,"+"),e.qZA()()()()()}if(2&s){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.price)("ngModelOptions",e.DdM(4,r)),e.xp6(2),e.Q6J("ngModel",t.subWeight)("ngModelOptions",e.DdM(5,r))}}function _(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA(),e.TgZ(5,"span",23),e.NdJ("click",function(){const o=e.CHM(t).index,U=e.oxw(2);return e.KtG(U.removeRow(o))}),e.qZA()()}if(2&s){const t=l.$implicit;e.xp6(2),e.Oqu(t.price),e.xp6(2),e.Oqu(t.subweight)}}function T(s,l){if(1&s&&(e.TgZ(0,"ion-list",17),e.YNc(1,_,6,2,"ion-item",22),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.data.priceArray)}}function Z(s,l){1&s&&e._UZ(0,"ion-spinner",24)}let y=(()=>{class s{constructor(t,n,a){this.productService=t,this.storage=n,this.modalCtrl=a,this.newDynamic={},this.isChecked=!1,this.typeOfPack="",this.dynamicArray=[],this.category=[{id:1,name:"Sauce & Spreads"},{id:2,name:"Atta,Rice & Dal"},{id:3,name:"Bakery & Biscuits"},{id:4,name:"Breakfast & Instant Food"},{id:5,name:"Cold Drinks & Juice"},{id:6,name:"Cleaning Essential"},{id:7,name:"Masala Oil & More"},{id:8,name:"Personal Care"},{id:9,name:"Snacks & Munchies"},{id:10,name:"Tea,Cofee & Health Drink"}],this.isSpinner=!1,this.ProductFormModel=new P.x,this.file=null,this.selectedFile=null,this.todo={title:"",description:""}}ionViewWillEnter(){console.log("asdasd",this.data)}onFileChange(t){this.isSpinner=!0;var n=Date.now();const a=t.target.files[0],U=this.storage.ref(`item/${n}`);this.storage.upload(`item/${n}`,a).snapshotChanges().pipe((0,p.x)(()=>{this.downloadURL=U.getDownloadURL(),this.downloadURL.subscribe(h=>{h&&(this.fb=h,this.isSpinner=!1)})})).subscribe(h=>{h&&console.log(h)})}onSubmit(){console.log("dataArray",this.data.priceArray),this.ProductFormModel=this.data,this.ProductFormModel.isSubPrice=this.isChecked,this.ProductFormModel.weight=this.data.priceArray[0].subweight,this.ProductFormModel.price=this.data.priceArray[0].price,this.ProductFormModel.producttype=this.typeOfPack,this.fb&&(this.ProductFormModel.fireBaseUrl=this.fb),this.productService.updateProduct(this.data._id,this.ProductFormModel).subscribe(t=>{this.modalCtrl.dismiss()})}addRow(t,n){this.subWeight="",this.price="",this.newDynamic={price:n,subweight:t},this.newDynamic.price&&this.newDynamic.subweight&&this.data.priceArray.push(this.newDynamic)}removeRow(t){console.log("sfsdf",t),this.data.priceArray.splice(t,1)}ionChange(t){this.isChecked=!0===t.detail.checked}close(){this.modalCtrl.dismiss()}ionChangeforpack(t,n){"Packed"===n&&!0===t.detail.checked&&(this.typeOfPack="Packed"),"Open"===n&&!0===t.detail.checked&&(this.typeOfPack="Open"),console.log("hhhccc",t.detail.checked)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(m.M),e.Y36(M.Q1),e.Y36(i.IN))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-product-update-page"]],inputs:{data:"data"},decls:49,vars:22,consts:[["slot","end"],[3,"click"],[1,"row"],[1,"col-sm-12","img"],[3,"src"],["enctype","multipart/form-data","novalidate",""],["form","ngForm"],["type","text","required","","ngControl","title",3,"ngModel","ngModelOptions","ngModelChange"],["interface","popover","placeholder","Select Category",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["slot","start",3,"checked","ionChange"],["slot","start",3,"checked","indeterminate","ionChange"],["class","list",4,"ngIf"],["color","primary","name","lines-small",4,"ngIf"],["type","file","required","","name","imageUrl","ngControl","title",3,"change"],["type","submit",3,"disabled","click"],[3,"value"],[1,"list"],[1,"parent"],[1,"child"],["type","text","placeholder","Price",1,"task-input",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","placeholder","gm/kg",1,"task-input",3,"ngModel","ngModelOptions","ngModelChange"],[4,"ngFor","ngForOf"],["title","Delete Task",1,"delete-btn",3,"click"],["color","primary","name","lines-small"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"productUpdatePage"),e.qZA(),e.TgZ(4,"ion-buttons",0)(5,"ion-button",1),e.NdJ("click",function(){return n.close()}),e._uU(6,"Close"),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"div",2)(9,"div",3),e._UZ(10,"img",4),e.qZA()(),e.TgZ(11,"form",5,6)(13,"ion-item")(14,"ion-label"),e._uU(15,"Product's Name"),e.qZA(),e.TgZ(16,"ion-input",7),e.NdJ("ngModelChange",function(o){return n.data.productName=o}),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-label"),e._uU(19,"Description"),e.qZA(),e.TgZ(20,"ion-input",7),e.NdJ("ngModelChange",function(o){return n.data.description=o}),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-select",8),e.NdJ("ngModelChange",function(o){return n.data.category=o}),e.YNc(23,C,2,2,"ion-select-option",9),e.qZA()(),e.TgZ(24,"ion-item")(25,"ion-checkbox",10),e.NdJ("ionChange",function(o){return n.ionChangeforpack(o,"Packed")}),e.qZA(),e.TgZ(26,"ion-label"),e._uU(27,"Packed"),e.qZA()(),e.TgZ(28,"ion-item")(29,"ion-checkbox",10),e.NdJ("ionChange",function(o){return n.ionChangeforpack(o,"Open")}),e.qZA(),e.TgZ(30,"ion-label"),e._uU(31,"Open"),e.qZA()(),e.TgZ(32,"ion-item")(33,"ion-checkbox",11),e.NdJ("ionChange",function(o){return n.ionChange(o)}),e.qZA(),e.TgZ(34,"ion-label"),e._uU(35,"SubPrice"),e.qZA()(),e.YNc(36,u,10,6,"ion-list",12),e.YNc(37,T,2,1,"ion-list",12),e.TgZ(38,"ion-item")(39,"ion-label"),e._uU(40,"Key"),e.qZA(),e.TgZ(41,"ion-input",7),e.NdJ("ngModelChange",function(o){return n.data.key=o}),e.qZA()(),e.TgZ(42,"ion-item")(43,"ion-label"),e._uU(44,"Product Image"),e.qZA(),e.YNc(45,Z,1,0,"ion-spinner",13),e.TgZ(46,"ion-input",14),e.NdJ("change",function(o){return n.onFileChange(o)}),e.qZA()(),e.TgZ(47,"ion-button",15),e.NdJ("click",function(){return n.onSubmit()}),e._uU(48,"Update Product"),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("src",n.data.fireBaseUrl,e.LSH),e.xp6(6),e.Q6J("ngModel",n.data.productName)("ngModelOptions",e.DdM(18,r)),e.xp6(4),e.Q6J("ngModel",n.data.description)("ngModelOptions",e.DdM(19,r)),e.xp6(2),e.Q6J("ngModel",n.data.category)("ngModelOptions",e.DdM(20,r)),e.xp6(1),e.Q6J("ngForOf",n.category),e.xp6(2),e.s9C("checked","Packed"===n.data.producttype),e.xp6(4),e.s9C("checked","Open"===n.data.producttype),e.xp6(4),e.Q6J("checked",n.data.isSubPrice)("indeterminate",!0),e.xp6(3),e.Q6J("ngIf",n.isChecked),e.xp6(1),e.Q6J("ngIf",n.isChecked),e.xp6(4),e.Q6J("ngModel",n.data.key)("ngModelOptions",e.DdM(21,r)),e.xp6(4),e.Q6J("ngIf",n.isSpinner),e.xp6(2),e.Q6J("disabled",n.isSpinner))},dependencies:[f.sg,f.O5,c._Y,c.JJ,c.JL,c.Q7,c.On,c.F,i.YG,i.Sm,i.nz,i.W2,i.Gu,i.pK,i.Ie,i.Q$,i.q_,i.t9,i.n0,i.PQ,i.wd,i.sr,i.w,i.QI,i.j9],styles:[".img[_ngcontent-%COMP%]{width:200px}.parent[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.delete-btn[_ngcontent-%COMP%]{margin-left:auto;display:block;width:16px;height:16px;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23ff3d46' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-trash-2'%3E%3Cpolyline points='3 6 5 6 21 6'/%3E%3Cpath d='M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2'/%3E%3Cline x1='10' y1='11' x2='10' y2='17'/%3E%3Cline x1='14' y1='11' x2='14' y2='17'/%3E%3C/svg%3E\");background-size:16px;background-position:center;cursor:pointer}"]}),s})()}}]);