(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(En,vt,F)=>{"use strict";F.d(vt,{nm:()=>Yi});var s=F(6351);F(4650),F(5867);var Mt=F(5861),nt=F(9681),St=F(4859),Pe=F(2090),Xe=F(1877);const Ee=new Map,ye={activated:!1,tokenObservers:[]},Ie={initialized:!1,enabled:!1};function he(wt){return Ee.get(wt)||ye}function _e(wt,Dt){Ee.set(wt,Dt)}function fe(){return Ie}class st{constructor(Dt,jt,mn,Pn,ar){if(this.operation=Dt,this.retryPolicy=jt,this.getWaitDuration=mn,this.lowerBound=Pn,this.upperBound=ar,this.pending=null,this.nextErrorWaitInterval=Pn,Pn>ar)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Dt){var jt=this;return(0,Mt.Z)(function*(){jt.stop();try{jt.pending=new Pe.BH,yield function pt(wt){return new Promise(Dt=>{setTimeout(Dt,wt)})}(jt.getNextRun(Dt)),jt.pending.resolve(),yield jt.pending.promise,jt.pending=new Pe.BH,yield jt.operation(),jt.pending.resolve(),yield jt.pending.promise,jt.process(!0).catch(()=>{})}catch(mn){jt.retryPolicy(mn)?jt.process(!1).catch(()=>{}):jt.stop()}})()}getNextRun(Dt){if(Dt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const jt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),jt}}}const Lt=new Pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Bt(wt){if(!he(wt).activated)throw Lt.create("use-before-activation",{appName:wt.name})}function we(wt,Dt){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Mt.Z)(function*({url:wt,body:Dt},jt){var mn,Pn;const ar={"Content-Type":"application/json"},Dr=jt.getImmediate({optional:!0});if(Dr){const zs=yield Dr.getHeartbeatsHeader();zs&&(ar["X-Firebase-Client"]=zs)}const fs={method:"POST",body:JSON.stringify(Dt),headers:ar};let Qr,As;try{Qr=yield fetch(wt,fs)}catch(zs){throw Lt.create("fetch-network-error",{originalErrorMessage:null===(mn=zs)||void 0===mn?void 0:mn.message})}if(200!==Qr.status)throw Lt.create("fetch-status-error",{httpStatus:Qr.status});try{As=yield Qr.json()}catch(zs){throw Lt.create("fetch-parse-error",{originalErrorMessage:null===(Pn=zs)||void 0===Pn?void 0:Pn.message})}const Ns=As.ttl.match(/^([\d.]+)(s)$/);if(!Ns||!Ns[2]||isNaN(Number(Ns[1])))throw Lt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${As.ttl}`});const to=1e3*Number(Ns[1]),Ws=Date.now();return{token:As.token,expireTimeMillis:Ws+to,issuedAtTimeMillis:Ws}})).apply(this,arguments)}function fi(wt,Dt){const{projectId:jt,appId:mn,apiKey:Pn}=wt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${jt}/apps/${mn}:exchangeDebugToken?key=${Pn}`,body:{debug_token:Dt}}}const tn="firebase-app-check-store";let yr=null;function kr(){return yr||(yr=new Promise((wt,Dt)=>{var jt;try{const mn=indexedDB.open("firebase-app-check-database",1);mn.onsuccess=Pn=>{wt(Pn.target.result)},mn.onerror=Pn=>{var ar;Dt(Lt.create("storage-open",{originalErrorMessage:null===(ar=Pn.target.error)||void 0===ar?void 0:ar.message}))},mn.onupgradeneeded=Pn=>{0===Pn.oldVersion&&Pn.target.result.createObjectStore(tn,{keyPath:"compositeKey"})}}catch(mn){Dt(Lt.create("storage-open",{originalErrorMessage:null===(jt=mn)||void 0===jt?void 0:jt.message}))}}),yr)}function rt(){return(rt=(0,Mt.Z)(function*(wt,Dt){const mn=(yield kr()).transaction(tn,"readwrite"),ar=mn.objectStore(tn).put({compositeKey:wt,value:Dt});return new Promise((Dr,fs)=>{ar.onsuccess=Qr=>{Dr()},mn.onerror=Qr=>{var As;fs(Lt.create("storage-set",{originalErrorMessage:null===(As=Qr.target.error)||void 0===As?void 0:As.message}))}})})).apply(this,arguments)}const An=new Xe.Yd("@firebase/app-check");function _n(wt,Dt){return(0,Pe.hl)()?function gr(wt,Dt){return function Ht(wt,Dt){return rt.apply(this,arguments)}(function Ut(wt){return`${wt.options.appId}-${wt.name}`}(wt),Dt)}(wt,Dt).catch(jt=>{An.warn(`Failed to write token to IndexedDB. Error: ${jt}`)}):Promise.resolve()}function Rr(){return fe().enabled}function sr(){return it.apply(this,arguments)}function it(){return(it=(0,Mt.Z)(function*(){const wt=fe();if(wt.enabled&&wt.token)return wt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qe={error:"UNKNOWN_ERROR"};function lt(wt){return Pe.US.encodeString(JSON.stringify(wt),!1)}function at(wt){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,Mt.Z)(function*(wt,Dt=!1){const jt=wt.app;Bt(jt);const mn=he(jt);let ar,Pn=mn.token;if(!Pn){const Qr=yield mn.cachedTokenPromise;Qr&&pr(Qr)&&(Pn=Qr)}if(!Dt&&Pn&&pr(Pn))return{token:Pn.token};let fs,Dr=!1;if(Rr()){mn.exchangeTokenPromise||(mn.exchangeTokenPromise=we(fi(jt,yield sr()),wt.heartbeatServiceProvider).then(As=>(mn.exchangeTokenPromise=void 0,As)),Dr=!0);const Qr=yield mn.exchangeTokenPromise;return yield _n(jt,Qr),_e(jt,Object.assign(Object.assign({},mn),{token:Qr})),{token:Qr.token}}try{mn.exchangeTokenPromise||(mn.exchangeTokenPromise=mn.provider.getToken().then(Qr=>(mn.exchangeTokenPromise=void 0,Qr)),Dr=!0),Pn=yield mn.exchangeTokenPromise}catch(Qr){"appCheck/throttled"===Qr.code?An.warn(Qr.message):An.error(Qr),ar=Qr}return Pn?(fs={token:Pn.token},_e(jt,Object.assign(Object.assign({},mn),{token:Pn})),yield _n(jt,Pn)):fs=Wn(ar),Dr&&Pr(jt,fs),fs})).apply(this,arguments)}function Bn(wt,Dt){const jt=he(wt),mn=jt.tokenObservers.filter(Pn=>Pn.next!==Dt);0===mn.length&&jt.tokenRefresher&&jt.tokenRefresher.isRunning()&&jt.tokenRefresher.stop(),_e(wt,Object.assign(Object.assign({},jt),{tokenObservers:mn}))}function Kr(wt){const{app:Dt}=wt,jt=he(Dt);let mn=jt.tokenRefresher;mn||(mn=function Mr(wt){const{app:Dt}=wt;return new st((0,Mt.Z)(function*(){let mn;if(mn=he(Dt).token?yield at(wt,!0):yield at(wt),mn.error)throw mn.error}),()=>!0,()=>{const jt=he(Dt);if(jt.token){let mn=jt.token.issuedAtTimeMillis+.5*(jt.token.expireTimeMillis-jt.token.issuedAtTimeMillis)+3e5;return mn=Math.min(mn,jt.token.expireTimeMillis-3e5),Math.max(0,mn-Date.now())}return 0},3e4,96e4)}(wt),_e(Dt,Object.assign(Object.assign({},jt),{tokenRefresher:mn}))),!mn.isRunning()&&jt.isTokenAutoRefreshEnabled&&mn.start()}function Pr(wt,Dt){const jt=he(wt).tokenObservers;for(const mn of jt)try{"EXTERNAL"===mn.type&&null!=Dt.error?mn.error(Dt.error):mn.next(Dt)}catch{}}function pr(wt){return wt.expireTimeMillis-Date.now()>0}function Wn(wt){return{token:lt(qe),error:wt}}class Lr{constructor(Dt,jt){this.app=Dt,this.heartbeatServiceProvider=jt}_delete(){const{tokenObservers:Dt}=he(this.app);for(const jt of Dt)Bn(this.app,jt.next);return Promise.resolve()}}const ls="app-check-internal";!function ms(){(0,nt._registerComponent)(new St.wA("app-check",wt=>function Br(wt,Dt){return new Lr(wt,Dt)}(wt.getProvider("app").getImmediate(),wt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((wt,Dt,jt)=>{wt.getProvider(ls).initialize()})),(0,nt._registerComponent)(new St.wA(ls,wt=>function Ii(wt){return{getToken:Dt=>at(wt,Dt),addTokenListener:Dt=>function gn(wt,Dt,jt,mn){const{app:Pn}=wt,ar=he(Pn),Dr={next:jt,error:mn,type:Dt};if(_e(Pn,Object.assign(Object.assign({},ar),{tokenObservers:[...ar.tokenObservers,Dr]})),ar.token&&pr(ar.token)){const fs=ar.token;Promise.resolve().then(()=>{jt({token:fs.token}),Kr(wt)}).catch(()=>{})}ar.cachedTokenPromise.then(()=>Kr(wt))}(wt,"INTERNAL",Dt),removeTokenListener:Dt=>Bn(wt.app,Dt)}}(wt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nt.registerVersion)("@firebase/app-check","0.5.12")}();class Yi{constructor(){return(0,s.vb)("app-check")}}typeof window<"u"&&window},4941:(En,vt,F)=>{"use strict";F.d(vt,{zQ:()=>gt,ww:()=>Ze,rT:()=>fe,f7:()=>It,L6:()=>he,_Q:()=>_e,lh:()=>Nt,Qv:()=>Ie,nw:()=>xt});var s=F(4650),Q=F(8929),K=F(1086),Re=F(6498),oe=F(5254),ue=F(6787),me=F(7770),pe=F(7545),De=F(4850),ce=F(341),se=F(2654),le=F(5279),ge=F(5283);class Ue extends Q.xQ{constructor(st=Number.POSITIVE_INFINITY,pt=Number.POSITIVE_INFINITY,Tt){super(),this.scheduler=Tt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=st<1?1:st,this._windowTime=pt<1?1:pt,pt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(st){if(!this.isStopped){const pt=this._events;pt.push(st),pt.length>this._bufferSize&&pt.shift()}super.next(st)}nextTimeWindow(st){this.isStopped||(this._events.push(new ct(this._getNow(),st)),this._trimBufferThenGetEvents()),super.next(st)}_subscribe(st){const pt=this._infiniteTimeWindow,Tt=pt?this._events:this._trimBufferThenGetEvents(),Lt=this.scheduler,Cn=Tt.length;let Bt;if(this.closed)throw new le.N;if(this.isStopped||this.hasError?Bt=se.w.EMPTY:(this.observers.push(st),Bt=new ge.W(this,st)),Lt&&st.add(st=new me.ht(st,Lt)),pt)for(let bn=0;bn<Cn&&!st.closed;bn++)st.next(Tt[bn]);else for(let bn=0;bn<Cn&&!st.closed;bn++)st.next(Tt[bn].value);return this.hasError?st.error(this.thrownError):this.isStopped&&st.complete(),Bt}_getNow(){return(this.scheduler||ce.c).now()}_trimBufferThenGetEvents(){const st=this._getNow(),pt=this._bufferSize,Tt=this._windowTime,Lt=this._events,Cn=Lt.length;let Bt=0;for(;Bt<Cn&&!(st-Lt[Bt].time<Tt);)Bt++;return Cn>pt&&(Bt=Math.max(Bt,Cn-pt)),Bt>0&&Lt.splice(0,Bt),Lt}}class ct{constructor(st,pt){this.time=st,this.value=pt}}function Be(ze,st,pt){let Tt;return Tt=ze&&"object"==typeof ze?ze:{bufferSize:ze,windowTime:st,refCount:!1,scheduler:pt},Lt=>Lt.lift(function Le({bufferSize:ze=Number.POSITIVE_INFINITY,windowTime:st=Number.POSITIVE_INFINITY,refCount:pt,scheduler:Tt}){let Lt,Bt,Cn=0,bn=!1,Sn=!1;return function(Kn){let qn;Cn++,!Lt||bn?(bn=!1,Lt=new Ue(ze,st,Tt),qn=Lt.subscribe(this),Bt=Kn.subscribe({next(_r){Lt.next(_r)},error(_r){bn=!0,Lt.error(_r)},complete(){Sn=!0,Bt=void 0,Lt.complete()}}),Sn&&(Bt=void 0)):qn=Lt.subscribe(this),this.add(()=>{Cn--,qn.unsubscribe(),qn=void 0,Bt&&!Sn&&pt&&0===Cn&&(Bt.unsubscribe(),Bt=void 0,Lt=void 0)})}}(Tt))}var Ve=F(7224);function Ft(ze,st){return st?(0,pe.w)(()=>ze,st):(0,pe.w)(()=>ze)}var yt=F(2899),Mt=F(2198),nt=F(6351),St=F(2011),Pe=F(6895),Xe=F(440),Ee=F(127);const Ie=new s.OlP("angularfire2.auth.use-emulator"),he=new s.OlP("angularfire2.auth.settings"),_e=new s.OlP("angularfire2.auth.tenant-id"),fe=new s.OlP("angularfire2.auth.langugage-code"),Nt=new s.OlP("angularfire2.auth.use-device-language"),It=new s.OlP("angularfire.auth.persistence"),xt=(ze,st,pt,Tt,Lt,Cn,Bt,bn)=>(0,St.cc)(`${ze.name}.auth`,"AngularFireAuth",ze.name,()=>{const Sn=st.runOutsideAngular(()=>ze.auth());if(pt&&Sn.useEmulator(...pt),Tt&&(Sn.tenantId=Tt),Sn.languageCode=Lt,Cn&&Sn.useDeviceLanguage(),Bt)for(const[we,Kn]of Object.entries(Bt))Sn.settings[we]=Kn;return bn&&Sn.setPersistence(bn),Sn},[pt,Tt,Lt,Cn,Bt,bn]);let gt=(()=>{class ze{constructor(pt,Tt,Lt,Cn,Bt,bn,Sn,we,Kn,qn,_r,fi){const Ln=new Q.xQ,er=(0,K.of)(void 0).pipe((0,me.QV)(Bt.outsideAngular),(0,pe.w)(()=>Cn.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2476)))),(0,De.U)(()=>(0,St.on)(pt,Cn,Tt)),(0,De.U)(tn=>xt(tn,Cn,bn,we,Kn,qn,Sn,_r)),Be({bufferSize:1,refCount:!1}));if((0,Pe.PM)(Lt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,K.of)(null);else{er.pipe((0,Ve.P)()).subscribe();const hn=er.pipe((0,pe.w)(Hn=>Hn.getRedirectResult().then(gr=>gr,()=>null)),nt.iC,Be({bufferSize:1,refCount:!1})),yr=er.pipe((0,pe.w)(Hn=>new Re.y(gr=>({unsubscribe:Cn.runOutsideAngular(()=>Hn.onAuthStateChanged(Er=>gr.next(Er),Er=>gr.error(Er),()=>gr.complete()))})))),kr=er.pipe((0,pe.w)(Hn=>new Re.y(gr=>({unsubscribe:Cn.runOutsideAngular(()=>Hn.onIdTokenChanged(Er=>gr.next(Er),Er=>gr.error(Er),()=>gr.complete()))}))));this.authState=hn.pipe(Ft(yr),(0,yt.R)(Bt.outsideAngular),(0,me.QV)(Bt.insideAngular)),this.user=hn.pipe(Ft(kr),(0,yt.R)(Bt.outsideAngular),(0,me.QV)(Bt.insideAngular)),this.idToken=this.user.pipe((0,pe.w)(Hn=>Hn?(0,oe.D)(Hn.getIdToken()):(0,K.of)(null))),this.idTokenResult=this.user.pipe((0,pe.w)(Hn=>Hn?(0,oe.D)(Hn.getIdTokenResult()):(0,K.of)(null))),this.credential=(0,ue.T)(hn,Ln,this.authState.pipe((0,Mt.h)(Hn=>!Hn))).pipe((0,De.U)(Hn=>Hn?.user?Hn:null),(0,yt.R)(Bt.outsideAngular),(0,me.QV)(Bt.insideAngular))}return(0,St.pX)(this,er,Cn,{spy:{apply:(tn,hn,yr)=>{(tn.startsWith("signIn")||tn.startsWith("createUser"))&&yr.then(kr=>Ln.next(kr))}}})}}return ze.\u0275fac=function(pt){return new(pt||ze)(s.LFG(St.Dh),s.LFG(St.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(nt.HU),s.LFG(Ie,8),s.LFG(he,8),s.LFG(_e,8),s.LFG(fe,8),s.LFG(Nt,8),s.LFG(It,8),s.LFG(Xe.nm,8))},ze.\u0275prov=s.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"any"}),ze})(),Ze=(()=>{class ze{constructor(){Ee.Z.registerVersion("angularfire",nt.q4.full,"auth-compat")}}return ze.\u0275fac=function(pt){return new(pt||ze)},ze.\u0275mod=s.oAB({type:ze}),ze.\u0275inj=s.cJS({providers:[gt]}),ze})()},4586:(En,vt,F)=>{"use strict";F.d(vt,{Q1:()=>xe,TE:()=>dr});var s=F(6498),Q=F(1086),K=F(5254),Re=F(3489),oe=F(353);class me{constructor(C,S){this.dueTime=C,this.scheduler=S}call(C,S){return S.subscribe(new pe(C,this.dueTime,this.scheduler))}}class pe extends Re.L{constructor(C,S,j){super(C),this.dueTime=S,this.scheduler=j,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(C){this.clearDebounce(),this.lastValue=C,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(De,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:C}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(C)}}clearDebounce(){const C=this.debouncedSubscription;null!==C&&(this.remove(C),C.unsubscribe(),this.debouncedSubscription=null)}}function De(E){E.debouncedNext()}var ce=F(4850),se=F(7545),le=F(6351),ge=F(4650),Ue=F(2011),ct=F(3942),Be=F(5861),Le=F(9681),Ve=F(2090),Ft=F(4859);const yt="firebasestorage.googleapis.com",Mt="storageBucket";class Pe extends Ve.ZR{constructor(C,S){super(Xe(C),`Firebase Storage: ${S} (${Xe(C)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pe.prototype)}_codeEquals(C){return Xe(C)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(C){this.customData.serverResponse=C,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Xe(E){return"storage/"+E}function Ee(){return new Pe("unknown","An unknown error occurred, please check the error payload for server response.")}function It(){return new Pe("canceled","User canceled the upload/download.")}function ze(){return new Pe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Tt(E){return new Pe("invalid-argument",E)}function Lt(){return new Pe("app-deleted","The Firebase app was deleted.")}function Cn(E){return new Pe("invalid-root-operation","The operation '"+E+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bt(E,C){return new Pe("invalid-format","String does not match format '"+E+"': "+C)}function bn(E){throw new Pe("internal-error","Internal error: "+E)}class Sn{constructor(C,S){this.bucket=C,this.path_=S}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const C=encodeURIComponent;return"/b/"+C(this.bucket)+"/o/"+C(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(C,S){let j;try{j=Sn.makeFromUrl(C,S)}catch{return new Sn(C,"")}if(""===j.path)return j;throw function gt(E){return new Pe("invalid-default-bucket","Invalid default bucket '"+E+"'.")}(C)}static makeFromUrl(C,S){let j=null;const Me="([A-Za-z0-9.\\-_]+)",Dn=new RegExp("^gs://"+Me+"(/(.*))?$","i");function xr(gs){gs.path_=decodeURIComponent(gs.path)}const Bi=S.replace(/[.]/g,"\\."),gi=[{regex:Dn,indices:{bucket:1,path:3},postModify:function ht(gs){"/"===gs.path.charAt(gs.path.length-1)&&(gs.path_=gs.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Bi}/v[A-Za-z0-9_]+/b/${Me}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:xr},{regex:new RegExp(`^https?://${S===yt?"(?:storage.googleapis.com|storage.cloud.google.com)":S}/${Me}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:xr}];for(let gs=0;gs<gi.length;gs++){const sa=gi[gs],Oo=sa.regex.exec(C);if(Oo){let U=Oo[sa.indices.path];U||(U=""),j=new Sn(Oo[sa.indices.bucket],U),sa.postModify(j);break}}if(null==j)throw function xt(E){return new Pe("invalid-url","Invalid URL '"+E+"'.")}(C);return j}}class we{constructor(C){this.promise_=Promise.reject(C)}getPromise(){return this.promise_}cancel(C=!1){}}function er(E){return"string"==typeof E||E instanceof String}function tn(E){return hn()&&E instanceof Blob}function hn(){return typeof Blob<"u"}function yr(E,C,S,j){if(j<C)throw Tt(`Invalid value for '${E}'. Expected ${C} or greater.`);if(j>S)throw Tt(`Invalid value for '${E}'. Expected ${S} or less.`)}function kr(E,C,S){let j=C;return null==S&&(j=`https://${C}`),`${S}://${j}/v0${E}`}function Hn(E){const C=encodeURIComponent;let S="?";for(const j in E)E.hasOwnProperty(j)&&(S=S+(C(j)+"=")+C(E[j])+"&");return S=S.slice(0,-1),S}var gr=(()=>{return(E=gr||(gr={}))[E.NO_ERROR=0]="NO_ERROR",E[E.NETWORK_ERROR=1]="NETWORK_ERROR",E[E.ABORT=2]="ABORT",gr;var E})();class Er{constructor(C,S,j,Me,ht,rn,Dn,kn,xr,ri,Bi){this.url_=C,this.method_=S,this.headers_=j,this.body_=Me,this.successCodes_=ht,this.additionalRetryCodes_=rn,this.callback_=Dn,this.errorCallback_=kn,this.timeout_=xr,this.progressCallback_=ri,this.connectionFactory_=Bi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Vi,ki)=>{this.resolve_=Vi,this.reject_=ki,this.start_()})}start_(){const S=(j,Me)=>{const ht=this.resolve_,rn=this.reject_,Dn=Me.connection;if(Me.wasSuccessCode)try{const kn=this.callback_(Dn,Dn.getResponse());!function _r(E){return void 0!==E}(kn)?ht():ht(kn)}catch(kn){rn(kn)}else if(null!==Dn){const kn=Ee();kn.serverResponse=Dn.getErrorText(),rn(this.errorCallback_?this.errorCallback_(Dn,kn):kn)}else rn(Me.canceled?this.appDelete_?Lt():It():function Nt(){return new Pe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?S(0,new Ir(!1,null,!0)):this.backoffId_=function Kn(E,C,S){let j=1,Me=null,ht=null,rn=!1,Dn=0;function kn(){return 2===Dn}let xr=!1;function ri(...pi){xr||(xr=!0,C.apply(null,pi))}function Bi(pi){Me=setTimeout(()=>{Me=null,E(ki,kn())},pi)}function Vi(){ht&&clearTimeout(ht)}function ki(pi,...Zs){if(xr)return void Vi();if(pi)return Vi(),void ri.call(null,pi,...Zs);if(kn()||rn)return Vi(),void ri.call(null,pi,...Zs);let gi;j<64&&(j*=2),1===Dn?(Dn=2,gi=0):gi=1e3*(j+Math.random()),Bi(gi)}let ji=!1;function Sr(pi){ji||(ji=!0,Vi(),!xr&&(null!==Me?(pi||(Dn=2),clearTimeout(Me),Bi(0)):pi||(Dn=1)))}return Bi(0),ht=setTimeout(()=>{rn=!0,Sr(!0)},S),Sr}((j,Me)=>{if(Me)return void j(!1,new Ir(!1,null,!0));const ht=this.connectionFactory_();this.pendingConnection_=ht;const rn=Dn=>{null!==this.progressCallback_&&this.progressCallback_(Dn.loaded,Dn.lengthComputable?Dn.total:-1)};null!==this.progressCallback_&&ht.addUploadProgressListener(rn),ht.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ht.removeUploadProgressListener(rn),this.pendingConnection_=null;const Dn=ht.getErrorCode()===gr.NO_ERROR,kn=ht.getStatus();if(!Dn||this.isRetryStatusCode_(kn)){const ri=ht.getErrorCode()===gr.ABORT;return void j(!1,new Ir(!1,null,ri))}const xr=-1!==this.successCodes_.indexOf(kn);j(!0,new Ir(xr,ht))})},S,this.timeout_)}getPromise(){return this.promise_}cancel(C){this.canceled_=!0,this.appDelete_=C||!1,null!==this.backoffId_&&function qn(E){E(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(C){const S=C>=500&&C<600,Me=-1!==[408,429].indexOf(C),ht=-1!==this.additionalRetryCodes_.indexOf(C);return S||Me||ht}}class Ir{constructor(C,S,j){this.wasSuccessCode=C,this.connection=S,this.canceled=!!j}}function Vn(...E){const C=function An(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==C){const S=new C;for(let j=0;j<E.length;j++)S.append(E[j]);return S.getBlob()}if(hn())return new Blob(E);throw new Pe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class On{constructor(C,S){this.data=C,this.contentType=S||null}}function Rr(E,C){switch(E){case ir.RAW:return new On(sr(C));case ir.BASE64:case ir.BASE64URL:return new On(tt(E,C));case ir.DATA_URL:return new On(function lt(E){const C=new qe(E);return C.base64?tt(ir.BASE64,C.rest):function it(E){let C;try{C=decodeURIComponent(E)}catch{throw Bt(ir.DATA_URL,"Malformed data URL.")}return sr(C)}(C.rest)}(C),function at(E){return new qe(E).contentType}(C))}throw Ee()}function sr(E){const C=[];for(let S=0;S<E.length;S++){let j=E.charCodeAt(S);j<=127?C.push(j):j<=2047?C.push(192|j>>6,128|63&j):55296==(64512&j)?S<E.length-1&&56320==(64512&E.charCodeAt(S+1))?(j=65536|(1023&j)<<10|1023&E.charCodeAt(++S),C.push(240|j>>18,128|j>>12&63,128|j>>6&63,128|63&j)):C.push(239,191,189):56320==(64512&j)?C.push(239,191,189):C.push(224|j>>12,128|j>>6&63,128|63&j)}return new Uint8Array(C)}function tt(E,C){switch(E){case ir.BASE64:{const Me=-1!==C.indexOf("-"),ht=-1!==C.indexOf("_");if(Me||ht)throw Bt(E,"Invalid character '"+(Me?"-":"_")+"' found: is it base64url encoded?");break}case ir.BASE64URL:{const Me=-1!==C.indexOf("+"),ht=-1!==C.indexOf("/");if(Me||ht)throw Bt(E,"Invalid character '"+(Me?"+":"/")+"' found: is it base64 encoded?");C=C.replace(/-/g,"+").replace(/_/g,"/");break}}let S;try{S=function _n(E){return atob(E)}(C)}catch{throw Bt(E,"Invalid character found")}const j=new Uint8Array(S.length);for(let Me=0;Me<S.length;Me++)j[Me]=S.charCodeAt(Me);return j}class qe{constructor(C){this.base64=!1,this.contentType=null;const S=C.match(/^data:([^,]+)?,/);if(null===S)throw Bt(ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const j=S[1]||null;null!=j&&(this.base64=function Gt(E,C){return E.length>=C.length&&E.substring(E.length-C.length)===C}(j,";base64"),this.contentType=this.base64?j.substring(0,j.length-7):j),this.rest=C.substring(C.indexOf(",")+1)}}class gn{constructor(C,S){let j=0,Me="";tn(C)?(this.data_=C,j=C.size,Me=C.type):C instanceof ArrayBuffer?(S?this.data_=new Uint8Array(C):(this.data_=new Uint8Array(C.byteLength),this.data_.set(new Uint8Array(C))),j=this.data_.length):C instanceof Uint8Array&&(S?this.data_=C:(this.data_=new Uint8Array(C.length),this.data_.set(C)),j=C.length),this.size_=j,this.type_=Me}size(){return this.size_}type(){return this.type_}slice(C,S){if(tn(this.data_)){const Me=function Un(E,C,S){return E.webkitSlice?E.webkitSlice(C,S):E.mozSlice?E.mozSlice(C,S):E.slice?E.slice(C,S):null}(this.data_,C,S);return null===Me?null:new gn(Me)}{const j=new Uint8Array(this.data_.buffer,C,S-C);return new gn(j,!0)}}static getBlob(...C){if(hn()){const S=C.map(j=>j instanceof gn?j.data_:j);return new gn(Vn.apply(null,S))}{const S=C.map(rn=>er(rn)?Rr(ir.RAW,rn).data:rn.data_);let j=0;S.forEach(rn=>{j+=rn.byteLength});const Me=new Uint8Array(j);let ht=0;return S.forEach(rn=>{for(let Dn=0;Dn<rn.length;Dn++)Me[ht++]=rn[Dn]}),new gn(Me,!0)}}uploadData(){return this.data_}}function Bn(E){let C;try{C=JSON.parse(E)}catch{return null}return function Ln(E){return"object"==typeof E&&!Array.isArray(E)}(C)?C:null}function Pr(E){const C=E.lastIndexOf("/",E.length-2);return-1===C?E:E.slice(C+1)}function pr(E,C){return C}class Wn{constructor(C,S,j,Me){this.server=C,this.local=S||C,this.writable=!!j,this.xform=Me||pr}}let Lr=null;function Ii(){if(Lr)return Lr;const E=[];E.push(new Wn("bucket")),E.push(new Wn("generation")),E.push(new Wn("metageneration")),E.push(new Wn("name","fullPath",!0));const S=new Wn("name");S.xform=function C(ht,rn){return function Br(E){return!er(E)||E.length<2?E:Pr(E)}(rn)},E.push(S);const Me=new Wn("size");return Me.xform=function j(ht,rn){return void 0!==rn?Number(rn):rn},E.push(Me),E.push(new Wn("timeCreated")),E.push(new Wn("updated")),E.push(new Wn("md5Hash",null,!0)),E.push(new Wn("cacheControl",null,!0)),E.push(new Wn("contentDisposition",null,!0)),E.push(new Wn("contentEncoding",null,!0)),E.push(new Wn("contentLanguage",null,!0)),E.push(new Wn("contentType",null,!0)),E.push(new Wn("metadata","customMetadata",!0)),Lr=E,Lr}function ot(E,C,S){const j=Bn(C);return null===j?null:function ci(E,C,S){const j={type:"file"},Me=S.length;for(let ht=0;ht<Me;ht++){const rn=S[ht];j[rn.local]=rn.xform(j,C[rn.server])}return function ni(E,C){Object.defineProperty(E,"ref",{get:function S(){const ht=new Sn(E.bucket,E.fullPath);return C._makeStorageReference(ht)}})}(j,E),j}(E,j,S)}function J(E,C){const S={},j=C.length;for(let Me=0;Me<j;Me++){const ht=C[Me];ht.writable&&(S[ht.server]=E[ht.local])}return JSON.stringify(S)}const ve="prefixes";class Kt{constructor(C,S,j,Me){this.url=C,this.method=S,this.handler=j,this.timeout=Me,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qt(E){if(!E)throw Ee()}function Fn(E,C){return function S(j,Me){const ht=ot(E,Me,C);return qt(null!==ht),ht}}function ur(E){return function C(S,j){let Me;return Me=401===S.getStatus()?S.getErrorText().includes("Firebase App Check token is invalid")?function _e(){return new Pe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function he(){return new Pe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===S.getStatus()?function Ie(E){return new Pe("quota-exceeded","Quota for bucket '"+E+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(E.bucket):403===S.getStatus()?function fe(E){return new Pe("unauthorized","User does not have permission to access '"+E+"'.")}(E.path):j,Me.serverResponse=j.serverResponse,Me}}function Tr(E){const C=ur(E);return function S(j,Me){let ht=C(j,Me);return 404===j.getStatus()&&(ht=function ye(E){return new Pe("object-not-found","Object '"+E+"' does not exist.")}(E.path)),ht.serverResponse=Me.serverResponse,ht}}function vr(E,C,S){const Me=kr(C.fullServerUrl(),E.host,E._protocol),rn=E.maxOperationRetryTime,Dn=new Kt(Me,"GET",Fn(E,S),rn);return Dn.errorHandler=Tr(C),Dn}function Ar(E,C,S,j,Me){const ht={};ht.prefix=C.isRoot?"":C.path+"/",S&&S.length>0&&(ht.delimiter=S),j&&(ht.pageToken=j),Me&&(ht.maxResults=Me);const Dn=kr(C.bucketOnlyServerUrl(),E.host,E._protocol),xr=E.maxOperationRetryTime,ri=new Kt(Dn,"GET",function Jt(E,C){return function S(j,Me){const ht=function Vt(E,C,S){const j=Bn(S);return null===j?null:function mt(E,C,S){const j={prefixes:[],items:[],nextPageToken:S.nextPageToken};if(S[ve])for(const Me of S[ve]){const ht=Me.replace(/\/$/,""),rn=E._makeStorageReference(new Sn(C,ht));j.prefixes.push(rn)}if(S.items)for(const Me of S.items){const ht=E._makeStorageReference(new Sn(C,Me.name));j.items.push(ht)}return j}(E,C,j)}(E,C,Me);return qt(null!==ht),ht}}(E,C.bucket),xr);return ri.urlParams=ht,ri.errorHandler=ur(C),ri}function vi(E,C,S){const j=Object.assign({},S);return j.fullPath=E.path,j.size=C.size(),j.contentType||(j.contentType=function Xi(E,C){return E&&E.contentType||C&&C.type()||"application/octet-stream"}(null,C)),j}class ls{constructor(C,S,j,Me){this.current=C,this.total=S,this.finalized=!!j,this.metadata=Me||null}}function ms(E,C){let S=null;try{S=E.getResponseHeader("X-Goog-Upload-Status")}catch{qt(!1)}return qt(!!S&&-1!==(C||["active"]).indexOf(S)),S}const Fe={STATE_CHANGED:"state_changed"},bt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function At(E){switch(E){case"running":case"pausing":case"canceling":return bt.RUNNING;case"paused":return bt.PAUSED;case"success":return bt.SUCCESS;case"canceled":return bt.CANCELED;default:return bt.ERROR}}class $e{constructor(C,S,j){if(function fi(E){return"function"==typeof E}(C)||null!=S||null!=j)this.next=C,this.error=S??void 0,this.complete=j??void 0;else{const ht=C;this.next=ht.next,this.error=ht.error,this.complete=ht.complete}}}function Qe(E){return(...C)=>{Promise.resolve().then(()=>E(...C))}}class Xt extends class an{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gr.NO_ERROR,this.sendPromise_=new Promise(C=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gr.ABORT,C()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gr.NETWORK_ERROR,C()}),this.xhr_.addEventListener("load",()=>{C()})})}send(C,S,j,Me){if(this.sent_)throw bn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(S,C,!0),void 0!==Me)for(const ht in Me)Me.hasOwnProperty(ht)&&this.xhr_.setRequestHeader(ht,Me[ht].toString());return void 0!==j?this.xhr_.send(j):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(C){return this.xhr_.getResponseHeader(C)}addUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",C)}removeUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",C)}}{initXhr(){this.xhr_.responseType="text"}}function cn(){return new Xt}class Ni{constructor(C,S,j=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=C,this._blob=S,this._metadata=j,this._mappings=Ii(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Me=>{this._request=void 0,this._chunkMultiplier=1,Me._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=Me,this._transition("error"))},this._metadataErrorHandler=Me=>{this._request=void 0,Me._codeEquals("canceled")?this.completeTransitions_():(this._error=Me,this._transition("error"))},this._promise=new Promise((Me,ht)=>{this._resolve=Me,this._reject=ht,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const C=this._transferred;return S=>this._updateProgress(C+S)}_shouldDoResumable(C){return C.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(C){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([S,j])=>{switch(this._state){case"running":C(S,j);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((C,S)=>{const j=function hs(E,C,S,j,Me){const ht=C.bucketOnlyServerUrl(),rn=vi(C,j,Me),Dn={name:rn.fullPath},kn=kr(ht,E.host,E._protocol),ri={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${j.size()}`,"X-Goog-Upload-Header-Content-Type":rn.contentType,"Content-Type":"application/json; charset=utf-8"},Bi=J(rn,S),ji=new Kt(kn,"POST",function ki(Sr){let pi;ms(Sr);try{pi=Sr.getResponseHeader("X-Goog-Upload-URL")}catch{qt(!1)}return qt(er(pi)),pi},E.maxUploadRetryTime);return ji.urlParams=Dn,ji.headers=ri,ji.body=Bi,ji.errorHandler=ur(C),ji}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Me=this._ref.storage._makeRequest(j,cn,C,S);this._request=Me,Me.getPromise().then(ht=>{this._request=void 0,this._uploadUrl=ht,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const C=this._uploadUrl;this._resolveToken((S,j)=>{const Me=function zi(E,C,S,j){const kn=new Kt(S,"POST",function ht(xr){const ri=ms(xr,["active","final"]);let Bi=null;try{Bi=xr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qt(!1)}Bi||qt(!1);const Vi=Number(Bi);return qt(!isNaN(Vi)),new ls(Vi,j.size(),"final"===ri)},E.maxUploadRetryTime);return kn.headers={"X-Goog-Upload-Command":"query"},kn.errorHandler=ur(C),kn}(this._ref.storage,this._ref._location,C,this._blob),ht=this._ref.storage._makeRequest(Me,cn,S,j);this._request=ht,ht.getPromise().then(rn=>{this._request=void 0,this._updateProgress(rn.current),this._needToFetchStatus=!1,rn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const C=262144*this._chunkMultiplier,S=new ls(this._transferred,this._blob.size()),j=this._uploadUrl;this._resolveToken((Me,ht)=>{let rn;try{rn=function be(E,C,S,j,Me,ht,rn,Dn){const kn=new ls(0,0);if(rn?(kn.current=rn.current,kn.total=rn.total):(kn.current=0,kn.total=j.size()),j.size()!==kn.total)throw function st(){return new Pe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const xr=kn.total-kn.current;let ri=xr;Me>0&&(ri=Math.min(ri,Me));const Bi=kn.current,ji={"X-Goog-Upload-Command":ri===xr?"upload, finalize":"upload","X-Goog-Upload-Offset":`${kn.current}`},Sr=j.slice(Bi,Bi+ri);if(null===Sr)throw ze();const gi=new Kt(S,"POST",function pi(gs,sa){const Oo=ms(gs,["active","final"]),Co=kn.current+ri,U=j.size();let ae;return ae="final"===Oo?Fn(C,ht)(gs,sa):null,new ls(Co,U,"final"===Oo,ae)},C.maxUploadRetryTime);return gi.headers=ji,gi.body=Sr.uploadData(),gi.progressCallback=Dn||null,gi.errorHandler=ur(E),gi}(this._ref._location,this._ref.storage,j,this._blob,C,this._mappings,S,this._makeProgressCallback())}catch(kn){return this._error=kn,void this._transition("error")}const Dn=this._ref.storage._makeRequest(rn,cn,Me,ht);this._request=Dn,Dn.getPromise().then(kn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(kn.current),kn.finalized?(this._metadata=kn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((C,S)=>{const j=vr(this._ref.storage,this._ref._location,this._mappings),Me=this._ref.storage._makeRequest(j,cn,C,S);this._request=Me,Me.getPromise().then(ht=>{this._request=void 0,this._metadata=ht,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((C,S)=>{const j=function Ss(E,C,S,j,Me){const ht=C.bucketOnlyServerUrl(),rn={"X-Goog-Upload-Protocol":"multipart"},kn=function Dn(){let gi="";for(let gs=0;gs<2;gs++)gi+=Math.random().toString().slice(2);return gi}();rn["Content-Type"]="multipart/related; boundary="+kn;const xr=vi(C,j,Me),ri=J(xr,S),ki=gn.getBlob("--"+kn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ri+"\r\n--"+kn+"\r\nContent-Type: "+xr.contentType+"\r\n\r\n",j,"\r\n--"+kn+"--");if(null===ki)throw ze();const ji={name:xr.fullPath},Sr=kr(ht,E.host,E._protocol),Zs=E.maxUploadRetryTime,Vo=new Kt(Sr,"POST",Fn(E,S),Zs);return Vo.urlParams=ji,Vo.headers=rn,Vo.body=ki.uploadData(),Vo.errorHandler=ur(C),Vo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Me=this._ref.storage._makeRequest(j,cn,C,S);this._request=Me,Me.getPromise().then(ht=>{this._request=void 0,this._metadata=ht,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(C){const S=this._transferred;this._transferred=C,this._transferred!==S&&this._notifyObservers()}_transition(C){if(this._state!==C)switch(C){case"canceling":case"pausing":this._state=C,void 0!==this._request&&this._request.cancel();break;case"running":const S="paused"===this._state;this._state=C,S&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=C,this._notifyObservers();break;case"canceled":this._error=It(),this._state=C,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const C=At(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:C,metadata:this._metadata,task:this,ref:this._ref}}on(C,S,j,Me){const ht=new $e(S||void 0,j||void 0,Me||void 0);return this._addObserver(ht),()=>{this._removeObserver(ht)}}then(C,S){return this._promise.then(C,S)}catch(C){return this.then(null,C)}_addObserver(C){this._observers.push(C),this._notifyObserver(C)}_removeObserver(C){const S=this._observers.indexOf(C);-1!==S&&this._observers.splice(S,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(S=>{this._notifyObserver(S)})}_finishPromise(){if(void 0!==this._resolve){let C=!0;switch(At(this._state)){case bt.SUCCESS:Qe(this._resolve.bind(null,this.snapshot))();break;case bt.CANCELED:case bt.ERROR:Qe(this._reject.bind(null,this._error))();break;default:C=!1}C&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(C){switch(At(this._state)){case bt.RUNNING:case bt.PAUSED:C.next&&Qe(C.next.bind(C,this.snapshot))();break;case bt.SUCCESS:C.complete&&Qe(C.complete.bind(C))();break;default:C.error&&Qe(C.error.bind(C,this._error))()}}resume(){const C="paused"===this._state||"pausing"===this._state;return C&&this._transition("running"),C}pause(){const C="running"===this._state;return C&&this._transition("pausing"),C}cancel(){const C="running"===this._state||"pausing"===this._state;return C&&this._transition("canceling"),C}}class wt{constructor(C,S){this._service=C,this._location=S instanceof Sn?S:Sn.makeFromUrl(S,C.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(C,S){return new wt(C,S)}get root(){const C=new Sn(this._location.bucket,"");return this._newRef(this._service,C)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pr(this._location.path)}get storage(){return this._service}get parent(){const C=function Kr(E){if(0===E.length)return null;const C=E.lastIndexOf("/");return-1===C?"":E.slice(0,C)}(this._location.path);if(null===C)return null;const S=new Sn(this._location.bucket,C);return new wt(this._service,S)}_throwIfRoot(C){if(""===this._location.path)throw Cn(C)}}function fs(E,C,S){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,Be.Z)(function*(E,C,S){const Me=yield As(E,{pageToken:S});C.prefixes.push(...Me.prefixes),C.items.push(...Me.items),null!=Me.nextPageToken&&(yield fs(E,C,Me.nextPageToken))})).apply(this,arguments)}function As(E,C){null!=C&&"number"==typeof C.maxResults&&yr("options.maxResults",1,1e3,C.maxResults);const S=C||{},j=Ar(E.storage,E._location,"/",S.pageToken,S.maxResults);return E.storage.makeRequestWithTokens(j,cn)}function Ws(E){E._throwIfRoot("getDownloadURL");const C=function Gi(E,C,S){const Me=kr(C.fullServerUrl(),E.host,E._protocol),rn=E.maxOperationRetryTime,Dn=new Kt(Me,"GET",function Gn(E,C){return function S(j,Me){const ht=ot(E,Me,C);return qt(null!==ht),function Ke(E,C,S,j){const Me=Bn(C);if(null===Me||!er(Me.downloadTokens))return null;const ht=Me.downloadTokens;if(0===ht.length)return null;const rn=encodeURIComponent;return ht.split(",").map(xr=>{const Bi=E.fullPath;return kr("/b/"+rn(E.bucket)+"/o/"+rn(Bi),S,j)+Hn({alt:"media",token:xr})})[0]}(ht,Me,E.host,E._protocol)}}(E,S),rn);return Dn.errorHandler=Tr(C),Dn}(E.storage,E._location,Ii());return E.storage.makeRequestWithTokens(C,cn).then(S=>{if(null===S)throw function pt(){return new Pe("no-download-url","The given file does not have any download URLs.")}();return S})}function xo(E,C){const S=function Mr(E,C){const S=C.split("/").filter(j=>j.length>0).join("/");return 0===E.length?S:E+"/"+S}(E._location.path,C),j=new Sn(E._location.bucket,S);return new wt(E.storage,j)}function ps(E,C){if(E instanceof Ys){const S=E;if(null==S._bucket)throw function Ze(){return new Pe("no-default-bucket","No default bucket found. Did you set the '"+Mt+"' property when initializing the app?")}();const j=new wt(S,S._bucket);return null!=C?ps(j,C):j}return void 0!==C?xo(E,C):E}function Es(E,C){if(C&&function Cs(E){return/^[A-Za-z]+:\/\//.test(E)}(C)){if(E instanceof Ys)return function Da(E,C){return new wt(E,C)}(E,C);throw Tt("To use ref(service, url), the first argument must be a Storage instance.")}return ps(E,C)}function _s(E,C){const S=C?.[Mt];return null==S?null:Sn.makeFromBucketSpec(S,E)}class Ys{constructor(C,S,j,Me,ht){this.app=C,this._authProvider=S,this._appCheckProvider=j,this._url=Me,this._firebaseVersion=ht,this._bucket=null,this._host=yt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Me?Sn.makeFromBucketSpec(Me,this._host):_s(this._host,this.app.options)}get host(){return this._host}set host(C){this._host=C,this._bucket=null!=this._url?Sn.makeFromBucketSpec(this._url,C):_s(C,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(C){yr("time",0,Number.POSITIVE_INFINITY,C),this._maxUploadRetryTime=C}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(C){yr("time",0,Number.POSITIVE_INFINITY,C),this._maxOperationRetryTime=C}_getAuthToken(){var C=this;return(0,Be.Z)(function*(){if(C._overrideAuthToken)return C._overrideAuthToken;const S=C._authProvider.getImmediate({optional:!0});if(S){const j=yield S.getToken();if(null!==j)return j.accessToken}return null})()}_getAppCheckToken(){var C=this;return(0,Be.Z)(function*(){const S=C._appCheckProvider.getImmediate({optional:!0});return S?(yield S.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(C=>C.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(C){return new wt(this,C)}_makeRequest(C,S,j,Me){if(this._deleted)return new we(Lt());{const ht=function Ut(E,C,S,j,Me,ht){const rn=Hn(E.urlParams),Dn=E.url+rn,kn=Object.assign({},E.headers);return function He(E,C){C&&(E["X-Firebase-GMPID"]=C)}(kn,C),function Ht(E,C){null!==C&&C.length>0&&(E.Authorization="Firebase "+C)}(kn,S),function rt(E,C){E["X-Firebase-Storage-Version"]="webjs/"+(C??"AppManager")}(kn,ht),function Et(E,C){null!==C&&(E["X-Firebase-AppCheck"]=C)}(kn,j),new Er(Dn,E.method,kn,E.body,E.successCodes,E.additionalRetryCodes,E.handler,E.errorHandler,E.timeout,E.progressCallback,Me)}(C,this._appId,j,Me,S,this._firebaseVersion);return this._requests.add(ht),ht.getPromise().then(()=>this._requests.delete(ht),()=>this._requests.delete(ht)),ht}}makeRequestWithTokens(C,S){var j=this;return(0,Be.Z)(function*(){const[Me,ht]=yield Promise.all([j._getAuthToken(),j._getAppCheckToken()]);return j._makeRequest(C,S,Me,ht).getPromise()})()}}const Fs="@firebase/storage";function bo(E,C){return Es(E=(0,Ve.m9)(E),C)}function us(E,{instanceIdentifier:C}){const S=E.getProvider("app").getImmediate(),j=E.getProvider("auth-internal"),Me=E.getProvider("app-check-internal");return new Ys(S,j,Me,C,Le.SDK_VERSION)}!function ai(){(0,Le._registerComponent)(new Ft.wA("storage",us,"PUBLIC").setMultipleInstances(!0)),(0,Le.registerVersion)(Fs,"0.9.9",""),(0,Le.registerVersion)(Fs,"0.9.9","esm2017")}();class Ks{constructor(C,S,j){this._delegate=C,this.task=S,this.ref=j}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class uo{constructor(C,S){this._delegate=C,this._ref=S,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ks(this._delegate.snapshot,this,this._ref)}then(C,S){return this._delegate.then(j=>{if(C)return C(new Ks(j,this,this._ref))},S)}on(C,S,j,Me){let ht;return S&&(ht="function"==typeof S?rn=>S(new Ks(rn,this,this._ref)):{next:S.next?rn=>S.next(new Ks(rn,this,this._ref)):void 0,complete:S.complete||void 0,error:S.error||void 0}),this._delegate.on(C,ht,j||void 0,Me||void 0)}}class Mi{constructor(C,S){this._delegate=C,this._service=S}get prefixes(){return this._delegate.prefixes.map(C=>new qi(C,this._service))}get items(){return this._delegate.items.map(C=>new qi(C,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class qi{constructor(C,S){this._delegate=C,this.storage=S}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(C){const S=function go(E,C){return xo(E,C)}(this._delegate,C);return new qi(S,this.storage)}get root(){return new qi(this._delegate.root,this.storage)}get parent(){const C=this._delegate.parent;return null==C?null:new qi(C,this.storage)}put(C,S){return this._throwIfRoot("put"),new uo(function xs(E,C,S){return function Pn(E,C,S){return E._throwIfRoot("uploadBytesResumable"),new Ni(E,new gn(C),S)}(E=(0,Ve.m9)(E),C,S)}(this._delegate,C,S),this)}putString(C,S=ir.RAW,j){this._throwIfRoot("putString");const Me=Rr(S,C),ht=Object.assign({},j);return null==ht.contentType&&null!=Me.contentType&&(ht.contentType=Me.contentType),new uo(new Ni(this._delegate,new gn(Me.data,!0),ht),this)}listAll(){return function xi(E){return function Dr(E){const C={prefixes:[],items:[]};return fs(E,C).then(()=>C)}(E=(0,Ve.m9)(E))}(this._delegate).then(C=>new Mi(C,this.storage))}list(C){return function ys(E,C){return As(E=(0,Ve.m9)(E),C)}(this._delegate,C||void 0).then(S=>new Mi(S,this.storage))}getMetadata(){return function co(E){return function Ns(E){E._throwIfRoot("getMetadata");const C=vr(E.storage,E._location,Ii());return E.storage.makeRequestWithTokens(C,cn)}(E=(0,Ve.m9)(E))}(this._delegate)}updateMetadata(C){return function Mo(E,C){return function to(E,C){E._throwIfRoot("updateMetadata");const S=function Ai(E,C,S,j){const ht=kr(C.fullServerUrl(),E.host,E._protocol),Dn=J(S,j),xr=E.maxOperationRetryTime,ri=new Kt(ht,"PATCH",Fn(E,j),xr);return ri.headers={"Content-Type":"application/json; charset=utf-8"},ri.body=Dn,ri.errorHandler=Tr(C),ri}(E.storage,E._location,C,Ii());return E.storage.makeRequestWithTokens(S,cn)}(E=(0,Ve.m9)(E),C)}(this._delegate,C)}getDownloadURL(){return function jr(E){return Ws(E=(0,Ve.m9)(E))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Jr(E){return function zs(E){E._throwIfRoot("deleteObject");const C=function oi(E,C){const j=kr(C.fullServerUrl(),E.host,E._protocol),Dn=new Kt(j,"DELETE",function rn(kn,xr){},E.maxOperationRetryTime);return Dn.successCodes=[200,204],Dn.errorHandler=Tr(C),Dn}(E.storage,E._location);return E.storage.makeRequestWithTokens(C,cn)}(E=(0,Ve.m9)(E))}(this._delegate)}_throwIfRoot(C){if(""===this._delegate._location.path)throw Cn(C)}}class wo{constructor(C,S){this.app=C,this._delegate=S}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(C){if(Pi(C))throw Tt("ref() expected a child path but got a URL, use refFromURL instead.");return new qi(bo(this._delegate,C),this)}refFromURL(C){if(!Pi(C))throw Tt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Sn.makeFromUrl(C,this._delegate.host)}catch{throw Tt("refFromUrl() expected a valid full URL but got an invalid one.")}return new qi(bo(this._delegate,C),this)}setMaxUploadRetryTime(C){this._delegate.maxUploadRetryTime=C}setMaxOperationRetryTime(C){this._delegate.maxOperationRetryTime=C}useEmulator(C,S,j={}){!function Ls(E,C,S,j={}){!function Us(E,C,S,j={}){E.host=`${C}:${S}`,E._protocol="http";const{mockUserToken:Me}=j;Me&&(E._overrideAuthToken="string"==typeof Me?Me:(0,Ve.Sg)(Me,E.app.options.projectId))}(E,C,S,j)}(this._delegate,C,S,j)}}function Pi(E){return/^[A-Za-z]+:\/\//.test(E)}function qr(E,{instanceIdentifier:C}){const S=E.getProvider("app-compat").getImmediate(),j=E.getProvider("storage").getImmediate({identifier:C});return new wo(S,j)}!function Ia(E){const C={TaskState:bt,TaskEvent:Fe,StringFormat:ir,Storage:wo,Reference:qi};E.INTERNAL.registerComponent(new Ft.wA("storage-compat",qr,"PUBLIC").setServiceProps(C).setMultipleInstances(!0)),E.registerVersion("@firebase/storage-compat","0.1.17")}(ct.Z);var fa=F(440),qs=F(127);function Uo(E){const C=function es(E){return new s.y(C=>{const S=rn=>C.next(rn);S(E.snapshot);const ht=E.on("state_changed",S);return E.then(rn=>{S(rn),C.complete()},rn=>{S(E.snapshot),(rn=>{C.error(rn)})(rn)}),function(){ht()}}).pipe(function ue(E,C=oe.P){return S=>S.lift(new me(E,C))}(0))}(E);return{task:E,then:E.then.bind(E),catch:E.catch.bind(E),pause:E.pause.bind(E),cancel:E.cancel.bind(E),resume:E.resume.bind(E),snapshotChanges:()=>C,percentageChanges:()=>C.pipe((0,ce.U)(S=>S.bytesTransferred/S.totalBytes*100))}}function pn(E){return{getDownloadURL:()=>(0,Q.of)(void 0).pipe(le.fc,(0,se.w)(()=>E.getDownloadURL()),le.iC),getMetadata:()=>(0,Q.of)(void 0).pipe(le.fc,(0,se.w)(()=>E.getMetadata()),le.iC),delete:()=>(0,K.D)(E.delete()),child:C=>pn(E.child(C)),updateMetadata:C=>(0,K.D)(E.updateMetadata(C)),put:(C,S)=>Uo(E.put(C,S)),putString:(C,S,j)=>Uo(E.putString(C,S,j)),list:C=>(0,K.D)(E.list(C)),listAll:()=>(0,K.D)(E.listAll())}}const T=new ge.OlP("angularfire2.storageBucket"),Z=new ge.OlP("angularfire2.storage.maxUploadRetryTime"),A=new ge.OlP("angularfire2.storage.maxOperationRetryTime"),Y=new ge.OlP("angularfire2.storage.use-emulator");let xe=(()=>{class E{constructor(S,j,Me,ht,rn,Dn,kn,xr,ri,Bi){const Vi=(0,Ue.on)(S,rn,j);this.storage=(0,Ue.cc)(`${Vi.name}.storage.${Me}`,"AngularFireStorage",Vi.name,()=>{const ki=rn.runOutsideAngular(()=>Vi.storage(Me||void 0)),ji=ri;return ji&&ki.useEmulator(...ji),kn&&ki.setMaxUploadRetryTime(kn),xr&&ki.setMaxOperationRetryTime(xr),ki},[kn,xr])}ref(S){return pn(this.storage.ref(S))}refFromURL(S){return pn(this.storage.refFromURL(S))}upload(S,j,Me){return pn(this.storage.ref(S)).put(j,Me)}}return E.\u0275fac=function(S){return new(S||E)(ge.LFG(Ue.Dh),ge.LFG(Ue.xv,8),ge.LFG(T,8),ge.LFG(ge.Lbi),ge.LFG(ge.R0b),ge.LFG(le.HU),ge.LFG(Z,8),ge.LFG(A,8),ge.LFG(Y,8),ge.LFG(fa.nm,8))},E.\u0275prov=ge.Yz7({token:E,factory:E.\u0275fac,providedIn:"any"}),E})(),jn=(()=>{class E{}return E.\u0275fac=function(S){return new(S||E)},E.\u0275mod=ge.oAB({type:E}),E.\u0275inj=ge.cJS({}),E})(),dr=(()=>{class E{constructor(){qs.Z.registerVersion("angularfire",le.q4.full,"gcs-compat")}}return E.\u0275fac=function(S){return new(S||E)},E.\u0275mod=ge.oAB({type:E}),E.\u0275inj=ge.cJS({providers:[xe],imports:[jn]}),E})()},2011:(En,vt,F)=>{"use strict";F.d(vt,{Dh:()=>pe,GT:()=>ue,cc:()=>Ue,hO:()=>ge,on:()=>ce,pX:()=>oe,xv:()=>De});var s=F(4650),Q=F(127),K=F(6351);En=F.hmd(En);const Re=["ngOnDestroy"],oe=(Ve,Ft,yt,Mt={})=>new Proxy(Ve,{get:(nt,St)=>yt.runOutsideAngular(()=>{var Pe;if(Ve[St])return!(null===(Pe=Mt?.spy)||void 0===Pe)&&Pe.get&&Mt.spy.get(St,Ve[St]),Ve[St];if(Re.indexOf(St)>-1)return()=>{};const Xe=Ft.toPromise().then(Ee=>{const ye=Ee&&Ee[St];return"function"==typeof ye?ye.bind(Ee):ye&&ye.then?ye.then(Ie=>yt.run(()=>Ie)):yt.run(()=>ye)});return new Proxy(()=>{},{get:(Ee,ye)=>Xe[ye],apply:(Ee,ye,Ie)=>Xe.then(he=>{var _e;const fe=he&&he(...Ie);return!(null===(_e=Mt?.spy)||void 0===_e)&&_e.apply&&Mt.spy.apply(St,Ie,fe),fe})})})}),ue=(Ve,Ft)=>{Ft.forEach(yt=>{Object.getOwnPropertyNames(yt.prototype||yt).forEach(Mt=>{Object.defineProperty(Ve.prototype,Mt,Object.getOwnPropertyDescriptor(yt.prototype||yt,Mt))})})};class me{constructor(Ft){return Ft}}const pe=new s.OlP("angularfire2.app.options"),De=new s.OlP("angularfire2.app.name");function ce(Ve,Ft,yt){const nt="object"==typeof yt&&yt||{};nt.name=nt.name||"string"==typeof yt&&yt||"[DEFAULT]";const Pe=Q.Z.apps.filter(Xe=>Xe&&Xe.name===nt.name)[0]||Ft.runOutsideAngular(()=>Q.Z.initializeApp(Ve,nt));try{JSON.stringify(Ve)!==JSON.stringify(Pe.options)&&se("error",`${Pe.name} Firebase App already initialized with different options${En.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(Pe)}const se=(Ve,...Ft)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ve](...Ft)},le={provide:me,useFactory:ce,deps:[pe,s.R0b,[new s.FiY,De]]};let ge=(()=>{class Ve{constructor(yt){Q.Z.registerVersion("angularfire",K.q4.full,"core"),Q.Z.registerVersion("angularfire",K.q4.full,"app-compat"),Q.Z.registerVersion("angular",s.q4F.full,yt.toString())}static initializeApp(yt,Mt){return{ngModule:Ve,providers:[{provide:pe,useValue:yt},{provide:De,useValue:Mt}]}}}return Ve.\u0275fac=function(yt){return new(yt||Ve)(s.LFG(s.Lbi))},Ve.\u0275mod=s.oAB({type:Ve}),Ve.\u0275inj=s.cJS({providers:[le]}),Ve})();function Ue(Ve,Ft,yt,Mt,nt){const[,St,Pe]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===Ve)||[];if(St)return function ct(Ve,Ft){try{return Ve.toString()===Ft.toString()}catch{return Ve===Ft}}(nt,Pe)||(Le("error",`${Ft} was already initialized on the ${yt} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:nt,was:Pe})),St;{const Xe=Mt();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Xe,nt]),Xe}}const Be=!!En.hot,Le=(Ve,...Ft)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ve](...Ft)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(En,vt,F)=>{"use strict";F.d(vt,{q4:()=>tc,iC:()=>ka,fc:()=>Xs,HU:()=>To,vb:()=>Rn,JM:()=>fn});var s=F(4650),Q=F(5867),K=F(5861),Re=F(9681),oe=F(2090),ue=F(4859),me=F(1877),pe=F(8766);const De="@firebase/installations",ce="0.5.12",le=`w:${ce}`,ge="FIS_v2",Ft=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yt(W){return W instanceof oe.ZR&&W.code.includes("request-failed")}function Mt({projectId:W}){return`https://firebaseinstallations.googleapis.com/v1/projects/${W}/installations`}function nt(W){return{token:W.token,requestStatus:2,expiresIn:he(W.expiresIn),creationTime:Date.now()}}function St(W,X){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,K.Z)(function*(W,X){const We=(yield X.json()).error;return Ft.create("request-failed",{requestName:W,serverCode:We.code,serverMessage:We.message,serverStatus:We.status})})).apply(this,arguments)}function Xe({apiKey:W}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":W})}function Ee(W,{refreshToken:X}){const Ae=Xe(W);return Ae.append("Authorization",function _e(W){return`${ge} ${W}`}(X)),Ae}function ye(W){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,K.Z)(function*(W){const X=yield W();return X.status>=500&&X.status<600?W():X})).apply(this,arguments)}function he(W){return Number(W.replace("s","000"))}function fe(W,X){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,K.Z)(function*({appConfig:W,heartbeatServiceProvider:X},{fid:Ae}){const We=Mt(W),$t=Xe(W),en=X.getImmediate({optional:!0});if(en){const hi=yield en.getHeartbeatsHeader();hi&&$t.append("x-firebase-client",hi)}const zn={method:"POST",headers:$t,body:JSON.stringify({fid:Ae,authVersion:ge,appId:W.appId,sdkVersion:le})},zr=yield ye(()=>fetch(We,zn));if(zr.ok){const hi=yield zr.json();return{fid:hi.fid||Ae,registrationStatus:2,refreshToken:hi.refreshToken,authToken:nt(hi.authToken)}}throw yield St("Create Installation",zr)})).apply(this,arguments)}function It(W){return new Promise(X=>{setTimeout(X,W)})}const gt=/^[cdef][\w-]{21}$/;function ze(){try{const W=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(W),W[0]=112+W[0]%16;const Ae=function st(W){return function xt(W){return btoa(String.fromCharCode(...W)).replace(/\+/g,"-").replace(/\//g,"_")}(W).substr(0,22)}(W);return gt.test(Ae)?Ae:""}catch{return""}}function pt(W){return`${W.appName}!${W.appId}`}const Tt=new Map;function Lt(W,X){const Ae=pt(W);bn(Ae,X),function Sn(W,X){const Ae=function Kn(){return!we&&"BroadcastChannel"in self&&(we=new BroadcastChannel("[Firebase] FID Change"),we.onmessage=W=>{bn(W.data.key,W.data.fid)}),we}();Ae&&Ae.postMessage({key:W,fid:X}),function qn(){0===Tt.size&&we&&(we.close(),we=null)}()}(Ae,X)}function bn(W,X){const Ae=Tt.get(W);if(Ae)for(const We of Ae)We(X)}let we=null;const Ln="firebase-installations-store";let er=null;function tn(){return er||(er=(0,pe.X3)("firebase-installations-database",1,{upgrade:(W,X)=>{0===X&&W.createObjectStore(Ln)}})),er}function hn(W,X){return yr.apply(this,arguments)}function yr(){return(yr=(0,K.Z)(function*(W,X){const Ae=pt(W),$t=(yield tn()).transaction(Ln,"readwrite"),en=$t.objectStore(Ln),Mn=yield en.get(Ae);return yield en.put(X,Ae),yield $t.done,(!Mn||Mn.fid!==X.fid)&&Lt(W,X.fid),X})).apply(this,arguments)}function kr(W){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,K.Z)(function*(W){const X=pt(W),We=(yield tn()).transaction(Ln,"readwrite");yield We.objectStore(Ln).delete(X),yield We.done})).apply(this,arguments)}function gr(W,X){return Er.apply(this,arguments)}function Er(){return(Er=(0,K.Z)(function*(W,X){const Ae=pt(W),$t=(yield tn()).transaction(Ln,"readwrite"),en=$t.objectStore(Ln),Mn=yield en.get(Ae),zn=X(Mn);return void 0===zn?yield en.delete(Ae):yield en.put(zn,Ae),yield $t.done,zn&&(!Mn||Mn.fid!==zn.fid)&&Lt(W,zn.fid),zn})).apply(this,arguments)}function Ir(W){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,K.Z)(function*(W){let X;const Ae=yield gr(W.appConfig,We=>{const $t=rt(We),en=He(W,$t);return X=en.registrationPromise,en.installationEntry});return""===Ae.fid?{installationEntry:yield X}:{installationEntry:Ae,registrationPromise:X}})).apply(this,arguments)}function rt(W){return _n(W||{fid:ze(),registrationStatus:0})}function He(W,X){if(0===X.registrationStatus){if(!navigator.onLine)return{installationEntry:X,registrationPromise:Promise.reject(Ft.create("app-offline"))};const Ae={fid:X.fid,registrationStatus:1,registrationTime:Date.now()},We=function Et(W,X){return Ut.apply(this,arguments)}(W,Ae);return{installationEntry:Ae,registrationPromise:We}}return 1===X.registrationStatus?{installationEntry:X,registrationPromise:An(W)}:{installationEntry:X}}function Ut(){return(Ut=(0,K.Z)(function*(W,X){try{const Ae=yield fe(W,X);return hn(W.appConfig,Ae)}catch(Ae){throw yt(Ae)&&409===Ae.customData.serverCode?yield kr(W.appConfig):yield hn(W.appConfig,{fid:X.fid,registrationStatus:0}),Ae}})).apply(this,arguments)}function An(W){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,K.Z)(function*(W){let X=yield Un(W.appConfig);for(;1===X.registrationStatus;)yield It(100),X=yield Un(W.appConfig);if(0===X.registrationStatus){const{installationEntry:Ae,registrationPromise:We}=yield Ir(W);return We||Ae}return X})).apply(this,arguments)}function Un(W){return gr(W,X=>{if(!X)throw Ft.create("installation-not-found");return _n(X)})}function _n(W){return function ir(W){return 1===W.registrationStatus&&W.registrationTime+1e4<Date.now()}(W)?{fid:W.fid,registrationStatus:0}:W}function On(W,X){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,K.Z)(function*({appConfig:W,heartbeatServiceProvider:X},Ae){const We=sr(W,Ae),$t=Ee(W,Ae),en=X.getImmediate({optional:!0});if(en){const hi=yield en.getHeartbeatsHeader();hi&&$t.append("x-firebase-client",hi)}const zn={method:"POST",headers:$t,body:JSON.stringify({installation:{sdkVersion:le,appId:W.appId}})},zr=yield ye(()=>fetch(We,zn));if(zr.ok)return nt(yield zr.json());throw yield St("Generate Auth Token",zr)})).apply(this,arguments)}function sr(W,{fid:X}){return`${Mt(W)}/${X}/authTokens:generate`}function it(W){return tt.apply(this,arguments)}function tt(){return(tt=(0,K.Z)(function*(W,X=!1){let Ae;const We=yield gr(W.appConfig,en=>{if(!Bn(en))throw Ft.create("not-registered");const Mn=en.authToken;if(!X&&Kr(Mn))return en;if(1===Mn.requestStatus)return Ae=qe(W,X),en;{if(!navigator.onLine)throw Ft.create("app-offline");const zn=Pr(en);return Ae=Gt(W,zn),zn}});return Ae?yield Ae:We.authToken})).apply(this,arguments)}function qe(W,X){return lt.apply(this,arguments)}function lt(){return(lt=(0,K.Z)(function*(W,X){let Ae=yield at(W.appConfig);for(;1===Ae.authToken.requestStatus;)yield It(100),Ae=yield at(W.appConfig);const We=Ae.authToken;return 0===We.requestStatus?it(W,X):We})).apply(this,arguments)}function at(W){return gr(W,X=>{if(!Bn(X))throw Ft.create("not-registered");return function pr(W){return 1===W.requestStatus&&W.requestTime+1e4<Date.now()}(X.authToken)?Object.assign(Object.assign({},X),{authToken:{requestStatus:0}}):X})}function Gt(W,X){return gn.apply(this,arguments)}function gn(){return(gn=(0,K.Z)(function*(W,X){try{const Ae=yield On(W,X),We=Object.assign(Object.assign({},X),{authToken:Ae});return yield hn(W.appConfig,We),Ae}catch(Ae){if(!yt(Ae)||401!==Ae.customData.serverCode&&404!==Ae.customData.serverCode){const We=Object.assign(Object.assign({},X),{authToken:{requestStatus:0}});yield hn(W.appConfig,We)}else yield kr(W.appConfig);throw Ae}})).apply(this,arguments)}function Bn(W){return void 0!==W&&2===W.registrationStatus}function Kr(W){return 2===W.requestStatus&&!function Mr(W){const X=Date.now();return X<W.creationTime||W.creationTime+W.expiresIn<X+36e5}(W)}function Pr(W){const X={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},W),{authToken:X})}function Lr(){return(Lr=(0,K.Z)(function*(W){const X=W,{installationEntry:Ae,registrationPromise:We}=yield Ir(X);return We?We.catch(console.error):it(X).catch(console.error),Ae.fid})).apply(this,arguments)}function Ii(){return(Ii=(0,K.Z)(function*(W,X=!1){const Ae=W;return yield ni(Ae),(yield it(Ae,X)).token})).apply(this,arguments)}function ni(W){return ci.apply(this,arguments)}function ci(){return(ci=(0,K.Z)(function*(W){const{registrationPromise:X}=yield Ir(W);X&&(yield X)})).apply(this,arguments)}function qt(W){return Ft.create("missing-app-config-values",{valueName:W})}const Fn="installations",Gn=W=>{const X=W.getProvider("app").getImmediate(),Ae=function Kt(W){if(!W||!W.options)throw qt("App Configuration");if(!W.name)throw qt("App Name");const X=["projectId","apiKey","appId"];for(const Ae of X)if(!W.options[Ae])throw qt(Ae);return{appName:W.name,projectId:W.options.projectId,apiKey:W.options.apiKey,appId:W.options.appId}}(X);return{app:X,appConfig:Ae,heartbeatServiceProvider:(0,Re._getProvider)(X,"heartbeat"),_delete:()=>Promise.resolve()}},ur=W=>{const X=W.getProvider("app").getImmediate(),Ae=(0,Re._getProvider)(X,Fn).getImmediate();return{getId:()=>function Wn(W){return Lr.apply(this,arguments)}(Ae),getToken:$t=>function Br(W){return Ii.apply(this,arguments)}(Ae,$t)}};(function Tr(){(0,Re._registerComponent)(new ue.wA(Fn,Gn,"PUBLIC")),(0,Re._registerComponent)(new ue.wA("installations-internal",ur,"PRIVATE"))})(),(0,Re.registerVersion)(De,ce),(0,Re.registerVersion)(De,ce,"esm2017");const vr="@firebase/remote-config",oi=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class or{constructor(X,Ae,We,$t){this.client=X,this.storage=Ae,this.storageCache=We,this.logger=$t}isCachedDataFresh(X,Ae){if(!Ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const We=Date.now()-Ae,$t=We<=X;return this.logger.debug(`Config fetch cache check. Cache age millis: ${We}. Cache max age millis (minimumFetchIntervalMillis setting): ${X}. Is cache hit: ${$t}.`),$t}fetch(X){var Ae=this;return(0,K.Z)(function*(){const[We,$t]=yield Promise.all([Ae.storage.getLastSuccessfulFetchTimestampMillis(),Ae.storage.getLastSuccessfulFetchResponse()]);if($t&&Ae.isCachedDataFresh(X.cacheMaxAgeMillis,We))return $t;X.eTag=$t&&$t.eTag;const en=yield Ae.client.fetch(X),Mn=[Ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===en.status&&Mn.push(Ae.storage.setLastSuccessfulFetchResponse(en)),yield Promise.all(Mn),en})()}}function Nr(W=navigator){return W.languages&&W.languages[0]||W.language}class Fi{constructor(X,Ae,We,$t,en,Mn){this.firebaseInstallations=X,this.sdkVersion=Ae,this.namespace=We,this.projectId=$t,this.apiKey=en,this.appId=Mn}fetch(X){var Ae=this;return(0,K.Z)(function*(){var We,$t,en;const[Mn,zn]=yield Promise.all([Ae.firebaseInstallations.getId(),Ae.firebaseInstallations.getToken()]),hi=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ae.projectId}/namespaces/${Ae.namespace}:fetch?key=${Ae.apiKey}`,hr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":X.eTag||"*"},Or={sdk_version:Ae.sdkVersion,app_instance_id:Mn,app_instance_id_token:zn,app_id:Ae.appId,language_code:Nr()},bs={method:"POST",headers:hr,body:JSON.stringify(Or)},aa=fetch(hi,bs),wa=new Promise((Na,nl)=>{X.signal.addEventListener(()=>{const rl=new Error("The operation was aborted.");rl.name="AbortError",nl(rl)})});let Ha;try{yield Promise.race([aa,wa]),Ha=yield aa}catch(Na){let nl="fetch-client-network";throw"AbortError"===(null===(We=Na)||void 0===We?void 0:We.name)&&(nl="fetch-timeout"),oi.create(nl,{originalErrorMessage:null===($t=Na)||void 0===$t?void 0:$t.message})}let la=Ha.status;const tl=Ha.headers.get("ETag")||void 0;let gl,Ca;if(200===Ha.status){let Na;try{Na=yield Ha.json()}catch(nl){throw oi.create("fetch-client-parse",{originalErrorMessage:null===(en=nl)||void 0===en?void 0:en.message})}gl=Na.entries,Ca=Na.state}if("INSTANCE_STATE_UNSPECIFIED"===Ca?la=500:"NO_CHANGE"===Ca?la=304:("NO_TEMPLATE"===Ca||"EMPTY_CONFIG"===Ca)&&(gl={}),304!==la&&200!==la)throw oi.create("fetch-status",{httpStatus:la});return{status:la,eTag:tl,config:gl}})()}}class Dt{constructor(X,Ae){this.client=X,this.storage=Ae}fetch(X){var Ae=this;return(0,K.Z)(function*(){const We=(yield Ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ae.attemptFetch(X,We)})()}attemptFetch(X,{throttleEndTimeMillis:Ae,backoffCount:We}){var $t=this;return(0,K.Z)(function*(){yield function Ni(W,X){return new Promise((Ae,We)=>{const $t=Math.max(X-Date.now(),0),en=setTimeout(Ae,$t);W.addEventListener(()=>{clearTimeout(en),We(oi.create("fetch-throttle",{throttleEndTimeMillis:X}))})})}(X.signal,Ae);try{const en=yield $t.client.fetch(X);return yield $t.storage.deleteThrottleMetadata(),en}catch(en){if(!function wt(W){if(!(W instanceof oe.ZR&&W.customData))return!1;const X=Number(W.customData.httpStatus);return 429===X||500===X||503===X||504===X}(en))throw en;const Mn={throttleEndTimeMillis:Date.now()+(0,oe.$s)(We),backoffCount:We+1};return yield $t.storage.setThrottleMetadata(Mn),$t.attemptFetch(X,Mn)}})()}}class Pn{constructor(X,Ae,We,$t,en){this.app=X,this._client=Ae,this._storageCache=We,this._storage=$t,this._logger=en,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ar(W,X){var Ae;const We=W.target.error||void 0;return oi.create(X,{originalErrorMessage:We&&(null===(Ae=We)||void 0===Ae?void 0:Ae.message)})}const Dr="app_namespace_store";class Ns{constructor(X,Ae,We,$t=function As(){return new Promise((W,X)=>{var Ae;try{const We=indexedDB.open("firebase_remote_config",1);We.onerror=$t=>{X(ar($t,"storage-open"))},We.onsuccess=$t=>{W($t.target.result)},We.onupgradeneeded=$t=>{0===$t.oldVersion&&$t.target.result.createObjectStore(Dr,{keyPath:"compositeKey"})}}catch(We){X(oi.create("storage-open",{originalErrorMessage:null===(Ae=We)||void 0===Ae?void 0:Ae.message}))}})}()){this.appId=X,this.appName=Ae,this.namespace=We,this.openDbPromise=$t}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(X){return this.set("last_fetch_status",X)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(X){return this.set("last_successful_fetch_timestamp_millis",X)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(X){return this.set("last_successful_fetch_response",X)}getActiveConfig(){return this.get("active_config")}setActiveConfig(X){return this.set("active_config",X)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(X){return this.set("active_config_etag",X)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(X){return this.set("throttle_metadata",X)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(X){var Ae=this;return(0,K.Z)(function*(){const We=yield Ae.openDbPromise;return new Promise(($t,en)=>{var Mn;const zr=We.transaction([Dr],"readonly").objectStore(Dr),hi=Ae.createCompositeKey(X);try{const hr=zr.get(hi);hr.onerror=Or=>{en(ar(Or,"storage-get"))},hr.onsuccess=Or=>{const bs=Or.target.result;$t(bs?bs.value:void 0)}}catch(hr){en(oi.create("storage-get",{originalErrorMessage:null===(Mn=hr)||void 0===Mn?void 0:Mn.message}))}})})()}set(X,Ae){var We=this;return(0,K.Z)(function*(){const $t=yield We.openDbPromise;return new Promise((en,Mn)=>{var zn;const hi=$t.transaction([Dr],"readwrite").objectStore(Dr),hr=We.createCompositeKey(X);try{const Or=hi.put({compositeKey:hr,value:Ae});Or.onerror=bs=>{Mn(ar(bs,"storage-set"))},Or.onsuccess=()=>{en()}}catch(Or){Mn(oi.create("storage-set",{originalErrorMessage:null===(zn=Or)||void 0===zn?void 0:zn.message}))}})})()}delete(X){var Ae=this;return(0,K.Z)(function*(){const We=yield Ae.openDbPromise;return new Promise(($t,en)=>{var Mn;const zr=We.transaction([Dr],"readwrite").objectStore(Dr),hi=Ae.createCompositeKey(X);try{const hr=zr.delete(hi);hr.onerror=Or=>{en(ar(Or,"storage-delete"))},hr.onsuccess=()=>{$t()}}catch(hr){en(oi.create("storage-delete",{originalErrorMessage:null===(Mn=hr)||void 0===Mn?void 0:Mn.message}))}})})()}createCompositeKey(X){return[this.appId,this.appName,this.namespace,X].join()}}class to{constructor(X){this.storage=X}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var X=this;return(0,K.Z)(function*(){const Ae=X.storage.getLastFetchStatus(),We=X.storage.getLastSuccessfulFetchTimestampMillis(),$t=X.storage.getActiveConfig(),en=yield Ae;en&&(X.lastFetchStatus=en);const Mn=yield We;Mn&&(X.lastSuccessfulFetchTimestampMillis=Mn);const zn=yield $t;zn&&(X.activeConfig=zn)})()}setLastFetchStatus(X){return this.lastFetchStatus=X,this.storage.setLastFetchStatus(X)}setLastSuccessfulFetchTimestampMillis(X){return this.lastSuccessfulFetchTimestampMillis=X,this.storage.setLastSuccessfulFetchTimestampMillis(X)}setActiveConfig(X){return this.activeConfig=X,this.storage.setActiveConfig(X)}}function Cs(){return Da.apply(this,arguments)}function Da(){return(Da=(0,K.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Ws(){(0,Re._registerComponent)(new ue.wA("remote-config",function W(X,{instanceIdentifier:Ae}){const We=X.getProvider("app").getImmediate(),$t=X.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw oi.create("registration-window");if(!(0,oe.hl)())throw oi.create("indexed-db-unavailable");const{projectId:en,apiKey:Mn,appId:zn}=We.options;if(!en)throw oi.create("registration-project-id");if(!Mn)throw oi.create("registration-api-key");if(!zn)throw oi.create("registration-app-id");const zr=new Ns(zn,We.name,Ae=Ae||"firebase"),hi=new to(zr),hr=new me.Yd(vr);hr.logLevel=me.in.ERROR;const Or=new Fi($t,Re.SDK_VERSION,Ae,en,Mn,zn),bs=new Dt(Or,zr),aa=new or(bs,zr,hi,hr),wa=new Pn(We,aa,hi,zr,hr);return function Fe(W){const X=(0,oe.m9)(W);X._initializePromise||(X._initializePromise=X._storageCache.loadFromStorage().then(()=>{X._isInitializationComplete=!0}))}(wa),wa},"PUBLIC").setMultipleInstances(!0)),(0,Re.registerVersion)(vr,"0.3.11"),(0,Re.registerVersion)(vr,"0.3.11","esm2017")}();const ps="/firebase-messaging-sw.js",Es="/firebase-cloud-messaging-push-scope",_s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ys="google.c.a.c_id",Fs="google.c.a.c_l",ui="google.c.a.ts",di="google.c.a.e";var cs=(()=>{return(W=cs||(cs={})).PUSH_RECEIVED="push-received",W.NOTIFICATION_CLICKED="notification-clicked",cs;var W})();function ti(W){const X=new Uint8Array(W);return btoa(String.fromCharCode(...X)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xs(W){const Ae=(W+"=".repeat((4-W.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),We=atob(Ae),$t=new Uint8Array(We.length);for(let en=0;en<We.length;++en)$t[en]=We.charCodeAt(en);return $t}const co="fcm_token_details_db",ys="fcm_token_object_Store";function xi(W){return jr.apply(this,arguments)}function jr(){return jr=(0,K.Z)(function*(W){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(en=>en.name).includes(co))return null;let X=null;return(yield(0,pe.X3)(co,5,{upgrade:(We=(0,K.Z)(function*($t,en,Mn,zn){var zr;if(en<2||!$t.objectStoreNames.contains(ys))return;const hi=zn.objectStore(ys),hr=yield hi.index("fcmSenderId").get(W);if(yield hi.clear(),hr)if(2===en){const Or=hr;if(!Or.auth||!Or.p256dh||!Or.endpoint)return;X={token:Or.fcmToken,createTime:null!==(zr=Or.createTime)&&void 0!==zr?zr:Date.now(),subscriptionOptions:{auth:Or.auth,p256dh:Or.p256dh,endpoint:Or.endpoint,swScope:Or.swScope,vapidKey:"string"==typeof Or.vapidKey?Or.vapidKey:ti(Or.vapidKey)}}}else if(3===en){const Or=hr;X={token:Or.fcmToken,createTime:Or.createTime,subscriptionOptions:{auth:ti(Or.auth),p256dh:ti(Or.p256dh),endpoint:Or.endpoint,swScope:Or.swScope,vapidKey:ti(Or.vapidKey)}}}else if(4===en){const Or=hr;X={token:Or.fcmToken,createTime:Or.createTime,subscriptionOptions:{auth:ti(Or.auth),p256dh:ti(Or.p256dh),endpoint:Or.endpoint,swScope:Or.swScope,vapidKey:ti(Or.vapidKey)}}}}),function(en,Mn,zn,zr){return We.apply(this,arguments)})})).close(),yield(0,pe.Lj)(co),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Jr(X)?X:null;var We}),jr.apply(this,arguments)}function Jr(W){if(!W||!W.subscriptionOptions)return!1;const{subscriptionOptions:X}=W;return"number"==typeof W.createTime&&W.createTime>0&&"string"==typeof W.token&&W.token.length>0&&"string"==typeof X.auth&&X.auth.length>0&&"string"==typeof X.p256dh&&X.p256dh.length>0&&"string"==typeof X.endpoint&&X.endpoint.length>0&&"string"==typeof X.swScope&&X.swScope.length>0&&"string"==typeof X.vapidKey&&X.vapidKey.length>0}const Ki="firebase-messaging-store";let Ls=null;function ha(){return Ls||(Ls=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(W,X)=>{0===X&&W.createObjectStore(Ki)}})),Ls}function no(W){return us.apply(this,arguments)}function us(){return(us=(0,K.Z)(function*(W){const X=qi(W),We=yield(yield ha()).transaction(Ki).objectStore(Ki).get(X);if(We)return We;{const $t=yield xi(W.appConfig.senderId);if($t)return yield ai(W,$t),$t}})).apply(this,arguments)}function ai(W,X){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,K.Z)(function*(W,X){const Ae=qi(W),$t=(yield ha()).transaction(Ki,"readwrite");return yield $t.objectStore(Ki).put(X,Ae),yield $t.done,X})).apply(this,arguments)}function uo(W){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,K.Z)(function*(W){const X=qi(W),We=(yield ha()).transaction(Ki,"readwrite");yield We.objectStore(Ki).delete(X),yield We.done})).apply(this,arguments)}function qi({appConfig:W}){return W.appId}const Pi=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hr(W,X){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,K.Z)(function*(W,X){var Ae;const We=yield es(W),$t=pn(X),en={method:"POST",headers:We,body:JSON.stringify($t)};let Mn;try{Mn=yield(yield fetch(qs(W.appConfig),en)).json()}catch(zn){throw Pi.create("token-subscribe-failed",{errorInfo:null===(Ae=zn)||void 0===Ae?void 0:Ae.toString()})}if(Mn.error)throw Pi.create("token-subscribe-failed",{errorInfo:Mn.error.message});if(!Mn.token)throw Pi.create("token-subscribe-no-token");return Mn.token})).apply(this,arguments)}function ia(W,X){return qr.apply(this,arguments)}function qr(){return(qr=(0,K.Z)(function*(W,X){var Ae;const We=yield es(W),$t=pn(X.subscriptionOptions),en={method:"PATCH",headers:We,body:JSON.stringify($t)};let Mn;try{Mn=yield(yield fetch(`${qs(W.appConfig)}/${X.token}`,en)).json()}catch(zn){throw Pi.create("token-update-failed",{errorInfo:null===(Ae=zn)||void 0===Ae?void 0:Ae.toString()})}if(Mn.error)throw Pi.create("token-update-failed",{errorInfo:Mn.error.message});if(!Mn.token)throw Pi.create("token-update-no-token");return Mn.token})).apply(this,arguments)}function Ia(W,X){return fa.apply(this,arguments)}function fa(){return(fa=(0,K.Z)(function*(W,X){var Ae;const $t={method:"DELETE",headers:yield es(W)};try{const Mn=yield(yield fetch(`${qs(W.appConfig)}/${X}`,$t)).json();if(Mn.error)throw Pi.create("token-unsubscribe-failed",{errorInfo:Mn.error.message})}catch(en){throw Pi.create("token-unsubscribe-failed",{errorInfo:null===(Ae=en)||void 0===Ae?void 0:Ae.toString()})}})).apply(this,arguments)}function qs({projectId:W}){return`https://fcmregistrations.googleapis.com/v1/projects/${W}/registrations`}function es(W){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,K.Z)(function*({appConfig:W,installations:X}){const Ae=yield X.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":W.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ae}`})})).apply(this,arguments)}function pn({p256dh:W,auth:X,endpoint:Ae,vapidKey:We}){const $t={web:{endpoint:Ae,auth:X,p256dh:W}};return We!==_s&&($t.web.applicationPubKey=We),$t}const T=6048e5;function Z(W){return A.apply(this,arguments)}function A(){return(A=(0,K.Z)(function*(W){const X=yield C(W.swRegistration,W.vapidKey),Ae={vapidKey:W.vapidKey,swScope:W.swRegistration.scope,endpoint:X.endpoint,auth:ti(X.getKey("auth")),p256dh:ti(X.getKey("p256dh"))},We=yield no(W.firebaseDependencies);if(We){if(j(We.subscriptionOptions,Ae))return Date.now()>=We.createTime+T?zt(W,{token:We.token,createTime:Date.now(),subscriptionOptions:Ae}):We.token;try{yield Ia(W.firebaseDependencies,We.token)}catch($t){console.warn($t)}return dr(W.firebaseDependencies,Ae)}return dr(W.firebaseDependencies,Ae)})).apply(this,arguments)}function Y(W){return xe.apply(this,arguments)}function xe(){return(xe=(0,K.Z)(function*(W){const X=yield no(W.firebaseDependencies);X&&(yield Ia(W.firebaseDependencies,X.token),yield uo(W.firebaseDependencies));const Ae=yield W.swRegistration.pushManager.getSubscription();return!Ae||Ae.unsubscribe()})).apply(this,arguments)}function zt(W,X){return jn.apply(this,arguments)}function jn(){return(jn=(0,K.Z)(function*(W,X){try{const Ae=yield ia(W.firebaseDependencies,X),We=Object.assign(Object.assign({},X),{token:Ae,createTime:Date.now()});return yield ai(W.firebaseDependencies,We),Ae}catch(Ae){throw yield Y(W),Ae}})).apply(this,arguments)}function dr(W,X){return E.apply(this,arguments)}function E(){return(E=(0,K.Z)(function*(W,X){const We={token:yield Hr(W,X),createTime:Date.now(),subscriptionOptions:X};return yield ai(W,We),We.token})).apply(this,arguments)}function C(W,X){return S.apply(this,arguments)}function S(){return(S=(0,K.Z)(function*(W,X){return(yield W.pushManager.getSubscription())||W.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xs(X)})})).apply(this,arguments)}function j(W,X){return X.vapidKey===W.vapidKey&&X.endpoint===W.endpoint&&X.auth===W.auth&&X.p256dh===W.p256dh}function Me(W){const X={from:W.from,collapseKey:W.collapse_key,messageId:W.fcmMessageId};return function ht(W,X){if(!X.notification)return;W.notification={};const Ae=X.notification.title;Ae&&(W.notification.title=Ae);const We=X.notification.body;We&&(W.notification.body=We);const $t=X.notification.image;$t&&(W.notification.image=$t)}(X,W),function rn(W,X){!X.data||(W.data=X.data)}(X,W),function Dn(W,X){var Ae,We,$t,en,Mn;if(!(X.fcmOptions||null!==(Ae=X.notification)&&void 0!==Ae&&Ae.click_action))return;W.fcmOptions={};const zn=null!==($t=null===(We=X.fcmOptions)||void 0===We?void 0:We.link)&&void 0!==$t?$t:null===(en=X.notification)||void 0===en?void 0:en.click_action;zn&&(W.fcmOptions.link=zn);const zr=null===(Mn=X.fcmOptions)||void 0===Mn?void 0:Mn.analytics_label;zr&&(W.fcmOptions.analyticsLabel=zr)}(X,W),X}function kn(W){return"object"==typeof W&&!!W&&Ys in W}function xr(W,X){const Ae=[];for(let We=0;We<W.length;We++)Ae.push(W.charAt(We)),We<X.length&&Ae.push(X.charAt(We));return Ae.join("")}function Bi(W){return Pi.create("missing-app-config-values",{valueName:W})}xr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vi{constructor(X,Ae,We){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $t=function ri(W){if(!W||!W.options)throw Bi("App Configuration Object");if(!W.name)throw Bi("App Name");const X=["projectId","apiKey","appId","messagingSenderId"],{options:Ae}=W;for(const We of X)if(!Ae[We])throw Bi(We);return{appName:W.name,projectId:Ae.projectId,apiKey:Ae.apiKey,appId:Ae.appId,senderId:Ae.messagingSenderId}}(X);this.firebaseDependencies={app:X,appConfig:$t,installations:Ae,analyticsProvider:We}}_delete(){return Promise.resolve()}}function ki(W){return ji.apply(this,arguments)}function ji(){return(ji=(0,K.Z)(function*(W){var X;try{W.swRegistration=yield navigator.serviceWorker.register(ps,{scope:Es}),W.swRegistration.update().catch(()=>{})}catch(Ae){throw Pi.create("failed-service-worker-registration",{browserErrorMessage:null===(X=Ae)||void 0===X?void 0:X.message})}})).apply(this,arguments)}function Sr(W,X){return pi.apply(this,arguments)}function pi(){return(pi=(0,K.Z)(function*(W,X){if(!X&&!W.swRegistration&&(yield ki(W)),X||!W.swRegistration){if(!(X instanceof ServiceWorkerRegistration))throw Pi.create("invalid-sw-registration");W.swRegistration=X}})).apply(this,arguments)}function Zs(W,X){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,K.Z)(function*(W,X){X?W.vapidKey=X:W.vapidKey||(W.vapidKey=_s)})).apply(this,arguments)}function gs(){return(gs=(0,K.Z)(function*(W,X){if(!navigator)throw Pi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pi.create("permission-blocked");return yield Zs(W,X?.vapidKey),yield Sr(W,X?.serviceWorkerRegistration),Z(W)})).apply(this,arguments)}function sa(W,X,Ae){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,K.Z)(function*(W,X,Ae){const We=Co(X);(yield W.firebaseDependencies.analyticsProvider.get()).logEvent(We,{message_id:Ae[Ys],message_name:Ae[Fs],message_time:Ae[ui],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Co(W){switch(W){case cs.NOTIFICATION_CLICKED:return"notification_open";case cs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ae(){return(ae=(0,K.Z)(function*(W,X){const Ae=X.data;if(!Ae.isFirebaseMessaging)return;W.onMessageHandler&&Ae.messageType===cs.PUSH_RECEIVED&&("function"==typeof W.onMessageHandler?W.onMessageHandler(Me(Ae)):W.onMessageHandler.next(Me(Ae)));const We=Ae.data;kn(We)&&"1"===We[di]&&(yield sa(W,Ae.messageType,We))})).apply(this,arguments)}const z="@firebase/messaging",ut=W=>{const X=new Vi(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),W.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ae=>function U(W,X){return ae.apply(this,arguments)}(X,Ae)),X},Wt=W=>{const X=W.getProvider("messaging").getImmediate();return{getToken:We=>function gi(W,X){return gs.apply(this,arguments)}(X,We)}};function rr(){return mi.apply(this,arguments)}function mi(){return(mi=(0,K.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function dn(){(0,Re._registerComponent)(new ue.wA("messaging",ut,"PUBLIC")),(0,Re._registerComponent)(new ue.wA("messaging-internal",Wt,"PRIVATE")),(0,Re.registerVersion)(z,"0.9.16"),(0,Re.registerVersion)(z,"0.9.16","esm2017")}();const Ro="analytics",ga="firebase_id",Ba="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wl="https://www.googletagmanager.com/gtag/js",vs=new me.Yd("@firebase/analytics");function kl(W){return Promise.all(W.map(X=>X.catch(Ae=>Ae)))}function Zl(W,X){const Ae=document.createElement("script");Ae.src=`${wl}?l=${W}&id=${X}`,Ae.async=!0,document.head.appendChild(Ae)}function Fl(W,X,Ae,We,$t,en){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,K.Z)(function*(W,X,Ae,We,$t,en){const Mn=We[$t];try{if(Mn)yield X[Mn];else{const zr=(yield kl(Ae)).find(hi=>hi.measurementId===$t);zr&&(yield X[zr.appId])}}catch(zn){vs.error(zn)}W("config",$t,en)})).apply(this,arguments)}function Eo(W,X,Ae,We,$t){return $a.apply(this,arguments)}function $a(){return($a=(0,K.Z)(function*(W,X,Ae,We,$t){try{let en=[];if($t&&$t.send_to){let Mn=$t.send_to;Array.isArray(Mn)||(Mn=[Mn]);const zn=yield kl(Ae);for(const zr of Mn){const hi=zn.find(Or=>Or.measurementId===zr),hr=hi&&X[hi.appId];if(!hr){en=[];break}en.push(hr)}}0===en.length&&(en=Object.values(X)),yield Promise.all(en),W("event",We,$t||{})}catch(en){vs.error(en)}})).apply(this,arguments)}function Gc(){const W=window.document.getElementsByTagName("script");for(const X of Object.values(W))if(X.src&&X.src.includes(wl))return X;return null}const mo=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ja=new class _a{constructor(X={},Ae=1e3){this.throttleMetadata=X,this.intervalMillis=Ae}getThrottleMetadata(X){return this.throttleMetadata[X]}setThrottleMetadata(X,Ae){this.throttleMetadata[X]=Ae}deleteThrottleMetadata(X){delete this.throttleMetadata[X]}};function Jl(W){return new Headers({Accept:"application/json","x-goog-api-key":W})}function Ua(W){return hl.apply(this,arguments)}function hl(){return(hl=(0,K.Z)(function*(W){var X;const{appId:Ae,apiKey:We}=W,$t={method:"GET",headers:Jl(We)},en=Ba.replace("{app-id}",Ae),Mn=yield fetch(en,$t);if(200!==Mn.status&&304!==Mn.status){let zn="";try{const zr=yield Mn.json();null!==(X=zr.error)&&void 0!==X&&X.message&&(zn=zr.error.message)}catch{}throw mo.create("config-fetch-failed",{httpStatus:Mn.status,responseMessage:zn})}return Mn.json()})).apply(this,arguments)}function wi(W){return ro.apply(this,arguments)}function ro(){return(ro=(0,K.Z)(function*(W,X=Ja,Ae){const{appId:We,apiKey:$t,measurementId:en}=W.options;if(!We)throw mo.create("no-app-id");if(!$t){if(en)return{measurementId:en,appId:We};throw mo.create("no-api-key")}const Mn=X.getThrottleMetadata(We)||{backoffCount:0,throttleEndTimeMillis:Date.now()},zn=new Os;return setTimeout((0,K.Z)(function*(){zn.abort()}),void 0!==Ae?Ae:6e4),Do({appId:We,apiKey:$t,measurementId:en},Mn,zn,X)})).apply(this,arguments)}function Do(W,X,Ae){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,K.Z)(function*(W,{throttleEndTimeMillis:X,backoffCount:Ae},We,$t=Ja){var en,Mn;const{appId:zn,measurementId:zr}=W;try{yield Cl(We,X)}catch(hi){if(zr)return vs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zr} provided in the "measurementId" field in the local Firebase config. [${null===(en=hi)||void 0===en?void 0:en.message}]`),{appId:zn,measurementId:zr};throw hi}try{const hi=yield Ua(W);return $t.deleteThrottleMetadata(zn),hi}catch(hi){const hr=hi;if(!xn(hr)){if($t.deleteThrottleMetadata(zn),zr)return vs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zr} provided in the "measurementId" field in the local Firebase config. [${hr?.message}]`),{appId:zn,measurementId:zr};throw hi}const Or=503===Number(null===(Mn=hr?.customData)||void 0===Mn?void 0:Mn.httpStatus)?(0,oe.$s)(Ae,$t.intervalMillis,30):(0,oe.$s)(Ae,$t.intervalMillis),bs={throttleEndTimeMillis:Date.now()+Or,backoffCount:Ae+1};return $t.setThrottleMetadata(zn,bs),vs.debug(`Calling attemptFetch again in ${Or} millis`),Do(W,bs,We,$t)}})).apply(this,arguments)}function Cl(W,X){return new Promise((Ae,We)=>{const $t=Math.max(X-Date.now(),0),en=setTimeout(Ae,$t);W.addEventListener(()=>{clearTimeout(en),We(mo.create("fetch-throttle",{throttleEndTimeMillis:X}))})})}function xn(W){if(!(W instanceof oe.ZR&&W.customData))return!1;const X=Number(W.customData.httpStatus);return 429===X||500===X||503===X||504===X}class Os{constructor(){this.listeners=[]}addEventListener(X){this.listeners.push(X)}abort(){this.listeners.forEach(X=>X())}}let Zo,pl;function Xn(){return(Xn=(0,K.Z)(function*(W,X,Ae,We,$t){if($t&&$t.global)W("event",Ae,We);else{const en=yield X;W("event",Ae,Object.assign(Object.assign({},We),{send_to:en}))}})).apply(this,arguments)}function el(W){pl=W}function El(W){Zo=W}function Sa(){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,K.Z)(function*(){var W;if(!(0,oe.hl)())return vs.warn(mo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(X){return vs.warn(mo.create("indexeddb-unavailable",{errorInfo:null===(W=X)||void 0===W?void 0:W.toString()}).message),!1}return!0})).apply(this,arguments)}function Va(){return(Va=(0,K.Z)(function*(W,X,Ae,We,$t,en,Mn){var zn;const zr=wi(W);zr.then(aa=>{Ae[aa.measurementId]=aa.appId,W.options.measurementId&&aa.measurementId!==W.options.measurementId&&vs.warn(`The measurement ID in the local Firebase config (${W.options.measurementId}) does not match the measurement ID fetched from the server (${aa.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(aa=>vs.error(aa)),X.push(zr);const hi=Sa().then(aa=>{if(aa)return We.getId()}),[hr,Or]=yield Promise.all([zr,hi]);Gc()||Zl(en,hr.measurementId),pl&&($t("consent","default",pl),el(void 0)),$t("js",new Date);const bs=null!==(zn=Mn?.config)&&void 0!==zn?zn:{};return bs.origin="firebase",bs.update=!0,null!=Or&&(bs[ga]=Or),$t("config",hr.measurementId,bs),Zo&&($t("set",Zo),El(void 0)),hr.measurementId})).apply(this,arguments)}class Qs{constructor(X){this.app=X}_delete(){return delete Jo[this.app.options.appId],Promise.resolve()}}let Jo={},Vr=[];const Xo={};let Gr,ea,Pa="dataLayer",_i=!1;function nr(W,X,Ae){!function js(){const W=[];if((0,oe.ru)()&&W.push("This is a browser extension environment."),(0,oe.zI)()||W.push("Cookies are not available."),W.length>0){const X=W.map((We,$t)=>`(${$t+1}) ${We}`).join(" "),Ae=mo.create("invalid-analytics-context",{errorInfo:X});vs.warn(Ae.message)}}();const We=W.options.appId;if(!We)throw mo.create("no-app-id");if(!W.options.apiKey){if(!W.options.measurementId)throw mo.create("no-api-key");vs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${W.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jo[We])throw mo.create("already-exists",{id:We});if(!_i){!function ou(W){let X=[];Array.isArray(window[W])?X=window[W]:window[W]=X}(Pa);const{wrappedGtag:en,gtagCore:Mn}=function Qa(W,X,Ae,We,$t){let en=function(...Mn){window[We].push(arguments)};return window[$t]&&"function"==typeof window[$t]&&(en=window[$t]),window[$t]=function Ql(W,X,Ae,We){function en(){return(en=(0,K.Z)(function*(Mn,zn,zr){try{"event"===Mn?yield Eo(W,X,Ae,zn,zr):"config"===Mn?yield Fl(W,X,Ae,We,zn,zr):"consent"===Mn?W("consent","update",zr):W("set",zn)}catch(hi){vs.error(hi)}})).apply(this,arguments)}return function $t(Mn,zn,zr){return en.apply(this,arguments)}}(en,W,X,Ae),{gtagCore:en,wrappedGtag:window[$t]}}(Jo,Vr,Xo,Pa,"gtag");ea=en,Gr=Mn,_i=!0}return Jo[We]=function ya(W,X,Ae,We,$t,en,Mn){return Va.apply(this,arguments)}(W,Vr,Xo,X,Gr,Pa,Ae),new Qs(W)}function ec(){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,K.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Dl="@firebase/analytics";!function io(){(0,Re._registerComponent)(new ue.wA(Ro,(X,{options:Ae})=>nr(X.getProvider("app").getImmediate(),X.getProvider("installations-internal").getImmediate(),Ae),"PUBLIC")),(0,Re._registerComponent)(new ue.wA("analytics-internal",function W(X){try{const Ae=X.getProvider(Ro).getImmediate();return{logEvent:(We,$t,en)=>function Io(W,X,Ae,We){W=(0,oe.m9)(W),function fl(W,X,Ae,We,$t){return Xn.apply(this,arguments)}(ea,Jo[W.app.options.appId],X,Ae,We).catch($t=>vs.error($t))}(Ae,We,$t,en)}}catch(Ae){throw mo.create("interop-component-reg-failed",{reason:Ae})}},"PRIVATE")),(0,Re.registerVersion)(Dl,"0.8.0"),(0,Re.registerVersion)(Dl,"0.8.0","esm2017")}();var oa=F(341),Qt=F(353),Aa=F(2994),Js=F(7770),ja=F(2899);const tc=new s.GfV("7.4.1"),ba="__angularfire_symbol__analyticsIsSupportedValue",fc="__angularfire_symbol__analyticsIsSupported",R="__angularfire_symbol__remoteConfigIsSupportedValue",k="__angularfire_symbol__remoteConfigIsSupported",x="__angularfire_symbol__messagingIsSupportedValue",G="__angularfire_symbol__messagingIsSupported";function fn(W,X,Ae){if(X){if(1===X.length)return X[0];const en=X.filter(Mn=>Mn.app===Ae);if(1===en.length)return en[0]}return Ae.container.getProvider(W).getImmediate({optional:!0})}globalThis[fc]||(globalThis[fc]=ec().then(W=>globalThis[ba]=W).catch(()=>globalThis[ba]=!1)),globalThis[G]||(globalThis[G]=rr().then(W=>globalThis[x]=W).catch(()=>globalThis[x]=!1)),globalThis[k]||(globalThis[k]=Cs().then(W=>globalThis[R]=W).catch(()=>globalThis[R]=!1));const Rn=(W,X)=>{const Ae=X?[X]:(0,Q.C6)(),We=[];return Ae.forEach($t=>{$t.container.getProvider(W).instances.forEach(Mn=>{We.includes(Mn)||We.push(Mn)})}),We};function li(){}class Qn{constructor(X,Ae=oa.N){this.zone=X,this.delegate=Ae}now(){return this.delegate.now()}schedule(X,Ae,We){const $t=this.zone;return this.delegate.schedule(function(Mn){$t.runGuarded(()=>{X.apply(this,[Mn])})},Ae,We)}}class Wr{constructor(X){this.zone=X,this.task=null}call(X,Ae){const We=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",li,{},li,li)),Ae.pipe((0,Aa.b)({next:We,complete:We,error:We})).subscribe(X).add(We)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let To=(()=>{class W{constructor(Ae){this.ngZone=Ae,this.outsideAngular=Ae.runOutsideAngular(()=>new Qn(Zone.current)),this.insideAngular=Ae.run(()=>new Qn(Zone.current,Qt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return W.\u0275fac=function(Ae){return new(Ae||W)(s.LFG(s.R0b))},W.\u0275prov=s.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function Ds(){const W=globalThis.\u0275AngularFireScheduler;if(!W)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return W}function Xs(W){return W.pipe((0,Js.QV)(Ds().outsideAngular))}function ka(W){return Ds(),function Ps(W){return function(Ae){return(Ae=Ae.lift(new Wr(W.ngZone))).pipe((0,ja.R)(W.outsideAngular),(0,Js.QV)(W.insideAngular))}}(Ds())(W)}},76:(En,vt,F)=>{"use strict";F.d(vt,{GW:()=>Q,dk:()=>K,oK:()=>s});var s=(()=>{return(Re=s||(s={})).Prompt="PROMPT",Re.Camera="CAMERA",Re.Photos="PHOTOS",s;var Re})(),Q=(()=>{return(Re=Q||(Q={})).Rear="REAR",Re.Front="FRONT",Q;var Re})(),K=(()=>{return(Re=K||(K={})).Uri="uri",Re.Base64="base64",Re.DataUrl="dataUrl",K;var Re})()},7423:(En,vt,F)=>{"use strict";F.d(vt,{Uw:()=>Le,fo:()=>Ue,xz:()=>De});var s=F(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var pe=(()=>{return(Ie=pe||(pe={})).Unimplemented="UNIMPLEMENTED",Ie.Unavailable="UNAVAILABLE",pe;var Ie})();class De extends Error{constructor(he,_e,fe){super(he),this.message=he,this.code=_e,this.data=fe}}const se=Ie=>{var he,_e,fe,Nt,It;const xt=Ie.CapacitorCustomPlatform||null,gt=Ie.Capacitor||{},Ze=gt.Plugins=gt.Plugins||{},ze=Ie.CapacitorPlatforms,pt=(null===(he=ze?.currentPlatform)||void 0===he?void 0:he.getPlatform)||(()=>null!==xt?xt.name:(Ie=>{var he,_e;return Ie?.androidBridge?"android":null!==(_e=null===(he=Ie?.webkit)||void 0===he?void 0:he.messageHandlers)&&void 0!==_e&&_e.bridge?"ios":"web"})(Ie)),Lt=(null===(_e=ze?.currentPlatform)||void 0===_e?void 0:_e.isNativePlatform)||(()=>"web"!==pt()),Bt=(null===(fe=ze?.currentPlatform)||void 0===fe?void 0:fe.isPluginAvailable)||(Ln=>!(!qn.get(Ln)?.platforms.has(pt())&&!Sn(Ln))),Sn=(null===(Nt=ze?.currentPlatform)||void 0===Nt?void 0:Nt.getPluginHeader)||(Ln=>{var er;return null===(er=gt.PluginHeaders)||void 0===er?void 0:er.find(tn=>tn.name===Ln)}),qn=new Map,fi=(null===(It=ze?.currentPlatform)||void 0===It?void 0:It.registerPlugin)||((Ln,er={})=>{const tn=qn.get(Ln);if(tn)return console.warn(`Capacitor plugin "${Ln}" already registered. Cannot register plugins twice.`),tn.proxy;const hn=pt(),yr=Sn(Ln);let kr;const Hn=function(){var Et=(0,s.Z)(function*(){return!kr&&hn in er?kr=kr="function"==typeof er[hn]?yield er[hn]():er[hn]:null!==xt&&!kr&&"web"in er&&(kr=kr="function"==typeof er.web?yield er.web():er.web),kr});return function(){return Et.apply(this,arguments)}}(),Er=Et=>{let Ut;const An=(...Vn)=>{const Un=Hn().then(_n=>{const ir=((Et,Ut)=>{var An,Vn;if(!yr){if(Et)return null===(Vn=Et[Ut])||void 0===Vn?void 0:Vn.bind(Et);throw new De(`"${Ln}" plugin is not implemented on ${hn}`,pe.Unimplemented)}{const Un=yr?.methods.find(_n=>Ut===_n.name);if(Un)return"promise"===Un.rtype?_n=>gt.nativePromise(Ln,Ut.toString(),_n):(_n,ir)=>gt.nativeCallback(Ln,Ut.toString(),_n,ir);if(Et)return null===(An=Et[Ut])||void 0===An?void 0:An.bind(Et)}})(_n,Et);if(ir){const On=ir(...Vn);return Ut=On?.remove,On}throw new De(`"${Ln}.${Et}()" is not implemented on ${hn}`,pe.Unimplemented)});return"addListener"===Et&&(Un.remove=(0,s.Z)(function*(){return Ut()})),Un};return An.toString=()=>`${Et.toString()}() { [capacitor code] }`,Object.defineProperty(An,"name",{value:Et,writable:!1,configurable:!1}),An},Ir=Er("addListener"),Ht=Er("removeListener"),rt=(Et,Ut)=>{const An=Ir({eventName:Et},Ut),Vn=function(){var _n=(0,s.Z)(function*(){const ir=yield An;Ht({eventName:Et,callbackId:ir},Ut)});return function(){return _n.apply(this,arguments)}}(),Un=new Promise(_n=>An.then(()=>_n({remove:Vn})));return Un.remove=(0,s.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Vn()}),Un},He=new Proxy({},{get(Et,Ut){switch(Ut){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return yr?rt:Ir;case"removeListener":return Ht;default:return Er(Ut)}}});return Ze[Ln]=He,qn.set(Ln,{name:Ln,proxy:He,platforms:new Set([...Object.keys(er),...yr?[hn]:[]])}),He});return gt.convertFileSrc||(gt.convertFileSrc=Ln=>Ln),gt.getPlatform=pt,gt.handleError=Ln=>Ie.console.error(Ln),gt.isNativePlatform=Lt,gt.isPluginAvailable=Bt,gt.pluginMethodNoop=(Ln,er,tn)=>Promise.reject(`${tn} does not have an implementation of "${er}".`),gt.registerPlugin=fi,gt.Exception=De,gt.DEBUG=!!gt.DEBUG,gt.isLoggingEnabled=!!gt.isLoggingEnabled,gt.platform=gt.getPlatform(),gt.isNative=gt.isNativePlatform(),gt},ge=(Ie=>Ie.Capacitor=se(Ie))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ue=ge.registerPlugin;class Le{constructor(he){this.listeners={},this.windowListeners={},he&&(console.warn(`Capacitor WebPlugin "${he.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=he)}addListener(he,_e){var fe=this;this.listeners[he]||(this.listeners[he]=[]),this.listeners[he].push(_e);const It=this.windowListeners[he];It&&!It.registered&&this.addWindowListener(It);const xt=function(){var Ze=(0,s.Z)(function*(){return fe.removeListener(he,_e)});return function(){return Ze.apply(this,arguments)}}(),gt=Promise.resolve({remove:xt});return Object.defineProperty(gt,"remove",{value:(Ze=(0,s.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield xt()}),function(){return Ze.apply(this,arguments)})}),gt;var Ze}removeAllListeners(){var he=this;return(0,s.Z)(function*(){he.listeners={};for(const _e in he.windowListeners)he.removeWindowListener(he.windowListeners[_e]);he.windowListeners={}})()}notifyListeners(he,_e){const fe=this.listeners[he];fe&&fe.forEach(Nt=>Nt(_e))}hasListeners(he){return!!this.listeners[he].length}registerWindowListener(he,_e){this.windowListeners[_e]={registered:!1,windowEventName:he,pluginEventName:_e,handler:fe=>{this.notifyListeners(_e,fe)}}}unimplemented(he="not implemented"){return new ge.Exception(he,pe.Unimplemented)}unavailable(he="not available"){return new ge.Exception(he,pe.Unavailable)}removeListener(he,_e){var fe=this;return(0,s.Z)(function*(){const Nt=fe.listeners[he];if(!Nt)return;const It=Nt.indexOf(_e);fe.listeners[he].splice(It,1),fe.listeners[he].length||fe.removeWindowListener(fe.windowListeners[he])})()}addWindowListener(he){window.addEventListener(he.windowEventName,he.handler),he.registered=!0}removeWindowListener(he){!he||(window.removeEventListener(he.windowEventName,he.handler),he.registered=!1)}}const Ft=Ie=>encodeURIComponent(Ie).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class yt extends Le{setCookie(he){return(0,s.Z)(function*(){try{const _e=Ft(he.key),fe=Ft(he.value),Nt=`; expires=${(he.expires||"").replace("expires=","")}`,It=(he.path||"/").replace("path=","");document.cookie=`${_e}=${fe||""}${Nt}; path=${It}`}catch(_e){return Promise.reject(_e)}})()}deleteCookie(he){return(0,s.Z)(function*(){try{document.cookie=`${he.key}=; Max-Age=0`}catch(_e){return Promise.reject(_e)}})()}clearCookies(){return(0,s.Z)(function*(){try{const he=document.cookie.split(";")||[];for(const _e of he)document.cookie=_e.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(he){return Promise.reject(he)}})()}clearAllCookies(){var he=this;return(0,s.Z)(function*(){try{yield he.clearCookies()}catch(_e){return Promise.reject(_e)}})()}}Ue("CapacitorCookies",{web:()=>new yt});const nt=function(){var Ie=(0,s.Z)(function*(he){return new Promise((_e,fe)=>{const Nt=new FileReader;Nt.onload=()=>{const It=Nt.result;_e(It.indexOf(",")>=0?It.split(",")[1]:It)},Nt.onerror=It=>fe(It),Nt.readAsDataURL(he)})});return function(_e){return Ie.apply(this,arguments)}}();class Ee extends Le{request(he){return(0,s.Z)(function*(){const _e=((Ie,he={})=>{const _e=Object.assign({method:Ie.method||"GET",headers:Ie.headers},he),Nt=((Ie={})=>{const he=Object.keys(Ie);return Object.keys(Ie).map(Nt=>Nt.toLocaleLowerCase()).reduce((Nt,It,xt)=>(Nt[It]=Ie[he[xt]],Nt),{})})(Ie.headers)["content-type"]||"";if("string"==typeof Ie.data)_e.body=Ie.data;else if(Nt.includes("application/x-www-form-urlencoded")){const It=new URLSearchParams;for(const[xt,gt]of Object.entries(Ie.data||{}))It.set(xt,gt);_e.body=It.toString()}else if(Nt.includes("multipart/form-data")){const It=new FormData;if(Ie.data instanceof FormData)Ie.data.forEach((gt,Ze)=>{It.append(Ze,gt)});else for(const gt of Object.keys(Ie.data))It.append(gt,Ie.data[gt]);_e.body=It;const xt=new Headers(_e.headers);xt.delete("content-type"),_e.headers=xt}else(Nt.includes("application/json")||"object"==typeof Ie.data)&&(_e.body=JSON.stringify(Ie.data));return _e})(he,he.webFetchExtra),fe=((Ie,he=!0)=>Ie?Object.entries(Ie).reduce((fe,Nt)=>{const[It,xt]=Nt;let gt,Ze;return Array.isArray(xt)?(Ze="",xt.forEach(ze=>{gt=he?encodeURIComponent(ze):ze,Ze+=`${It}=${gt}&`}),Ze.slice(0,-1)):(gt=he?encodeURIComponent(xt):xt,Ze=`${It}=${gt}`),`${fe}&${Ze}`},"").substr(1):null)(he.params,he.shouldEncodeUrlParams),Nt=fe?`${he.url}?${fe}`:he.url,It=yield fetch(Nt,_e),xt=It.headers.get("content-type")||"";let Ze,ze,{responseType:gt="text"}=It.ok?he:{};switch(xt.includes("application/json")&&(gt="json"),gt){case"arraybuffer":case"blob":ze=yield It.blob(),Ze=yield nt(ze);break;case"json":Ze=yield It.json();break;default:Ze=yield It.text()}const st={};return It.headers.forEach((pt,Tt)=>{st[Tt]=pt}),{data:Ze,headers:st,status:It.status,url:It.url}})()}get(he){var _e=this;return(0,s.Z)(function*(){return _e.request(Object.assign(Object.assign({},he),{method:"GET"}))})()}post(he){var _e=this;return(0,s.Z)(function*(){return _e.request(Object.assign(Object.assign({},he),{method:"POST"}))})()}put(he){var _e=this;return(0,s.Z)(function*(){return _e.request(Object.assign(Object.assign({},he),{method:"PUT"}))})()}patch(he){var _e=this;return(0,s.Z)(function*(){return _e.request(Object.assign(Object.assign({},he),{method:"PATCH"}))})()}delete(he){var _e=this;return(0,s.Z)(function*(){return _e.request(Object.assign(Object.assign({},he),{method:"DELETE"}))})()}}Ue("CapacitorHttp",{web:()=>new Ee})},2090:(En,vt,F)=>{"use strict";F.d(vt,{$s:()=>ir,BH:()=>ge,DV:()=>Bt,Dv:()=>gr,G6:()=>Xe,GJ:()=>Lt,L:()=>pe,LL:()=>Nt,Pz:()=>Ze,Sg:()=>Ue,UG:()=>Le,UI:()=>Sn,US:()=>ue,Wj:()=>Ht,Yr:()=>Pe,ZB:()=>se,ZR:()=>fe,b$:()=>yt,cI:()=>gt,dS:()=>He,eu:()=>ye,g5:()=>K,gK:()=>Er,gQ:()=>er,h$:()=>me,hl:()=>Ee,hu:()=>Q,jU:()=>Ve,lb:()=>rt,m9:()=>sr,ne:()=>tn,p$:()=>ce,pd:()=>Ln,r3:()=>Cn,ru:()=>Ft,tV:()=>De,uI:()=>Be,ug:()=>Et,vZ:()=>we,w1:()=>nt,w9:()=>Tt,xO:()=>_r,xb:()=>bn,z$:()=>ct,zI:()=>Ie,zd:()=>fi});const Q=function(it,tt){if(!it)throw K(tt)},K=function(it){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+it)},Re=function(it){const tt=[];let qe=0;for(let lt=0;lt<it.length;lt++){let at=it.charCodeAt(lt);at<128?tt[qe++]=at:at<2048?(tt[qe++]=at>>6|192,tt[qe++]=63&at|128):55296==(64512&at)&&lt+1<it.length&&56320==(64512&it.charCodeAt(lt+1))?(at=65536+((1023&at)<<10)+(1023&it.charCodeAt(++lt)),tt[qe++]=at>>18|240,tt[qe++]=at>>12&63|128,tt[qe++]=at>>6&63|128,tt[qe++]=63&at|128):(tt[qe++]=at>>12|224,tt[qe++]=at>>6&63|128,tt[qe++]=63&at|128)}return tt},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(it,tt){if(!Array.isArray(it))throw Error("encodeByteArray takes an array as a parameter");this.init_();const qe=tt?this.byteToCharMapWebSafe_:this.byteToCharMap_,lt=[];for(let at=0;at<it.length;at+=3){const Gt=it[at],gn=at+1<it.length,Bn=gn?it[at+1]:0,Kr=at+2<it.length,Mr=Kr?it[at+2]:0;let Wn=(15&Bn)<<2|Mr>>6,Lr=63&Mr;Kr||(Lr=64,gn||(Wn=64)),lt.push(qe[Gt>>2],qe[(3&Gt)<<4|Bn>>4],qe[Wn],qe[Lr])}return lt.join("")},encodeString(it,tt){return this.HAS_NATIVE_SUPPORT&&!tt?btoa(it):this.encodeByteArray(Re(it),tt)},decodeString(it,tt){return this.HAS_NATIVE_SUPPORT&&!tt?atob(it):function(it){const tt=[];let qe=0,lt=0;for(;qe<it.length;){const at=it[qe++];if(at<128)tt[lt++]=String.fromCharCode(at);else if(at>191&&at<224){const Gt=it[qe++];tt[lt++]=String.fromCharCode((31&at)<<6|63&Gt)}else if(at>239&&at<365){const Kr=((7&at)<<18|(63&it[qe++])<<12|(63&it[qe++])<<6|63&it[qe++])-65536;tt[lt++]=String.fromCharCode(55296+(Kr>>10)),tt[lt++]=String.fromCharCode(56320+(1023&Kr))}else{const Gt=it[qe++],gn=it[qe++];tt[lt++]=String.fromCharCode((15&at)<<12|(63&Gt)<<6|63&gn)}}return tt.join("")}(this.decodeStringToByteArray(it,tt))},decodeStringToByteArray(it,tt){this.init_();const qe=tt?this.charToByteMapWebSafe_:this.charToByteMap_,lt=[];for(let at=0;at<it.length;){const Gt=qe[it.charAt(at++)],Bn=at<it.length?qe[it.charAt(at)]:0;++at;const Mr=at<it.length?qe[it.charAt(at)]:64;++at;const pr=at<it.length?qe[it.charAt(at)]:64;if(++at,null==Gt||null==Bn||null==Mr||null==pr)throw Error();lt.push(Gt<<2|Bn>>4),64!==Mr&&(lt.push(Bn<<4&240|Mr>>2),64!==pr&&lt.push(Mr<<6&192|pr))}return lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let it=0;it<this.ENCODED_VALS.length;it++)this.byteToCharMap_[it]=this.ENCODED_VALS.charAt(it),this.charToByteMap_[this.byteToCharMap_[it]]=it,this.byteToCharMapWebSafe_[it]=this.ENCODED_VALS_WEBSAFE.charAt(it),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[it]]=it,it>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(it)]=it,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(it)]=it)}}},me=function(it){const tt=Re(it);return ue.encodeByteArray(tt,!0)},pe=function(it){return me(it).replace(/\./g,"")},De=function(it){try{return ue.decodeString(it,!0)}catch(tt){console.error("base64Decode failed: ",tt)}return null};function ce(it){return se(void 0,it)}function se(it,tt){if(!(tt instanceof Object))return tt;switch(tt.constructor){case Date:return new Date(tt.getTime());case Object:void 0===it&&(it={});break;case Array:it=[];break;default:return tt}for(const qe in tt)!tt.hasOwnProperty(qe)||!le(qe)||(it[qe]=se(it[qe],tt[qe]));return it}function le(it){return"__proto__"!==it}class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((tt,qe)=>{this.resolve=tt,this.reject=qe})}wrapCallback(tt){return(qe,lt)=>{qe?this.reject(qe):this.resolve(lt),"function"==typeof tt&&(this.promise.catch(()=>{}),1===tt.length?tt(qe):tt(qe,lt))}}}function Ue(it,tt){if(it.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const lt=tt||"demo-project",at=it.iat||0,Gt=it.sub||it.user_id;if(!Gt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gn=Object.assign({iss:`https://securetoken.google.com/${lt}`,aud:lt,iat:at,exp:at+3600,auth_time:at,sub:Gt,user_id:Gt,firebase:{sign_in_provider:"custom",identities:{}}},it);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(gn)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function Le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ve(){return"object"==typeof self&&self.self===self}function Ft(){const it="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof it&&void 0!==it.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nt(){const it=ct();return it.indexOf("MSIE ")>=0||it.indexOf("Trident/")>=0}function Pe(){return!1}function Xe(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){return"object"==typeof indexedDB}function ye(){return new Promise((it,tt)=>{try{let qe=!0;const lt="validate-browser-context-for-indexeddb-analytics-module",at=self.indexedDB.open(lt);at.onsuccess=()=>{at.result.close(),qe||self.indexedDB.deleteDatabase(lt),it(!0)},at.onupgradeneeded=()=>{qe=!1},at.onerror=()=>{var Gt;tt((null===(Gt=at.error)||void 0===Gt?void 0:Gt.message)||"")}}catch(qe){tt(qe)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class fe extends Error{constructor(tt,qe,lt){super(qe),this.code=tt,this.customData=lt,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nt.prototype.create)}}class Nt{constructor(tt,qe,lt){this.service=tt,this.serviceName=qe,this.errors=lt}create(tt,...qe){const lt=qe[0]||{},at=`${this.service}/${tt}`,Gt=this.errors[tt],gn=Gt?function It(it,tt){return it.replace(xt,(qe,lt)=>{const at=tt[lt];return null!=at?String(at):`<${lt}?>`})}(Gt,lt):"Error";return new fe(at,`${this.serviceName}: ${gn} (${at}).`,lt)}}const xt=/\{\$([^}]+)}/g;function gt(it){return JSON.parse(it)}function Ze(it){return JSON.stringify(it)}const ze=function(it){let tt={},qe={},lt={},at="";try{const Gt=it.split(".");tt=gt(De(Gt[0])||""),qe=gt(De(Gt[1])||""),at=Gt[2],lt=qe.d||{},delete qe.d}catch{}return{header:tt,claims:qe,data:lt,signature:at}},Tt=function(it){const qe=ze(it).claims;return!!qe&&"object"==typeof qe&&qe.hasOwnProperty("iat")},Lt=function(it){const tt=ze(it).claims;return"object"==typeof tt&&!0===tt.admin};function Cn(it,tt){return Object.prototype.hasOwnProperty.call(it,tt)}function Bt(it,tt){if(Object.prototype.hasOwnProperty.call(it,tt))return it[tt]}function bn(it){for(const tt in it)if(Object.prototype.hasOwnProperty.call(it,tt))return!1;return!0}function Sn(it,tt,qe){const lt={};for(const at in it)Object.prototype.hasOwnProperty.call(it,at)&&(lt[at]=tt.call(qe,it[at],at,it));return lt}function we(it,tt){if(it===tt)return!0;const qe=Object.keys(it),lt=Object.keys(tt);for(const at of qe){if(!lt.includes(at))return!1;const Gt=it[at],gn=tt[at];if(Kn(Gt)&&Kn(gn)){if(!we(Gt,gn))return!1}else if(Gt!==gn)return!1}for(const at of lt)if(!qe.includes(at))return!1;return!0}function Kn(it){return null!==it&&"object"==typeof it}function _r(it){const tt=[];for(const[qe,lt]of Object.entries(it))Array.isArray(lt)?lt.forEach(at=>{tt.push(encodeURIComponent(qe)+"="+encodeURIComponent(at))}):tt.push(encodeURIComponent(qe)+"="+encodeURIComponent(lt));return tt.length?"&"+tt.join("&"):""}function fi(it){const tt={};return it.replace(/^\?/,"").split("&").forEach(lt=>{if(lt){const[at,Gt]=lt.split("=");tt[decodeURIComponent(at)]=decodeURIComponent(Gt)}}),tt}function Ln(it){const tt=it.indexOf("?");if(!tt)return"";const qe=it.indexOf("#",tt);return it.substring(tt,qe>0?qe:void 0)}class er{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let tt=1;tt<this.blockSize;++tt)this.pad_[tt]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(tt,qe){qe||(qe=0);const lt=this.W_;if("string"==typeof tt)for(let pr=0;pr<16;pr++)lt[pr]=tt.charCodeAt(qe)<<24|tt.charCodeAt(qe+1)<<16|tt.charCodeAt(qe+2)<<8|tt.charCodeAt(qe+3),qe+=4;else for(let pr=0;pr<16;pr++)lt[pr]=tt[qe]<<24|tt[qe+1]<<16|tt[qe+2]<<8|tt[qe+3],qe+=4;for(let pr=16;pr<80;pr++){const Wn=lt[pr-3]^lt[pr-8]^lt[pr-14]^lt[pr-16];lt[pr]=4294967295&(Wn<<1|Wn>>>31)}let Mr,Pr,at=this.chain_[0],Gt=this.chain_[1],gn=this.chain_[2],Bn=this.chain_[3],Kr=this.chain_[4];for(let pr=0;pr<80;pr++){pr<40?pr<20?(Mr=Bn^Gt&(gn^Bn),Pr=1518500249):(Mr=Gt^gn^Bn,Pr=1859775393):pr<60?(Mr=Gt&gn|Bn&(Gt|gn),Pr=2400959708):(Mr=Gt^gn^Bn,Pr=3395469782);const Wn=(at<<5|at>>>27)+Mr+Kr+Pr+lt[pr]&4294967295;Kr=Bn,Bn=gn,gn=4294967295&(Gt<<30|Gt>>>2),Gt=at,at=Wn}this.chain_[0]=this.chain_[0]+at&4294967295,this.chain_[1]=this.chain_[1]+Gt&4294967295,this.chain_[2]=this.chain_[2]+gn&4294967295,this.chain_[3]=this.chain_[3]+Bn&4294967295,this.chain_[4]=this.chain_[4]+Kr&4294967295}update(tt,qe){if(null==tt)return;void 0===qe&&(qe=tt.length);const lt=qe-this.blockSize;let at=0;const Gt=this.buf_;let gn=this.inbuf_;for(;at<qe;){if(0===gn)for(;at<=lt;)this.compress_(tt,at),at+=this.blockSize;if("string"==typeof tt){for(;at<qe;)if(Gt[gn]=tt.charCodeAt(at),++gn,++at,gn===this.blockSize){this.compress_(Gt),gn=0;break}}else for(;at<qe;)if(Gt[gn]=tt[at],++gn,++at,gn===this.blockSize){this.compress_(Gt),gn=0;break}}this.inbuf_=gn,this.total_+=qe}digest(){const tt=[];let qe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let at=this.blockSize-1;at>=56;at--)this.buf_[at]=255&qe,qe/=256;this.compress_(this.buf_);let lt=0;for(let at=0;at<5;at++)for(let Gt=24;Gt>=0;Gt-=8)tt[lt]=this.chain_[at]>>Gt&255,++lt;return tt}}function tn(it,tt){const qe=new hn(it,tt);return qe.subscribe.bind(qe)}class hn{constructor(tt,qe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=qe,this.task.then(()=>{tt(this)}).catch(lt=>{this.error(lt)})}next(tt){this.forEachObserver(qe=>{qe.next(tt)})}error(tt){this.forEachObserver(qe=>{qe.error(tt)}),this.close(tt)}complete(){this.forEachObserver(tt=>{tt.complete()}),this.close()}subscribe(tt,qe,lt){let at;if(void 0===tt&&void 0===qe&&void 0===lt)throw new Error("Missing Observer.");at=function kr(it,tt){if("object"!=typeof it||null===it)return!1;for(const qe of tt)if(qe in it&&"function"==typeof it[qe])return!0;return!1}(tt,["next","error","complete"])?tt:{next:tt,error:qe,complete:lt},void 0===at.next&&(at.next=Hn),void 0===at.error&&(at.error=Hn),void 0===at.complete&&(at.complete=Hn);const Gt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?at.error(this.finalError):at.complete()}catch{}}),this.observers.push(at),Gt}unsubscribeOne(tt){void 0===this.observers||void 0===this.observers[tt]||(delete this.observers[tt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(tt){if(!this.finalized)for(let qe=0;qe<this.observers.length;qe++)this.sendOne(qe,tt)}sendOne(tt,qe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[tt])try{qe(this.observers[tt])}catch(lt){typeof console<"u"&&console.error&&console.error(lt)}})}close(tt){this.finalized||(this.finalized=!0,void 0!==tt&&(this.finalError=tt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hn(){}const gr=function(it,tt,qe,lt){let at;if(lt<tt?at="at least "+tt:lt>qe&&(at=0===qe?"none":"no more than "+qe),at)throw new Error(it+" failed: Was called with "+lt+(1===lt?" argument.":" arguments.")+" Expects "+at+".")};function Er(it,tt){return`${it} failed: ${tt} argument `}function Ht(it,tt,qe,lt){if((!lt||qe)&&"function"!=typeof qe)throw new Error(Er(it,tt)+"must be a valid function.")}function rt(it,tt,qe,lt){if((!lt||qe)&&("object"!=typeof qe||null===qe))throw new Error(Er(it,tt)+"must be a valid context object.")}const He=function(it){const tt=[];let qe=0;for(let lt=0;lt<it.length;lt++){let at=it.charCodeAt(lt);if(at>=55296&&at<=56319){const Gt=at-55296;lt++,Q(lt<it.length,"Surrogate pair missing trail surrogate."),at=65536+(Gt<<10)+(it.charCodeAt(lt)-56320)}at<128?tt[qe++]=at:at<2048?(tt[qe++]=at>>6|192,tt[qe++]=63&at|128):at<65536?(tt[qe++]=at>>12|224,tt[qe++]=at>>6&63|128,tt[qe++]=63&at|128):(tt[qe++]=at>>18|240,tt[qe++]=at>>12&63|128,tt[qe++]=at>>6&63|128,tt[qe++]=63&at|128)}return tt},Et=function(it){let tt=0;for(let qe=0;qe<it.length;qe++){const lt=it.charCodeAt(qe);lt<128?tt++:lt<2048?tt+=2:lt>=55296&&lt<=56319?(tt+=4,qe++):tt+=3}return tt};function ir(it,tt=1e3,qe=2){const lt=tt*Math.pow(qe,it),at=Math.round(.5*lt*(Math.random()-.5)*2);return Math.min(144e5,lt+at)}function sr(it){return it&&it._delegate?it._delegate:it}},191:(En,vt,F)=>{"use strict";F.d(vt,{BX:()=>ai,Br:()=>Ks,w:()=>bn,We:()=>hn,eh:()=>yr,dr:()=>kr,yp:()=>Ir,YG:()=>He,Sm:()=>Et,PM:()=>Ut,FN:()=>An,Zi:()=>Vn,tO:()=>Un,Dq:()=>_n,nz:()=>ir,wI:()=>Rr,W2:()=>sr,IJ:()=>qe,W4:()=>lt,fr:()=>Gt,jY:()=>gn,Gu:()=>Bn,gu:()=>Kr,Xz:()=>Mr,pK:()=>Wn,Ie:()=>Lr,Q$:()=>Ke,q_:()=>J,z0:()=>et,fG:()=>mt,zc:()=>Vt,jP:()=>ti,Nd:()=>oi,t9:()=>ls,n0:()=>ms,PQ:()=>be,jI:()=>Fe,yq:()=>bt,ZU:()=>At,UN:()=>co,wd:()=>an,sr:()=>cn,Pc:()=>pn,r4:()=>fa,_q:()=>Mi,IN:()=>wo,t4:()=>_s,YI:()=>xi,Fo:()=>jr,QI:()=>Kn,j9:()=>qn,yF:()=>Hr});var s=F(4650),Q=F(4719),K=F(655),Re=F(3753),oe=F(8929),ue=F(591),me=F(1808),se=(F(9950),F(4802),F(3139),F(1671)),le=F(3756),ge=F(471),Ue=F(604),ct=F(4239),Le=(F(3509),F(7936)),St=F(2198),Pe=F(7545),Xe=F(5778),Ee=F(6895);const Ie=se.i,fe=["*"],Nt=["outlet"],It=[[["","slot","top"]],"*"],xt=["[slot=top]","*"],ze=T=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(T):"function"==typeof requestAnimationFrame?requestAnimationFrame(T):setTimeout(T),st=T=>!!T.resolveComponentFactory;let pt=(()=>{class T{constructor(A,Y){this.injector=A,this.el=Y,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(A){this.el.nativeElement.value=this.lastValue=A??"",Tt(this.el)}handleChangeEvent(A,Y){A===this.el.nativeElement&&(Y!==this.lastValue&&(this.lastValue=Y,this.onChange(Y)),Tt(this.el))}_handleBlurEvent(A){A===this.el.nativeElement&&(this.onTouched(),Tt(this.el))}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this.el.nativeElement.disabled=A}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let A;try{A=this.injector.get(Q.a5)}catch{}if(!A)return;A.statusChanges&&(this.statusChanges=A.statusChanges.subscribe(()=>Tt(this.el)));const Y=A.control;Y&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(zt=>{if(typeof Y[zt]<"u"){const jn=Y[zt].bind(Y);Y[zt]=(...dr)=>{jn(...dr),Tt(this.el)}}})}}return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.zs3),s.Y36(s.SBq))},T.\u0275dir=s.lG2({type:T,hostBindings:function(A,Y){1&A&&s.NdJ("ionBlur",function(zt){return Y._handleBlurEvent(zt.target)})}}),T})();const Tt=T=>{ze(()=>{const Z=T.nativeElement,A=null!=Z.value&&Z.value.toString().length>0,Y=Lt(Z);Cn(Z,Y);const xe=Z.closest("ion-item");xe&&Cn(xe,A?[...Y,"item-has-value"]:Y)})},Lt=T=>{const Z=T.classList,A=[];for(let Y=0;Y<Z.length;Y++){const xe=Z.item(Y);null!==xe&&Bt(xe,"ng-")&&A.push(`ion-${xe.substring(3)}`)}return A},Cn=(T,Z)=>{const A=T.classList;A.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),A.add(...Z)},Bt=(T,Z)=>T.substring(0,Z.length)===Z;let bn=(()=>{class T extends pt{constructor(A,Y){super(A,Y)}writeValue(A){this.el.nativeElement.checked=this.lastValue=A??!1,Tt(this.el)}_handleIonChange(A){this.handleChangeEvent(A,A.checked)}}return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.zs3),s.Y36(s.SBq))},T.\u0275dir=s.lG2({type:T,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(A,Y){1&A&&s.NdJ("ionChange",function(zt){return Y._handleIonChange(zt.target)})},features:[s._Bn([{provide:Q.JU,useExisting:T,multi:!0}]),s.qOj]}),T})(),Kn=(()=>{class T extends pt{constructor(A,Y){super(A,Y)}_handleChangeEvent(A){this.handleChangeEvent(A,A.value)}}return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.zs3),s.Y36(s.SBq))},T.\u0275dir=s.lG2({type:T,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(A,Y){1&A&&s.NdJ("ionChange",function(zt){return Y._handleChangeEvent(zt.target)})},features:[s._Bn([{provide:Q.JU,useExisting:T,multi:!0}]),s.qOj]}),T})(),qn=(()=>{class T extends pt{constructor(A,Y){super(A,Y)}_handleInputEvent(A){this.handleChangeEvent(A,A.value)}}return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.zs3),s.Y36(s.SBq))},T.\u0275dir=s.lG2({type:T,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(A,Y){1&A&&s.NdJ("ionChange",function(zt){return Y._handleInputEvent(zt.target)})},features:[s._Bn([{provide:Q.JU,useExisting:T,multi:!0}]),s.qOj]}),T})();const _r=(T,Z)=>{const A=T.prototype;Z.forEach(Y=>{Object.defineProperty(A,Y,{get(){return this.el[Y]},set(xe){this.z.runOutsideAngular(()=>this.el[Y]=xe)}})})},fi=(T,Z)=>{const A=T.prototype;Z.forEach(Y=>{A[Y]=function(){const xe=arguments;return this.z.runOutsideAngular(()=>this.el[Y].apply(this.el,xe))}})},Ln=(T,Z,A)=>{A.forEach(Y=>T[Y]=(0,Re.R)(Z,Y))};function tn(T){return function(A){const{defineCustomElementFn:Y,inputs:xe,methods:zt}=T;return void 0!==Y&&Y(),xe&&_r(A,xe),zt&&fi(A,zt),A}}let hn=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],T),T})(),yr=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement,Ln(this,this.el,["ionChange"])}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],T),T})(),kr=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-app"]],ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0})],T),T})(),Ir=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","mode"]})],T),T})(),He=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement,Ln(this,this.el,["ionFocus","ionBlur"])}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],T),T})(),Et=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["collapse"]})],T),T})(),Ut=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],T),T})(),An=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["mode"]})],T),T})(),Vn=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],T),T})(),Un=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","mode"]})],T),T})(),_n=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","mode"]})],T),T})(),ir=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement,Ln(this,this.el,["ionChange","ionFocus","ionBlur"])}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],T),T})(),Rr=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],T),T})(),sr=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement,Ln(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],T),T})(),qe=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],T),T})(),lt=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement,Ln(this,this.el,["ionFocus","ionBlur"])}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],T),T})(),Gt=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],T),T})(),gn=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["fixed"]})],T),T})(),Bn=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],T),T})(),Kr=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],T),T})(),Mr=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement,Ln(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["alt","src"]})],T),T})(),Wn=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement,Ln(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],T),T})(),Lr=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],T),T})(),Ke=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],T),T})(),J=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],T),T})(),et=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement,Ln(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],T),T})(),mt=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],T),T})(),Vt=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],T),T})(),oi=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-row"]],ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0})],T),T})(),ls=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement,Ln(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],T),T})(),ms=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["disabled","value"]})],T),T})(),be=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],T),T})(),Fe=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement,Ln(this,this.el,["ionSplitPaneVisible"])}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],T),T})(),bt=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],T),T})(),At=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],T),T})(),an=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","size"]})],T),T})(),cn=(()=>{let T=class{constructor(A,Y,xe){this.z=xe,A.detach(),this.el=Y.nativeElement}};return T.\u0275fac=function(A){return new(A||T)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,Y){1&A&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,K.gn)([tn({defineCustomElementFn:void 0,inputs:["color","mode"]})],T),T})();class Jn{constructor(Z={}){this.data=Z}get(Z){return this.data[Z]}}let or=(()=>{class T{constructor(A,Y){this.zone=A,this.appRef=Y}create(A,Y,xe){return new Nr(A,Y,xe,this.appRef,this.zone)}}return T.\u0275fac=function(A){return new(A||T)(s.LFG(s.R0b),s.LFG(s.z2F))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac}),T})();class Nr{constructor(Z,A,Y,xe,zt){this.resolverOrInjector=Z,this.injector=A,this.location=Y,this.appRef=xe,this.zone=zt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Z,A,Y,xe){return this.zone.run(()=>new Promise(zt=>{zt(Fi(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,Z,A,Y,xe))}))}removeViewFromDom(Z,A){return this.zone.run(()=>new Promise(Y=>{const xe=this.elRefMap.get(A);if(xe){xe.destroy(),this.elRefMap.delete(A);const zt=this.elEventsMap.get(A);zt&&(zt(),this.elEventsMap.delete(A))}Y()}))}}const Fi=(T,Z,A,Y,xe,zt,jn,dr,E,C,S)=>{let j;const Me=s.zs3.create({providers:jt(C),parent:A});if(Z&&st(Z)){const kn=Z.resolveComponentFactory(E);j=Y?Y.createComponent(kn,Y.length,Me):kn.create(Me)}else{if(!Y)return null;j=Y.createComponent(E,{index:Y.indexOf,injector:Me,environmentInjector:Z})}const ht=j.instance,rn=j.location.nativeElement;if(C&&Object.assign(ht,C),S)for(const kn of S)rn.classList.add(kn);const Dn=wt(T,ht,rn);return dr.appendChild(rn),Y||xe.attachView(j.hostView),j.changeDetectorRef.reattach(),zt.set(rn,j),jn.set(rn,Dn),rn},Ni=[ge.L,ge.a,ge.b,ge.c,ge.d],wt=(T,Z,A)=>T.run(()=>{const Y=Ni.filter(xe=>"function"==typeof Z[xe]).map(xe=>{const zt=jn=>Z[xe](jn.detail);return A.addEventListener(xe,zt),()=>A.removeEventListener(xe,zt)});return()=>Y.forEach(xe=>xe())}),Dt=new s.OlP("NavParamsToken"),jt=T=>[{provide:Dt,useValue:T},{provide:Jn,useFactory:mn,deps:[Dt]}],mn=T=>new Jn(T),ar=(T,Z)=>((T=T.filter(A=>A.stackId!==Z.stackId)).push(Z),T),Qr=(T,Z)=>{const A=T.createUrlTree(["."],{relativeTo:Z});return T.serializeUrl(A)},Ns=(T,Z)=>{if(!T)return;const A=to(Z);for(let Y=0;Y<A.length;Y++){if(Y>=T.length)return A[Y];if(A[Y]!==T[Y])return}},to=T=>T.split("/").map(Z=>Z.trim()).filter(Z=>""!==Z),Ws=T=>{T&&(T.ref.destroy(),T.unlistenEvents())};class zs{constructor(Z,A,Y,xe,zt,jn){this.containerEl=A,this.router=Y,this.navCtrl=xe,this.zone=zt,this.location=jn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Z?to(Z):void 0}createView(Z,A){var Y;const xe=Qr(this.router,A),zt=null===(Y=Z?.location)||void 0===Y?void 0:Y.nativeElement,jn=wt(this.zone,Z.instance,zt);return{id:this.nextId++,stackId:Ns(this.tabsPrefix,xe),unlistenEvents:jn,element:zt,ref:Z,url:xe}}getExistingView(Z){const A=Qr(this.router,Z),Y=this.views.find(xe=>xe.url===A);return Y&&Y.ref.changeDetectorRef.reattach(),Y}setActive(Z){var A,Y;const xe=this.navCtrl.consumeTransition();let{direction:zt,animation:jn,animationBuilder:dr}=xe;const E=this.activeView,C=((T,Z)=>!Z||T.stackId!==Z.stackId)(Z,E);C&&(zt="back",jn=void 0);const S=this.views.slice();let j;const Me=this.router;Me.getCurrentNavigation?j=Me.getCurrentNavigation():!(null===(A=Me.navigations)||void 0===A)&&A.value&&(j=Me.navigations.value),null!==(Y=j?.extras)&&void 0!==Y&&Y.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ht=this.views.includes(Z),rn=this.insertView(Z,zt);ht||Z.ref.changeDetectorRef.detectChanges();const Dn=Z.animationBuilder;return void 0===dr&&"back"===zt&&!C&&void 0!==Dn&&(dr=Dn),E&&(E.animationBuilder=dr),this.zone.runOutsideAngular(()=>this.wait(()=>(E&&E.ref.changeDetectorRef.detach(),Z.ref.changeDetectorRef.reattach(),this.transition(Z,E,jn,this.canGoBack(1),!1,dr).then(()=>xo(Z,rn,S,this.location,this.zone)).then(()=>({enteringView:Z,direction:zt,animation:jn,tabSwitch:C})))))}canGoBack(Z,A=this.getActiveStackId()){return this.getStack(A).length>Z}pop(Z,A=this.getActiveStackId()){return this.zone.run(()=>{var Y,xe;const zt=this.getStack(A);if(zt.length<=Z)return Promise.resolve(!1);const jn=zt[zt.length-Z-1];let dr=jn.url;const E=jn.savedData;if(E){const S=E.get("primary");null!==(xe=null===(Y=S?.route)||void 0===Y?void 0:Y._routerState)&&void 0!==xe&&xe.snapshot.url&&(dr=S.route._routerState.snapshot.url)}const{animationBuilder:C}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(dr,Object.assign(Object.assign({},jn.savedExtras),{animation:C})).then(()=>!0)})}startBackTransition(){const Z=this.activeView;if(Z){const A=this.getStack(Z.stackId),Y=A[A.length-2],xe=Y.animationBuilder;return this.wait(()=>this.transition(Y,Z,"back",this.canGoBack(2),!0,xe))}return Promise.resolve()}endBackTransition(Z){Z?(this.skipTransition=!0,this.pop(1)):this.activeView&&Cs(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Z){const A=this.getStack(Z);return A.length>0?A[A.length-1]:void 0}getRootUrl(Z){const A=this.getStack(Z);return A.length>0?A[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ws),this.activeView=void 0,this.views=[]}getStack(Z){return this.views.filter(A=>A.stackId===Z)}insertView(Z,A){return this.activeView=Z,this.views=((T,Z,A)=>"root"===A?ar(T,Z):"forward"===A?((T,Z)=>(T.indexOf(Z)>=0?T=T.filter(Y=>Y.stackId!==Z.stackId||Y.id<=Z.id):T.push(Z),T))(T,Z):((T,Z)=>T.indexOf(Z)>=0?T.filter(Y=>Y.stackId!==Z.stackId||Y.id<=Z.id):ar(T,Z))(T,Z))(this.views,Z,A),this.views.slice()}transition(Z,A,Y,xe,zt,jn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(A===Z)return Promise.resolve(!1);const dr=Z?Z.element:void 0,E=A?A.element:void 0,C=this.containerEl;return dr&&dr!==E&&(dr.classList.add("ion-page"),dr.classList.add("ion-page-invisible"),dr.parentElement!==C&&C.appendChild(dr),C.commit)?C.commit(dr,E,{deepWait:!0,duration:void 0===Y?0:void 0,direction:Y,showGoBack:xe,progressAnimation:zt,animationBuilder:jn}):Promise.resolve(!1)}wait(Z){return(0,K.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const A=this.runningTask=Z();return A.finally(()=>this.runningTask=void 0),A})}}const xo=(T,Z,A,Y,xe)=>"function"==typeof requestAnimationFrame?new Promise(zt=>{requestAnimationFrame(()=>{Cs(T,Z,A,Y,xe),zt()})}):Promise.resolve(),Cs=(T,Z,A,Y,xe)=>{xe.run(()=>A.filter(zt=>!Z.includes(zt)).forEach(Ws)),Z.forEach(zt=>{const dr=Y.path().split("?")[0].split("#")[0];if(zt!==T&&zt.url!==dr){const E=zt.element;E.setAttribute("aria-hidden","true"),E.classList.add("ion-page-hidden"),zt.ref.changeDetectorRef.detach()}})};let Da=(()=>{class T{get(A,Y){const xe=Es();return xe?xe.get(A,Y):null}getBoolean(A,Y){const xe=Es();return!!xe&&xe.getBoolean(A,Y)}getNumber(A,Y){const xe=Es();return xe?xe.getNumber(A,Y):0}}return T.\u0275fac=function(A){return new(A||T)},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const ps=new s.OlP("USERCONFIG"),Es=()=>{if(typeof window<"u"){const T=window.Ionic;if(T?.config)return T.config}return null};let _s=(()=>{class T{constructor(A,Y){this.doc=A,this.backButton=new oe.xQ,this.keyboardDidShow=new oe.xQ,this.keyboardDidHide=new oe.xQ,this.pause=new oe.xQ,this.resume=new oe.xQ,this.resize=new oe.xQ,Y.run(()=>{var xe;let zt;this.win=A.defaultView,this.backButton.subscribeWithPriority=function(jn,dr){return this.subscribe(E=>E.register(jn,C=>Y.run(()=>dr(C))))},Ys(this.pause,A,"pause"),Ys(this.resume,A,"resume"),Ys(this.backButton,A,"ionBackButton"),Ys(this.resize,this.win,"resize"),Ys(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ys(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(jn=>{zt=jn}),null!==(xe=this.win)&&void 0!==xe&&xe.cordova?A.addEventListener("deviceready",()=>{zt("cordova")},{once:!0}):zt("dom")})}is(A){return(0,se.a)(this.win,A)}platforms(){return(0,se.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(A){return Us(this.win.location.href,A)}isLandscape(){return!this.isPortrait()}isPortrait(){var A,Y;return null===(Y=(A=this.win).matchMedia)||void 0===Y?void 0:Y.call(A,"(orientation: portrait)").matches}testUserAgent(A){const Y=this.win.navigator;return!!(Y?.userAgent&&Y.userAgent.indexOf(A)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return T.\u0275fac=function(A){return new(A||T)(s.LFG(Ee.K0),s.LFG(s.R0b))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Us=(T,Z)=>{Z=Z.replace(/[[\]\\]/g,"\\$&");const Y=new RegExp("[\\?&]"+Z+"=([^&#]*)").exec(T);return Y?decodeURIComponent(Y[1].replace(/\+/g," ")):null},Ys=(T,Z,A)=>{Z&&Z.addEventListener(A,Y=>{T.next(Y?.detail)})};let Fs=(()=>{class T{constructor(A,Y,xe,zt){this.location=Y,this.serializer=xe,this.router=zt,this.direction=di,this.animated=$r,this.guessDirection="forward",this.lastNavId=-1,zt&&zt.events.subscribe(jn=>{if(jn instanceof me.OD){const dr=jn.restoredState?jn.restoredState.navigationId:jn.id;this.guessDirection=dr<this.lastNavId?"back":"forward",this.guessAnimation=jn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?jn.id:dr}}),A.backButton.subscribeWithPriority(0,jn=>{this.pop(),jn()})}navigateForward(A,Y={}){return this.setDirection("forward",Y.animated,Y.animationDirection,Y.animation),this.navigate(A,Y)}navigateBack(A,Y={}){return this.setDirection("back",Y.animated,Y.animationDirection,Y.animation),this.navigate(A,Y)}navigateRoot(A,Y={}){return this.setDirection("root",Y.animated,Y.animationDirection,Y.animation),this.navigate(A,Y)}back(A={animated:!0,animationDirection:"back"}){return this.setDirection("back",A.animated,A.animationDirection,A.animation),this.location.back()}pop(){return(0,K.mG)(this,void 0,void 0,function*(){let A=this.topOutlet;for(;A&&!(yield A.pop());)A=A.parentOutlet})}setDirection(A,Y,xe,zt){this.direction=A,this.animated=ui(A,Y,xe),this.animationBuilder=zt}setTopOutlet(A){this.topOutlet=A}consumeTransition(){let Y,A="root";const xe=this.animationBuilder;return"auto"===this.direction?(A=this.guessDirection,Y=this.guessAnimation):(Y=this.animated,A=this.direction),this.direction=di,this.animated=$r,this.animationBuilder=void 0,{direction:A,animation:Y,animationBuilder:xe}}navigate(A,Y){if(Array.isArray(A))return this.router.navigate(A,Y);{const xe=this.serializer.parse(A.toString());return void 0!==Y.queryParams&&(xe.queryParams=Object.assign({},Y.queryParams)),void 0!==Y.fragment&&(xe.fragment=Y.fragment),this.router.navigateByUrl(xe,Y)}}}return T.\u0275fac=function(A){return new(A||T)(s.LFG(_s),s.LFG(Ee.Ye),s.LFG(me.Hx),s.LFG(me.F0,8))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const ui=(T,Z,A)=>{if(!1!==Z){if(void 0!==A)return A;if("forward"===T||"back"===T)return T;if("root"===T&&!0===Z)return"forward"}},di="auto",$r=void 0;class cs{}let ti=(()=>{class T{constructor(A,Y,xe,zt,jn,dr,E,C,S,j,Me,ht,rn,Dn){this.parentContexts=A,this.location=Y,this.config=jn,this.navCtrl=dr,this.environmentInjector=E,this.componentFactoryResolver=C,this.parentOutlet=Dn,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ue.X(null),this.stackEvents=new s.vpe,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.nativeEl=j.nativeElement,this.name=xe||me.eC,this.tabsPrefix="true"===zt?Qr(Me,rn):void 0,this.stackCtrl=new zs(this.tabsPrefix,this.nativeEl,Me,dr,ht,S),A.onChildOutletCreated(this.name,this)}set animation(A){this.nativeEl.animation=A}set animated(A){this.nativeEl.animated=A}set swipeGesture(A){this._swipeGesture=A,this.nativeEl.swipeHandler=A?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Y=>this.stackCtrl.endBackTransition(Y)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const A=this.getContext();A?.route&&this.activateWith(A.route,A.resolver||null)}new Promise(A=>(0,le.c)(this.nativeEl,A)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(A,Y){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Y=this.getContext();this.activatedView.savedData=new Map(Y.children.contexts);const xe=this.activatedView.savedData.get("primary");if(xe&&Y.route&&(xe.route=Object.assign({},Y.route)),this.activatedView.savedExtras={},Y.route){const zt=Y.route.snapshot;this.activatedView.savedExtras.queryParams=zt.queryParams,this.activatedView.savedExtras.fragment=zt.fragment}}const A=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,Y){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=A;let xe,zt=this.stackCtrl.getExistingView(A);if(zt){xe=this.activated=zt.ref;const jn=zt.savedData;jn&&(this.getContext().children.contexts=jn),this.updateActivatedRouteProxy(xe.instance,A)}else{const jn=A._futureSnapshot,dr=jn.routeConfig.component;if(null==dr&&jn.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const E=this.parentContexts.getOrCreateContext(this.name).children,C=new ue.X(null),S=this.createActivatedRouteProxy(C,A),j=new xs(S,E,this.location.injector);if((Y=Y||this.componentFactoryResolver)&&st(Y)){const Me=Y.resolveComponentFactory(dr);xe=this.activated=this.location.createComponent(Me,this.location.length,j)}else xe=this.activated=this.location.createComponent(dr,{index:this.location.length,injector:j,environmentInjector:Y??this.environmentInjector});C.next(xe.instance),zt=this.stackCtrl.createView(this.activated,A),this.proxyMap.set(xe.instance,S),this.currentActivatedRoute$.next({component:xe.instance,activatedRoute:A})}this.activatedView=zt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(zt).then(jn=>{this.activateEvents.emit(xe.instance),this.stackEvents.emit(jn)})}canGoBack(A=1,Y){return this.stackCtrl.canGoBack(A,Y)}pop(A=1,Y){return this.stackCtrl.pop(A,Y)}getLastUrl(A){const Y=this.stackCtrl.getLastUrl(A);return Y?Y.url:void 0}getLastRouteView(A){return this.stackCtrl.getLastUrl(A)}getRootView(A){return this.stackCtrl.getRootUrl(A)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(A,Y){const xe=new me.gz;return xe._futureSnapshot=Y._futureSnapshot,xe._routerState=Y._routerState,xe.snapshot=Y.snapshot,xe.outlet=Y.outlet,xe.component=Y.component,xe._paramMap=this.proxyObservable(A,"paramMap"),xe._queryParamMap=this.proxyObservable(A,"queryParamMap"),xe.url=this.proxyObservable(A,"url"),xe.params=this.proxyObservable(A,"params"),xe.queryParams=this.proxyObservable(A,"queryParams"),xe.fragment=this.proxyObservable(A,"fragment"),xe.data=this.proxyObservable(A,"data"),xe}proxyObservable(A,Y){return A.pipe((0,St.h)(xe=>!!xe),(0,Pe.w)(xe=>this.currentActivatedRoute$.pipe((0,St.h)(zt=>null!==zt&&zt.component===xe),(0,Pe.w)(zt=>zt&&zt.activatedRoute[Y]),(0,Xe.x)())))}updateActivatedRouteProxy(A,Y){const xe=this.proxyMap.get(A);if(!xe)throw new Error("Could not find activated route proxy for view");xe._futureSnapshot=Y._futureSnapshot,xe._routerState=Y._routerState,xe.snapshot=Y.snapshot,xe.outlet=Y.outlet,xe.component=Y.component,this.currentActivatedRoute$.next({component:A,activatedRoute:Y})}}return T.\u0275fac=function(A){return new(A||T)(s.Y36(me.y6),s.Y36(s.s_b),s.$8M("name"),s.$8M("tabs"),s.Y36(Da),s.Y36(Fs),s.Y36(cs,8),s.Y36(s._Vd,8),s.Y36(Ee.Ye),s.Y36(s.SBq),s.Y36(me.F0),s.Y36(s.R0b),s.Y36(me.gz),s.Y36(T,12))},T.\u0275dir=s.lG2({type:T,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),T})();class xs{constructor(Z,A,Y){this.route=Z,this.childContexts=A,this.parent=Y}get(Z,A){return Z===me.gz?this.route:Z===me.y6?this.childContexts:this.parent.get(Z,A)}}let co=(()=>{class T{constructor(A){this.navCtrl=A,this.ionTabsWillChange=new s.vpe,this.ionTabsDidChange=new s.vpe}onPageSelected(A){const Y=A.enteringView.stackId;A.tabSwitch&&void 0!==Y&&(this.ionTabsWillChange.emit({tab:Y}),this.tabBar&&(this.tabBar.selectedTab=Y),this.ionTabsDidChange.emit({tab:Y}))}select(A){const Y="string"==typeof A,xe=Y?A:A.detail.tab,zt=this.outlet.getActiveStackId()===xe,jn=`${this.outlet.tabsPrefix}/${xe}`;if(Y||A.stopPropagation(),zt){const dr=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(dr)?.url===jn)return;const C=this.outlet.getRootView(xe);return this.navCtrl.navigateRoot(jn,Object.assign(Object.assign({},C&&jn===C.url&&C.savedExtras),{animated:!0,animationDirection:"back"}))}{const dr=this.outlet.getLastRouteView(xe),C=dr?.savedExtras;return this.navCtrl.navigateRoot(dr?.url||jn,Object.assign(Object.assign({},C),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return T.\u0275fac=function(A){return new(A||T)(s.Y36(Fs))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ion-tabs"]],contentQueries:function(A,Y,xe){if(1&A&&s.Suo(xe,bt,5),2&A){let zt;s.iGM(zt=s.CRH())&&(Y.tabBar=zt.first)}},viewQuery:function(A,Y){if(1&A&&s.Gf(Nt,5,ti),2&A){let xe;s.iGM(xe=s.CRH())&&(Y.outlet=xe.first)}},hostBindings:function(A,Y){1&A&&s.NdJ("ionTabButtonClick",function(zt){return Y.select(zt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:xt,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(A,Y){1&A&&(s.F$t(It),s.Hsn(0),s.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),s.NdJ("stackEvents",function(zt){return Y.onPageSelected(zt)}),s.qZA()(),s.Hsn(4,1))},dependencies:[ti],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),T})(),xi=(()=>{class T{constructor(A,Y,xe,zt,jn){this.locationStrategy=A,this.navCtrl=Y,this.elementRef=xe,this.router=zt,this.routerLink=jn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var A;if(null!==(A=this.routerLink)&&void 0!==A&&A.urlTree){const Y=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Y}}onClick(A){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),A.preventDefault()}}return T.\u0275fac=function(A){return new(A||T)(s.Y36(Ee.S$),s.Y36(Fs),s.Y36(s.SBq),s.Y36(me.F0),s.Y36(me.rH,8))},T.\u0275dir=s.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(A,Y){1&A&&s.NdJ("click",function(zt){return Y.onClick(zt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[s.TTD]}),T})(),jr=(()=>{class T{constructor(A,Y,xe,zt,jn){this.locationStrategy=A,this.navCtrl=Y,this.elementRef=xe,this.router=zt,this.routerLink=jn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var A;if(null!==(A=this.routerLink)&&void 0!==A&&A.urlTree){const Y=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Y}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return T.\u0275fac=function(A){return new(A||T)(s.Y36(Ee.S$),s.Y36(Fs),s.Y36(s.SBq),s.Y36(me.F0),s.Y36(me.rH,8))},T.\u0275dir=s.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(A,Y){1&A&&s.NdJ("click",function(){return Y.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[s.TTD]}),T})();class us{constructor(Z){this.ctrl=Z}create(Z){return this.ctrl.create(Z||{})}dismiss(Z,A,Y){return this.ctrl.dismiss(Z,A,Y)}getTop(){return this.ctrl.getTop()}}let ai=(()=>{class T extends us{constructor(){super(ct.b)}}return T.\u0275fac=function(A){return new(A||T)},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Ks=(()=>{class T extends us{constructor(){super(ct.a)}}return T.\u0275fac=function(A){return new(A||T)},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Mi=(()=>{class T{open(A){return Ue.m.open(A)}close(A){return Ue.m.close(A)}toggle(A){return Ue.m.toggle(A)}enable(A,Y){return Ue.m.enable(A,Y)}swipeGesture(A,Y){return Ue.m.swipeGesture(A,Y)}isOpen(A){return Ue.m.isOpen(A)}isEnabled(A){return Ue.m.isEnabled(A)}get(A){return Ue.m.get(A)}getOpen(){return Ue.m.getOpen()}getMenus(){return Ue.m.getMenus()}}return T.\u0275fac=function(A){return new(A||T)},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),wo=(()=>{class T extends us{constructor(A,Y,xe,zt){super(ct.m),this.angularDelegate=A,this.resolver=Y,this.injector=xe,this.environmentInjector=zt}create(A){var Y;return super.create(Object.assign(Object.assign({},A),{delegate:this.angularDelegate.create(null!==(Y=this.resolver)&&void 0!==Y?Y:this.environmentInjector,this.injector)}))}}return T.\u0275fac=function(A){return new(A||T)(s.LFG(or),s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(cs,8))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac}),T})(),Pi=(()=>{class T extends us{constructor(A,Y,xe,zt){super(ct.c),this.angularDelegate=A,this.resolver=Y,this.injector=xe,this.environmentInjector=zt}create(A){var Y;return super.create(Object.assign(Object.assign({},A),{delegate:this.angularDelegate.create(null!==(Y=this.resolver)&&void 0!==Y?Y:this.environmentInjector,this.injector)}))}}return T.\u0275fac=function(A){return new(A||T)(s.LFG(or),s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(cs,8))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac}),T})(),Hr=(()=>{class T extends us{constructor(){super(ct.t)}}return T.\u0275fac=function(A){return new(A||T)},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class fa{shouldDetach(Z){return!1}shouldAttach(Z){return!1}store(Z,A){}retrieve(Z){return null}shouldReuseRoute(Z,A){if(Z.routeConfig!==A.routeConfig)return!1;const Y=Z.params,xe=A.params,zt=Object.keys(Y),jn=Object.keys(xe);if(zt.length!==jn.length)return!1;for(const dr of zt)if(xe[dr]!==Y[dr])return!1;return!0}}const qs=(T,Z,A)=>()=>{if(Z.defaultView&&typeof window<"u"){(T=>{const Z=window,A=Z.Ionic;A&&A.config&&"Object"!==A.config.constructor.name||(Z.Ionic=Z.Ionic||{},Z.Ionic.config=Object.assign(Object.assign({},Z.Ionic.config),T))})(Object.assign(Object.assign({},T),{_zoneGate:zt=>A.run(zt)}));const xe="__zone_symbol__addEventListener"in Z.body?"__zone_symbol__addEventListener":"addEventListener";return function ye(){var T=[];if(typeof window<"u"){var Z=window;(!Z.customElements||Z.Element&&(!Z.Element.prototype.closest||!Z.Element.prototype.matches||!Z.Element.prototype.remove||!Z.Element.prototype.getRootNode))&&T.push(F.e(6748).then(F.t.bind(F,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Z.NodeList&&!Z.NodeList.prototype.forEach||!Z.fetch||!function(){try{var Y=new URL("b","http://a");return Y.pathname="c%20d","http://a/c%20d"===Y.href&&Y.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&T.push(F.e(2214).then(F.t.bind(F,4144,23)))}return Promise.all(T)}().then(()=>((T,Z)=>typeof window>"u"?Promise.resolve():(0,Le.p)().then(()=>(Ie(),(0,Le.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),Z))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ze,jmp:zt=>A.runOutsideAngular(zt),ael(zt,jn,dr,E){zt[xe](jn,dr,E)},rel(zt,jn,dr,E){zt.removeEventListener(jn,dr,E)}}))}};let pn=(()=>{class T{static forRoot(A){return{ngModule:T,providers:[{provide:ps,useValue:A},{provide:s.ip1,useFactory:qs,multi:!0,deps:[ps,Ee.K0,s.R0b]}]}}}return T.\u0275fac=function(A){return new(A||T)},T.\u0275mod=s.oAB({type:T}),T.\u0275inj=s.cJS({providers:[or,wo,Pi],imports:[[Ee.ez]]}),T})()},9442:(En,vt,F)=>{"use strict";F.d(vt,{c:()=>ct});var s=F(3756);let Q;const Re=Be=>Be.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oe=Be=>{if(void 0===Q){const Ve=void 0!==Be.style.webkitAnimationName;Q=void 0===Be.style.animationName&&Ve?"-webkit-":""}return Q},ue=(Be,Le,Ve)=>{const Ft=Le.startsWith("animation")?oe(Be):"";Be.style.setProperty(Ft+Le,Ve)},me=(Be,Le)=>{const Ve=Le.startsWith("animation")?oe(Be):"";Be.style.removeProperty(Ve+Le)},ce=[],Ue=(Be=[],Le)=>{if(void 0!==Le){const Ve=Array.isArray(Le)?Le:[Le];return[...Be,...Ve]}return Be},ct=Be=>{let Le,Ve,Ft,yt,Mt,nt,ye,gt,Ze,ze,st,Cn,Bt,St=[],Pe=[],Xe=[],Ee=!1,Ie={},he=[],_e=[],fe={},Nt=0,It=!1,xt=!1,pt=!0,Tt=!1,Lt=!0,bn=!1;const Sn=Be,we=[],Kn=[],qn=[],_r=[],fi=[],Ln=[],er=[],tn=[],hn=[],yr=[],kr="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Hn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&kr,Er=()=>yr,Et=($e,Qe)=>((Qe?.oneTimeCallback?Kn:we).push({c:$e,o:Qe}),Bt),An=()=>{if(Hn)yr.forEach($e=>{$e.cancel()}),yr.length=0;else{const $e=qn.slice();(0,s.r)(()=>{$e.forEach(Qe=>{me(Qe,"animation-name"),me(Qe,"animation-duration"),me(Qe,"animation-timing-function"),me(Qe,"animation-iteration-count"),me(Qe,"animation-delay"),me(Qe,"animation-play-state"),me(Qe,"animation-fill-mode"),me(Qe,"animation-direction")})})}},Vn=()=>{fi.forEach($e=>{$e?.parentNode&&$e.parentNode.removeChild($e)}),fi.length=0},gn=()=>void 0!==Mt?Mt:ye?ye.getFill():"both",Bn=()=>void 0!==Ze?Ze:void 0!==nt?nt:ye?ye.getDirection():"normal",Kr=()=>It?"linear":void 0!==Ft?Ft:ye?ye.getEasing():"linear",Mr=()=>xt?0:void 0!==ze?ze:void 0!==Ve?Ve:ye?ye.getDuration():0,Pr=()=>void 0!==yt?yt:ye?ye.getIterations():1,pr=()=>void 0!==st?st:void 0!==Le?Le:ye?ye.getDelay():0,qt=()=>{0!==Nt&&(Nt--,0===Nt&&((()=>{Ss(),tn.forEach(Xt=>Xt()),hn.forEach(Xt=>Xt());const $e=pt?1:0,Qe=he,Rt=_e,an=fe;qn.forEach(Xt=>{const cn=Xt.classList;Qe.forEach(Jn=>cn.add(Jn)),Rt.forEach(Jn=>cn.remove(Jn));for(const Jn in an)an.hasOwnProperty(Jn)&&ue(Xt,Jn,an[Jn])}),we.forEach(Xt=>Xt.c($e,Bt)),Kn.forEach(Xt=>Xt.c($e,Bt)),Kn.length=0,Lt=!0,pt&&(Tt=!0),pt=!0})(),ye&&ye.animationFinish()))},Fn=($e=!0)=>{Vn();const Qe=(Be=>(Be.forEach(Le=>{for(const Ve in Le)if(Le.hasOwnProperty(Ve)){const Ft=Le[Ve];if("easing"===Ve)Le["animation-timing-function"]=Ft,delete Le[Ve];else{const yt=Re(Ve);yt!==Ve&&(Le[yt]=Ft,delete Le[Ve])}}}),Be))(St);qn.forEach(Rt=>{if(Qe.length>0){const an=((Be=[])=>Be.map(Le=>{const Ve=Le.offset,Ft=[];for(const yt in Le)Le.hasOwnProperty(yt)&&"offset"!==yt&&Ft.push(`${yt}: ${Le[yt]};`);return`${100*Ve}% { ${Ft.join(" ")} }`}).join(" "))(Qe);Cn=void 0!==Be?Be:(Be=>{let Le=ce.indexOf(Be);return Le<0&&(Le=ce.push(Be)-1),`ion-animation-${Le}`})(an);const Xt=((Be,Le,Ve)=>{const Ft=(Be=>{const Le=Be.getRootNode();return Le.head||Le})(Ve),yt=oe(Ve),Mt=Ft.querySelector("#"+Be);if(Mt)return Mt;const nt=(Ve.ownerDocument||document).createElement("style");return nt.id=Be,nt.textContent=`@${yt}keyframes ${Be} { ${Le} } @${yt}keyframes ${Be}-alt { ${Le} }`,Ft.appendChild(nt),nt})(Cn,an,Rt);fi.push(Xt),ue(Rt,"animation-duration",`${Mr()}ms`),ue(Rt,"animation-timing-function",Kr()),ue(Rt,"animation-delay",`${pr()}ms`),ue(Rt,"animation-fill-mode",gn()),ue(Rt,"animation-direction",Bn());const cn=Pr()===1/0?"infinite":Pr().toString();ue(Rt,"animation-iteration-count",cn),ue(Rt,"animation-play-state","paused"),$e&&ue(Rt,"animation-name",`${Xt.id}-alt`),(0,s.r)(()=>{ue(Rt,"animation-name",Xt.id||null)})}})},Gn=($e=!0)=>{(()=>{Ln.forEach(an=>an()),er.forEach(an=>an());const $e=Pe,Qe=Xe,Rt=Ie;qn.forEach(an=>{const Xt=an.classList;$e.forEach(cn=>Xt.add(cn)),Qe.forEach(cn=>Xt.remove(cn));for(const cn in Rt)Rt.hasOwnProperty(cn)&&ue(an,cn,Rt[cn])})})(),St.length>0&&(Hn?(qn.forEach($e=>{const Qe=$e.animate(St,{id:Sn,delay:pr(),duration:Mr(),easing:Kr(),iterations:Pr(),fill:gn(),direction:Bn()});Qe.pause(),yr.push(Qe)}),yr.length>0&&(yr[0].onfinish=()=>{qt()})):Fn($e)),Ee=!0},ur=$e=>{if($e=Math.min(Math.max($e,0),.9999),Hn)yr.forEach(Qe=>{Qe.currentTime=Qe.effect.getComputedTiming().delay+Mr()*$e,Qe.pause()});else{const Qe=`-${Mr()*$e}ms`;qn.forEach(Rt=>{St.length>0&&(ue(Rt,"animation-delay",Qe),ue(Rt,"animation-play-state","paused"))})}},Tr=$e=>{yr.forEach(Qe=>{Qe.effect.updateTiming({delay:pr(),duration:Mr(),easing:Kr(),iterations:Pr(),fill:gn(),direction:Bn()})}),void 0!==$e&&ur($e)},vr=($e=!0,Qe)=>{(0,s.r)(()=>{qn.forEach(Rt=>{ue(Rt,"animation-name",Cn||null),ue(Rt,"animation-duration",`${Mr()}ms`),ue(Rt,"animation-timing-function",Kr()),ue(Rt,"animation-delay",void 0!==Qe?`-${Qe*Mr()}ms`:`${pr()}ms`),ue(Rt,"animation-fill-mode",gn()||null),ue(Rt,"animation-direction",Bn()||null);const an=Pr()===1/0?"infinite":Pr().toString();ue(Rt,"animation-iteration-count",an),$e&&ue(Rt,"animation-name",`${Cn}-alt`),(0,s.r)(()=>{ue(Rt,"animation-name",Cn||null)})})})},Ar=($e=!1,Qe=!0,Rt)=>($e&&_r.forEach(an=>{an.update($e,Qe,Rt)}),Hn?Tr(Rt):vr(Qe,Rt),Bt),oi=()=>{Ee&&(Hn?yr.forEach($e=>{$e.pause()}):qn.forEach($e=>{ue($e,"animation-play-state","paused")}),bn=!0)},vi=()=>{gt=void 0,qt()},Ss=()=>{gt&&clearTimeout(gt)},Yi=$e=>new Promise(Qe=>{$e?.sync&&(xt=!0,Et(()=>xt=!1,{oneTimeCallback:!0})),Ee||Gn(),Tt&&(Hn?(ur(0),Tr()):vr(),Tt=!1),Lt&&(Nt=_r.length+1,Lt=!1),Et(()=>Qe(),{oneTimeCallback:!0}),_r.forEach(Rt=>{Rt.play()}),Hn?(yr.forEach($e=>{$e.play()}),(0===St.length||0===qn.length)&&qt()):(()=>{if(Ss(),(0,s.r)(()=>{qn.forEach($e=>{St.length>0&&ue($e,"animation-play-state","running")})}),0===St.length||0===qn.length)qt();else{const $e=pr()||0,Qe=Mr()||0,Rt=Pr()||1;isFinite(Rt)&&(gt=setTimeout(vi,$e+Qe*Rt+100)),((Be,Le)=>{let Ve;const Ft={passive:!0},Mt=nt=>{Be===nt.target&&(Ve&&Ve(),Ss(),(0,s.r)(()=>{qn.forEach($e=>{me($e,"animation-duration"),me($e,"animation-delay"),me($e,"animation-play-state")}),(0,s.r)(qt)}))};Be&&(Be.addEventListener("webkitAnimationEnd",Mt,Ft),Be.addEventListener("animationend",Mt,Ft),Ve=()=>{Be.removeEventListener("webkitAnimationEnd",Mt,Ft),Be.removeEventListener("animationend",Mt,Ft)})})(qn[0])}})(),bn=!1}),Fe=($e,Qe)=>{const Rt=St[0];return void 0===Rt||void 0!==Rt.offset&&0!==Rt.offset?St=[{offset:0,[$e]:Qe},...St]:Rt[$e]=Qe,Bt};return Bt={parentAnimation:ye,elements:qn,childAnimations:_r,id:Sn,animationFinish:qt,from:Fe,to:($e,Qe)=>{const Rt=St[St.length-1];return void 0===Rt||void 0!==Rt.offset&&1!==Rt.offset?St=[...St,{offset:1,[$e]:Qe}]:Rt[$e]=Qe,Bt},fromTo:($e,Qe,Rt)=>Fe($e,Qe).to($e,Rt),parent:$e=>(ye=$e,Bt),play:Yi,pause:()=>(_r.forEach($e=>{$e.pause()}),oi(),Bt),stop:()=>{_r.forEach($e=>{$e.stop()}),Ee&&(An(),Ee=!1),It=!1,xt=!1,Lt=!0,Ze=void 0,ze=void 0,st=void 0,Nt=0,Tt=!1,pt=!0,bn=!1},destroy:$e=>(_r.forEach(Qe=>{Qe.destroy($e)}),($e=>{An(),$e&&Vn()})($e),qn.length=0,_r.length=0,St.length=0,we.length=0,Kn.length=0,Ee=!1,Lt=!0,Bt),keyframes:$e=>{const Qe=St!==$e;return St=$e,Qe&&($e=>{Hn?Er().forEach(Qe=>{if(Qe.effect.setKeyframes)Qe.effect.setKeyframes($e);else{const Rt=new KeyframeEffect(Qe.effect.target,$e,Qe.effect.getTiming());Qe.effect=Rt}}):Fn()})(St),Bt},addAnimation:$e=>{if(null!=$e)if(Array.isArray($e))for(const Qe of $e)Qe.parent(Bt),_r.push(Qe);else $e.parent(Bt),_r.push($e);return Bt},addElement:$e=>{if(null!=$e)if(1===$e.nodeType)qn.push($e);else if($e.length>=0)for(let Qe=0;Qe<$e.length;Qe++)qn.push($e[Qe]);else console.error("Invalid addElement value");return Bt},update:Ar,fill:$e=>(Mt=$e,Ar(!0),Bt),direction:$e=>(nt=$e,Ar(!0),Bt),iterations:$e=>(yt=$e,Ar(!0),Bt),duration:$e=>(!Hn&&0===$e&&($e=1),Ve=$e,Ar(!0),Bt),easing:$e=>(Ft=$e,Ar(!0),Bt),delay:$e=>(Le=$e,Ar(!0),Bt),getWebAnimations:Er,getKeyframes:()=>St,getFill:gn,getDirection:Bn,getDelay:pr,getIterations:Pr,getEasing:Kr,getDuration:Mr,afterAddRead:$e=>(tn.push($e),Bt),afterAddWrite:$e=>(hn.push($e),Bt),afterClearStyles:($e=[])=>{for(const Qe of $e)fe[Qe]="";return Bt},afterStyles:($e={})=>(fe=$e,Bt),afterRemoveClass:$e=>(_e=Ue(_e,$e),Bt),afterAddClass:$e=>(he=Ue(he,$e),Bt),beforeAddRead:$e=>(Ln.push($e),Bt),beforeAddWrite:$e=>(er.push($e),Bt),beforeClearStyles:($e=[])=>{for(const Qe of $e)Ie[Qe]="";return Bt},beforeStyles:($e={})=>(Ie=$e,Bt),beforeRemoveClass:$e=>(Xe=Ue(Xe,$e),Bt),beforeAddClass:$e=>(Pe=Ue(Pe,$e),Bt),onFinish:Et,isRunning:()=>0!==Nt&&!bn,progressStart:($e=!1,Qe)=>(_r.forEach(Rt=>{Rt.progressStart($e,Qe)}),oi(),It=$e,Ee||Gn(),Ar(!1,!0,Qe),Bt),progressStep:$e=>(_r.forEach(Qe=>{Qe.progressStep($e)}),ur($e),Bt),progressEnd:($e,Qe,Rt)=>(It=!1,_r.forEach(an=>{an.progressEnd($e,Qe,Rt)}),void 0!==Rt&&(ze=Rt),Tt=!1,pt=!0,0===$e?(Ze="reverse"===Bn()?"normal":"reverse","reverse"===Ze&&(pt=!1),Hn?(Ar(),ur(1-Qe)):(st=(1-Qe)*Mr()*-1,Ar(!1,!1))):1===$e&&(Hn?(Ar(),ur(Qe)):(st=Qe*Mr()*-1,Ar(!1,!1))),void 0!==$e&&(Et(()=>{ze=void 0,Ze=void 0,st=void 0},{oneTimeCallback:!0}),ye||Yi()),Bt)}}},3509:(En,vt,F)=>{"use strict";F.d(vt,{G:()=>oe});class Q{constructor(me,pe,De,ce,se){this.id=pe,this.name=De,this.disableScroll=se,this.priority=1e6*ce+pe,this.ctrl=me}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const me=this.ctrl.capture(this.name,this.id,this.priority);return me&&this.disableScroll&&this.ctrl.disableScroll(this.id),me}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class K{constructor(me,pe,De,ce){this.id=pe,this.disable=De,this.disableScroll=ce,this.ctrl=me}block(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.disableGesture(me,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.enableGesture(me,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Re="backdrop-no-scroll",oe=new class s{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(me){return new Q(this,this.newID(),me.name,me.priority||0,!!me.disableScroll)}createBlocker(me={}){return new K(this,this.newID(),me.disable,!!me.disableScroll)}start(me,pe,De){return this.canStart(me)?(this.requestedStart.set(pe,De),!0):(this.requestedStart.delete(pe),!1)}capture(me,pe,De){if(!this.start(me,pe,De))return!1;const ce=this.requestedStart;let se=-1e4;if(ce.forEach(le=>{se=Math.max(se,le)}),se===De){this.capturedId=pe,ce.clear();const le=new CustomEvent("ionGestureCaptured",{detail:{gestureName:me}});return document.dispatchEvent(le),!0}return ce.delete(pe),!1}release(me){this.requestedStart.delete(me),this.capturedId===me&&(this.capturedId=void 0)}disableGesture(me,pe){let De=this.disabledGestures.get(me);void 0===De&&(De=new Set,this.disabledGestures.set(me,De)),De.add(pe)}enableGesture(me,pe){const De=this.disabledGestures.get(me);void 0!==De&&De.delete(pe)}disableScroll(me){this.disabledScroll.add(me),1===this.disabledScroll.size&&document.body.classList.add(Re)}enableScroll(me){this.disabledScroll.delete(me),0===this.disabledScroll.size&&document.body.classList.remove(Re)}canStart(me){return!(void 0!==this.capturedId||this.isDisabled(me))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(me){const pe=this.disabledGestures.get(me);return!!(pe&&pe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(En,vt,F)=>{"use strict";F.r(vt),F.d(vt,{MENU_BACK_BUTTON_PRIORITY:()=>oe,OVERLAY_BACK_BUTTON_PRIORITY:()=>Re,blockHardwareBackButton:()=>Q,startHardwareBackButton:()=>K});var s=F(5861);const Q=()=>{document.addEventListener("backbutton",()=>{})},K=()=>{const ue=document;let me=!1;ue.addEventListener("backbutton",()=>{if(me)return;let pe=0,De=[];const ce=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ge,Ue){De.push({priority:ge,handler:Ue,id:pe++})}}});ue.dispatchEvent(ce);const se=function(){var ge=(0,s.Z)(function*(Ue){try{if(Ue?.handler){const ct=Ue.handler(le);null!=ct&&(yield ct)}}catch(ct){console.error(ct)}});return function(ct){return ge.apply(this,arguments)}}(),le=()=>{if(De.length>0){let ge={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};De.forEach(Ue=>{Ue.priority>=ge.priority&&(ge=Ue)}),me=!0,De=De.filter(Ue=>Ue.id!==ge.id),se(ge).then(()=>me=!1)}};le()})},Re=100,oe=99},3756:(En,vt,F)=>{"use strict";F.d(vt,{a:()=>me,b:()=>pe,c:()=>K,d:()=>Ue,e:()=>ct,f:()=>ge,g:()=>De,h:()=>Mt,i:()=>ue,j:()=>Re,k:()=>le,l:()=>Be,m:()=>se,n:()=>Le,o:()=>yt,p:()=>Ft,q:()=>nt,r:()=>ce,s:()=>St,t:()=>s,u:()=>Ve});const s=(Pe,Xe=0)=>new Promise(Ee=>{Q(Pe,Xe,Ee)}),Q=(Pe,Xe=0,Ee)=>{let ye,Ie;const he={passive:!0},fe=()=>{ye&&ye()},Nt=It=>{(void 0===It||Pe===It.target)&&(fe(),Ee(It))};return Pe&&(Pe.addEventListener("webkitTransitionEnd",Nt,he),Pe.addEventListener("transitionend",Nt,he),Ie=setTimeout(Nt,Xe+500),ye=()=>{Ie&&(clearTimeout(Ie),Ie=void 0),Pe.removeEventListener("webkitTransitionEnd",Nt,he),Pe.removeEventListener("transitionend",Nt,he)}),fe},K=(Pe,Xe)=>{Pe.componentOnReady?Pe.componentOnReady().then(Ee=>Xe(Ee)):ce(()=>Xe(Pe))},Re=(Pe,Xe=[])=>{const Ee={};return Xe.forEach(ye=>{Pe.hasAttribute(ye)&&(null!==Pe.getAttribute(ye)&&(Ee[ye]=Pe.getAttribute(ye)),Pe.removeAttribute(ye))}),Ee},oe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ue=Pe=>Re(Pe,oe),me=(Pe,Xe,Ee,ye)=>{var Ie;if(typeof window<"u"){const _e=null===(Ie=window?.Ionic)||void 0===Ie?void 0:Ie.config;if(_e){const fe=_e.get("_ael");if(fe)return fe(Pe,Xe,Ee,ye);if(_e._ael)return _e._ael(Pe,Xe,Ee,ye)}}return Pe.addEventListener(Xe,Ee,ye)},pe=(Pe,Xe,Ee,ye)=>{var Ie;if(typeof window<"u"){const _e=null===(Ie=window?.Ionic)||void 0===Ie?void 0:Ie.config;if(_e){const fe=_e.get("_rel");if(fe)return fe(Pe,Xe,Ee,ye);if(_e._rel)return _e._rel(Pe,Xe,Ee,ye)}}return Pe.removeEventListener(Xe,Ee,ye)},De=(Pe,Xe=Pe)=>Pe.shadowRoot||Xe,ce=Pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Pe):setTimeout(Pe),se=Pe=>!!Pe.shadowRoot&&!!Pe.attachShadow,le=Pe=>{const Xe=Pe.closest("ion-item");return Xe?Xe.querySelector("ion-label"):null},ge=Pe=>{if(Pe.focus(),Pe.classList.contains("ion-focusable")){const Xe=Pe.closest("ion-app");Xe&&Xe.setFocus([Pe])}},Ue=(Pe,Xe)=>{let Ee;const ye=Pe.getAttribute("aria-labelledby"),Ie=Pe.id;let he=null!==ye&&""!==ye.trim()?ye:Xe+"-lbl",_e=null!==ye&&""!==ye.trim()?document.getElementById(ye):le(Pe);return _e?(null===ye&&(_e.id=he),Ee=_e.textContent,_e.setAttribute("aria-hidden","true")):""!==Ie.trim()&&(_e=document.querySelector(`label[for="${Ie}"]`),_e&&(""!==_e.id?he=_e.id:_e.id=he=`${Ie}-lbl`,Ee=_e.textContent)),{label:_e,labelId:he,labelText:Ee}},ct=(Pe,Xe,Ee,ye,Ie)=>{if(Pe||se(Xe)){let he=Xe.querySelector("input.aux-input");he||(he=Xe.ownerDocument.createElement("input"),he.type="hidden",he.classList.add("aux-input"),Xe.appendChild(he)),he.disabled=Ie,he.name=Ee,he.value=ye||""}},Be=(Pe,Xe,Ee)=>Math.max(Pe,Math.min(Xe,Ee)),Le=(Pe,Xe)=>{if(!Pe){const Ee="ASSERT: "+Xe;throw console.error(Ee),new Error(Ee)}},Ve=Pe=>Pe.timeStamp||Date.now(),Ft=Pe=>{if(Pe){const Xe=Pe.changedTouches;if(Xe&&Xe.length>0){const Ee=Xe[0];return{x:Ee.clientX,y:Ee.clientY}}if(void 0!==Pe.pageX)return{x:Pe.pageX,y:Pe.pageY}}return{x:0,y:0}},yt=Pe=>{const Xe="rtl"===document.dir;switch(Pe){case"start":return Xe;case"end":return!Xe;default:throw new Error(`"${Pe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Mt=(Pe,Xe)=>{const Ee=Pe._original||Pe;return{_original:Pe,emit:nt(Ee.emit.bind(Ee),Xe)}},nt=(Pe,Xe=0)=>{let Ee;return(...ye)=>{clearTimeout(Ee),Ee=setTimeout(Pe,Xe,...ye)}},St=(Pe,Xe)=>{if(Pe??(Pe={}),Xe??(Xe={}),Pe===Xe)return!0;const Ee=Object.keys(Pe);if(Ee.length!==Object.keys(Xe).length)return!1;for(const ye of Ee)if(!(ye in Xe)||Pe[ye]!==Xe[ye])return!1;return!0}},7936:(En,vt,F)=>{"use strict";F.d(vt,{B:()=>Yi,H:()=>_r,a:()=>Tt,b:()=>Kt,c:()=>zi,e:()=>it,f:()=>hs,g:()=>Lt,h:()=>Kn,i:()=>sr,j:()=>Kr,k:()=>qt,p:()=>Be,r:()=>Gn,s:()=>Ue});var s=F(5861);let K,Re,oe,ue=!1,me=!1,pe=!1,De=!1,ce=!1;const se=typeof window<"u"?window:{},le=se.document||{head:{}},ge={$flags$:0,$resourcesUrl$:"",jmp:be=>be(),raf:be=>requestAnimationFrame(be),ael:(be,Fe,bt,At)=>be.addEventListener(Fe,bt,At),rel:(be,Fe,bt,At)=>be.removeEventListener(Fe,bt,At),ce:(be,Fe)=>new CustomEvent(be,Fe)},Ue=be=>{Object.assign(ge,be)},Be=be=>Promise.resolve(be),Le=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ve=(be,Fe,bt,At)=>{bt&&bt.map(([$e,Qe,Rt])=>{const an=yt(be,$e),Xt=Ft(Fe,Rt),cn=Mt($e);ge.ael(an,Qe,Xt,cn),(Fe.$rmListeners$=Fe.$rmListeners$||[]).push(()=>ge.rel(an,Qe,Xt,cn))})},Ft=(be,Fe)=>bt=>{try{256&be.$flags$?be.$lazyInstance$[Fe](bt):(be.$queuedListeners$=be.$queuedListeners$||[]).push([Fe,bt])}catch(At){vr(At)}},yt=(be,Fe)=>4&Fe?le:8&Fe?se:16&Fe?le.body:be,Mt=be=>0!=(2&be),Ee="s-id",ye="sty-id",_e="http://www.w3.org/1999/xlink",It=new WeakMap,xt=(be,Fe,bt)=>{let At=Gi.get(be);Le&&bt?(At=At||new CSSStyleSheet,"string"==typeof At?At=Fe:At.replaceSync(Fe)):At=Fe,Gi.set(be,At)},gt=(be,Fe,bt,At)=>{let $e=ze(Fe,bt);const Qe=Gi.get($e);if(be=11===be.nodeType?be:le,Qe)if("string"==typeof Qe){let an,Rt=It.get(be=be.head||be);Rt||It.set(be,Rt=new Set),Rt.has($e)||(be.host&&(an=be.querySelector(`[${ye}="${$e}"]`))?an.innerHTML=Qe:(an=le.createElement("style"),an.innerHTML=Qe,be.insertBefore(an,be.querySelector("link"))),Rt&&Rt.add($e))}else be.adoptedStyleSheets.includes(Qe)||(be.adoptedStyleSheets=[...be.adoptedStyleSheets,Qe]);return $e},ze=(be,Fe)=>"sc-"+(Fe&&32&be.$flags$?be.$tagName$+"-"+Fe:be.$tagName$),st=be=>be.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Tt=be=>Ai.push(be),Lt=be=>Jt(be).$modeName$,Cn={},we=be=>"object"==(be=typeof be)||"function"===be,Kn=(be,Fe,...bt)=>{let At=null,$e=null,Qe=null,Rt=!1,an=!1;const Xt=[],cn=or=>{for(let Nr=0;Nr<or.length;Nr++)At=or[Nr],Array.isArray(At)?cn(At):null!=At&&"boolean"!=typeof At&&((Rt="function"!=typeof be&&!we(At))&&(At=String(At)),Rt&&an?Xt[Xt.length-1].$text$+=At:Xt.push(Rt?qn(null,At):At),an=Rt)};if(cn(bt),Fe){Fe.key&&($e=Fe.key),Fe.name&&(Qe=Fe.name);{const or=Fe.className||Fe.class;or&&(Fe.class="object"!=typeof or?or:Object.keys(or).filter(Nr=>or[Nr]).join(" "))}}if("function"==typeof be)return be(null===Fe?{}:Fe,Xt,Ln);const Jn=qn(be,null);return Jn.$attrs$=Fe,Xt.length>0&&(Jn.$children$=Xt),Jn.$key$=$e,Jn.$name$=Qe,Jn},qn=(be,Fe)=>({$flags$:0,$tag$:be,$text$:Fe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),_r={},Ln={forEach:(be,Fe)=>be.map(er).forEach(Fe),map:(be,Fe)=>be.map(er).map(Fe).map(tn)},er=be=>({vattrs:be.$attrs$,vchildren:be.$children$,vkey:be.$key$,vname:be.$name$,vtag:be.$tag$,vtext:be.$text$}),tn=be=>{if("function"==typeof be.vtag){const bt=Object.assign({},be.vattrs);return be.vkey&&(bt.key=be.vkey),be.vname&&(bt.name=be.vname),Kn(be.vtag,bt,...be.vchildren||[])}const Fe=qn(be.vtag,be.vtext);return Fe.$attrs$=be.vattrs,Fe.$children$=be.vchildren,Fe.$key$=be.vkey,Fe.$name$=be.vname,Fe},hn=(be,Fe,bt,At,$e,Qe)=>{if(bt!==At){let Rt=Tr(be,Fe),an=Fe.toLowerCase();if("class"===Fe){const Xt=be.classList,cn=kr(bt),Jn=kr(At);Xt.remove(...cn.filter(or=>or&&!Jn.includes(or))),Xt.add(...Jn.filter(or=>or&&!cn.includes(or)))}else if("style"===Fe){for(const Xt in bt)(!At||null==At[Xt])&&(Xt.includes("-")?be.style.removeProperty(Xt):be.style[Xt]="");for(const Xt in At)(!bt||At[Xt]!==bt[Xt])&&(Xt.includes("-")?be.style.setProperty(Xt,At[Xt]):be.style[Xt]=At[Xt])}else if("key"!==Fe)if("ref"===Fe)At&&At(be);else if(Rt||"o"!==Fe[0]||"n"!==Fe[1]){const Xt=we(At);if((Rt||Xt&&null!==At)&&!$e)try{if(be.tagName.includes("-"))be[Fe]=At;else{const Jn=At??"";"list"===Fe?Rt=!1:(null==bt||be[Fe]!=Jn)&&(be[Fe]=Jn)}}catch{}let cn=!1;an!==(an=an.replace(/^xlink\:?/,""))&&(Fe=an,cn=!0),null==At||!1===At?(!1!==At||""===be.getAttribute(Fe))&&(cn?be.removeAttributeNS(_e,Fe):be.removeAttribute(Fe)):(!Rt||4&Qe||$e)&&!Xt&&(At=!0===At?"":At,cn?be.setAttributeNS(_e,Fe,At):be.setAttribute(Fe,At))}else Fe="-"===Fe[2]?Fe.slice(3):Tr(se,an)?an.slice(2):an[2]+Fe.slice(3),bt&&ge.rel(be,Fe,bt,!1),At&&ge.ael(be,Fe,At,!1)}},yr=/\s/,kr=be=>be?be.split(yr):[],Hn=(be,Fe,bt,At)=>{const $e=11===Fe.$elm$.nodeType&&Fe.$elm$.host?Fe.$elm$.host:Fe.$elm$,Qe=be&&be.$attrs$||Cn,Rt=Fe.$attrs$||Cn;for(At in Qe)At in Rt||hn($e,At,Qe[At],void 0,bt,Fe.$flags$);for(At in Rt)hn($e,At,Qe[At],Rt[At],bt,Fe.$flags$)},gr=(be,Fe,bt,At)=>{const $e=Fe.$children$[bt];let Rt,an,Xt,Qe=0;if(ue||(pe=!0,"slot"===$e.$tag$&&(K&&At.classList.add(K+"-s"),$e.$flags$|=$e.$children$?2:1)),null!==$e.$text$)Rt=$e.$elm$=le.createTextNode($e.$text$);else if(1&$e.$flags$)Rt=$e.$elm$=le.createTextNode("");else{if(De||(De="svg"===$e.$tag$),Rt=$e.$elm$=le.createElementNS(De?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&$e.$flags$?"slot-fb":$e.$tag$),De&&"foreignObject"===$e.$tag$&&(De=!1),Hn(null,$e,De),(be=>null!=be)(K)&&Rt["s-si"]!==K&&Rt.classList.add(Rt["s-si"]=K),$e.$children$)for(Qe=0;Qe<$e.$children$.length;++Qe)an=gr(be,$e,Qe,Rt),an&&Rt.appendChild(an);"svg"===$e.$tag$?De=!1:"foreignObject"===Rt.tagName&&(De=!0)}return Rt["s-hn"]=oe,3&$e.$flags$&&(Rt["s-sr"]=!0,Rt["s-cr"]=Re,Rt["s-sn"]=$e.$name$||"",Xt=be&&be.$children$&&be.$children$[bt],Xt&&Xt.$tag$===$e.$tag$&&be.$elm$&&Er(be.$elm$,!1)),Rt},Er=(be,Fe)=>{ge.$flags$|=1;const bt=be.childNodes;for(let At=bt.length-1;At>=0;At--){const $e=bt[At];$e["s-hn"]!==oe&&$e["s-ol"]&&(Ut($e).insertBefore($e,Et($e)),$e["s-ol"].remove(),$e["s-ol"]=void 0,pe=!0),Fe&&Er($e,Fe)}ge.$flags$&=-2},Ir=(be,Fe,bt,At,$e,Qe)=>{let an,Rt=be["s-cr"]&&be["s-cr"].parentNode||be;for(Rt.shadowRoot&&Rt.tagName===oe&&(Rt=Rt.shadowRoot);$e<=Qe;++$e)At[$e]&&(an=gr(null,bt,$e,be),an&&(At[$e].$elm$=an,Rt.insertBefore(an,Et(Fe))))},Ht=(be,Fe,bt,At,$e)=>{for(;Fe<=bt;++Fe)(At=be[Fe])&&($e=At.$elm$,On(At),me=!0,$e["s-ol"]?$e["s-ol"].remove():Er($e,!0),$e.remove())},He=(be,Fe)=>be.$tag$===Fe.$tag$&&("slot"===be.$tag$?be.$name$===Fe.$name$:be.$key$===Fe.$key$),Et=be=>be&&be["s-ol"]||be,Ut=be=>(be["s-ol"]?be["s-ol"]:be).parentNode,An=(be,Fe)=>{const bt=Fe.$elm$=be.$elm$,At=be.$children$,$e=Fe.$children$,Qe=Fe.$tag$,Rt=Fe.$text$;let an;null===Rt?(De="svg"===Qe||"foreignObject"!==Qe&&De,"slot"===Qe||Hn(be,Fe,De),null!==At&&null!==$e?((be,Fe,bt,At)=>{let Ni,wt,$e=0,Qe=0,Rt=0,an=0,Xt=Fe.length-1,cn=Fe[0],Jn=Fe[Xt],or=At.length-1,Nr=At[0],Fi=At[or];for(;$e<=Xt&&Qe<=or;)if(null==cn)cn=Fe[++$e];else if(null==Jn)Jn=Fe[--Xt];else if(null==Nr)Nr=At[++Qe];else if(null==Fi)Fi=At[--or];else if(He(cn,Nr))An(cn,Nr),cn=Fe[++$e],Nr=At[++Qe];else if(He(Jn,Fi))An(Jn,Fi),Jn=Fe[--Xt],Fi=At[--or];else if(He(cn,Fi))("slot"===cn.$tag$||"slot"===Fi.$tag$)&&Er(cn.$elm$.parentNode,!1),An(cn,Fi),be.insertBefore(cn.$elm$,Jn.$elm$.nextSibling),cn=Fe[++$e],Fi=At[--or];else if(He(Jn,Nr))("slot"===cn.$tag$||"slot"===Fi.$tag$)&&Er(Jn.$elm$.parentNode,!1),An(Jn,Nr),be.insertBefore(Jn.$elm$,cn.$elm$),Jn=Fe[--Xt],Nr=At[++Qe];else{for(Rt=-1,an=$e;an<=Xt;++an)if(Fe[an]&&null!==Fe[an].$key$&&Fe[an].$key$===Nr.$key$){Rt=an;break}Rt>=0?(wt=Fe[Rt],wt.$tag$!==Nr.$tag$?Ni=gr(Fe&&Fe[Qe],bt,Rt,be):(An(wt,Nr),Fe[Rt]=void 0,Ni=wt.$elm$),Nr=At[++Qe]):(Ni=gr(Fe&&Fe[Qe],bt,Qe,be),Nr=At[++Qe]),Ni&&Ut(cn.$elm$).insertBefore(Ni,Et(cn.$elm$))}$e>Xt?Ir(be,null==At[or+1]?null:At[or+1].$elm$,bt,At,Qe,or):Qe>or&&Ht(Fe,$e,Xt)})(bt,At,Fe,$e):null!==$e?(null!==be.$text$&&(bt.textContent=""),Ir(bt,null,Fe,$e,0,$e.length-1)):null!==At&&Ht(At,0,At.length-1),De&&"svg"===Qe&&(De=!1)):(an=bt["s-cr"])?an.parentNode.textContent=Rt:be.$text$!==Rt&&(bt.data=Rt)},Vn=be=>{const Fe=be.childNodes;let bt,At,$e,Qe,Rt,an;for(At=0,$e=Fe.length;At<$e;At++)if(bt=Fe[At],1===bt.nodeType){if(bt["s-sr"])for(Rt=bt["s-sn"],bt.hidden=!1,Qe=0;Qe<$e;Qe++)if(an=Fe[Qe].nodeType,Fe[Qe]["s-hn"]!==bt["s-hn"]||""!==Rt){if(1===an&&Rt===Fe[Qe].getAttribute("slot")){bt.hidden=!0;break}}else if(1===an||3===an&&""!==Fe[Qe].textContent.trim()){bt.hidden=!0;break}Vn(bt)}},Un=[],_n=be=>{let Fe,bt,At,$e,Qe,Rt,an=0;const Xt=be.childNodes,cn=Xt.length;for(;an<cn;an++){if(Fe=Xt[an],Fe["s-sr"]&&(bt=Fe["s-cr"])&&bt.parentNode)for(At=bt.parentNode.childNodes,$e=Fe["s-sn"],Rt=At.length-1;Rt>=0;Rt--)bt=At[Rt],!bt["s-cn"]&&!bt["s-nr"]&&bt["s-hn"]!==Fe["s-hn"]&&(ir(bt,$e)?(Qe=Un.find(Jn=>Jn.$nodeToRelocate$===bt),me=!0,bt["s-sn"]=bt["s-sn"]||$e,Qe?Qe.$slotRefNode$=Fe:Un.push({$slotRefNode$:Fe,$nodeToRelocate$:bt}),bt["s-sr"]&&Un.map(Jn=>{ir(Jn.$nodeToRelocate$,bt["s-sn"])&&(Qe=Un.find(or=>or.$nodeToRelocate$===bt),Qe&&!Jn.$slotRefNode$&&(Jn.$slotRefNode$=Qe.$slotRefNode$))})):Un.some(Jn=>Jn.$nodeToRelocate$===bt)||Un.push({$nodeToRelocate$:bt}));1===Fe.nodeType&&_n(Fe)}},ir=(be,Fe)=>1===be.nodeType?null===be.getAttribute("slot")&&""===Fe||be.getAttribute("slot")===Fe:be["s-sn"]===Fe||""===Fe,On=be=>{be.$attrs$&&be.$attrs$.ref&&be.$attrs$.ref(null),be.$children$&&be.$children$.map(On)},sr=be=>Jt(be).$hostElement$,it=(be,Fe,bt)=>{const At=sr(be);return{emit:$e=>tt(At,Fe,{bubbles:!!(4&bt),composed:!!(2&bt),cancelable:!!(1&bt),detail:$e})}},tt=(be,Fe,bt)=>{const At=ge.ce(Fe,bt);return be.dispatchEvent(At),At},qe=(be,Fe)=>{Fe&&!be.$onRenderResolve$&&Fe["s-p"]&&Fe["s-p"].push(new Promise(bt=>be.$onRenderResolve$=bt))},lt=(be,Fe)=>{if(be.$flags$|=16,!(4&be.$flags$))return qe(be,be.$ancestorComponent$),zi(()=>at(be,Fe));be.$flags$|=512},at=(be,Fe)=>{const At=be.$lazyInstance$;let $e;return Fe&&(be.$flags$|=256,be.$queuedListeners$&&(be.$queuedListeners$.map(([Qe,Rt])=>Pr(At,Qe,Rt)),be.$queuedListeners$=null),$e=Pr(At,"componentWillLoad")),$e=pr($e,()=>Pr(At,"componentWillRender")),pr($e,()=>Gt(be,At,Fe))},Gt=function(){var be=(0,s.Z)(function*(Fe,bt,At){const $e=Fe.$hostElement$,Rt=$e["s-rc"];At&&(be=>{const Fe=be.$cmpMeta$,bt=be.$hostElement$,At=Fe.$flags$,Qe=gt(bt.shadowRoot?bt.shadowRoot:bt.getRootNode(),Fe,be.$modeName$);10&At&&(bt["s-sc"]=Qe,bt.classList.add(Qe+"-h"),2&At&&bt.classList.add(Qe+"-s"))})(Fe);gn(Fe,bt),Rt&&(Rt.map(Xt=>Xt()),$e["s-rc"]=void 0);{const Xt=$e["s-p"],cn=()=>Bn(Fe);0===Xt.length?cn():(Promise.all(Xt).then(cn),Fe.$flags$|=4,Xt.length=0)}});return function(bt,At,$e){return be.apply(this,arguments)}}(),gn=(be,Fe,bt)=>{try{Fe=Fe.render&&Fe.render(),be.$flags$&=-17,be.$flags$|=2,((be,Fe)=>{const bt=be.$hostElement$,At=be.$cmpMeta$,$e=be.$vnode$||qn(null,null),Qe=(be=>be&&be.$tag$===_r)(Fe)?Fe:Kn(null,null,Fe);if(oe=bt.tagName,At.$attrsToReflect$&&(Qe.$attrs$=Qe.$attrs$||{},At.$attrsToReflect$.map(([Rt,an])=>Qe.$attrs$[an]=bt[Rt])),Qe.$tag$=null,Qe.$flags$|=4,be.$vnode$=Qe,Qe.$elm$=$e.$elm$=bt.shadowRoot||bt,K=bt["s-sc"],Re=bt["s-cr"],ue=0!=(1&At.$flags$),me=!1,An($e,Qe),ge.$flags$|=1,pe){_n(Qe.$elm$);let Rt,an,Xt,cn,Jn,or,Nr=0;for(;Nr<Un.length;Nr++)Rt=Un[Nr],an=Rt.$nodeToRelocate$,an["s-ol"]||(Xt=le.createTextNode(""),Xt["s-nr"]=an,an.parentNode.insertBefore(an["s-ol"]=Xt,an));for(Nr=0;Nr<Un.length;Nr++)if(Rt=Un[Nr],an=Rt.$nodeToRelocate$,Rt.$slotRefNode$){for(cn=Rt.$slotRefNode$.parentNode,Jn=Rt.$slotRefNode$.nextSibling,Xt=an["s-ol"];Xt=Xt.previousSibling;)if(or=Xt["s-nr"],or&&or["s-sn"]===an["s-sn"]&&cn===or.parentNode&&(or=or.nextSibling,!or||!or["s-nr"])){Jn=or;break}(!Jn&&cn!==an.parentNode||an.nextSibling!==Jn)&&an!==Jn&&(!an["s-hn"]&&an["s-ol"]&&(an["s-hn"]=an["s-ol"].parentNode.nodeName),cn.insertBefore(an,Jn))}else 1===an.nodeType&&(an.hidden=!0)}me&&Vn(Qe.$elm$),ge.$flags$&=-2,Un.length=0})(be,Fe)}catch(At){vr(At,be.$hostElement$)}return null},Bn=be=>{const bt=be.$hostElement$,$e=be.$lazyInstance$,Qe=be.$ancestorComponent$;Pr($e,"componentDidRender"),64&be.$flags$?Pr($e,"componentDidUpdate"):(be.$flags$|=64,Wn(bt),Pr($e,"componentDidLoad"),be.$onReadyResolve$(bt),Qe||Mr()),be.$onInstanceResolve$(bt),be.$onRenderResolve$&&(be.$onRenderResolve$(),be.$onRenderResolve$=void 0),512&be.$flags$&&ms(()=>lt(be,!1)),be.$flags$&=-517},Kr=be=>{{const Fe=Jt(be),bt=Fe.$hostElement$.isConnected;return bt&&2==(18&Fe.$flags$)&&lt(Fe,!1),bt}},Mr=be=>{Wn(le.documentElement),ms(()=>tt(se,"appload",{detail:{namespace:"ionic"}}))},Pr=(be,Fe,bt)=>{if(be&&be[Fe])try{return be[Fe](bt)}catch(At){vr(At)}},pr=(be,Fe)=>be&&be.then?be.then(Fe):Fe(),Wn=be=>be.classList.add("hydrated"),Br=(be,Fe,bt,At,$e,Qe,Rt)=>{let an,Xt,cn,Jn;if(1===Qe.nodeType){for(an=Qe.getAttribute("c-id"),an&&(Xt=an.split("."),(Xt[0]===Rt||"0"===Xt[0])&&(cn={$flags$:0,$hostId$:Xt[0],$nodeId$:Xt[1],$depth$:Xt[2],$index$:Xt[3],$tag$:Qe.tagName.toLowerCase(),$elm$:Qe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Fe.push(cn),Qe.removeAttribute("c-id"),be.$children$||(be.$children$=[]),be.$children$[cn.$index$]=cn,be=cn,At&&"0"===cn.$depth$&&(At[cn.$index$]=cn.$elm$))),Jn=Qe.childNodes.length-1;Jn>=0;Jn--)Br(be,Fe,bt,At,$e,Qe.childNodes[Jn],Rt);if(Qe.shadowRoot)for(Jn=Qe.shadowRoot.childNodes.length-1;Jn>=0;Jn--)Br(be,Fe,bt,At,$e,Qe.shadowRoot.childNodes[Jn],Rt)}else if(8===Qe.nodeType)Xt=Qe.nodeValue.split("."),(Xt[1]===Rt||"0"===Xt[1])&&(an=Xt[0],cn={$flags$:0,$hostId$:Xt[1],$nodeId$:Xt[2],$depth$:Xt[3],$index$:Xt[4],$elm$:Qe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===an?(cn.$elm$=Qe.nextSibling,cn.$elm$&&3===cn.$elm$.nodeType&&(cn.$text$=cn.$elm$.textContent,Fe.push(cn),Qe.remove(),be.$children$||(be.$children$=[]),be.$children$[cn.$index$]=cn,At&&"0"===cn.$depth$&&(At[cn.$index$]=cn.$elm$))):cn.$hostId$===Rt&&("s"===an?(cn.$tag$="slot",Qe["s-sn"]=Xt[5]?cn.$name$=Xt[5]:"",Qe["s-sr"]=!0,At&&(cn.$elm$=le.createElement(cn.$tag$),cn.$name$&&cn.$elm$.setAttribute("name",cn.$name$),Qe.parentNode.insertBefore(cn.$elm$,Qe),Qe.remove(),"0"===cn.$depth$&&(At[cn.$index$]=cn.$elm$)),bt.push(cn),be.$children$||(be.$children$=[]),be.$children$[cn.$index$]=cn):"r"===an&&(At?Qe.remove():($e["s-cr"]=Qe,Qe["s-cn"]=!0))));else if(be&&"style"===be.$tag$){const or=qn(null,Qe.textContent);or.$elm$=Qe,or.$index$="0",be.$children$=[or]}},Ii=(be,Fe)=>{if(1===be.nodeType){let bt=0;for(;bt<be.childNodes.length;bt++)Ii(be.childNodes[bt],Fe);if(be.shadowRoot)for(bt=0;bt<be.shadowRoot.childNodes.length;bt++)Ii(be.shadowRoot.childNodes[bt],Fe)}else if(8===be.nodeType){const bt=be.nodeValue.split(".");"o"===bt[0]&&(Fe.set(bt[1]+"."+bt[2],be),be.nodeValue="",be["s-en"]=bt[3])}},Ke=(be,Fe,bt)=>{if(Fe.$members$){be.watchers&&(Fe.$watchers$=be.watchers);const At=Object.entries(Fe.$members$),$e=be.prototype;if(At.map(([Qe,[Rt]])=>{31&Rt||2&bt&&32&Rt?Object.defineProperty($e,Qe,{get(){return((be,Fe)=>Jt(this).$instanceValues$.get(Fe))(0,Qe)},set(an){((be,Fe,bt,At)=>{const $e=Jt(be),Qe=$e.$hostElement$,Rt=$e.$instanceValues$.get(Fe),an=$e.$flags$,Xt=$e.$lazyInstance$;bt=((be,Fe)=>null==be||we(be)?be:4&Fe?"false"!==be&&(""===be||!!be):2&Fe?parseFloat(be):1&Fe?String(be):be)(bt,At.$members$[Fe][0]);const cn=Number.isNaN(Rt)&&Number.isNaN(bt);if((!(8&an)||void 0===Rt)&&bt!==Rt&&!cn&&($e.$instanceValues$.set(Fe,bt),Xt)){if(At.$watchers$&&128&an){const or=At.$watchers$[Fe];or&&or.map(Nr=>{try{Xt[Nr](bt,Rt,Fe)}catch(Fi){vr(Fi,Qe)}})}2==(18&an)&&lt($e,!1)}})(this,Qe,an,Fe)},configurable:!0,enumerable:!0}):1&bt&&64&Rt&&Object.defineProperty($e,Qe,{value(...an){const Xt=Jt(this);return Xt.$onInstancePromise$.then(()=>Xt.$lazyInstance$[Qe](...an))}})}),1&bt){const Qe=new Map;$e.attributeChangedCallback=function(Rt,an,Xt){ge.jmp(()=>{const cn=Qe.get(Rt);if(this.hasOwnProperty(cn))Xt=this[cn],delete this[cn];else if($e.hasOwnProperty(cn)&&"number"==typeof this[cn]&&this[cn]==Xt)return;this[cn]=(null!==Xt||"boolean"!=typeof this[cn])&&Xt})},be.observedAttributes=At.filter(([Rt,an])=>15&an[0]).map(([Rt,an])=>{const Xt=an[1]||Rt;return Qe.set(Xt,Rt),512&an[0]&&Fe.$attrsToReflect$.push([Rt,Xt]),Xt})}}return be},J=function(){var be=(0,s.Z)(function*(Fe,bt,At,$e,Qe){if(0==(32&bt.$flags$)){{if(bt.$flags$|=32,(Qe=Si(At)).then){const cn=()=>{};Qe=yield Qe,cn()}Qe.isProxied||(At.$watchers$=Qe.watchers,Ke(Qe,At,2),Qe.isProxied=!0);const Xt=()=>{};bt.$flags$|=8;try{new Qe(bt)}catch(cn){vr(cn)}bt.$flags$&=-9,bt.$flags$|=128,Xt(),ve(bt.$lazyInstance$)}if(Qe.style){let Xt=Qe.style;"string"!=typeof Xt&&(Xt=Xt[bt.$modeName$=(be=>Ai.map(Fe=>Fe(be)).find(Fe=>!!Fe))(Fe)]);const cn=ze(At,bt.$modeName$);if(!Gi.has(cn)){const Jn=()=>{};xt(cn,Xt,!!(1&At.$flags$)),Jn()}}}const Rt=bt.$ancestorComponent$,an=()=>lt(bt,!0);Rt&&Rt["s-rc"]?Rt["s-rc"].push(an):an()});return function(bt,At,$e,Qe,Rt){return be.apply(this,arguments)}}(),ve=be=>{Pr(be,"connectedCallback")},mt=be=>{const Fe=be["s-cr"]=le.createComment("");Fe["s-cn"]=!0,be.insertBefore(Fe,be.firstChild)},Kt=(be,Fe={})=>{const At=[],$e=Fe.exclude||[],Qe=se.customElements,Rt=le.head,an=Rt.querySelector("meta[charset]"),Xt=le.createElement("style"),cn=[],Jn=le.querySelectorAll(`[${ye}]`);let or,Nr=!0,Fi=0;for(Object.assign(ge,Fe),ge.$resourcesUrl$=new URL(Fe.resourcesUrl||"./",le.baseURI).href,ge.$flags$|=2;Fi<Jn.length;Fi++)xt(Jn[Fi].getAttribute(ye),st(Jn[Fi].innerHTML),!0);be.map(Ni=>{Ni[1].map(wt=>{const Dt={$flags$:wt[0],$tagName$:wt[1],$members$:wt[2],$listeners$:wt[3]};Dt.$members$=wt[2],Dt.$listeners$=wt[3],Dt.$attrsToReflect$=[],Dt.$watchers$={};const jt=Dt.$tagName$,mn=class extends HTMLElement{constructor(Pn){super(Pn),ur(Pn=this,Dt),1&Dt.$flags$&&Pn.attachShadow({mode:"open",delegatesFocus:!!(16&Dt.$flags$)})}connectedCallback(){or&&(clearTimeout(or),or=null),Nr?cn.push(this):ge.jmp(()=>(be=>{if(0==(1&ge.$flags$)){const Fe=Jt(be),bt=Fe.$cmpMeta$,At=()=>{};if(1&Fe.$flags$)Ve(be,Fe,bt.$listeners$),ve(Fe.$lazyInstance$);else{let $e;if(Fe.$flags$|=1,$e=be.getAttribute(Ee),$e){if(1&bt.$flags$){const Qe=gt(be.shadowRoot,bt,be.getAttribute("s-mode"));be.classList.remove(Qe+"-h",Qe+"-s")}((be,Fe,bt,At)=>{const Qe=be.shadowRoot,Rt=[],Xt=Qe?[]:null,cn=At.$vnode$=qn(Fe,null);ge.$orgLocNodes$||Ii(le.body,ge.$orgLocNodes$=new Map),be[Ee]=bt,be.removeAttribute(Ee),Br(cn,Rt,[],Xt,be,be,bt),Rt.map(Jn=>{const or=Jn.$hostId$+"."+Jn.$nodeId$,Nr=ge.$orgLocNodes$.get(or),Fi=Jn.$elm$;Nr&&""===Nr["s-en"]&&Nr.parentNode.insertBefore(Fi,Nr.nextSibling),Qe||(Fi["s-hn"]=Fe,Nr&&(Fi["s-ol"]=Nr,Fi["s-ol"]["s-nr"]=Fi)),ge.$orgLocNodes$.delete(or)}),Qe&&Xt.map(Jn=>{Jn&&Qe.appendChild(Jn)})})(be,bt.$tagName$,$e,Fe)}$e||12&bt.$flags$&&mt(be);{let Qe=be;for(;Qe=Qe.parentNode||Qe.host;)if(1===Qe.nodeType&&Qe.hasAttribute("s-id")&&Qe["s-p"]||Qe["s-p"]){qe(Fe,Fe.$ancestorComponent$=Qe);break}}bt.$members$&&Object.entries(bt.$members$).map(([Qe,[Rt]])=>{if(31&Rt&&be.hasOwnProperty(Qe)){const an=be[Qe];delete be[Qe],be[Qe]=an}}),ms(()=>J(be,Fe,bt))}At()}})(this))}disconnectedCallback(){ge.jmp(()=>(be=>{if(0==(1&ge.$flags$)){const Fe=Jt(this),bt=Fe.$lazyInstance$;Fe.$rmListeners$&&(Fe.$rmListeners$.map(At=>At()),Fe.$rmListeners$=void 0),Pr(bt,"disconnectedCallback")}})())}componentOnReady(){return Jt(this).$onReadyPromise$}};Dt.$lazyBundleId$=Ni[0],!$e.includes(jt)&&!Qe.get(jt)&&(At.push(jt),Qe.define(jt,Ke(mn,Dt,1)))})}),Xt.innerHTML=At+"{visibility:hidden}.hydrated{visibility:inherit}",Xt.setAttribute("data-styles",""),Rt.insertBefore(Xt,an?an.nextSibling:Rt.firstChild),Nr=!1,cn.length?cn.map(Ni=>Ni.connectedCallback()):ge.jmp(()=>or=setTimeout(Mr,30))},qt=be=>{const Fe=new URL(be,ge.$resourcesUrl$);return Fe.origin!==se.location.origin?Fe.href:Fe.pathname},Fn=new WeakMap,Jt=be=>Fn.get(be),Gn=(be,Fe)=>Fn.set(Fe.$lazyInstance$=be,Fe),ur=(be,Fe)=>{const bt={$flags$:0,$hostElement$:be,$cmpMeta$:Fe,$instanceValues$:new Map};return bt.$onInstancePromise$=new Promise(At=>bt.$onInstanceResolve$=At),bt.$onReadyPromise$=new Promise(At=>bt.$onReadyResolve$=At),be["s-p"]=[],be["s-rc"]=[],Ve(be,bt,Fe.$listeners$),Fn.set(be,bt)},Tr=(be,Fe)=>Fe in be,vr=(be,Fe)=>(0,console.error)(be,Fe),Ar=new Map,Si=(be,Fe,bt)=>{const At=be.$tagName$.replace(/-/g,"_"),$e=be.$lazyBundleId$,Qe=Ar.get($e);return Qe?Qe[At]:F(863)(`./${$e}.entry.js`).then(Rt=>(Ar.set($e,Rt),Rt[At]),vr)},Gi=new Map,Ai=[],oi=[],Xi=[],vi=(be,Fe)=>bt=>{be.push(bt),ce||(ce=!0,Fe&&4&ge.$flags$?ms(ls):ge.raf(ls))},Ss=be=>{for(let Fe=0;Fe<be.length;Fe++)try{be[Fe](performance.now())}catch(bt){vr(bt)}be.length=0},ls=()=>{Ss(oi),Ss(Xi),(ce=oi.length>0)&&ge.raf(ls)},ms=be=>Be().then(be),hs=vi(oi,!1),zi=vi(Xi,!0),Yi={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},3139:(En,vt,F)=>{"use strict";F.r(vt),F.d(vt,{GESTURE_CONTROLLER:()=>s.G,createGesture:()=>De});var s=F(3509);const Q=(ge,Ue,ct,Be)=>{const Le=K(ge)?{capture:!!Be.capture,passive:!!Be.passive}:!!Be.capture;let Ve,Ft;return ge.__zone_symbol__addEventListener?(Ve="__zone_symbol__addEventListener",Ft="__zone_symbol__removeEventListener"):(Ve="addEventListener",Ft="removeEventListener"),ge[Ve](Ue,ct,Le),()=>{ge[Ft](Ue,ct,Le)}},K=ge=>{if(void 0===Re)try{const Ue=Object.defineProperty({},"passive",{get:()=>{Re=!0}});ge.addEventListener("optsTest",()=>{},Ue)}catch{Re=!1}return!!Re};let Re;const me=ge=>ge instanceof Document?ge:ge.ownerDocument,De=ge=>{let Ue=!1,ct=!1,Be=!0,Le=!1;const Ve=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ge),Ft=Ve.canStart,yt=Ve.onWillStart,Mt=Ve.onStart,nt=Ve.onEnd,St=Ve.notCaptured,Pe=Ve.onMove,Xe=Ve.threshold,Ee=Ve.passive,ye=Ve.blurOnStart,Ie={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},he=((ge,Ue,ct)=>{const Be=ct*(Math.PI/180),Le="x"===ge,Ve=Math.cos(Be),Ft=Ue*Ue;let yt=0,Mt=0,nt=!1,St=0;return{start(Pe,Xe){yt=Pe,Mt=Xe,St=0,nt=!0},detect(Pe,Xe){if(!nt)return!1;const Ee=Pe-yt,ye=Xe-Mt,Ie=Ee*Ee+ye*ye;if(Ie<Ft)return!1;const he=Math.sqrt(Ie),_e=(Le?Ee:ye)/he;return St=_e>Ve?1:_e<-Ve?-1:0,nt=!1,!0},isGesture:()=>0!==St,getDirection:()=>St}})(Ve.direction,Ve.threshold,Ve.maxAngle),_e=s.G.createGesture({name:ge.gestureName,priority:ge.gesturePriority,disableScroll:ge.disableScroll}),It=()=>{!Ue||(Le=!1,Pe&&Pe(Ie))},xt=()=>!(_e&&!_e.capture()||(Ue=!0,Be=!1,Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime,yt?yt(Ie).then(Ze):Ze(),0)),Ze=()=>{ye&&(()=>{if(typeof document<"u"){const Lt=document.activeElement;Lt?.blur&&Lt.blur()}})(),Mt&&Mt(Ie),Be=!0},ze=()=>{Ue=!1,ct=!1,Le=!1,Be=!0,_e.release()},st=Lt=>{const Cn=Ue,Bt=Be;if(ze(),Bt){if(ce(Ie,Lt),Cn)return void(nt&&nt(Ie));St&&St(Ie)}},pt=((ge,Ue,ct,Be,Le)=>{let Ve,Ft,yt,Mt,nt,St,Pe,Xe=0;const Ee=gt=>{Xe=Date.now()+2e3,Ue(gt)&&(!Ft&&ct&&(Ft=Q(ge,"touchmove",ct,Le)),yt||(yt=Q(gt.target,"touchend",Ie,Le)),Mt||(Mt=Q(gt.target,"touchcancel",Ie,Le)))},ye=gt=>{Xe>Date.now()||!Ue(gt)||(!St&&ct&&(St=Q(me(ge),"mousemove",ct,Le)),Pe||(Pe=Q(me(ge),"mouseup",he,Le)))},Ie=gt=>{_e(),Be&&Be(gt)},he=gt=>{fe(),Be&&Be(gt)},_e=()=>{Ft&&Ft(),yt&&yt(),Mt&&Mt(),Ft=yt=Mt=void 0},fe=()=>{St&&St(),Pe&&Pe(),St=Pe=void 0},Nt=()=>{_e(),fe()},It=(gt=!0)=>{gt?(Ve||(Ve=Q(ge,"touchstart",Ee,Le)),nt||(nt=Q(ge,"mousedown",ye,Le))):(Ve&&Ve(),nt&&nt(),Ve=nt=void 0,Nt())};return{enable:It,stop:Nt,destroy:()=>{It(!1),Be=ct=Ue=void 0}}})(Ve.el,Lt=>{const Cn=le(Lt);return!(ct||!Be||(se(Lt,Ie),Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime=Cn,Ie.velocityX=Ie.velocityY=Ie.deltaX=Ie.deltaY=0,Ie.event=Lt,Ft&&!1===Ft(Ie))||(_e.release(),!_e.start()))&&(ct=!0,0===Xe?xt():(he.start(Ie.startX,Ie.startY),!0))},Lt=>{Ue?!Le&&Be&&(Le=!0,ce(Ie,Lt),requestAnimationFrame(It)):(ce(Ie,Lt),he.detect(Ie.currentX,Ie.currentY)&&(!he.isGesture()||!xt())&&Tt())},st,{capture:!1,passive:Ee}),Tt=()=>{ze(),pt.stop(),St&&St(Ie)};return{enable(Lt=!0){Lt||(Ue&&st(void 0),ze()),pt.enable(Lt)},destroy(){_e.destroy(),pt.destroy()}}},ce=(ge,Ue)=>{if(!Ue)return;const ct=ge.currentX,Be=ge.currentY,Le=ge.currentTime;se(Ue,ge);const Ve=ge.currentX,Ft=ge.currentY,Mt=(ge.currentTime=le(Ue))-Le;if(Mt>0&&Mt<100){const St=(Ft-Be)/Mt;ge.velocityX=(Ve-ct)/Mt*.7+.3*ge.velocityX,ge.velocityY=.7*St+.3*ge.velocityY}ge.deltaX=Ve-ge.startX,ge.deltaY=Ft-ge.startY,ge.event=Ue},se=(ge,Ue)=>{let ct=0,Be=0;if(ge){const Le=ge.changedTouches;if(Le&&Le.length>0){const Ve=Le[0];ct=Ve.clientX,Be=Ve.clientY}else void 0!==ge.pageX&&(ct=ge.pageX,Be=ge.pageY)}Ue.currentX=ct,Ue.currentY=Be},le=ge=>ge.timeStamp||Date.now()},471:(En,vt,F)=>{"use strict";F.d(vt,{L:()=>Re,a:()=>oe,b:()=>ue,c:()=>me,d:()=>pe,e:()=>Xe,g:()=>Ie,l:()=>St,s:()=>Ee,t:()=>se});var s=F(5861),Q=F(7936),K=F(3756);const Re="ionViewWillEnter",oe="ionViewDidEnter",ue="ionViewWillLeave",me="ionViewDidLeave",pe="ionViewWillUnload",se=he=>new Promise((_e,fe)=>{(0,Q.c)(()=>{le(he),ge(he).then(Nt=>{Nt.animation&&Nt.animation.destroy(),Ue(he),_e(Nt)},Nt=>{Ue(he),fe(Nt)})})}),le=he=>{const _e=he.enteringEl,fe=he.leavingEl;ye(_e,fe,he.direction),he.showGoBack?_e.classList.add("can-go-back"):_e.classList.remove("can-go-back"),Ee(_e,!1),_e.style.setProperty("pointer-events","none"),fe&&(Ee(fe,!1),fe.style.setProperty("pointer-events","none"))},ge=function(){var he=(0,s.Z)(function*(_e){const fe=yield ct(_e);return fe&&Q.B.isBrowser?Be(fe,_e):Le(_e)});return function(fe){return he.apply(this,arguments)}}(),Ue=he=>{const _e=he.enteringEl,fe=he.leavingEl;_e.classList.remove("ion-page-invisible"),_e.style.removeProperty("pointer-events"),void 0!==fe&&(fe.classList.remove("ion-page-invisible"),fe.style.removeProperty("pointer-events"))},ct=function(){var he=(0,s.Z)(function*(_e){return _e.leavingEl&&_e.animated&&0!==_e.duration?_e.animationBuilder?_e.animationBuilder:"ios"===_e.mode?(yield Promise.resolve().then(F.bind(F,9950))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,4802))).mdTransitionAnimation:void 0});return function(fe){return he.apply(this,arguments)}}(),Be=function(){var he=(0,s.Z)(function*(_e,fe){yield Ve(fe,!0);const Nt=_e(fe.baseEl,fe);Mt(fe.enteringEl,fe.leavingEl);const It=yield yt(Nt,fe);return fe.progressCallback&&fe.progressCallback(void 0),It&&nt(fe.enteringEl,fe.leavingEl),{hasCompleted:It,animation:Nt}});return function(fe,Nt){return he.apply(this,arguments)}}(),Le=function(){var he=(0,s.Z)(function*(_e){const fe=_e.enteringEl,Nt=_e.leavingEl;return yield Ve(_e,!1),Mt(fe,Nt),nt(fe,Nt),{hasCompleted:!0}});return function(fe){return he.apply(this,arguments)}}(),Ve=function(){var he=(0,s.Z)(function*(_e,fe){const It=(void 0!==_e.deepWait?_e.deepWait:fe)?[Xe(_e.enteringEl),Xe(_e.leavingEl)]:[Pe(_e.enteringEl),Pe(_e.leavingEl)];yield Promise.all(It),yield Ft(_e.viewIsReady,_e.enteringEl)});return function(fe,Nt){return he.apply(this,arguments)}}(),Ft=function(){var he=(0,s.Z)(function*(_e,fe){_e&&(yield _e(fe))});return function(fe,Nt){return he.apply(this,arguments)}}(),yt=(he,_e)=>{const fe=_e.progressCallback,Nt=new Promise(It=>{he.onFinish(xt=>It(1===xt))});return fe?(he.progressStart(!0),fe(he)):he.play(),Nt},Mt=(he,_e)=>{St(_e,ue),St(he,Re)},nt=(he,_e)=>{St(he,oe),St(_e,me)},St=(he,_e)=>{if(he){const fe=new CustomEvent(_e,{bubbles:!1,cancelable:!1});he.dispatchEvent(fe)}},Pe=he=>he?new Promise(_e=>(0,K.c)(he,_e)):Promise.resolve(),Xe=function(){var he=(0,s.Z)(function*(_e){const fe=_e;if(fe){if(null!=fe.componentOnReady){if(null!=(yield fe.componentOnReady()))return}else if(null!=fe.__registerHost)return void(yield new Promise(It=>(0,K.r)(It)));yield Promise.all(Array.from(fe.children).map(Xe))}});return function(fe){return he.apply(this,arguments)}}(),Ee=(he,_e)=>{_e?(he.setAttribute("aria-hidden","true"),he.classList.add("ion-page-hidden")):(he.hidden=!1,he.removeAttribute("aria-hidden"),he.classList.remove("ion-page-hidden"))},ye=(he,_e,fe)=>{void 0!==he&&(he.style.zIndex="back"===fe?"99":"101"),void 0!==_e&&(_e.style.zIndex="100")},Ie=he=>he.classList.contains("ion-page")?he:he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||he},604:(En,vt,F)=>{"use strict";F.d(vt,{m:()=>se});var s=F(5861),Q=F(7593),K=F(3756),Re=F(1671),oe=F(9442);const ue=le=>(0,oe.c)().duration(le?400:300),me=le=>{let ge,Ue;const ct=le.width+8,Be=(0,oe.c)(),Le=(0,oe.c)();le.isEndSide?(ge=ct+"px",Ue="0px"):(ge=-ct+"px",Ue="0px"),Be.addElement(le.menuInnerEl).fromTo("transform",`translateX(${ge})`,`translateX(${Ue})`);const Ft="ios"===(0,Re.b)(le),yt=Ft?.2:.25;return Le.addElement(le.backdropEl).fromTo("opacity",.01,yt),ue(Ft).addAnimation([Be,Le])},pe=le=>{let ge,Ue;const ct=(0,Re.b)(le),Be=le.width;le.isEndSide?(ge=-Be+"px",Ue=Be+"px"):(ge=Be+"px",Ue=-Be+"px");const Le=(0,oe.c)().addElement(le.menuInnerEl).fromTo("transform",`translateX(${Ue})`,"translateX(0px)"),Ve=(0,oe.c)().addElement(le.contentEl).fromTo("transform","translateX(0px)",`translateX(${ge})`),Ft=(0,oe.c)().addElement(le.backdropEl).fromTo("opacity",.01,.32);return ue("ios"===ct).addAnimation([Le,Ve,Ft])},De=le=>{const ge=(0,Re.b)(le),Ue=le.width*(le.isEndSide?-1:1)+"px",ct=(0,oe.c)().addElement(le.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ue})`);return ue("ios"===ge).addAnimation(ct)},se=(()=>{const le=new Map,ge=[],Ue=function(){var Ze=(0,s.Z)(function*(ze){const st=yield Mt(ze);return!!st&&st.open()});return function(st){return Ze.apply(this,arguments)}}(),ct=function(){var Ze=(0,s.Z)(function*(ze){const st=yield void 0!==ze?Mt(ze):nt();return void 0!==st&&st.close()});return function(st){return Ze.apply(this,arguments)}}(),Be=function(){var Ze=(0,s.Z)(function*(ze){const st=yield Mt(ze);return!!st&&st.toggle()});return function(st){return Ze.apply(this,arguments)}}(),Le=function(){var Ze=(0,s.Z)(function*(ze,st){const pt=yield Mt(st);return pt&&(pt.disabled=!ze),pt});return function(st,pt){return Ze.apply(this,arguments)}}(),Ve=function(){var Ze=(0,s.Z)(function*(ze,st){const pt=yield Mt(st);return pt&&(pt.swipeGesture=ze),pt});return function(st,pt){return Ze.apply(this,arguments)}}(),Ft=function(){var Ze=(0,s.Z)(function*(ze){if(null!=ze){const st=yield Mt(ze);return void 0!==st&&st.isOpen()}return void 0!==(yield nt())});return function(st){return Ze.apply(this,arguments)}}(),yt=function(){var Ze=(0,s.Z)(function*(ze){const st=yield Mt(ze);return!!st&&!st.disabled});return function(st){return Ze.apply(this,arguments)}}(),Mt=function(){var Ze=(0,s.Z)(function*(ze){return yield gt(),"start"===ze||"end"===ze?xt(Tt=>Tt.side===ze&&!Tt.disabled)||xt(Tt=>Tt.side===ze):null!=ze?xt(pt=>pt.menuId===ze):xt(pt=>!pt.disabled)||(ge.length>0?ge[0].el:void 0)});return function(st){return Ze.apply(this,arguments)}}(),nt=function(){var Ze=(0,s.Z)(function*(){return yield gt(),fe()});return function(){return Ze.apply(this,arguments)}}(),St=function(){var Ze=(0,s.Z)(function*(){return yield gt(),Nt()});return function(){return Ze.apply(this,arguments)}}(),Pe=function(){var Ze=(0,s.Z)(function*(){return yield gt(),It()});return function(){return Ze.apply(this,arguments)}}(),Xe=(Ze,ze)=>{le.set(Ze,ze)},Ie=Ze=>{const ze=Ze.side;ge.filter(st=>st.side===ze&&st!==Ze).forEach(st=>st.disabled=!0)},he=function(){var Ze=(0,s.Z)(function*(ze,st,pt){if(It())return!1;if(st){const Tt=yield nt();Tt&&ze.el!==Tt&&(yield Tt.setOpen(!1,!1))}return ze._setOpen(st,pt)});return function(st,pt,Tt){return Ze.apply(this,arguments)}}(),fe=()=>xt(Ze=>Ze._isOpen),Nt=()=>ge.map(Ze=>Ze.el),It=()=>ge.some(Ze=>Ze.isAnimating),xt=Ze=>{const ze=ge.find(Ze);if(void 0!==ze)return ze.el},gt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ze=>new Promise(ze=>(0,K.c)(Ze,ze))));return Xe("reveal",De),Xe("push",pe),Xe("overlay",me),typeof document<"u"&&document.addEventListener("ionBackButton",Ze=>{const ze=fe();ze&&Ze.detail.register(Q.MENU_BACK_BUTTON_PRIORITY,()=>ze.close())}),{registerAnimation:Xe,get:Mt,getMenus:St,getOpen:nt,isEnabled:yt,swipeGesture:Ve,isAnimating:Pe,isOpen:Ft,enable:Le,toggle:Be,close:ct,open:Ue,_getOpenSync:fe,_createAnimation:(Ze,ze)=>{const st=le.get(Ze);if(!st)throw new Error("animation not registered");return st(ze)},_register:Ze=>{ge.indexOf(Ze)<0&&(Ze.disabled||Ie(Ze),ge.push(Ze))},_unregister:Ze=>{const ze=ge.indexOf(Ze);ze>-1&&ge.splice(ze,1)},_setOpen:he,_setActiveMenu:Ie}})()},1671:(En,vt,F)=>{"use strict";F.d(vt,{a:()=>se,b:()=>It,c:()=>K,g:()=>ce,i:()=>xt});var s=F(7936);class Q{constructor(){this.m=new Map}reset(Ze){this.m=new Map(Object.entries(Ze))}get(Ze,ze){const st=this.m.get(Ze);return void 0!==st?st:ze}getBoolean(Ze,ze=!1){const st=this.m.get(Ze);return void 0===st?ze:"string"==typeof st?"true"===st:!!st}getNumber(Ze,ze){const st=parseFloat(this.m.get(Ze));return isNaN(st)?void 0!==ze?ze:NaN:st}set(Ze,ze){this.m.set(Ze,ze)}}const K=new Q,De="ionic-persist-config",ce=gt=>le(gt),se=(gt,Ze)=>("string"==typeof gt&&(Ze=gt,gt=void 0),ce(gt).includes(Ze)),le=(gt=window)=>{if(typeof gt>"u")return[];gt.Ionic=gt.Ionic||{};let Ze=gt.Ionic.platforms;return null==Ze&&(Ze=gt.Ionic.platforms=ge(gt),Ze.forEach(ze=>gt.document.documentElement.classList.add(`plt-${ze}`))),Ze},ge=gt=>{const Ze=K.get("platform");return Object.keys(fe).filter(ze=>{const st=Ze?.[ze];return"function"==typeof st?st(gt):fe[ze](gt)})},ct=gt=>!!(he(gt,/iPad/i)||he(gt,/Macintosh/i)&&nt(gt)),Ve=gt=>he(gt,/android|sink/i),nt=gt=>_e(gt,"(any-pointer:coarse)"),Pe=gt=>Xe(gt)||Ee(gt),Xe=gt=>!!(gt.cordova||gt.phonegap||gt.PhoneGap),Ee=gt=>!!gt.Capacitor?.isNative,he=(gt,Ze)=>Ze.test(gt.navigator.userAgent),_e=(gt,Ze)=>{var ze;return null===(ze=gt.matchMedia)||void 0===ze?void 0:ze.call(gt,Ze).matches},fe={ipad:ct,iphone:gt=>he(gt,/iPhone/i),ios:gt=>he(gt,/iPhone|iPod/i)||ct(gt),android:Ve,phablet:gt=>{const Ze=gt.innerWidth,ze=gt.innerHeight,st=Math.min(Ze,ze),pt=Math.max(Ze,ze);return st>390&&st<520&&pt>620&&pt<800},tablet:gt=>{const Ze=gt.innerWidth,ze=gt.innerHeight,st=Math.min(Ze,ze),pt=Math.max(Ze,ze);return ct(gt)||(gt=>Ve(gt)&&!he(gt,/mobile/i))(gt)||st>460&&st<820&&pt>780&&pt<1400},cordova:Xe,capacitor:Ee,electron:gt=>he(gt,/electron/i),pwa:gt=>{var Ze;return!(!(null===(Ze=gt.matchMedia)||void 0===Ze?void 0:Ze.call(gt,"(display-mode: standalone)").matches)&&!gt.navigator.standalone)},mobile:nt,mobileweb:gt=>nt(gt)&&!Pe(gt),desktop:gt=>!nt(gt),hybrid:Pe};let Nt;const It=gt=>gt&&(0,s.g)(gt)||Nt,xt=(gt={})=>{if(typeof window>"u")return;const Ze=window.document,ze=window,st=ze.Ionic=ze.Ionic||{},pt={};gt._ael&&(pt.ael=gt._ael),gt._rel&&(pt.rel=gt._rel),gt._ce&&(pt.ce=gt._ce),(0,s.s)(pt);const Tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(gt=>{try{const Ze=gt.sessionStorage.getItem(De);return null!==Ze?JSON.parse(Ze):{}}catch{return{}}})(ze)),{persistConfig:!1}),st.config),(gt=>{const Ze={};return gt.location.search.slice(1).split("&").map(ze=>ze.split("=")).map(([ze,st])=>[decodeURIComponent(ze),decodeURIComponent(st)]).filter(([ze])=>((gt,Ze)=>gt.substr(0,Ze.length)===Ze)(ze,"ionic:")).map(([ze,st])=>[ze.slice("ionic:".length),st]).forEach(([ze,st])=>{Ze[ze]=st}),Ze})(ze)),gt);K.reset(Tt),K.getBoolean("persistConfig")&&((gt,Ze)=>{try{gt.sessionStorage.setItem(De,JSON.stringify(Ze))}catch{return}})(ze,Tt),le(ze),st.config=K,st.mode=Nt=K.get("mode",Ze.documentElement.getAttribute("mode")||(se(ze,"ios")?"ios":"md")),K.set("mode",Nt),Ze.documentElement.setAttribute("mode",Nt),Ze.documentElement.classList.add(Nt),K.getBoolean("_testing")&&K.set("animated",!1);const Lt=Bt=>{var bn;return null===(bn=Bt.tagName)||void 0===bn?void 0:bn.startsWith("ION-")},Cn=Bt=>["ios","md"].includes(Bt);(0,s.a)(Bt=>{for(;Bt;){const bn=Bt.mode||Bt.getAttribute("mode");if(bn){if(Cn(bn))return bn;Lt(Bt)&&console.warn('Invalid ionic mode: "'+bn+'", expected: "ios" or "md"')}Bt=Bt.parentElement}return Nt})}},9950:(En,vt,F)=>{"use strict";F.r(vt),F.d(vt,{iosTransitionAnimation:()=>le,shadow:()=>ue});var s=F(9442),Q=F(471);F(7936);const oe=ge=>document.querySelector(`${ge}.ion-cloned-element`),ue=ge=>ge.shadowRoot||ge,me=ge=>{const Ue="ION-TABS"===ge.tagName?ge:ge.querySelector("ion-tabs"),ct="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ue){const Be=Ue.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Be?Be.querySelector(ct):null}return ge.querySelector(ct)},pe=(ge,Ue)=>{const ct="ION-TABS"===ge.tagName?ge:ge.querySelector("ion-tabs");let Be=[];if(null!=ct){const Le=ct.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Le&&(Be=Le.querySelectorAll("ion-buttons"))}else Be=ge.querySelectorAll("ion-buttons");for(const Le of Be){const Ve=Le.closest("ion-header"),Ft=Ve&&!Ve.classList.contains("header-collapse-condense-inactive"),yt=Le.querySelector("ion-back-button"),Mt=Le.classList.contains("buttons-collapse"),nt="start"===Le.slot||""===Le.slot;if(null!==yt&&nt&&(Mt&&Ft&&Ue||!Mt))return yt}return null},ce=(ge,Ue,ct,Be,Le,Ve)=>{const Ft=Ue?`calc(100% - ${Ve.right+4}px)`:Ve.left-4+"px",yt=Ue?"7px":"-7px",Mt=Ue?"-4px":"4px",nt=Ue?"-4px":"4px",St=Ue?"right":"left",Pe=Ue?"left":"right",ye=ct?[{offset:0,opacity:1,transform:`translate3d(${Mt}, ${Ve.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${yt}, ${Le.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${yt}, ${Le.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Mt}, ${Ve.top-46}px, 0) scale(1)`}],_e=ct?[{offset:0,opacity:1,transform:`translate3d(${nt}, ${Ve.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${nt}, ${Ve.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${nt}, ${Ve.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${nt}, ${Ve.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${nt}, ${Ve.top-46}px, 0) scale(1)`}],fe=(0,s.c)(),Nt=(0,s.c)(),It=oe("ion-back-button"),xt=ue(It).querySelector(".button-text"),gt=ue(It).querySelector("ion-icon");It.text=Be.text,It.mode=Be.mode,It.icon=Be.icon,It.color=Be.color,It.disabled=Be.disabled,It.style.setProperty("display","block"),It.style.setProperty("position","fixed"),Nt.addElement(gt),fe.addElement(xt),fe.beforeStyles({"transform-origin":`${St} center`}).beforeAddWrite(()=>{Be.style.setProperty("display","none"),It.style.setProperty(St,Ft)}).afterAddWrite(()=>{Be.style.setProperty("display",""),It.style.setProperty("display","none"),It.style.removeProperty(St)}).keyframes(ye),Nt.beforeStyles({"transform-origin":`${Pe} center`}).keyframes(_e),ge.addAnimation([fe,Nt])},se=(ge,Ue,ct,Be,Le,Ve)=>{const Ft=Ue?`calc(100% - ${Le.right}px)`:`${Le.left}px`,yt=Ue?"-18px":"18px",Mt=Ue?"right":"left",Pe=ct?[{offset:0,opacity:0,transform:`translate3d(${yt}, ${Ve.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Le.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Le.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${yt}, ${Ve.top-4}px, 0) scale(0.5)`}],Xe=oe("ion-title"),Ee=(0,s.c)();Xe.innerText=Be.innerText,Xe.size=Be.size,Xe.color=Be.color,Ee.addElement(Xe),Ee.beforeStyles({"transform-origin":`${Mt} center`,height:"46px",display:"",position:"relative",[Mt]:Ft}).beforeAddWrite(()=>{Be.style.setProperty("display","none")}).afterAddWrite(()=>{Be.style.setProperty("display",""),Xe.style.setProperty("display","none")}).keyframes(Pe),ge.addAnimation(Ee)},le=(ge,Ue)=>{try{const ct="cubic-bezier(0.32,0.72,0,1)",Be="opacity",Le="transform",Ve="0%",yt="rtl"===ge.ownerDocument.dir,Mt=yt?"-99.5%":"99.5%",nt=yt?"33%":"-33%",St=Ue.enteringEl,Pe=Ue.leavingEl,Xe="back"===Ue.direction,Ee=St.querySelector(":scope > ion-content"),ye=St.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ie=St.querySelectorAll(":scope > ion-header > ion-toolbar"),he=(0,s.c)(),_e=(0,s.c)();if(he.addElement(St).duration(Ue.duration||540).easing(Ue.easing||ct).fill("both").beforeRemoveClass("ion-page-invisible"),Pe&&ge){const xt=(0,s.c)();xt.addElement(ge),he.addAnimation(xt)}if(Ee||0!==Ie.length||0!==ye.length?(_e.addElement(Ee),_e.addElement(ye)):_e.addElement(St.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),he.addAnimation(_e),Xe?_e.beforeClearStyles([Be]).fromTo("transform",`translateX(${nt})`,`translateX(${Ve})`).fromTo(Be,.8,1):_e.beforeClearStyles([Be]).fromTo("transform",`translateX(${Mt})`,`translateX(${Ve})`),Ee){const xt=ue(Ee).querySelector(".transition-effect");if(xt){const gt=xt.querySelector(".transition-cover"),Ze=xt.querySelector(".transition-shadow"),ze=(0,s.c)(),st=(0,s.c)(),pt=(0,s.c)();ze.addElement(xt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),st.addElement(gt).beforeClearStyles([Be]).fromTo(Be,0,.1),pt.addElement(Ze).beforeClearStyles([Be]).fromTo(Be,.03,.7),ze.addAnimation([st,pt]),_e.addAnimation([ze])}}const fe=St.querySelector("ion-header.header-collapse-condense"),{forward:Nt,backward:It}=((ge,Ue,ct,Be,Le)=>{const Ve=pe(Be,ct),Ft=me(Le),yt=me(Be),Mt=pe(Le,ct),nt=null!==Ve&&null!==Ft&&!ct,St=null!==yt&&null!==Mt&&ct;if(nt){const Pe=Ft.getBoundingClientRect(),Xe=Ve.getBoundingClientRect();se(ge,Ue,ct,Ft,Pe,Xe),ce(ge,Ue,ct,Ve,Pe,Xe)}else if(St){const Pe=yt.getBoundingClientRect(),Xe=Mt.getBoundingClientRect();se(ge,Ue,ct,yt,Pe,Xe),ce(ge,Ue,ct,Mt,Pe,Xe)}return{forward:nt,backward:St}})(he,yt,Xe,St,Pe);if(Ie.forEach(xt=>{const gt=(0,s.c)();gt.addElement(xt),he.addAnimation(gt);const Ze=(0,s.c)();Ze.addElement(xt.querySelector("ion-title"));const ze=(0,s.c)(),st=Array.from(xt.querySelectorAll("ion-buttons,[menuToggle]")),pt=xt.closest("ion-header"),Tt=pt?.classList.contains("header-collapse-condense-inactive");let Lt;Lt=st.filter(Xe?we=>{const Kn=we.classList.contains("buttons-collapse");return Kn&&!Tt||!Kn}:we=>!we.classList.contains("buttons-collapse")),ze.addElement(Lt);const Cn=(0,s.c)();Cn.addElement(xt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Bt=(0,s.c)();Bt.addElement(ue(xt).querySelector(".toolbar-background"));const bn=(0,s.c)(),Sn=xt.querySelector("ion-back-button");if(Sn&&bn.addElement(Sn),gt.addAnimation([Ze,ze,Cn,Bt,bn]),ze.fromTo(Be,.01,1),Cn.fromTo(Be,.01,1),Xe)Tt||Ze.fromTo("transform",`translateX(${nt})`,`translateX(${Ve})`).fromTo(Be,.01,1),Cn.fromTo("transform",`translateX(${nt})`,`translateX(${Ve})`),bn.fromTo(Be,.01,1);else if(fe||Ze.fromTo("transform",`translateX(${Mt})`,`translateX(${Ve})`).fromTo(Be,.01,1),Cn.fromTo("transform",`translateX(${Mt})`,`translateX(${Ve})`),Bt.beforeClearStyles([Be,"transform"]),pt?.translucent?Bt.fromTo("transform",yt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Bt.fromTo(Be,.01,"var(--opacity)"),Nt||bn.fromTo(Be,.01,1),Sn&&!Nt){const Kn=(0,s.c)();Kn.addElement(ue(Sn).querySelector(".button-text")).fromTo("transform",yt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),gt.addAnimation(Kn)}}),Pe){const xt=(0,s.c)(),gt=Pe.querySelector(":scope > ion-content"),Ze=Pe.querySelectorAll(":scope > ion-header > ion-toolbar"),ze=Pe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(gt||0!==Ze.length||0!==ze.length?(xt.addElement(gt),xt.addElement(ze)):xt.addElement(Pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),he.addAnimation(xt),Xe){xt.beforeClearStyles([Be]).fromTo("transform",`translateX(${Ve})`,yt?"translateX(-100%)":"translateX(100%)");const st=(0,Q.g)(Pe);he.afterAddWrite(()=>{"normal"===he.getDirection()&&st.style.setProperty("display","none")})}else xt.fromTo("transform",`translateX(${Ve})`,`translateX(${nt})`).fromTo(Be,1,.8);if(gt){const st=ue(gt).querySelector(".transition-effect");if(st){const pt=st.querySelector(".transition-cover"),Tt=st.querySelector(".transition-shadow"),Lt=(0,s.c)(),Cn=(0,s.c)(),Bt=(0,s.c)();Lt.addElement(st).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Cn.addElement(pt).beforeClearStyles([Be]).fromTo(Be,.1,0),Bt.addElement(Tt).beforeClearStyles([Be]).fromTo(Be,.7,.03),Lt.addAnimation([Cn,Bt]),xt.addAnimation([Lt])}}Ze.forEach(st=>{const pt=(0,s.c)();pt.addElement(st);const Tt=(0,s.c)();Tt.addElement(st.querySelector("ion-title"));const Lt=(0,s.c)(),Cn=st.querySelectorAll("ion-buttons,[menuToggle]"),Bt=st.closest("ion-header"),bn=Bt?.classList.contains("header-collapse-condense-inactive"),Sn=Array.from(Cn).filter(Ln=>{const er=Ln.classList.contains("buttons-collapse");return er&&!bn||!er});Lt.addElement(Sn);const we=(0,s.c)(),Kn=st.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Kn.length>0&&we.addElement(Kn);const qn=(0,s.c)();qn.addElement(ue(st).querySelector(".toolbar-background"));const _r=(0,s.c)(),fi=st.querySelector("ion-back-button");if(fi&&_r.addElement(fi),pt.addAnimation([Tt,Lt,we,_r,qn]),he.addAnimation(pt),_r.fromTo(Be,.99,0),Lt.fromTo(Be,.99,0),we.fromTo(Be,.99,0),Xe){if(bn||Tt.fromTo("transform",`translateX(${Ve})`,yt?"translateX(-100%)":"translateX(100%)").fromTo(Be,.99,0),we.fromTo("transform",`translateX(${Ve})`,yt?"translateX(-100%)":"translateX(100%)"),qn.beforeClearStyles([Be,"transform"]),Bt?.translucent?qn.fromTo("transform","translateX(0px)",yt?"translateX(-100%)":"translateX(100%)"):qn.fromTo(Be,"var(--opacity)",0),fi&&!It){const er=(0,s.c)();er.addElement(ue(fi).querySelector(".button-text")).fromTo("transform",`translateX(${Ve})`,`translateX(${(yt?-124:124)+"px"})`),pt.addAnimation(er)}}else bn||Tt.fromTo("transform",`translateX(${Ve})`,`translateX(${nt})`).fromTo(Be,.99,0).afterClearStyles([Le,Be]),we.fromTo("transform",`translateX(${Ve})`,`translateX(${nt})`).afterClearStyles([Le,Be]),_r.afterClearStyles([Be]),Tt.afterClearStyles([Be]),Lt.afterClearStyles([Be])})}return he}catch(ct){throw ct}}},4802:(En,vt,F)=>{"use strict";F.r(vt),F.d(vt,{mdTransitionAnimation:()=>Re});var s=F(9442),Q=F(471);F(7936);const Re=(oe,ue)=>{const De="back"===ue.direction,se=ue.leavingEl,le=(0,Q.g)(ue.enteringEl),ge=le.querySelector("ion-toolbar"),Ue=(0,s.c)();if(Ue.addElement(le).fill("both").beforeRemoveClass("ion-page-invisible"),De?Ue.duration(ue.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ue.duration(ue.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ge){const ct=(0,s.c)();ct.addElement(ge),Ue.addAnimation(ct)}if(se&&De){Ue.duration(ue.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ct=(0,s.c)();ct.addElement((0,Q.g)(se)).onFinish(Be=>{1===Be&&ct.elements.length>0&&ct.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ue.addAnimation(ct)}return Ue}},4239:(En,vt,F)=>{"use strict";F.d(vt,{B:()=>ze,a:()=>pe,b:()=>De,c:()=>ge,d:()=>ye,e:()=>ct,f:()=>he,g:()=>Nt,h:()=>ue,i:()=>xt,j:()=>Ve,k:()=>Xe,m:()=>se,s:()=>Ze,t:()=>Ue});var s=F(5861),Q=F(1671),K=F(7593),Re=F(3756);let oe=0;const ue=new WeakMap,me=st=>({create:pt=>Be(st,pt),dismiss:(pt,Tt,Lt)=>St(document,pt,Tt,st,Lt),getTop:()=>(0,s.Z)(function*(){return Xe(document,st)})()}),pe=me("ion-alert"),De=me("ion-action-sheet"),se=me("ion-modal"),ge=me("ion-popover"),Ue=me("ion-toast"),ct=st=>{typeof document<"u"&&nt(document);const pt=oe++;st.overlayIndex=pt,st.hasAttribute("id")||(st.id=`ion-overlay-${pt}`)},Be=(st,pt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(st).then(()=>{const Tt=document.createElement(st);return Tt.classList.add("overlay-hidden"),Object.assign(Tt,Object.assign(Object.assign({},pt),{hasController:!0})),_e(document).appendChild(Tt),new Promise(Lt=>(0,Re.c)(Tt,Lt))}):Promise.resolve(),Le='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Ve=(st,pt)=>{let Tt=st.querySelector(Le);const Lt=Tt?.shadowRoot;Lt&&(Tt=Lt.querySelector(Le)||Tt),Tt?(0,Re.f)(Tt):pt.focus()},yt=(st,pt)=>{const Tt=Array.from(st.querySelectorAll(Le));let Lt=Tt.length>0?Tt[Tt.length-1]:null;const Cn=Lt?.shadowRoot;Cn&&(Lt=Cn.querySelector(Le)||Lt),Lt?Lt.focus():pt.focus()},nt=st=>{0===oe&&(oe=1,st.addEventListener("focus",pt=>{((st,pt)=>{const Tt=Xe(pt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Lt=st.target;Tt&&Lt&&!Tt.classList.contains("ion-disable-focus-trap")&&(Tt.shadowRoot?(()=>{if(Tt.contains(Lt))Tt.lastFocus=Lt;else{const bn=Tt.lastFocus;Ve(Tt,Tt),bn===pt.activeElement&&yt(Tt,Tt),Tt.lastFocus=pt.activeElement}})():(()=>{if(Tt===Lt)Tt.lastFocus=void 0;else{const bn=(0,Re.g)(Tt);if(!bn.contains(Lt))return;const Sn=bn.querySelector(".ion-overlay-wrapper");if(!Sn)return;if(Sn.contains(Lt))Tt.lastFocus=Lt;else{const we=Tt.lastFocus;Ve(Sn,Tt),we===pt.activeElement&&yt(Sn,Tt),Tt.lastFocus=pt.activeElement}}})())})(pt,st)},!0),st.addEventListener("ionBackButton",pt=>{const Tt=Xe(st);Tt?.backdropDismiss&&pt.detail.register(K.OVERLAY_BACK_BUTTON_PRIORITY,()=>Tt.dismiss(void 0,ze))}),st.addEventListener("keyup",pt=>{if("Escape"===pt.key){const Tt=Xe(st);Tt?.backdropDismiss&&Tt.dismiss(void 0,ze)}}))},St=(st,pt,Tt,Lt,Cn)=>{const Bt=Xe(st,Lt,Cn);return Bt?Bt.dismiss(pt,Tt):Promise.reject("overlay does not exist")},Xe=(st,pt,Tt)=>{const Lt=((st,pt)=>(void 0===pt&&(pt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(st.querySelectorAll(pt)).filter(Tt=>Tt.overlayIndex>0)))(st,pt).filter(Cn=>!(st=>st.classList.contains("overlay-hidden"))(Cn));return void 0===Tt?Lt[Lt.length-1]:Lt.find(Cn=>Cn.id===Tt)},Ee=(st=!1)=>{const Tt=_e(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Tt||(st?Tt.setAttribute("aria-hidden","true"):Tt.removeAttribute("aria-hidden"))},ye=function(){var st=(0,s.Z)(function*(pt,Tt,Lt,Cn,Bt){var bn,Sn;if(pt.presented)return;Ee(!0),pt.presented=!0,pt.willPresent.emit(),null===(bn=pt.willPresentShorthand)||void 0===bn||bn.emit();const we=(0,Q.b)(pt),Kn=pt.enterAnimation?pt.enterAnimation:Q.c.get(Tt,"ios"===we?Lt:Cn);(yield fe(pt,Kn,pt.el,Bt))&&(pt.didPresent.emit(),null===(Sn=pt.didPresentShorthand)||void 0===Sn||Sn.emit()),"ION-TOAST"!==pt.el.tagName&&Ie(pt.el),pt.keyboardClose&&(null===document.activeElement||!pt.el.contains(document.activeElement))&&pt.el.focus()});return function(Tt,Lt,Cn,Bt,bn){return st.apply(this,arguments)}}(),Ie=function(){var st=(0,s.Z)(function*(pt){let Tt=document.activeElement;if(!Tt)return;const Lt=Tt?.shadowRoot;Lt&&(Tt=Lt.querySelector(Le)||Tt),yield pt.onDidDismiss(),Tt.focus()});return function(Tt){return st.apply(this,arguments)}}(),he=function(){var st=(0,s.Z)(function*(pt,Tt,Lt,Cn,Bt,bn,Sn){var we,Kn;if(!pt.presented)return!1;Ee(!1),pt.presented=!1;try{pt.el.style.setProperty("pointer-events","none"),pt.willDismiss.emit({data:Tt,role:Lt}),null===(we=pt.willDismissShorthand)||void 0===we||we.emit({data:Tt,role:Lt});const qn=(0,Q.b)(pt),_r=pt.leaveAnimation?pt.leaveAnimation:Q.c.get(Cn,"ios"===qn?Bt:bn);"gesture"!==Lt&&(yield fe(pt,_r,pt.el,Sn)),pt.didDismiss.emit({data:Tt,role:Lt}),null===(Kn=pt.didDismissShorthand)||void 0===Kn||Kn.emit({data:Tt,role:Lt}),ue.delete(pt),pt.el.classList.add("overlay-hidden"),pt.el.style.removeProperty("pointer-events")}catch(qn){console.error(qn)}return pt.el.remove(),!0});return function(Tt,Lt,Cn,Bt,bn,Sn,we){return st.apply(this,arguments)}}(),_e=st=>st.querySelector("ion-app")||st.body,fe=function(){var st=(0,s.Z)(function*(pt,Tt,Lt,Cn){Lt.classList.remove("overlay-hidden");const bn=Tt(pt.el,Cn);(!pt.animated||!Q.c.getBoolean("animated",!0))&&bn.duration(0),pt.keyboardClose&&bn.beforeAddWrite(()=>{const we=Lt.ownerDocument.activeElement;we?.matches("input,ion-input, ion-textarea")&&we.blur()});const Sn=ue.get(pt)||[];return ue.set(pt,[...Sn,bn]),yield bn.play(),!0});return function(Tt,Lt,Cn,Bt){return st.apply(this,arguments)}}(),Nt=(st,pt)=>{let Tt;const Lt=new Promise(Cn=>Tt=Cn);return It(st,pt,Cn=>{Tt(Cn.detail)}),Lt},It=(st,pt,Tt)=>{const Lt=Cn=>{(0,Re.b)(st,pt,Lt),Tt(Cn)};(0,Re.a)(st,pt,Lt)},xt=st=>"cancel"===st||st===ze,gt=st=>st(),Ze=(st,pt)=>{if("function"==typeof st)return Q.c.get("_zoneGate",gt)(()=>{try{return st(pt)}catch(Lt){throw Lt}})},ze="backdrop"},6738:(En,vt,F)=>{"use strict";F.d(vt,{H:()=>hn,a:()=>Lt,b:()=>Ii,c:()=>ni,d:()=>ot,g:()=>Ke,h:()=>er,r:()=>Ve});var s=F(5861);let oe,ue,K=0,Re=!1,me=!1;const pe=typeof window<"u"?window:{},De=pe.CSS,ce=pe.document||{head:{}},se={$flags$:0,$resourcesUrl$:"",jmp:J=>J(),raf:J=>requestAnimationFrame(J),ael:(J,ve,et,mt)=>J.addEventListener(ve,et,mt),rel:(J,ve,et,mt)=>J.removeEventListener(ve,et,mt)},le=(()=>(ce.head.attachShadow+"").indexOf("[native")>-1)(),ge=J=>Promise.resolve(J),Ue=(()=>{try{return new CSSStyleSheet,!0}catch{}return!1})(),ct={},Be=new WeakMap,Le=J=>Be.get(J),Ve=(J,ve)=>Be.set(ve.$lazyInstance$=J,ve),yt=(J,ve)=>ve in J,Mt=J=>console.error(J),nt=new Map,Pe=new Map,Xe=[],Ee=[],ye=[],Ie=(J,ve)=>et=>{J.push(et),Re||(Re=!0,ve&&4&se.$flags$?Nt(fe):se.raf(fe))},_e=(J,ve)=>{let et=0,mt=0;for(;et<J.length&&(mt=performance.now())<ve;)try{J[et++](mt)}catch(Vt){Mt(Vt)}et===J.length?J.length=0:0!==et&&J.splice(0,et)},fe=()=>{K++,(J=>{for(let ve=0;ve<J.length;ve++)try{J[ve](performance.now())}catch(et){Mt(et)}J.length=0})(Xe);const J=2==(6&se.$flags$)?performance.now()+10*Math.ceil(K*(1/22)):1/0;_e(Ee,J),_e(ye,J),Ee.length>0&&(ye.push(...Ee),Ee.length=0),(Re=Xe.length+Ee.length+ye.length>0)?se.raf(fe):K=0},Nt=J=>ge().then(J),It=Ie(Xe,!1),xt=Ie(Ee,!0),gt={},pt=J=>"object"==(J=typeof J)||"function"===J,Lt=()=>De&&De.supports&&De.supports("color","var(--c)")?ge():F.e(4952).then(F.t.bind(F,9723,23)).then(()=>(se.$cssShim$=pe.__cssshim)?se.$cssShim$.i():0),Kn=new WeakMap,Ln=(J,ve)=>"sc-"+J,er=(J,ve,...et)=>{let mt=null,Vt=!1,Kt=!1,qt=[];const Fn=Gn=>{for(let ur=0;ur<Gn.length;ur++)mt=Gn[ur],Array.isArray(mt)?Fn(mt):null!=mt&&"boolean"!=typeof mt&&((Vt="function"!=typeof J&&!pt(mt))&&(mt=String(mt)),Vt&&Kt?qt[qt.length-1].$text$+=mt:qt.push(Vt?tn(null,mt):mt),Kt=Vt)};if(Fn(et),ve){const Gn=ve.className||ve.class;Gn&&(ve.class="object"!=typeof Gn?Gn:Object.keys(Gn).filter(ur=>Gn[ur]).join(" "))}const Jt=tn(J,null);return Jt.$attrs$=ve,qt.length>0&&(Jt.$children$=qt),Jt},tn=(J,ve)=>({$flags$:0,$tag$:J,$text$:ve,$elm$:null,$children$:null,$attrs$:null}),hn={},kr=(J,ve,et,mt,Vt,Kt)=>{if(et!==mt){let qt=yt(J,ve),Fn=ve.toLowerCase();if("class"===ve){const Jt=J.classList,Gn=gr(et),ur=gr(mt);Jt.remove(...Gn.filter(Tr=>Tr&&!ur.includes(Tr))),Jt.add(...ur.filter(Tr=>Tr&&!Gn.includes(Tr)))}else if("style"===ve){for(const Jt in et)(!mt||null==mt[Jt])&&(Jt.includes("-")?J.style.removeProperty(Jt):J.style[Jt]="");for(const Jt in mt)(!et||mt[Jt]!==et[Jt])&&(Jt.includes("-")?J.style.setProperty(Jt,mt[Jt]):J.style[Jt]=mt[Jt])}else if("ref"===ve)mt&&mt(J);else if(qt||"o"!==ve[0]||"n"!==ve[1]){const Jt=pt(mt);if((qt||Jt&&null!==mt)&&!Vt)try{if(J.tagName.includes("-"))J[ve]=mt;else{let Gn=mt??"";"list"===ve?qt=!1:(null==et||J[ve]!=Gn)&&(J[ve]=Gn)}}catch{}null==mt||!1===mt?J.removeAttribute(ve):(!qt||4&Kt||Vt)&&!Jt&&J.setAttribute(ve,mt=!0===mt?"":mt)}else ve="-"===ve[2]?ve.slice(3):yt(pe,Fn)?Fn.slice(2):Fn[2]+ve.slice(3),et&&se.rel(J,ve,et,!1),mt&&se.ael(J,ve,mt,!1)}},Hn=/\s/,gr=J=>J?J.split(Hn):[],Er=(J,ve,et,mt)=>{const Vt=11===ve.$elm$.nodeType&&ve.$elm$.host?ve.$elm$.host:ve.$elm$,Kt=J&&J.$attrs$||gt,qt=ve.$attrs$||gt;for(mt in Kt)mt in qt||kr(Vt,mt,Kt[mt],void 0,et,ve.$flags$);for(mt in qt)kr(Vt,mt,Kt[mt],qt[mt],et,ve.$flags$)},Ir=(J,ve,et,mt)=>{let qt,Fn,Vt=ve.$children$[et],Kt=0;if(null!==Vt.$text$)qt=Vt.$elm$=ce.createTextNode(Vt.$text$);else{if(me||(me="svg"===Vt.$tag$),qt=Vt.$elm$=ce.createElementNS(me?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Vt.$tag$),me&&"foreignObject"===Vt.$tag$&&(me=!1),Er(null,Vt,me),(J=>null!=J)(oe)&&qt["s-si"]!==oe&&qt.classList.add(qt["s-si"]=oe),Vt.$children$)for(Kt=0;Kt<Vt.$children$.length;++Kt)Fn=Ir(J,Vt,Kt),Fn&&qt.appendChild(Fn);"svg"===Vt.$tag$?me=!1:"foreignObject"===qt.tagName&&(me=!0)}return qt},Ht=(J,ve,et,mt,Vt,Kt)=>{let Fn,qt=J;for(qt.shadowRoot&&qt.tagName===ue&&(qt=qt.shadowRoot);Vt<=Kt;++Vt)mt[Vt]&&(Fn=Ir(null,et,Vt),Fn&&(mt[Vt].$elm$=Fn,qt.insertBefore(Fn,ve)))},rt=(J,ve,et,mt,Vt)=>{for(;ve<=et;++ve)(mt=J[ve])&&(Vt=mt.$elm$,An(mt),Vt.remove())},Et=(J,ve)=>J.$tag$===ve.$tag$,Ut=(J,ve)=>{const et=ve.$elm$=J.$elm$,mt=J.$children$,Vt=ve.$children$,Kt=ve.$tag$,qt=ve.$text$;null===qt?(me="svg"===Kt||"foreignObject"!==Kt&&me,Er(J,ve,me),null!==mt&&null!==Vt?((J,ve,et,mt)=>{let vr,Vt=0,Kt=0,qt=ve.length-1,Fn=ve[0],Jt=ve[qt],Gn=mt.length-1,ur=mt[0],Tr=mt[Gn];for(;Vt<=qt&&Kt<=Gn;)null==Fn?Fn=ve[++Vt]:null==Jt?Jt=ve[--qt]:null==ur?ur=mt[++Kt]:null==Tr?Tr=mt[--Gn]:Et(Fn,ur)?(Ut(Fn,ur),Fn=ve[++Vt],ur=mt[++Kt]):Et(Jt,Tr)?(Ut(Jt,Tr),Jt=ve[--qt],Tr=mt[--Gn]):Et(Fn,Tr)?(Ut(Fn,Tr),J.insertBefore(Fn.$elm$,Jt.$elm$.nextSibling),Fn=ve[++Vt],Tr=mt[--Gn]):Et(Jt,ur)?(Ut(Jt,ur),J.insertBefore(Jt.$elm$,Fn.$elm$),Jt=ve[--qt],ur=mt[++Kt]):(vr=Ir(ve&&ve[Kt],et,Kt),ur=mt[++Kt],vr&&Fn.$elm$.parentNode.insertBefore(vr,Fn.$elm$));Vt>qt?Ht(J,null==mt[Gn+1]?null:mt[Gn+1].$elm$,et,mt,Kt,Gn):Kt>Gn&&rt(ve,Vt,qt)})(et,mt,ve,Vt):null!==Vt?(null!==J.$text$&&(et.textContent=""),Ht(et,null,ve,Vt,0,Vt.length-1)):null!==mt&&rt(mt,0,mt.length-1),me&&"svg"===Kt&&(me=!1)):J.$text$!==qt&&(et.data=qt)},An=J=>{J.$attrs$&&J.$attrs$.ref&&J.$attrs$.ref(null),J.$children$&&J.$children$.forEach(An)},Un=(J,ve)=>{ve&&!J.$onRenderResolve$&&ve["s-p"].push(new Promise(et=>J.$onRenderResolve$=et))},_n=(J,ve,et,mt)=>{if(ve.$flags$|=16,4&ve.$flags$)return void(ve.$flags$|=512);const qt=ve.$lazyInstance$,Fn=()=>ir(J,ve,et,qt,mt);return Un(ve,ve.$ancestorComponent$),mt&&(ve.$flags$|=256,ve.$queuedListeners$&&(ve.$queuedListeners$.forEach(([Gn,ur])=>tt(qt,Gn,ur)),ve.$queuedListeners$=null)),qe(void 0,()=>xt(Fn))},ir=(J,ve,et,mt,Vt)=>{const qt=J["s-rc"];Vt&&((J,ve,et)=>{const Vt=((J,ve,et,mt)=>{let Vt=Ln(ve.$tagName$),Kt=Pe.get(Vt);if(J=11===J.nodeType?J:ce,Kt)if("string"==typeof Kt){let Fn,qt=Kn.get(J=J.head||J);if(qt||Kn.set(J,qt=new Set),!qt.has(Vt)){if(se.$cssShim$){Fn=se.$cssShim$.createHostStyle(mt,Vt,Kt,!!(10&ve.$flags$));const Jt=Fn["s-sc"];Jt&&(Vt=Jt,qt=null)}else Fn=ce.createElement("style"),Fn.innerHTML=Kt;J.insertBefore(Fn,J.querySelector("link")),qt&&qt.add(Vt)}}else J.adoptedStyleSheets.includes(Kt)||(J.adoptedStyleSheets=[...J.adoptedStyleSheets,Kt]);return Vt})(le&&J.shadowRoot?J.shadowRoot:J.getRootNode(),ve,0,J);10&ve.$flags$&&(J["s-sc"]=Vt,J.classList.add(Vt+"-h"))})(J,et);((J,ve,et,mt)=>{ue=J.tagName;const Vt=ve.$vnode$||tn(null,null),Kt=(J=>J&&J.$tag$===hn)(mt)?mt:er(null,null,mt);Kt.$tag$=null,Kt.$flags$|=4,ve.$vnode$=Kt,Kt.$elm$=Vt.$elm$=J.shadowRoot||J,oe=J["s-sc"],Ut(Vt,Kt)})(J,ve,0,On(mt)),se.$cssShim$&&se.$cssShim$.updateHost(J),ve.$flags$&=-17,ve.$flags$|=2,qt&&(qt.forEach(Jt=>Jt()),J["s-rc"]=void 0);{const Jt=J["s-p"],Gn=()=>Rr(J,ve,et);0===Jt.length?Gn():(Promise.all(Jt).then(Gn),ve.$flags$|=4,Jt.length=0)}},On=(J,ve)=>{try{J=J.render()}catch(et){Mt(et)}return J},Rr=(J,ve,et)=>{const Vt=ve.$lazyInstance$,Kt=ve.$ancestorComponent$;64&ve.$flags$||(ve.$flags$|=64,lt(J),tt(Vt,"componentDidLoad"),ve.$onReadyResolve$(J),Kt||it()),ve.$onInstanceResolve$(J),ve.$onRenderResolve$&&(ve.$onRenderResolve$(),ve.$onRenderResolve$=void 0),512&ve.$flags$&&Nt(()=>_n(J,ve,et,!1)),ve.$flags$&=-517},it=J=>{lt(ce.documentElement),se.$flags$|=2},tt=(J,ve,et)=>{if(J&&J[ve])try{return J[ve](et)}catch(mt){Mt(mt)}},qe=(J,ve)=>J&&J.then?J.then(ve):ve(),lt=J=>J.classList.add("hydrated"),pr=(J,ve,et)=>{if(ve.$members$){const mt=Object.entries(ve.$members$),Vt=J.prototype;if(mt.forEach(([Kt,[qt]])=>{31&qt||2&et&&32&qt?Object.defineProperty(Vt,Kt,{get(){return((J,ve)=>Le(this).$instanceValues$.get(ve))(0,Kt)},set(Fn){((J,ve,et,mt)=>{const Vt=Le(J),Kt=Vt.$hostElement$,qt=Vt.$instanceValues$.get(ve),Fn=Vt.$flags$,Jt=Vt.$lazyInstance$;et=((J,ve)=>null==J||pt(J)?J:4&ve?"false"!==J&&(""===J||!!J):2&ve?parseFloat(J):1&ve?String(J):J)(et,mt.$members$[ve][0]),et!==qt&&(!(8&Fn)||void 0===qt)&&(Vt.$instanceValues$.set(ve,et),Jt&&2==(18&Fn)&&_n(Kt,Vt,mt,!1))})(this,Kt,Fn,ve)},configurable:!0,enumerable:!0}):1&et&&64&qt&&Object.defineProperty(Vt,Kt,{value(...Fn){const Jt=Le(this);return Jt.$onInstancePromise$.then(()=>Jt.$lazyInstance$[Kt](...Fn))}})}),1&et){const Kt=new Map;Vt.attributeChangedCallback=function(qt,Fn,Jt){se.jmp(()=>{const Gn=Kt.get(qt);this[Gn]=(null!==Jt||"boolean"!=typeof this[Gn])&&Jt})},J.observedAttributes=mt.filter(([qt,Fn])=>15&Fn[0]).map(([qt,Fn])=>{const Jt=Fn[1]||qt;return Kt.set(Jt,qt),Jt})}}return J},Wn=function(){var J=(0,s.Z)(function*(ve,et,mt,Vt,Kt){if(0==(32&et.$flags$)){et.$flags$|=32;{if(Kt=((J,ve,et)=>{const mt=J.$tagName$.replace(/-/g,"_"),Vt=J.$lazyBundleIds$,Kt=nt.get(Vt);return Kt?Kt[mt]:F(5899)(`./${Vt}.entry.js`).then(qt=>(nt.set(Vt,qt),qt[mt]),Mt)})(mt),Kt.then){const ur=()=>{};Kt=yield Kt,ur()}Kt.isProxied||(pr(Kt,mt,2),Kt.isProxied=!0);const Gn=()=>{};et.$flags$|=8;try{new Kt(et)}catch(ur){Mt(ur)}et.$flags$&=-9,Gn()}const Jt=Ln(mt.$tagName$);if(!Pe.has(Jt)&&Kt.style){const Gn=()=>{};let ur=Kt.style;8&mt.$flags$&&(ur=yield F.e(5487).then(F.bind(F,5487)).then(Tr=>Tr.scopeCss(ur,Jt,!1))),((J,ve,et)=>{let mt=Pe.get(J);Ue&&et?(mt=mt||new CSSStyleSheet,mt.replace(ve)):mt=ve,Pe.set(J,mt)})(Jt,ur,!!(1&mt.$flags$)),Gn()}}const qt=et.$ancestorComponent$,Fn=()=>_n(ve,et,mt,!0);qt&&qt["s-rc"]?qt["s-rc"].push(Fn):Fn()});return function(et,mt,Vt,Kt,qt){return J.apply(this,arguments)}}(),Lr=(J,ve)=>{if(0==(1&se.$flags$)){const et=()=>{},mt=Le(J);if(ve.$listeners$&&(mt.$rmListeners$=((J,ve,et)=>{ve.$queuedListeners$=ve.$queuedListeners$||[];const mt=et.map(([Vt,Kt,qt])=>{const Fn=((J,ve)=>32&ve?ce.body:J)(J,Vt),Jt=((J,ve)=>et=>{256&J.$flags$?J.$lazyInstance$[ve](et):J.$queuedListeners$.push([ve,et])})(ve,qt),Gn=(J=>0!=(2&J))(Vt);return se.ael(Fn,Kt,Jt,Gn),()=>se.rel(Fn,Kt,Jt,Gn)});return()=>mt.forEach(Vt=>Vt())})(J,mt,ve.$listeners$)),!(1&mt.$flags$)){mt.$flags$|=1;{let Vt=J;for(;Vt=Vt.parentNode||Vt.host;)if(Vt["s-p"]){Un(mt,mt.$ancestorComponent$=Vt);break}}ve.$members$&&Object.entries(ve.$members$).forEach(([Vt,[Kt]])=>{if(31&Kt&&J.hasOwnProperty(Vt)){const qt=J[Vt];delete J[Vt],J[Vt]=qt}}),Nt(()=>Wn(J,mt,ve))}et()}},Ii=(J,ve={})=>{const mt=[],Vt=ve.exclude||[],Kt=pe.customElements,qt=ce.head,Fn=qt.querySelector("meta[charset]"),Jt=ce.createElement("style"),Gn=[];let ur,Tr=!0;Object.assign(se,ve),se.$resourcesUrl$=new URL(ve.resourcesUrl||"./",ce.baseURI).href,ve.syncQueue&&(se.$flags$|=4),J.forEach(vr=>vr[1].forEach(Ar=>{const Si={$flags$:Ar[0],$tagName$:Ar[1],$members$:Ar[2],$listeners$:Ar[3]};Si.$members$=Ar[2],Si.$listeners$=Ar[3],!le&&1&Si.$flags$&&(Si.$flags$|=8);const Gi=Si.$tagName$,Ai=class extends HTMLElement{constructor(oi){super(oi),(J=>{const ve={$flags$:0,$hostElement$:J,$instanceValues$:new Map};ve.$onInstancePromise$=new Promise(et=>ve.$onInstanceResolve$=et),ve.$onReadyPromise$=new Promise(et=>ve.$onReadyResolve$=et),J["s-p"]=[],J["s-rc"]=[],Be.set(J,ve)})(oi=this),1&Si.$flags$&&(le?oi.attachShadow({mode:"open"}):"shadowRoot"in oi||(oi.shadowRoot=oi))}connectedCallback(){ur&&(clearTimeout(ur),ur=null),Tr?Gn.push(this):se.jmp(()=>Lr(this,Si))}disconnectedCallback(){se.jmp(()=>(J=>{if(0==(1&se.$flags$)){const ve=Le(J),et=ve.$lazyInstance$;ve.$rmListeners$&&(ve.$rmListeners$(),ve.$rmListeners$=void 0),se.$cssShim$&&se.$cssShim$.removeHost(J),tt(et,"componentDidUnload")}})(this))}forceUpdate(){((J,ve)=>{{const et=Le(J);et.$hostElement$.isConnected&&2==(18&et.$flags$)&&_n(J,et,ve,!1)}})(this,Si)}componentOnReady(){return Le(this).$onReadyPromise$}};Si.$lazyBundleIds$=vr[0],!Vt.includes(Gi)&&!Kt.get(Gi)&&(mt.push(Gi),Kt.define(Gi,pr(Ai,Si,1)))})),Jt.innerHTML=mt+"{visibility:hidden}.hydrated{visibility:inherit}",Jt.setAttribute("data-styles",""),qt.insertBefore(Jt,Fn?Fn.nextSibling:qt.firstChild),Tr=!1,Gn.length>0?Gn.forEach(vr=>vr.connectedCallback()):se.jmp(()=>ur=setTimeout(it,30))},ni=(J,ve,et)=>{const mt=Ke(J);return{emit:Vt=>{const Kt=new CustomEvent(ve,{bubbles:!!(4&et),composed:!!(2&et),cancelable:!!(1&et),detail:Vt});return mt.dispatchEvent(Kt),Kt}}},ot=(J,ve)=>ve in ct?ct[ve]:"window"===ve?pe:"document"===ve?ce:"isServer"!==ve&&"isPrerender"!==ve&&("isClient"===ve||("resourcesUrl"===ve||"publicPath"===ve?(J=>{const ve=new URL(".",se.$resourcesUrl$);return ve.origin!==pe.location.origin?ve.href:ve.pathname})():"queue"===ve?{write:xt,read:It,tick:{then:et=>Nt(et)}}:void 0)),Ke=J=>Le(J).$hostElement$},7214:(En,vt,F)=>{"use strict";F.d(vt,{L:()=>Ft});var s=F(5861),Q=F(4321),K=F(3682),Re=F(4719),oe=F(4650),ue=F(191),me=F(1808),pe=F(9463),De=F(4037),ce=F(9404),se=F(6895);function le(yt,Mt){if(1&yt){const nt=oe.EpF();oe.TgZ(0,"ion-item",17),oe.NdJ("click",function(){const Xe=oe.CHM(nt).$implicit,Ee=oe.oxw();return oe.KtG(Ee.selected(Xe))}),oe._uU(1),oe.qZA()}if(2&yt){const nt=Mt.$implicit;oe.xp6(1),oe.hij(" ",nt.productName," ")}}function ge(yt,Mt){if(1&yt&&(oe.TgZ(0,"option",28),oe._uU(1),oe.qZA()),2&yt){const nt=Mt.$implicit;oe.Q6J("value",nt.subweight),oe.xp6(1),oe.Oqu(nt.subweight)}}function Ue(yt,Mt){1&yt&&(oe.TgZ(0,"span",31),oe._uU(1," Add weight in kg/gm"),oe.qZA())}function ct(yt,Mt){if(1&yt){const nt=oe.EpF();oe.TgZ(0,"div",20)(1,"ion-input",29),oe.NdJ("change",function(Pe){oe.CHM(nt);const Xe=oe.oxw().index,Ee=oe.oxw();return oe.KtG(Ee.priceinBulk(Pe,Xe))}),oe.qZA(),oe.YNc(2,Ue,2,0,"span",30),oe.qZA()}if(2&yt){const nt=oe.oxw(2);oe.xp6(2),oe.Q6J("ngIf",nt.isweightShow)}}function Be(yt,Mt){if(1&yt){const nt=oe.EpF();oe.TgZ(0,"ion-button",32),oe.NdJ("click",function(){oe.CHM(nt);const Pe=oe.oxw(),Xe=Pe.$implicit,Ee=Pe.index,ye=oe.oxw();return oe.KtG(ye.remove(Xe,Ee))}),oe._UZ(1,"ion-icon",33),oe._uU(2," Added"),oe.qZA()}if(2&yt){const nt=oe.oxw(2);oe.Q6J("disabled",nt.isDisabled)}}function Le(yt,Mt){if(1&yt){const nt=oe.EpF();oe.TgZ(0,"ion-button",17),oe.NdJ("click",function(){oe.CHM(nt);const Pe=oe.oxw(),Xe=Pe.$implicit,Ee=Pe.index,ye=oe.oxw();return oe.KtG(ye.addtocart(Xe,Ee,"bottom"))}),oe._uU(1," Add"),oe.qZA()}}function Ve(yt,Mt){if(1&yt){const nt=oe.EpF();oe.TgZ(0,"ion-list")(1,"ion-item",18)(2,"div",19)(3,"div",20),oe._UZ(4,"img",21),oe.qZA(),oe.TgZ(5,"div",20)(6,"h4"),oe._uU(7),oe.qZA(),oe.TgZ(8,"h5"),oe._uU(9),oe.qZA(),oe.TgZ(10,"h6")(11,"b"),oe._uU(12),oe.ALo(13,"currency"),oe.ALo(14,"currency"),oe.qZA()()()()(),oe.TgZ(15,"ion-item")(16,"div",22)(17,"div",20)(18,"select",23),oe.NdJ("ngModelChange",function(Pe){const Ee=oe.CHM(nt).$implicit;return oe.KtG(Ee.weight=Pe)})("change",function(Pe){const Xe=oe.CHM(nt),Ee=Xe.$implicit,ye=Xe.index,Ie=oe.oxw();return oe.KtG(Ie.onChange(Pe,Ee,ye))}),oe.YNc(19,ge,2,2,"option",24),oe.qZA()(),oe.YNc(20,ct,3,1,"div",25),oe.TgZ(21,"div",20),oe.YNc(22,Be,3,1,"ion-button",26),oe.YNc(23,Le,2,0,"ion-button",27),oe.qZA()()()()}if(2&yt){const nt=Mt.$implicit;oe.xp6(4),oe.Q6J("src",nt.fireBaseUrl,oe.LSH),oe.xp6(3),oe.Oqu(nt.productName),oe.xp6(2),oe.Oqu(nt.dscription),oe.xp6(3),oe.Oqu(nt.price?oe.Dn7(13,9,nt.price,"INR","symbol"):oe.Dn7(14,13,nt.priceArray[0].price,"INR","symbol")),oe.xp6(6),oe.Q6J("ngModel",nt.weight),oe.xp6(1),oe.Q6J("ngForOf",nt.priceArray),oe.xp6(1),oe.Q6J("ngIf","Open"===nt.producttype),oe.xp6(2),oe.Q6J("ngIf",nt.itemAdded),oe.xp6(1),oe.Q6J("ngIf",!nt.itemAdded)}}let Ft=(()=>{class yt{constructor(nt,St,Pe,Xe,Ee,ye,Ie){this.modalCtrl=nt,this.ActivateRouter=St,this.router=Pe,this.productService=Xe,this.cartService=Ee,this.toastController=ye,this.authService=Ie,this.productData=[],this.valueOfSearch="",this.isDisabled=!1,this.isweightShow=!1,this.filterCategory=[],this.searchKey="",this.isSpinner=!1,this.currentNumber=1,this.productPrice="",this.isQuantity=!1,this.isSearchbar=!1,this.items=[],this.isSearchContainer=!1,this.specificWeight="",this.form=new Re.cw({seletedItem:new Re.NI(null)})}ionViewWillEnter(){let nt=this.ActivateRouter.snapshot.queryParamMap.get("order");this.getValueByRoutung(nt)}ionViewWillLeave(){this.filterCategory=[]}showModal(){var nt=this;return(0,s.Z)(function*(){return yield(yield nt.modalCtrl.create({component:Q.Y})).present()})()}onChange(nt,St,Pe){!0===this.filterCategory[Pe].itemAdded?(this.filterCategory[Pe].itemAdded=!1,this.remove(St,Pe)):this.filterCategory[Pe].itemAdded=!1;let Xe=this.filterCategory[Pe].priceArray.filter(Ee=>Ee.subweight===nt.target.value);this.filterCategory[Pe].price=Xe[0]?.price,this.filterCategory[Pe].weight=Xe[0]?.subweight}addItem(){this.isQuantity=!0}remove(nt,St){this.filterCategory[St].itemAdded=!1,this.cartService.getCartByidForData(localStorage.getItem(K.lq)).subscribe(Pe=>{let Xe=Pe.user;Xe.cartArray.map((Ee,ye)=>{nt.id===Ee.id&&Xe.cartArray.splice(ye,1)}),this.cartService.updateCart(Xe._id,Xe).subscribe(Ee=>{})})}addtocart(nt,St,Pe){this.valueofaddbycustomer?String(this.valueofaddbycustomer).includes("kg")||String(this.valueofaddbycustomer).includes("gm")?(this.isDisabled=!1,this.isweightShow=!1,!0===this.authService.checkisLoggedin()?(this.filterCategory[St].itemAdded=!0,this.editingIndex=St,this.isQuantity=!0,this.cartService.getCartByidForData(localStorage.getItem(K.lq)).subscribe(Ee=>{if(!0===Ee.status){let ye=Ee.user;ye.cartArray.push(nt),this.cartService.updateCart(ye._id,ye).subscribe(Ie=>{}),this.presentToast(Pe)}else!1===Ee.status&&this.cartService.addCart(nt).subscribe(ye=>{this.isSpinner=!1,this.presentToast(Pe)})})):this.router.navigateByUrl("/login")):(this.isDisabled=!0,this.isweightShow=!0):!0===this.authService.checkisLoggedin()?(this.filterCategory[St].itemAdded=!0,this.editingIndex=St,this.isQuantity=!0,this.cartService.getCartByidForData(localStorage.getItem(K.lq)).subscribe(Ee=>{if(!0===Ee.status){let ye=Ee.user;ye.cartArray.push(nt),this.cartService.updateCart(ye._id,ye).subscribe(Ie=>{}),this.presentToast(Pe)}else!1===Ee.status&&this.cartService.addCart(nt).subscribe(ye=>{this.isSpinner=!1,this.presentToast(Pe)})})):this.router.navigateByUrl("/login")}filter(nt){this.filterCategory=this.filterCategory.filter(St=>{if(St.category==nt||""==nt)return St})}presentToast(nt){var St=this;return(0,s.Z)(function*(){yield(yield St.toastController.create({message:"Item added in cart",duration:1500,position:nt})).present()})()}selected(nt){this.valueOfSearch="",this.filterCategory=this.filterCategory.filter(St=>St.productName===nt.productName),this.isSearchbar=!1,this.items=[]}openSearchBar(){this.isSearchbar=!this.isSearchbar}inputChanged(nt){var St=this;return(0,s.Z)(function*(){const Pe=nt.target.value;Pe.length<=0?St.items=[]:yield St.productService.productData.subscribe(Xe=>{let Ee=Xe.filter(ye=>ye.productName.toLocaleLowerCase().includes(Pe.toLocaleLowerCase()));St.items=Ee})})()}priceinBulk(nt,St){if(this.valueofaddbycustomer=nt.target.value,String(nt.target.value).includes("k")||String(nt.target.value).includes("K")){let Pe=nt.target.value.replace("kg","");this.filterCategory[St].price=Number(this.filterCategory[St].priceArray[0].price)*Number(Pe),console.log(Pe),this.filterCategory[St].weight=Pe+"kg"}else{let Pe=nt.target.value.replace(/\D/g,""),Xe=parseInt(Pe)/parseInt("1000");this.filterCategory[St].weight=Pe+"gm",this.filterCategory[St].price=Number(this.filterCategory[St].priceArray[0].price)*Xe}}getValueByRoutung(nt){this.productService.productData.subscribe(St=>{this.filterCategory=St?.map(Xe=>(Xe.quantity=1,Xe.itemAdded=!1,Xe.price=Xe.priceArray[0].price,Xe.weight=Xe.priceArray[0].subweight,Xe)),"View All"!==nt&&(this.filterCategory=this.filterCategory.filter(Xe=>Xe.category===nt||Xe.productName===nt))})}}return yt.\u0275fac=function(nt){return new(nt||yt)(oe.Y36(ue.IN),oe.Y36(me.gz),oe.Y36(me.F0),oe.Y36(pe.M),oe.Y36(De.N),oe.Y36(ue.yF),oe.Y36(ce.$))},yt.\u0275cmp=oe.Xpm({type:yt,selectors:[["app-product-list"]],decls:20,vars:4,consts:[["color","primary"],[1,"parent-header-btn"],[1,"header-child-btn"],["slot","start",1,"button-header"],["name","menu"],[1,"logo-img"],["src","../../assets/img/login-logo-1.png"],[1,"row"],[1,"col"],[1,"search-parent-btn","search-box"],[1,"search-header-child"],["type","text","slot","start",3,"ngModel","ngModelChange","ionInput"],["name","search","slot","end",3,"click"],[1,"search-list",3,"hidden"],[3,"click",4,"ngFor","ngForOf"],["fullscreen","","scroll-y","true"],[4,"ngFor","ngForOf"],[3,"click"],[2,"border","none"],[1,"product-detail-parent"],[1,"product-detail-child"],["height","100px","width","100px",3,"src"],[1,"product-button-parent"],["fill","outline","interface","popover","placeholder","Select Quantity",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["class","product-detail-child",4,"ngIf"],["color","success",3,"disabled","click",4,"ngIf"],[3,"click",4,"ngIf"],[3,"value"],["type","text","placeholder","Kg/gm",3,"change"],["style","color:red",4,"ngIf"],[2,"color","red"],["color","success",3,"disabled","click"],["name","checkmark"]],template:function(nt,St){1&nt&&(oe.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div",1)(3,"div",2)(4,"ion-buttons",3)(5,"ion-menu-button"),oe._UZ(6,"ion-icon",4),oe.qZA(),oe.TgZ(7,"div",5),oe._UZ(8,"img",6),oe.qZA()()()(),oe.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"ion-input",11),oe.NdJ("ngModelChange",function(Xe){return St.valueOfSearch=Xe})("ionInput",function(Xe){return St.inputChanged(Xe)}),oe.qZA()(),oe.TgZ(14,"div",10)(15,"ion-icon",12),oe.NdJ("click",function(){return St.openSearchBar()}),oe.qZA()()()()()(),oe.TgZ(16,"ion-list",13),oe.YNc(17,le,2,1,"ion-item",14),oe.qZA()(),oe.TgZ(18,"ion-content",15),oe.YNc(19,Ve,24,17,"ion-list",16),oe.qZA()),2&nt&&(oe.xp6(13),oe.Q6J("ngModel",St.valueOfSearch),oe.xp6(3),oe.Q6J("hidden",St.items.length<=0),oe.xp6(1),oe.Q6J("ngForOf",St.items),oe.xp6(2),oe.Q6J("ngForOf",St.filterCategory))},dependencies:[se.sg,se.O5,ue.YG,ue.Sm,ue.W2,ue.Gu,ue.gu,ue.pK,ue.Ie,ue.q_,ue.fG,ue.sr,ue.j9,Re.YN,Re.Kr,Re.EJ,Re.JJ,Re.On,se.H9],styles:[".product-detail-parent[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.product-detail-child[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:10px}.product-detail-child[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:8px}.product-detail-child[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:5px;border-radius:15px}.product-button-parent[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.product-button-parent[_ngcontent-%COMP%]   .product-detail-child[_ngcontent-%COMP%]{width:33.3%}.product-button-parent[_ngcontent-%COMP%]   .product-detail-child[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{max-width:25%;height:30px;border:2px solid #FF2E2E;background-color:transparent;position:absolute;right:41%;padding:10px!important}.product-button-parent[_ngcontent-%COMP%]   .product-detail-child[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:2px solid #FF2E2E;height:30px;background-color:transparent;font-size:14px}.product-button-parent[_ngcontent-%COMP%]   .product-detail-child[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:transparent}.product-button-parent[_ngcontent-%COMP%]   .product-detail-child[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:30px;position:absolute;right:18px;font-size:10px;bottom:6px}[_ngcontent-%COMP%]::-webkit-input-placeholder{overflow:visible;font-size:10px}"]}),yt})()},4321:(En,vt,F)=>{"use strict";F.d(vt,{Y:()=>K});var s=F(4650),Q=F(191);let K=(()=>{class Re{constructor(){}ionViewWillEnter(){}}return Re.\u0275fac=function(ue){return new(ue||Re)},Re.\u0275cmp=s.Xpm({type:Re,selectors:[["app-prooduct-details"]],decls:45,vars:0,consts:[["slot","end"],[1,"parent"],[1,"child"],[1,"product-image"],["src","../../assets/2.jpg","alt","",1,"product-pic"],[1,"product-details"],[1,"title"],[1,"colorCat"],[1,"price"],[1,"before"],[1,"current"],[1,"rate"],["href","#!",1,"active"],["href","#!"],[1,"footer"],["color","primary"],["src","http://co0kie.github.io/codepen/nike-product-page/cart.png","alt",""]],template:function(ue,me){1&ue&&(s.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s._uU(3,"Product Details"),s.qZA(),s.TgZ(4,"ion-buttons",0)(5,"ion-button"),s._uU(6,"Close"),s.qZA()()()(),s.TgZ(7,"ion-content")(8,"div",1)(9,"div",2)(10,"div",3),s._UZ(11,"img",4),s.qZA()(),s.TgZ(12,"div",2)(13,"div",5)(14,"header")(15,"h1",6),s._uU(16,"Nike Roshe Run"),s.qZA(),s.TgZ(17,"span",7),s._uU(18,"mint green"),s.qZA(),s.TgZ(19,"div",8)(20,"span",9),s._uU(21,"$150"),s.qZA(),s.TgZ(22,"span",10),s._uU(23,"$144.99"),s.qZA()(),s.TgZ(24,"div",11)(25,"a",12),s._uU(26,"\u2605"),s.qZA(),s.TgZ(27,"a",12),s._uU(28,"\u2605"),s.qZA(),s.TgZ(29,"a",12),s._uU(30,"\u2605"),s.qZA(),s.TgZ(31,"a",13),s._uU(32,"\u2605"),s.qZA(),s.TgZ(33,"a",13),s._uU(34,"\u2605"),s.qZA()()(),s.TgZ(35,"article")(36,"h5"),s._uU(37,"Description"),s.qZA(),s.TgZ(38,"p"),s._uU(39,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."),s.qZA()(),s.TgZ(40,"div",14)(41,"ion-button",15),s._UZ(42,"img",16),s.TgZ(43,"span"),s._uU(44,"add to cart"),s.qZA()()()()()()())},dependencies:[Q.YG,Q.Sm,Q.W2,Q.Gu,Q.wd,Q.sr],styles:['.parent[_ngcontent-%COMP%]{display:block}.child[_ngcontent-%COMP%]{width:100%}body[_ngcontent-%COMP%]{background-color:#f5f5f5;height:100vh;margin:auto;display:flex;color:#444}.container[_ngcontent-%COMP%]{margin:30px;width:100%;max-width:900px;justify-content:center;flex-direction:column;align-items:center}h5[_ngcontent-%COMP%]{text-transform:uppercase;margin:0;font-size:14px}ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}a[_ngcontent-%COMP%]{text-decoration:none;color:#bbb}.product-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-radius:20px 20px 0 0;padding:55px 0;width:100%;margin:auto}.product-pic[_ngcontent-%COMP%]{max-width:79%;position:relative;left:0;margin:-44px 0}.product-details[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 20px 20px;margin:18px}.product-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0;font-size:12px}.product-details[_ngcontent-%COMP%]   .colorCat[_ngcontent-%COMP%]{text-transform:uppercase;font-style:italic;color:#bbb;font-weight:700;font-size:14px}.product-details[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;margin-top:5px;font-size:18px}.product-details[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#fe6168;margin-left:6px}.product-details[_ngcontent-%COMP%]   .before[_ngcontent-%COMP%]{text-decoration:line-through}.product-details[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin-bottom:50px;position:relative}.product-details[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{position:relative;bottom:10px}.product-details[_ngcontent-%COMP%]   article[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{margin:0}.product-details[_ngcontent-%COMP%]   article[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#bbb;margin:.5em 0;font-size:14px;line-height:1.6}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{margin:3em 0}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{margin-top:12px;display:inline-block;position:relative}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{color:#444}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:before{content:"";position:absolute;border-width:2px 2px 0 0;border-style:solid;top:0;bottom:0;height:5px;width:5px;right:-18px;margin:auto;transform:rotate(135deg)}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:20px;flex:none}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;margin:15px 5px}.product-details[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:15px}.product-details[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;display:block}.product-details[_ngcontent-%COMP%]   .color-bdot1[_ngcontent-%COMP%]{background-color:#59e8c8}.product-details[_ngcontent-%COMP%]   .color-bdot1[_ngcontent-%COMP%]:hover, .product-details[_ngcontent-%COMP%]   .color-bdot1.active[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fff,0 0 0 5px #59e8c8}.product-details[_ngcontent-%COMP%]   .color-bdot2[_ngcontent-%COMP%]{background-color:#ffee71}.product-details[_ngcontent-%COMP%]   .color-bdot2[_ngcontent-%COMP%]:hover, .product-details[_ngcontent-%COMP%]   .color-bdot2.active[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fff,0 0 0 5px #ffee71}.product-details[_ngcontent-%COMP%]   .color-bdot3[_ngcontent-%COMP%]{background-color:#6654af}.product-details[_ngcontent-%COMP%]   .color-bdot3[_ngcontent-%COMP%]:hover, .product-details[_ngcontent-%COMP%]   .color-bdot3.active[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fff,0 0 0 5px #6654af}.product-details[_ngcontent-%COMP%]   .color-bdot4[_ngcontent-%COMP%]{background-color:#343434}.product-details[_ngcontent-%COMP%]   .color-bdot4[_ngcontent-%COMP%]:hover, .product-details[_ngcontent-%COMP%]   .color-bdot4.active[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fff,0 0 0 5px #343434}.product-details[_ngcontent-%COMP%]   .color-bdot5[_ngcontent-%COMP%]{background-color:#dfdfdf}.product-details[_ngcontent-%COMP%]   .color-bdot5[_ngcontent-%COMP%]:hover, .product-details[_ngcontent-%COMP%]   .color-bdot5.active[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fff,0 0 0 5px #dfdfdf}.product-details[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{position:static;margin-top:10px}.product-details[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#bbb}.product-details[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .product-details[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fe6067}.dots[_ngcontent-%COMP%]{display:flex;margin-top:40px}.dots[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background-color:#349a98;width:10px;height:10px;margin:0 4px;border-radius:50%}.dots[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .dots[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]{background-color:#fff}.dots[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:flex;border:0;font-size:10px;align-items:center;cursor:pointer;transition:.2s}.footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20px}.footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;font-weight:700;margin-left:10px;color:#fff}.footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;opacity:.8}.footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1}@media (min-width: 37.5em){.product-details[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{position:absolute;top:12px;right:10px;margin-top:0}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > div.qty[_ngcontent-%COMP%]{width:60px}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{border-left:2px solid rgba(187,187,187,.5);padding-left:25px;padding-right:25px;width:100px;margin-top:0}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex}}@media (min-width: 56.25em){.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:normal;margin:auto}.product-image[_ngcontent-%COMP%]{border-radius:20px 0 0 20px;max-width:330px}.product-pic[_ngcontent-%COMP%]{left:-40px;max-width:330px}.product-details[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 20px 20px;margin:18px}}']}),Re})()},9404:(En,vt,F)=>{"use strict";F.d(vt,{$:()=>pe});var s=F(529),Q=F(591),K=F(2340),me=F(4650);let pe=(()=>{class De{constructor(se){this.http=se,this.baseUri=K.N.baseUrl,this.headers=(new s.WM).set("Content-Type","application/json"),this.sideBar=new Q.X(!0)}login(se){return this.http.post(K.N.baseUrl+"/users/authenticate",se)}setToken(se){localStorage.setItem("token",se)}getToken(){return localStorage.getItem("token")}deleteToken(){localStorage.removeItem("token")}getUserPayload(){var se=this.getToken();if(se){var le=atob(se.split(".")[1]);return JSON.parse(le)}return null}isLoggedIn(){var se=this.getUserPayload();return function Re(De,ce,se){var le=new Date;le.setTime(le.getTime()+24*se*60*60*1e3);var ge="expires="+le.toUTCString();document.cookie=De+"="+ce+";"+ge+";path=/"}("userid",se._id,1),!!se}checkisLoggedin(){return!!localStorage.getItem("userid")}}return De.\u0275fac=function(se){return new(se||De)(me.LFG(s.eN))},De.\u0275prov=me.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},8806:(En,vt,F)=>{"use strict";F.d(vt,{y:()=>Mt});var s=F(5861),Q=F(7423),K=F(76);const Re=(0,Q.fo)("Camera",{web:()=>F.e(3954).then(F.bind(F,3954)).then(nt=>new nt.CameraWeb)});var oe=(()=>{return(nt=oe||(oe={})).Documents="DOCUMENTS",nt.Data="DATA",nt.Library="LIBRARY",nt.Cache="CACHE",nt.External="EXTERNAL",nt.ExternalStorage="EXTERNAL_STORAGE",oe;var nt})();const De=(0,Q.fo)("Filesystem",{web:()=>F.e(6364).then(F.bind(F,6364)).then(nt=>new nt.FilesystemWeb)}),ce=(0,Q.fo)("Preferences",{web:()=>F.e(8359).then(F.bind(F,8359)).then(nt=>new nt.PreferencesWeb)});var se=F(591),le=F(1737),ge=F(537),Ue=F(7221),ct=F(529),Be=F(2340),Le=F(3682),Ve=F(4650),Ft=F(191),yt=F(4586);let Mt=(()=>{class nt{constructor(Pe,Xe,Ee){this.storage=Xe,this.http=Ee,this.photos=[],this.PHOTO_STORAGE="photos",this.imageUrlSubject=new se.X(null),this.baseUri=Be.N.baseUrl,this.selectedFile=null,this.arrayForImage=[],this.file=null,this.headers=(new ct.WM).set("Content-Type","application/json"),this.convertBlobToBase64=ye=>new Promise((Ie,he)=>{const _e=new FileReader;_e.onerror=he,_e.onload=()=>{Ie(_e.result)},_e.readAsDataURL(ye)})}handleError(Pe){return Pe.error instanceof ErrorEvent?console.error("An error occurred:",Pe.error.message):console.error(`Backend returned code ${Pe.status}, body was: ${Pe.error}`),(0,le._)("Something bad happened; please try again later.")}addNewToGallery(){var Pe=this;return(0,s.Z)(function*(){const Xe=yield Re.getPhoto({resultType:K.dk.Uri,source:K.oK.Camera,quality:100}),Ee=yield Pe.savePicture(Xe);Pe.photos.unshift(Ee),ce.set({key:Pe.PHOTO_STORAGE,value:JSON.stringify(Pe.photos)}),Pe.loadSaved()})()}savePicture(Pe){var Xe=this;return(0,s.Z)(function*(){const Ee=yield Xe.readAsBase64(Pe),ye=(new Date).getTime()+".jpeg";return yield De.writeFile({path:ye,data:Ee,directory:oe.Data}),{filepath:ye,webviewPath:Pe.webPath}})()}readAsBase64(Pe){var Xe=this;return(0,s.Z)(function*(){const ye=yield(yield fetch(Pe.webPath)).blob();return yield Xe.convertBlobToBase64(ye)})()}loadSaved(){var Pe=this;return(0,s.Z)(function*(){const Xe=yield ce.get({key:Pe.PHOTO_STORAGE});Pe.photos=JSON.parse(Xe.value)||[];for(let Ee of Pe.photos){const ye=yield De.readFile({path:Ee.filepath,directory:oe.Data});Ee.webviewPath=`data:image/jpeg;base64,${ye.data}`,Ee.webviewPath&&Pe.upload(Ee.webviewPath)}})()}upload(Pe){var Xe=Date.now();const Ee=this.base64ToImage(Pe),Ie=this.storage.ref(`product-list/${Xe}`);this.storage.upload(`product-list/${Xe}`,Ee).snapshotChanges().pipe((0,ge.x)(()=>{this.downloadURL=Ie.getDownloadURL(),this.downloadURL.subscribe(_e=>{this.downloadUrlValue=_e})})).subscribe(_e=>{}),setTimeout(()=>{this.upoadURL()},6e3)}upoadURL(){this.imageUrlSubject.subscribe(Pe=>{null!=Pe?(this.arrayForImage=Pe,console.log("undefined",this.arrayForImage)):(this.arrayForImage.push(this.downloadUrlValue),this.imageUrlSubject.next(this.arrayForImage))})}getCameraByIdforcamera(){this.getCameraById(localStorage.getItem(Le.lq)).subscribe(Pe=>{Pe.user.length>0&&sessionStorage.setItem("cameraId",Pe?.user?._id),this.imageUrlSubject.next(Pe?.user?.fireBaseUrl)})}base64ToImage(Pe){const Xe=Pe.split(","),Ee=atob(Xe[1]),ye=new ArrayBuffer(Ee.length),Ie=new Uint8Array(ye);for(let _e=0;_e<Ee.length;_e++)Ie[_e]=Ee.charCodeAt(_e);return new Blob([ye],{type:"image/png"})}getCameraById(Pe){return this.http.get(`${this.baseUri}/camera/get-camera-by-id/${Pe}`).pipe((0,Ue.K)(this.handleError))}addCamera(Pe){return this.http.post(`${this.baseUri}/camera/add-camera`,Pe).pipe((0,Ue.K)(this.errorMgmt))}getCamera(){return this.http.get(`${this.baseUri}/camera/get-camera`)}deleteCamera(Pe){const Xe=new ct.WM;return this.http.delete(`${this.baseUri}/camera/deletecamera/${Pe}`,{headers:Xe}).pipe((0,Ue.K)(this.handleError))}updateCamera(Pe,Xe){return this.http.put(`${this.baseUri}/camera/updatecamera/${Pe}`,Xe,{headers:this.headers}).pipe((0,Ue.K)(this.errorMgmt))}errorMgmt(Pe){let Xe="";return Xe=Pe.error instanceof ErrorEvent?Pe.error.message:`Error Code: ${Pe.status}\nMessage: ${Pe.message}`,console.log(Xe),(0,le._)(Xe)}deletePicture(Pe,Xe){var Ee=this;return(0,s.Z)(function*(){Ee.photos.splice(Xe,1),ce.set({key:Ee.PHOTO_STORAGE,value:JSON.stringify(Ee.photos)});const ye=Pe.filepath.substr(Pe.filepath.lastIndexOf("/")+1);yield De.deleteFile({path:ye,directory:oe.Data})})()}}return nt.\u0275fac=function(Pe){return new(Pe||nt)(Ve.LFG(Ft.t4),Ve.LFG(yt.Q1),Ve.LFG(ct.eN))},nt.\u0275prov=Ve.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})()},4037:(En,vt,F)=>{"use strict";F.d(vt,{N:()=>De});var s=F(5861),Q=F(591),K=F(1737),Re=F(3682),oe=F(529),ue=F(2340),me=F(7221),pe=F(4650);let De=(()=>{class ce{constructor(le){this.http=le,this.baseUri=ue.N.baseUrl,this.cartItemList=[],this.checkoutProduct=new Q.X(null),this.totalCostOfCustomerProudct=new Q.X(null),this.productList=new Q.X(null),this.routingBehaviour=new Q.X(null),this.addressChange=new Q.X(null),this.search=new Q.X(""),this.headers=(new oe.WM).set("Content-Type","application/json"),this.getCartById(localStorage.getItem(Re.lq))}handleError(le){return le.error instanceof ErrorEvent?console.error("An error occurred:",le.error.message):console.error(`Backend returned code ${le.status}, body was: ${le.error}`),(0,K._)("Something bad happened; please try again later.")}getProducts(){return this.productList.asObservable()}setProduct(le){this.cartItemList.push(...le),this.productList.next(le)}addtoCart(le){this.cartItemList.push(le),this.productList.next(this.cartItemList);let ge={userId:localStorage.getItem(Re.lq),cartArray:this.cartItemList,status:"Pending"};return this.productList.next(ge),this.http.post(`${this.baseUri}/cart/add-cart`,ge)}addCart(le){this.cartItemList.push(le),this.productList.next(this.cartItemList.length);let ge={userId:localStorage.getItem(Re.lq),cartArray:this.cartItemList,status:"Pending",date:new Date,type:"cart"};return this.http.post(`${this.baseUri}/cart/add-cart`,ge).pipe((0,me.K)(this.errorMgmt))}getTotalPrice(le){let ge=0;return le.map(Ue=>{ge+=parseInt(Ue.price)}),this.totalCostOfCustomerProudct.next(ge),ge}removeCartItem(le){this.cartItemList.map((ge,Ue)=>{le.id===ge.id&&this.cartItemList.splice(Ue,1)}),this.productList.next(this.cartItemList)}removeAllCart(le){const ge=new oe.WM;return this.http.delete(`${this.baseUri}/cart/deletecart/${le}`,{headers:ge}).pipe((0,me.K)(this.handleError))}errorMgmt(le){let ge="";return ge=le.error instanceof ErrorEvent?le.error.message:`Error Code: ${le.status}\nMessage: ${le.message}`,console.log(ge),(0,K._)(ge)}getCartById(le){var ge=this;return(0,s.Z)(function*(){return ge.http.get(`${ge.baseUri}/cart/get-cart-by-id/${le}`).toPromise().then(Ue=>ge.productList.next(Ue.user.cartArray.length)).catch(ge.handleError)})()}getCart(){return this.http.get(`${this.baseUri}/cart/get-cart`).pipe((0,me.K)(this.handleError))}getCartByidForData(le){return this.http.get(`${this.baseUri}/cart/get-cart-by-id/${le}`).pipe((0,me.K)(this.handleError))}updateCart(le,ge){return this.productList.next(ge.cartArray.length),this.http.put(`${this.baseUri}/cart/updatecart/${le}`,ge,{headers:this.headers}).pipe((0,me.K)(this.errorMgmt))}}return ce.\u0275fac=function(le){return new(le||ce)(pe.LFG(oe.eN))},ce.\u0275prov=pe.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},9463:(En,vt,F)=>{"use strict";F.d(vt,{M:()=>H_});var s=F(591),Q=F(8929),K=F(1737),Re=F(529),oe=F(7221),ue=F(4850),me=F(2340),pe=F(4650),De=F(4586),ce=F(353),se=F(6498),le=F(5254),ge=F(1086),Ue=F(6351),ct=F(1059),Be=F(3489);function Le(){return i=>i.lift(new Ve)}class Ve{call(e,t){return t.subscribe(new Ft(e))}}class Ft extends Be.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var xt,yt=F(2014),Mt=F(5778),nt=F(2198),St=F(2011),Pe=F(6895),Ee=(F(2476),F(3942)),ye=F(5861),Ie=F(9681),he=F(4859),_e=F(1877),fe=F(2090),Nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},It={},gt=gt||{},Ze=Nt||self;function ze(){}function st(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function pt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Lt="closure_uid_"+(1e9*Math.random()>>>0),Cn=0;function Bt(i,e,t){return i.call.apply(i.bind,arguments)}function bn(i,e,t){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,a),i.apply(e,d)}}return function(){return i.apply(e,arguments)}}function Sn(i,e,t){return(Sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bt:bn).apply(null,arguments)}function we(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function Kn(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(a,d,_){for(var D=Array(arguments.length-2),$=2;$<arguments.length;$++)D[$-2]=arguments[$];return e.prototype[d].apply(a,D)}}function qn(){this.s=this.s,this.o=this.o}var fi={};qn.prototype.s=!1,qn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Tt(i){return Object.prototype.hasOwnProperty.call(i,Lt)&&i[Lt]||(i[Lt]=++Cn)}(this);delete fi[i]}},qn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ln=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function er(i){const e=i.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=i[a];return t}return[]}function tn(i,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(st(a)){const d=i.length||0,_=a.length||0;i.length=d+_;for(let D=0;D<_;D++)i[d+D]=a[D]}else i.push(a)}}function hn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var yr=function(){if(!Ze.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ze.addEventListener("test",ze,e),Ze.removeEventListener("test",ze,e)}catch{}return i}();function kr(i){return/^[\s\xa0]*$/.test(i)}var Hn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function gr(i,e){return i<e?-1:i>e?1:0}function Er(){var i=Ze.navigator;return i&&(i=i.userAgent)?i:""}function Ir(i){return-1!=Er().indexOf(i)}function Ht(i){return Ht[" "](i),i}Ht[" "]=ze;var ir,i,He=Ir("Opera"),Et=Ir("Trident")||Ir("MSIE"),Ut=Ir("Edge"),An=Ut||Et,Vn=Ir("Gecko")&&!(-1!=Er().toLowerCase().indexOf("webkit")&&!Ir("Edge"))&&!(Ir("Trident")||Ir("MSIE"))&&!Ir("Edge"),Un=-1!=Er().toLowerCase().indexOf("webkit")&&!Ir("Edge");function _n(){var i=Ze.document;return i?i.documentMode:void 0}e:{var On="",Rr=(i=Er(),Vn?/rv:([^\);]+)(\)|;)/.exec(i):Ut?/Edge\/([\d\.]+)/.exec(i):Et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Un?/WebKit\/(\S+)/.exec(i):He?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Rr&&(On=Rr?Rr[1]:""),Et){var sr=_n();if(null!=sr&&sr>parseFloat(On)){ir=String(sr);break e}}ir=On}var it={};var at=Ze.document&&Et&&(_n()||parseInt(ir,10))||void 0;function Gt(i,e){if(hn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Vn){e:{try{Ht(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:gn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Gt.X.h.call(this)}}Kn(Gt,hn);var gn={2:"touch",3:"pen",4:"mouse"};Gt.prototype.h=function(){Gt.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Bn="closure_listenable_"+(1e6*Math.random()|0),Kr=0;function Mr(i,e,t,a,d){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.ha=d,this.key=++Kr,this.ba=this.ea=!1}function Pr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function pr(i,e,t){for(const a in i)e.call(t,i[a],a,i)}function Wn(i){const e={};for(const t in i)e[t]=i[t];return e}const Lr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Br(i,e){let t,a;for(let d=1;d<arguments.length;d++){for(t in a=arguments[d],a)i[t]=a[t];for(let _=0;_<Lr.length;_++)t=Lr[_],Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}}function Ii(i){this.src=i,this.g={},this.h=0}function ni(i,e){var t=e.type;if(t in i.g){var _,a=i.g[t],d=Ln(a,e);(_=0<=d)&&Array.prototype.splice.call(a,d,1),_&&(Pr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function ci(i,e,t,a){for(var d=0;d<i.length;++d){var _=i[d];if(!_.ba&&_.listener==e&&_.capture==!!t&&_.ha==a)return d}return-1}Ii.prototype.add=function(i,e,t,a,d){var _=i.toString();(i=this.g[_])||(i=this.g[_]=[],this.h++);var D=ci(i,e,a,d);return-1<D?(e=i[D],t||(e.ea=!1)):((e=new Mr(e,this.src,_,!!a,d)).ea=t,i.push(e)),e};var ot="closure_lm_"+(1e6*Math.random()|0),Ke={};function J(i,e,t,a,d){if(a&&a.once)return mt(i,e,t,a,d);if(Array.isArray(e)){for(var _=0;_<e.length;_++)J(i,e[_],t,a,d);return null}return t=ur(t),i&&i[Bn]?i.N(e,t,pt(a)?!!a.capture:!!a,d):ve(i,e,t,!1,a,d)}function ve(i,e,t,a,d,_){if(!e)throw Error("Invalid event type");var D=pt(d)?!!d.capture:!!d,$=Jt(i);if($||(i[ot]=$=new Ii(i)),(t=$.add(e,t,a,D,_)).proxy)return t;if(a=function et(){const e=Fn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=a,a.src=i,a.listener=t,i.addEventListener)yr||(d=D),void 0===d&&(d=!1),i.addEventListener(e.toString(),a,d);else if(i.attachEvent)i.attachEvent(qt(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return t}function mt(i,e,t,a,d){if(Array.isArray(e)){for(var _=0;_<e.length;_++)mt(i,e[_],t,a,d);return null}return t=ur(t),i&&i[Bn]?i.O(e,t,pt(a)?!!a.capture:!!a,d):ve(i,e,t,!0,a,d)}function Vt(i,e,t,a,d){if(Array.isArray(e))for(var _=0;_<e.length;_++)Vt(i,e[_],t,a,d);else a=pt(a)?!!a.capture:!!a,t=ur(t),i&&i[Bn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=ci(_=i.g[e],t,a,d))&&(Pr(_[t]),Array.prototype.splice.call(_,t,1),0==_.length&&(delete i.g[e],i.h--))):i&&(i=Jt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ci(e,t,a,d)),(t=-1<i?e[i]:null)&&Kt(t))}function Kt(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Bn])ni(e.i,i);else{var t=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(t,a,i.capture):e.detachEvent?e.detachEvent(qt(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=Jt(e))?(ni(t,i),0==t.h&&(t.src=null,e[ot]=null)):Pr(i)}}}function qt(i){return i in Ke?Ke[i]:Ke[i]="on"+i}function Fn(i,e){if(i.ba)i=!0;else{e=new Gt(e,this);var t=i.listener,a=i.ha||i.src;i.ea&&Kt(i),i=t.call(a,e)}return i}function Jt(i){return(i=i[ot])instanceof Ii?i:null}var Gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ur(i){return"function"==typeof i?i:(i[Gn]||(i[Gn]=function(e){return i.handleEvent(e)}),i[Gn])}function Tr(){qn.call(this),this.i=new Ii(this),this.P=this,this.I=null}function vr(i,e){var t,a=i.I;if(a)for(t=[];a;a=a.I)t.push(a);if(i=i.P,a=e.type||e,"string"==typeof e)e=new hn(e,i);else if(e instanceof hn)e.target=e.target||i;else{var d=e;Br(e=new hn(a,i),d)}if(d=!0,t)for(var _=t.length-1;0<=_;_--){var D=e.g=t[_];d=Ar(D,a,!0,e)&&d}if(d=Ar(D=e.g=i,a,!0,e)&&d,d=Ar(D,a,!1,e)&&d,t)for(_=0;_<t.length;_++)d=Ar(D=e.g=t[_],a,!1,e)&&d}function Ar(i,e,t,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,_=0;_<e.length;++_){var D=e[_];if(D&&!D.ba&&D.capture==t){var $=D.listener,ne=D.ha||D.src;D.ea&&ni(i.i,D),d=!1!==$.call(ne,a)&&d}}return d&&!a.defaultPrevented}Kn(Tr,qn),Tr.prototype[Bn]=!0,Tr.prototype.removeEventListener=function(i,e,t,a){Vt(this,i,e,t,a)},Tr.prototype.M=function(){if(Tr.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],a=0;a<t.length;a++)Pr(t[a]);delete i.g[e],i.h--}}this.I=null},Tr.prototype.N=function(i,e,t,a){return this.i.add(String(i),e,!1,t,a)},Tr.prototype.O=function(i,e,t,a){return this.i.add(String(i),e,!0,t,a)};var Si=Ze.JSON.stringify;function Gi(){var i=zi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ls,oi=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Xi,i=>i.reset());class Xi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vi(i){Ze.setTimeout(()=>{throw i},0)}function Ss(i,e){ls||function ms(){var i=Ze.Promise.resolve(void 0);ls=function(){i.then(Yi)}}(),hs||(ls(),hs=!0),zi.add(i,e)}var hs=!1,zi=new class Ai{constructor(){this.h=this.g=null}add(e,t){const a=oi.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function Yi(){for(var i;i=Gi();){try{i.h.call(i.g)}catch(t){vi(t)}var e=oi;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}hs=!1}function be(i,e){Tr.call(this),this.h=i||1,this.g=e||Ze,this.j=Sn(this.kb,this),this.l=Date.now()}function Fe(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function bt(i,e,t){if("function"==typeof i)t&&(i=Sn(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Sn(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ze.setTimeout(i,e||0)}function At(i){i.g=bt(()=>{i.g=null,i.i&&(i.i=!1,At(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Kn(be,Tr),(xt=be.prototype).ca=!1,xt.R=null,xt.kb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),vr(this,"tick"),this.ca&&(Fe(this),this.start()))}},xt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xt.M=function(){be.X.M.call(this),Fe(this),delete this.g};class $e extends qn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:At(this)}M(){super.M(),this.g&&(Ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(i){qn.call(this),this.h=i,this.g={}}Kn(Qe,qn);var Rt=[];function an(i,e,t,a){Array.isArray(t)||(t&&(Rt[0]=t.toString()),t=Rt);for(var d=0;d<t.length;d++){var _=J(e,t[d],a||i.handleEvent,!1,i.h||i);if(!_)break;i.g[_.key]=_}}function Xt(i){pr(i.g,function(e,t){this.g.hasOwnProperty(t)&&Kt(e)},i),i.g={}}function cn(){this.g=!0}function Nr(i,e,t,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ni(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var a=t[i];if(!(2>a.length)){var d=a[1];if(Array.isArray(d)&&!(1>d.length)){var _=d[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var D=1;D<d.length;D++)d[D]=""}}}return Si(t)}catch{return e}}(i,t)+(a?" "+a:"")})}Qe.prototype.M=function(){Qe.X.M.call(this),Xt(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cn.prototype.Aa=function(){this.g=!1},cn.prototype.info=function(){};var wt={},Dt=null;function jt(){return Dt=Dt||new Tr}function mn(i){hn.call(this,wt.Oa,i)}function Pn(i){const e=jt();vr(e,new mn(e,i))}function ar(i,e){hn.call(this,wt.STAT_EVENT,i),this.stat=e}function Dr(i){const e=jt();vr(e,new ar(e,i))}function fs(i,e){hn.call(this,wt.Pa,i),this.size=e}function Qr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ze.setTimeout(function(){i()},e)}wt.Oa="serverreachability",Kn(mn,hn),wt.STAT_EVENT="statevent",Kn(ar,hn),wt.Pa="timingevent",Kn(fs,hn);var As={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Ns={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function to(){}function zs(){}to.prototype.h=null;var ps,xo={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Cs(){hn.call(this,"d")}function Da(){hn.call(this,"c")}function Es(){}function _s(i,e,t,a){this.l=i,this.j=e,this.m=t,this.U=a||1,this.S=new Qe(this),this.O=Ys,this.T=new be(i=An?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Us}function Us(){this.i=null,this.g="",this.h=!1}Kn(Cs,hn),Kn(Da,hn),Kn(Es,to),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},ps=new Es;var Ys=45e3,Fs={},ui={};function di(i,e,t){i.K=1,i.v=qi(us(e)),i.s=t,i.P=!0,$r(i,null)}function $r(i,e){i.F=Date.now(),co(i),i.A=us(i.v);var t=i.A,a=i.U;Array.isArray(a)||(a=[String(a)]),T(t.i,"t",a),i.C=0,t=i.l.H,i.h=new Us,i.g=ou(i.l,t?e:null,!i.s),0<i.N&&(i.L=new $e(Sn(i.Ka,i,i.g),i.N)),an(i.S,i.g,"readystatechange",i.hb),e=i.H?Wn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Pn(1),function Jn(i,e,t,a,d,_){i.info(function(){if(i.g)if(_)for(var D="",$=_.split("&"),ne=0;ne<$.length;ne++){var de=$[ne].split("=");if(1<de.length){var ke=de[0];de=de[1];var _t=ke.split("_");D=2<=_t.length&&"type"==_t[1]?D+(ke+"=")+de+"&":D+(ke+"=redacted&")}}else D=null;else D=_;return"XMLHTTP REQ ("+a+") [attempt "+d+"]: "+e+"\n"+t+"\n"+D})}(i.j,i.u,i.A,i.m,i.U,i.s)}function cs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function ti(i,e,t){let d,a=!0;for(;!i.I&&i.C<t.length;){if(d=xs(i,t),d==ui){4==e&&(i.o=4,Dr(14),a=!1),Nr(i.j,i.m,null,"[Incomplete Response]");break}if(d==Fs){i.o=4,Dr(15),Nr(i.j,i.m,t,"[Invalid Chunk]"),a=!1;break}Nr(i.j,i.m,d,null),Jr(i,d)}cs(i)&&d!=ui&&d!=Fs&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Dr(16),a=!1),i.i=i.i&&a,a?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ga(e),e.K=!0,Dr(11))):(Nr(i.j,i.m,t,"[Invalid Chunked Response]"),jr(i),xi(i))}function xs(i,e){var t=i.C,a=e.indexOf("\n",t);return-1==a?ui:(t=Number(e.substring(t,a)),isNaN(t)?Fs:(a+=1)+t>e.length?ui:(e=e.substr(a,t),i.C=a+t,e))}function co(i){i.V=Date.now()+i.O,Mo(i,i.O)}function Mo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Qr(Sn(i.fb,i),e)}function ys(i){i.B&&(Ze.clearTimeout(i.B),i.B=null)}function xi(i){0==i.l.G||i.I||Ba(i.l,i)}function jr(i){ys(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Fe(i.T),Xt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Jr(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||E(t.h,i)))if(!i.J&&E(t.h,i)&&3==t.G){try{var a=t.Fa.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var d=a;if(0==d[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;jo(t),Ti(t)}Ro(t),Dr(18)}}else t.Ba=d[1],0<t.Ba-t.T&&37500>d[2]&&t.L&&0==t.A&&!t.v&&(t.v=Qr(Sn(t.bb,t),6e3));if(1>=dr(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else vs(t,11)}else if((i.J||t.g==i)&&jo(t),!kr(e))for(d=t.Fa.g.parse(e),e=0;e<d.length;e++){let de=d[e];if(t.T=de[0],de=de[1],2==t.G)if("c"==de[0]){t.I=de[1],t.ka=de[2];const ke=de[3];null!=ke&&(t.ma=ke,t.j.info("VER="+t.ma));const _t=de[4];null!=_t&&(t.Ca=_t,t.j.info("SVER="+t.Ca));const Zt=de[5];null!=Zt&&"number"==typeof Zt&&0<Zt&&(t.J=a=1.5*Zt,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const wn=i.g;if(wn){const Tn=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tn){var _=a.h;_.g||-1==Tn.indexOf("spdy")&&-1==Tn.indexOf("quic")&&-1==Tn.indexOf("h2")||(_.j=_.l,_.g=new Set,_.h&&(C(_,_.h),_.h=null))}if(a.D){const lr=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;lr&&(a.za=lr,Mi(a.F,a.D,lr))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var D=i;if((a=t).sa=Zl(a,a.H?a.ka:null,a.V),D.J){S(a.h,D);var $=D,ne=a.J;ne&&$.setTimeout(ne),$.B&&(ys($),co($)),a.g=D}else pa(a);0<t.i.length&&bi(t)}else"stop"!=de[0]&&"close"!=de[0]||vs(t,7);else 3==t.G&&("stop"==de[0]||"close"==de[0]?"stop"==de[0]?vs(t,7):mi(t):"noop"!=de[0]&&t.l&&t.l.wa(de),t.A=0)}Pn(4)}catch{}}function Ki(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(st(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function go(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(st(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const a in i)e[t++]=a;return e}}}(i),a=function bo(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(st(i)){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a]);return e}for(a in e=[],t=0,i)e[t++]=i[a];return e}(i),d=a.length,_=0;_<d;_++)e.call(void 0,a[_],t&&t[_],i)}(xt=_s.prototype).setTimeout=function(i){this.O=i},xt.hb=function(i){i=i.target;const e=this.L;e&&3==z(i)?e.l():this.Ka(i)},xt.Ka=function(i){try{if(i==this.g)e:{const ke=z(this.g);var e=this.g.Ea();const _t=this.g.aa();if(!(3>ke)&&(3!=ke||An||this.g&&(this.h.h||this.g.fa()||Se(this.g)))){this.I||4!=ke||7==e||Pn(8==e||0>=_t?3:2),ys(this);var t=this.g.aa();this.Y=t;t:if(cs(this)){var a=Se(this.g);i="";var d=a.length,_=4==z(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){jr(this),xi(this);var D="";break t}this.h.i=new Ze.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:_&&e==d-1});a.splice(0,d),this.h.g+=i,this.C=0,D=this.h.g}else D=this.g.fa();if(this.i=200==t,function or(i,e,t,a,d,_,D){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+_+" "+D})}(this.j,this.u,this.A,this.m,this.U,ke,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var $,ne=this.g;if(($=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kr($)){var de=$;break t}}de=null}if(!(t=de)){this.i=!1,this.o=3,Dr(12),jr(this),xi(this);break e}Nr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jr(this,t)}this.P?(ti(this,ke,D),An&&this.i&&3==ke&&(an(this.S,this.T,"tick",this.gb),this.T.start())):(Nr(this.j,this.m,D,null),Jr(this,D)),4==ke&&jr(this),this.i&&!this.I&&(4==ke?Ba(this.l,this):(this.i=!1,co(this)))}else 400==t&&0<D.indexOf("Unknown SID")?(this.o=3,Dr(12)):(this.o=0,Dr(13)),jr(this),xi(this)}}}catch{}},xt.gb=function(){if(this.g){var i=z(this.g),e=this.g.fa();this.C<e.length&&(ys(this),ti(this,i,e),this.i&&4!=i&&co(this))}},xt.cancel=function(){this.I=!0,jr(this)},xt.fb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Fi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Pn(3),Dr(17)),jr(this),this.o=2,xi(this)):Mo(this,this.V-i)};var Ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof no){this.h=void 0!==e?e:i.h,ai(this,i.j),this.s=i.s,this.g=i.g,Ks(this,i.m),this.l=i.l,e=i.i;var t=new qs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),uo(this,t),this.o=i.o}else i&&(t=String(i).match(Ls))?(this.h=!!e,ai(this,t[1]||"",!0),this.s=wo(t[2]||""),this.g=wo(t[3]||"",!0),Ks(this,t[4]),this.l=wo(t[5]||"",!0),uo(this,t[6]||"",!0),this.o=wo(t[7]||"")):(this.h=!!e,this.i=new qs(null,this.h))}function us(i){return new no(i)}function ai(i,e,t){i.j=t?wo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ks(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function uo(i,e,t){e instanceof qs?(i.i=e,function A(i,e){e&&!i.j&&(es(i),i.i=null,i.g.forEach(function(t,a){var d=a.toLowerCase();a!=d&&(Uo(this,a),T(this,d,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Pi(e,Ia)),i.i=new qs(e,i.h))}function Mi(i,e,t){i.i.set(e,t)}function qi(i){return Mi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function wo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Pi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Hr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Hr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}no.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Pi(e,Ms,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Pi(e,Ms,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Pi(t,"/"==t.charAt(0)?qr:ia,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Pi(t,fa)),i.join("")};var Ms=/[#\/\?@]/g,ia=/[#\?:]/g,qr=/[#\?]/g,Ia=/[#\?@]/g,fa=/#/g;function qs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function es(i){i.g||(i.g=new Map,i.h=0,i.i&&function ha(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var a=i[t].indexOf("="),d=null;if(0<=a){var _=i[t].substring(0,a);d=i[t].substring(a+1)}else _=i[t];e(_,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Uo(i,e){es(i),e=Z(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function pn(i,e){return es(i),e=Z(i,e),i.g.has(e)}function T(i,e,t){Uo(i,e),0<t.length&&(i.i=null,i.g.set(Z(i,e),er(t)),i.h+=t.length)}function Z(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function xe(i){this.l=i||zt,i=Ze.PerformanceNavigationTiming?0<(i=Ze.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ze.g&&Ze.g.Ga&&Ze.g.Ga()&&Ze.g.Ga().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xt=qs.prototype).add=function(i,e){es(this),this.i=null,i=Z(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},xt.forEach=function(i,e){es(this),this.g.forEach(function(t,a){t.forEach(function(d){i.call(e,d,a,this)},this)},this)},xt.oa=function(){es(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const d=i[a];for(let _=0;_<d.length;_++)t.push(e[a])}return t},xt.W=function(i){es(this);let e=[];if("string"==typeof i)pn(this,i)&&(e=e.concat(this.g.get(Z(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},xt.set=function(i,e){return es(this),this.i=null,pn(this,i=Z(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},xt.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},xt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const _=encodeURIComponent(String(a)),D=this.W(a);for(a=0;a<D.length;a++){var d=_;""!==D[a]&&(d+="="+encodeURIComponent(String(D[a]))),i.push(d)}}return this.i=i.join("&")};var zt=10;function jn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function dr(i){return i.h?1:i.g?i.g.size:0}function E(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function C(i,e){i.g?i.g.add(e):i.h=e}function S(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function j(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return er(i.i)}function Me(){}function ht(){this.g=new Me}function rn(i,e,t){const a=t||"";try{Ki(i,function(d,_){let D=d;pt(d)&&(D=Si(d)),e.push(a+_+"="+encodeURIComponent(D))})}catch(d){throw e.push(a+"type="+encodeURIComponent("_badmap")),d}}function kn(i,e,t,a,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(a)}catch{}}function xr(i){this.l=i.$b||null,this.j=i.ib||!1}function ri(i,e){Tr.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Bi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xe.prototype.cancel=function(){if(this.i=j(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Me.prototype.stringify=function(i){return Ze.JSON.stringify(i,void 0)},Me.prototype.parse=function(i){return Ze.JSON.parse(i,void 0)},Kn(xr,to),xr.prototype.g=function(){return new ri(this.l,this.j)},xr.prototype.i=function(i){return function(){return i}}({}),Kn(ri,Tr);var Bi=0;function Vi(i){i.j.read().then(i.Sa.bind(i)).catch(i.ga.bind(i))}function ki(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ji(i)}function ji(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(xt=ri.prototype).open=function(i,e){if(this.readyState!=Bi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ji(this)},xt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Ze).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},xt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ki(this)),this.readyState=Bi},xt.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Ze.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vi(this)}else i.text().then(this.Ua.bind(this),this.ga.bind(this))},xt.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ki(this):ji(this),3==this.readyState&&Vi(this)}},xt.Ua=function(i){this.g&&(this.response=this.responseText=i,ki(this))},xt.Ta=function(i){this.g&&(this.response=i,ki(this))},xt.ga=function(){this.g&&ki(this)},xt.setRequestHeader=function(i,e){this.v.append(i,e)},xt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},xt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Sr=Ze.JSON.parse;function pi(i){Tr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zs,this.K=this.L=!1}Kn(pi,Tr);var Zs="",Vo=/^https?$/i,gi=["POST","PUT"];function sa(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Oo(i),U(i)}function Oo(i){i.D||(i.D=!0,vr(i,"complete"),vr(i,"error"))}function Co(i){if(i.h&&typeof gt<"u"&&(!i.C[1]||4!=z(i)||2!=i.aa()))if(i.v&&4==z(i))bt(i.Ha,0,i);else if(vr(i,"readystatechange"),4==z(i)){i.h=!1;try{const $=i.aa();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===$){var d=String(i.H).match(Ls)[1]||null;if(!d&&Ze.self&&Ze.self.location){var _=Ze.self.location.protocol;d=_.substr(0,_.length-1)}a=!Vo.test(d?d.toLowerCase():"")}t=a}if(t)vr(i,"complete"),vr(i,"success");else{i.m=6;try{var D=2<z(i)?i.g.statusText:""}catch{D=""}i.j=D+" ["+i.aa()+"]",Oo(i)}}finally{U(i)}}}function U(i,e){if(i.g){ae(i);const t=i.g,a=i.C[0]?ze:null;i.g=null,i.C=null,e||vr(i,"ready");try{t.onreadystatechange=a}catch{}}}function ae(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ze.clearTimeout(i.A),i.A=null)}function z(i){return i.g?i.g.readyState:0}function Se(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Zs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ut(i){let e="";return pr(i,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function Wt(i,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=ut(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Mi(i,e,t))}function dn(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function rr(i){this.Ca=0,this.i=[],this.j=new cn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=dn("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=dn("baseRetryDelayMs",5e3,i),this.ab=dn("retryDelaySeedMs",1e4,i),this.Za=dn("forwardChannelMaxRetries",2,i),this.ta=dn("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Yb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new xe(i&&i.concurrentRequestLimit),this.Fa=new ht,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=i&&i.Wb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function mi(i){if(Oi(i),3==i.G){var e=i.U++,t=us(i.F);Mi(t,"SID",i.I),Mi(t,"RID",e),Mi(t,"TYPE","terminate"),ns(i,t),(e=new _s(i,i.j,e,void 0)).K=2,e.v=qi(us(t)),t=!1,Ze.navigator&&Ze.navigator.sendBeacon&&(t=Ze.navigator.sendBeacon(e.v.toString(),"")),!t&&Ze.Image&&((new Image).src=e.v,t=!0),t||(e.g=ou(e.l,null),e.g.da(e.v)),e.F=Date.now(),co(e)}kl(i)}function Ti(i){i.g&&(ga(i),i.g.cancel(),i.g=null)}function Oi(i){Ti(i),i.u&&(Ze.clearTimeout(i.u),i.u=null),jo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Ze.clearTimeout(i.m),i.m=null)}function bi(i){jn(i.h)||i.m||(i.m=!0,Ss(i.Ja,i),i.C=0)}function ts(i,e){var t;t=e?e.m:i.U++;const a=us(i.F);Mi(a,"SID",i.I),Mi(a,"RID",t),Mi(a,"AID",i.T),ns(i,a),i.o&&i.s&&Wt(a,i.o,i.s),t=new _s(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Ra(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),C(i.h,t),di(t,a,e)}function ns(i,e){i.ia&&pr(i.ia,function(t,a){Mi(e,a,t)}),i.l&&Ki({},function(t,a){Mi(e,a,t)})}function Ra(i,e,t){t=Math.min(i.i.length,t);var a=i.l?Sn(i.l.Qa,i.l,i):null;e:{var d=i.i;let _=-1;for(;;){const D=["count="+t];-1==_?0<t?(_=d[0].h,D.push("ofs="+_)):_=0:D.push("ofs="+_);let $=!0;for(let ne=0;ne<t;ne++){let de=d[ne].h;const ke=d[ne].g;if(de-=_,0>de)_=Math.max(0,d[ne].h-100),$=!1;else try{rn(ke,D,"req"+de+"_")}catch{a&&a(ke)}}if($){a=D.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,a}function pa(i){i.g||i.u||(i.Z=1,Ss(i.Ia,i),i.A=0)}function Ro(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Qr(Sn(i.Ia,i),wl(i,i.A)),i.A++,0))}function ga(i){null!=i.B&&(Ze.clearTimeout(i.B),i.B=null)}function ma(i){i.g=new _s(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=us(i.sa);Mi(e,"RID","rpc"),Mi(e,"SID",i.I),Mi(e,"CI",i.L?"0":"1"),Mi(e,"AID",i.T),Mi(e,"TYPE","xmlhttp"),ns(i,e),i.o&&i.s&&Wt(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=qi(us(e)),t.s=null,t.P=!0,$r(t,i)}function jo(i){null!=i.v&&(Ze.clearTimeout(i.v),i.v=null)}function Ba(i,e){var t=null;if(i.g==e){jo(i),ga(i),i.g=null;var a=2}else{if(!E(i.h,e))return;t=e.D,S(i.h,e),a=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.F;var d=i.C;vr(a=jt(),new fs(a,t,e,d)),bi(i)}else pa(i);else if(3==(d=e.o)||0==d&&0<i.pa||!(1==a&&function Vs(i,e){return!(dr(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Ya?0:i.Za)||(i.m=Qr(Sn(i.Ja,i,e),wl(i,i.C)),i.C++,0)))}(i,e)||2==a&&Ro(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),d){case 1:vs(i,5);break;case 4:vs(i,10);break;case 3:vs(i,6);break;default:vs(i,2)}}function wl(i,e){let t=i.Wa+Math.floor(Math.random()*i.ab);return i.l||(t*=2),t*e}function vs(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var a=Sn(i.jb,i);t||(t=new no("//www.google.com/images/cleardot.gif"),Ze.location&&"http"==Ze.location.protocol||ai(t,"https"),qi(t)),function Dn(i,e){const t=new cn;if(Ze.Image){const a=new Image;a.onload=we(kn,t,a,"TestLoadImage: loaded",!0,e),a.onerror=we(kn,t,a,"TestLoadImage: error",!1,e),a.onabort=we(kn,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=we(kn,t,a,"TestLoadImage: timeout",!1,e),Ze.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(t.toString(),a)}else Dr(2);i.G=0,i.l&&i.l.va(e),kl(i),Oi(i)}function kl(i){if(i.G=0,i.la=[],i.l){const e=j(i.h);(0!=e.length||0!=i.i.length)&&(tn(i.la,e),tn(i.la,i.i),i.h.i.length=0,er(i.i),i.i.length=0),i.l.ua()}}function Zl(i,e,t){var a=t instanceof no?us(t):new no(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),Ks(a,a.m);else{var d=Ze.location;a=d.protocol,e=e?e+"."+d.hostname:d.hostname,d=+d.port;var _=new no(null,void 0);a&&ai(_,a),e&&(_.g=e),d&&Ks(_,d),t&&(_.l=t),a=_}return e=i.za,(t=i.D)&&e&&Mi(a,t,e),Mi(a,"VER",i.ma),ns(i,a),a}function ou(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pi(t&&i.Da&&!i.ra?new xr({ib:!0}):i.ra)).L=i.H,e}function Fl(){}function Ta(){if(Et&&!(10<=Number(at)))throw Error("Environmental error: no available transport.")}function Eo(i,e){Tr.call(this),this.g=new rr(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Xb)&&!kr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Qa(this)}function $a(i){Cs.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ql(){Da.call(this),this.status=1}function Qa(i){this.g=i}(xt=pi.prototype).da=function(i,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ps.g(),this.C=function Ws(i){return i.h||(i.h=i.i())}(this.u?this.u:ps),this.g.onreadystatechange=Sn(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(_){return void sa(this,_)}if(i=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var d in a)t.set(d,a[d]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const _ of a.keys())t.set(_,a.get(_))}a=Array.from(t.keys()).find(_=>"content-type"==_.toLowerCase()),d=Ze.FormData&&i instanceof Ze.FormData,!(0<=Ln(gi,e))||a||d||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_,D]of t)this.g.setRequestHeader(_,D);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ae(this),0<this.B&&((this.K=function gs(i){return Et&&function tt(){return function rt(i){var e=it;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Hn(String(ir)).split("."),t=Hn("9").split("."),a=Math.max(e.length,t.length);for(let D=0;0==i&&D<a;D++){var d=e[D]||"",_=t[D]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==d[0].length&&0==_[0].length)break;i=gr(0==d[1].length?0:parseInt(d[1],10),0==_[1].length?0:parseInt(_[1],10))||gr(0==d[2].length,0==_[2].length)||gr(d[2],_[2]),d=d[3],_=_[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.qa,this)):this.A=bt(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(_){sa(this,_)}},xt.qa=function(){typeof gt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vr(this,"timeout"),this.abort(8))},xt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,vr(this,"complete"),vr(this,"abort"),U(this))},xt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),U(this,!0)),pi.X.M.call(this)},xt.Ha=function(){this.s||(this.F||this.v||this.l?Co(this):this.eb())},xt.eb=function(){Co(this)},xt.aa=function(){try{return 2<z(this)?this.g.status:-1}catch{return-1}},xt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},xt.Ra=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Sr(e)}},xt.Ea=function(){return this.m},xt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(xt=rr.prototype).ma=8,xt.G=1,xt.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const d=new _s(this,this.j,i,void 0);let _=this.s;if(this.S&&(_?(_=Wn(_),Br(_,this.S)):_=this.S),null!==this.o||this.N||(d.H=_,_=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ra(this,d,e),Mi(t=us(this.F),"RID",i),Mi(t,"CVER",22),this.D&&Mi(t,"X-HTTP-Session-Id",this.D),ns(this,t),_&&(this.N?e="headers="+encodeURIComponent(String(ut(_)))+"&"+e:this.o&&Wt(t,this.o,_)),C(this.h,d),this.Xa&&Mi(t,"TYPE","init"),this.O?(Mi(t,"$req",e),Mi(t,"SID","null"),d.Z=!0,di(d,t,null)):di(d,t,e),this.G=2}}else 3==this.G&&(i?ts(this,i):0==this.i.length||jn(this.h)||ts(this))},xt.Ia=function(){if(this.u=null,ma(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Qr(Sn(this.cb,this),i)}},xt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Dr(10),Ti(this),ma(this))},xt.bb=function(){null!=this.v&&(this.v=null,Ti(this),Ro(this),Dr(19))},xt.jb=function(i){i?(this.j.info("Successfully pinged google.com"),Dr(2)):(this.j.info("Failed to ping google.com"),Dr(1))},(xt=Fl.prototype).xa=function(){},xt.wa=function(){},xt.va=function(){},xt.ua=function(){},xt.Qa=function(){},Ta.prototype.g=function(i,e){return new Eo(i,e)},Kn(Eo,Tr),Eo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Dr(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Zl(i,null,i.V),bi(i)},Eo.prototype.close=function(){mi(this.g)},Eo.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Si(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.$a++,i)),3==e.G&&bi(e)},Eo.prototype.M=function(){this.g.l=null,delete this.j,mi(this.g),delete this.g,Eo.X.M.call(this)},Kn($a,Cs),Kn(Ql,Da),Kn(Qa,Fl),Qa.prototype.xa=function(){vr(this.g,"a")},Qa.prototype.wa=function(i){vr(this.g,new $a(i))},Qa.prototype.va=function(i){vr(this.g,new Ql(i))},Qa.prototype.ua=function(){vr(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,Eo.prototype.send=Eo.prototype.u,Eo.prototype.open=Eo.prototype.m,Eo.prototype.close=Eo.prototype.close,As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,Ns.COMPLETE="complete",zs.EventType=xo,xo.OPEN="a",xo.CLOSE="b",xo.ERROR="c",xo.MESSAGE="d",Tr.prototype.listen=Tr.prototype.N,pi.prototype.listenOnce=pi.prototype.O,pi.prototype.getLastError=pi.prototype.Na,pi.prototype.getLastErrorCode=pi.prototype.Ea,pi.prototype.getStatus=pi.prototype.aa,pi.prototype.getResponseJson=pi.prototype.Ra,pi.prototype.getResponseText=pi.prototype.fa,pi.prototype.send=pi.prototype.da;var Gc=It.createWebChannelTransport=function(){return new Ta},au=It.getStatEventTarget=function(){return jt()},mo=It.ErrorCode=As,dc=It.EventType=Ns,qo=It.Event=wt,_a=It.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ja=It.FetchXmlHttpFactory=xr,Jl=It.WebChannel=zs,Ua=It.XhrIo=pi;const hl="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let ro="9.10.0";const Do=new _e.Yd("@firebase/firestore");function Xa(){return Do.logLevel}function xn(i,...e){if(Do.logLevel<=_e.in.DEBUG){const t=e.map(fl);Do.debug(`Firestore (${ro}): ${i}`,...t)}}function Os(i,...e){if(Do.logLevel<=_e.in.ERROR){const t=e.map(fl);Do.error(`Firestore (${ro}): ${i}`,...t)}}function Zo(i,...e){if(Do.logLevel<=_e.in.WARN){const t=e.map(fl);Do.warn(`Firestore (${ro}): ${i}`,...t)}}function fl(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Xn(i="Unexpected state"){const e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+i;throw Os(e),new Error(e)}function Ur(i,e){i||Xn()}function Zn(i,e){return i}const sn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nn extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Qo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class pl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class el{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let d=this.i;const _=de=>this.i!==d?(d=this.i,t(de)):Promise.resolve();let D=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new ii,e.enqueueRetryable(()=>_(this.currentUser))};const $=()=>{const de=D;e.enqueueRetryable((0,ye.Z)(function*(){yield de.promise,yield _(a.currentUser)}))},ne=de=>{xn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=de,this.auth.addAuthTokenListener(this.o),$()};this.t.onInit(de=>ne(de)),setTimeout(()=>{if(!this.auth){const de=this.t.getImmediate({optional:!0});de?ne(de):(xn("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new ii)}},0),$()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(xn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ur("string"==typeof a.accessToken),new Qo(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ur(null===e||"string"==typeof e),new wi(e)}}class El{constructor(e,t,a,d){this.h=e,this.l=t,this.m=a,this.g=d,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ur(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Sa{constructor(e,t,a,d){this.h=e,this.l=t,this.m=a,this.g=d}getToken(){return Promise.resolve(new El(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ll{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ya{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const a=_=>{null!=_.error&&xn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const D=_.token!==this.A;return this.A=_.token,xn("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?t(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>a(_))};const d=_=>{xn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.T.onInit(_=>d(_)),setTimeout(()=>{if(!this.appCheck){const _=this.T.getImmediate({optional:!0});_?d(_):xn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ur("string"==typeof t.token),this.A=t.token,new Ll(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Qs(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}class Jo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const d=Qs(40);for(let _=0;_<d.length;++_)a.length<20&&d[_]<t&&(a+=e.charAt(d[_]%e.length))}return a}}function Vr(i,e){return i<e?-1:i>e?1:0}function Xo(i,e,t){return i.length===e.length&&i.every((a,d)=>t(a,e[d]))}function Pa(i){return i+"\0"}class Zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nn(sn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nn(sn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nn(sn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nn(sn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zi.fromMillis(Date.now())}static fromDate(e){return Zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new Zi(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vr(this.nanoseconds,e.nanoseconds):Vr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gr(e)}static min(){return new Gr(new Zi(0,0))}static max(){return new Gr(new Zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ea{constructor(e,t,a){void 0===t?t=0:t>e.length&&Xn(),void 0===a?a=e.length-t:a>e.length-t&&Xn(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===ea.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let d=0;d<a;d++){const _=e.get(d),D=t.get(d);if(_<D)return-1;if(_>D)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _i extends ea{construct(e,t,a){return new _i(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Nn(sn.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(d=>d.length>0))}return new _i(t)}static emptyPath(){return new _i([])}}const ds=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class js extends ea{construct(e,t,a){return new js(e,t,a)}static isValidIdentifier(e){return ds.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),js.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new js(["__name__"])}static fromServerFormat(e){const t=[];let a="",d=0;const _=()=>{if(0===a.length)throw new Nn(sn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let D=!1;for(;d<e.length;){const $=e[d];if("\\"===$){if(d+1===e.length)throw new Nn(sn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ne=e[d+1];if("\\"!==ne&&"."!==ne&&"`"!==ne)throw new Nn(sn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=ne,d+=2}else"`"===$?(D=!D,d++):"."!==$||D?(a+=$,d++):(_(),d++)}if(_(),D)throw new Nn(sn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new js(t)}static emptyPath(){return new js([])}}class nr{constructor(e){this.path=e}static fromPath(e){return new nr(_i.fromString(e))}static fromName(e){return new nr(_i.fromString(e).popFirst(5))}static empty(){return new nr(_i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_i.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _i.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nr(new _i(e.slice()))}}class Bl{constructor(e,t,a,d){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=d}}function Xl(i){return i.fields.find(e=>2===e.kind)}function ec(i){return i.fields.filter(e=>2!==e.kind)}Bl.UNKNOWN_ID=-1;class lu{constructor(e,t){this.fieldPath=e,this.kind=t}}class $l{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $l(0,Io.min())}}function Wc(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,d=Gr.fromTimestamp(1e9===a?new Zi(t+1,0):new Zi(t,a));return new Io(d,nr.empty(),e)}function is(i){return new Io(i.readTime,i.key,-1)}class Io{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Io(Gr.min(),nr.empty(),-1)}static max(){return new Io(Gr.max(),nr.empty(),-1)}}function va(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=nr.comparator(i.documentKey,e.documentKey),0!==t?t:Vr(i.largestBatchId,e.largestBatchId))}const Dl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ul{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function io(i){return oa.apply(this,arguments)}function oa(){return oa=(0,ye.Z)(function*(i){if(i.code!==sn.FAILED_PRECONDITION||i.message!==Dl)throw i;xn("LocalStore","Unexpectedly lost primary lease")}),oa.apply(this,arguments)}class Qt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qt((a,d)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(a,d)},this.catchCallback=_=>{this.wrapFailure(t,_).next(a,d)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Qt?t:Qt.resolve(t)}catch(t){return Qt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Qt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Qt.reject(t)}static resolve(e){return new Qt((t,a)=>{t(e)})}static reject(e){return new Qt((t,a)=>{a(e)})}static waitFor(e){return new Qt((t,a)=>{let d=0,_=0,D=!1;e.forEach($=>{++d,$.next(()=>{++_,D&&_===d&&t()},ne=>a(ne))}),D=!0,_===d&&t()})}static or(e){let t=Qt.resolve(!1);for(const a of e)t=t.next(d=>d?Qt.resolve(d):a());return t}static forEach(e,t){const a=[];return e.forEach((d,_)=>{a.push(t.call(this,d,_))}),this.waitFor(a)}static mapArray(e,t){return new Qt((a,d)=>{const _=e.length,D=new Array(_);let $=0;for(let ne=0;ne<_;ne++){const de=ne;t(e[de]).next(ke=>{D[de]=ke,++$,$===_&&a(D)},ke=>d(ke))}})}static doWhile(e,t){return new Qt((a,d)=>{const _=()=>{!0===e()?t().next(()=>{_()},d):a()};_()})}}class Aa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ii,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new tc(e,t.error)):this.P.resolve()},this.transaction.onerror=a=>{const d=x(a.target.error);this.P.reject(new tc(e,d))}}static open(e,t,a,d){try{return new Aa(t,e.transaction(d,a))}catch(_){throw new tc(t,_)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(xn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fc(t)}}class Js{constructor(e,t,a){this.name=e,this.version=t,this.S=a,12.2===Js.D((0,fe.z$)())&&Os("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xn("SimpleDb","Removing database:",e),R(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,fe.hl)())return!1;if(Js.N())return!0;const e=(0,fe.z$)(),t=Js.D(e),a=0<t&&t<10,d=Js.k(e),_=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||_)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static k(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}F(e){var t=this;return(0,ye.Z)(function*(){return t.db||(xn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,d)=>{const _=indexedDB.open(t.name,t.version);_.onsuccess=D=>{a(D.target.result)},_.onblocked=()=>{d(new tc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=D=>{const $=D.target.error;d("VersionError"===$.name?new Nn(sn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===$.name?new Nn(sn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+$):new tc(e,$))},_.onupgradeneeded=D=>{xn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',D.oldVersion),t.S.$(D.target.result,_.transaction,D.oldVersion,t.version).next(()=>{xn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=a=>t.B(a)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,d){var _=this;return(0,ye.Z)(function*(){const D="readonly"===t;let $=0;for(;;){++$;try{_.db=yield _.F(e);const ne=Aa.open(_.db,e,D?"readonly":"readwrite",a),de=d(ne).next(ke=>(ne.V(),ke)).catch(ke=>(ne.abort(ke),Qt.reject(ke))).toPromise();return de.catch(()=>{}),yield ne.v,de}catch(ne){const de=ne,ke="FirebaseError"!==de.name&&$<3;if(xn("SimpleDb","Transaction failed with error:",de.message,"Retrying:",ke),_.close(),!ke)return Promise.reject(de)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ja{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return R(this.U.delete())}}class tc extends Nn{constructor(e,t){super(sn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ba(i){return"IndexedDbTransactionError"===i.name}class fc{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(xn("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(xn("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),R(a)}add(e){return xn("SimpleDb","ADD",this.store.name,e,e),R(this.store.add(e))}get(e){return R(this.store.get(e)).next(t=>(void 0===t&&(t=null),xn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return xn("SimpleDb","DELETE",this.store.name,e),R(this.store.delete(e))}count(){return xn("SimpleDb","COUNT",this.store.name),R(this.store.count())}W(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const d=this.cursor(a),_=[];return this.H(d,(D,$)=>{_.push($)}).next(()=>_)}{const d=this.store.getAll(a.range);return new Qt((_,D)=>{d.onerror=$=>{D($.target.error)},d.onsuccess=$=>{_($.target.result)}})}}J(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new Qt((d,_)=>{a.onerror=D=>{_(D.target.error)},a.onsuccess=D=>{d(D.target.result)}})}Y(e,t){xn("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.X=!1;const d=this.cursor(a);return this.H(d,(_,D,$)=>$.delete())}Z(e,t){let a;t?a=e:(a={},t=e);const d=this.cursor(a);return this.H(d,t)}tt(e){const t=this.cursor({});return new Qt((a,d)=>{t.onerror=_=>{const D=x(_.target.error);d(D)},t.onsuccess=_=>{const D=_.target.result;D?e(D.primaryKey,D.value).next($=>{$?D.continue():a()}):a()}})}H(e,t){const a=[];return new Qt((d,_)=>{e.onerror=D=>{_(D.target.error)},e.onsuccess=D=>{const $=D.target.result;if(!$)return void d();const ne=new ja($),de=t($.primaryKey,$.value,ne);if(de instanceof Qt){const ke=de.catch(_t=>(ne.done(),Qt.reject(_t)));a.push(ke)}ne.isDone?d():null===ne.G?$.continue():$.continue(ne.G)}}).next(()=>Qt.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.X?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function R(i){return new Qt((e,t)=>{i.onsuccess=a=>{e(a.target.result)},i.onerror=a=>{const d=x(a.target.error);t(d)}})}let k=!1;function x(i){const e=Js.D((0,fe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const a=new Nn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return k||(k=!0,setTimeout(()=>{throw a},0)),a}}return i}class G{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;xn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{xn("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(a){ba(a)?xn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield io(a)}yield t.nt(6e4)}))}}class q{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.it(a,e))})()}it(e,t){const a=new Set;let d=t,_=!0;return Qt.doWhile(()=>!0===_&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(D=>{if(null!==D&&!a.has(D))return xn("IndexBackiller",`Processing collection: ${D}`),this.rt(e,D,d).next($=>{d-=$,a.add(D)});_=!1})).next(()=>t-d)}rt(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(d=>this.localStore.localDocuments.getNextDocuments(e,t,d,a).next(_=>{const D=_.changes;return this.localStore.indexManager.updateIndexEntries(e,D).next(()=>this.ot(d,_)).next($=>(xn("IndexBackiller",`Updating offset: ${$}`),this.localStore.indexManager.updateCollectionGroup(e,t,$))).next(()=>D.size)}))}ot(e,t){let a=e;return t.changes.forEach((d,_)=>{const D=is(_);va(D,a)>0&&(a=D)}),new Io(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ce{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>t.writeSequenceNumber(a))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Je(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function dt(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function fn(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Ce.at=-1;class Rn{constructor(e,t){this.comparator=e,this.root=t||Qn.EMPTY}insert(e,t){return new Rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new Rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const d=this.comparator(e,a.key);if(0===d)return t+a.left.size;d<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new li(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new li(this.root,e,this.comparator,!1)}getReverseIterator(){return new li(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new li(this.root,e,this.comparator,!0)}}class li{constructor(e,t,a,d){this.isReverse=d,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=t?a(e.key,t):1,t&&d&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,t,a,d,_){this.key=e,this.value=t,this.color=a??Qn.RED,this.left=d??Qn.EMPTY,this.right=_??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,d,_){return new Qn(e??this.key,t??this.value,a??this.color,d??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let d=this;const _=a(e,d.key);return d=_<0?d.copy(null,null,null,d.left.insert(e,t,a),null):0===_?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,a)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return Qn.EMPTY;a=d.right.min(),d=d.copy(a.key,a.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xn();const e=this.left.check();if(e!==this.right.check())throw Xn();return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1,Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xn()}get value(){throw Xn()}get color(){throw Xn()}get left(){throw Xn()}get right(){throw Xn()}copy(i,e,t,a,d){return this}insert(i,e,t){return new Qn(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wr{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const d=a.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new To(this.data.getIterator())}getIteratorFrom(e){return new To(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Wr)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,_=a.getNext().key;if(0!==this.comparator(d,_))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wr(this.comparator);return t.data=e,t}}class To{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ds(i){return i.hasNext()?i.getNext():void 0}class So{constructor(e){this.fields=e,e.sort(js.comparator)}static empty(){return new So([])}unionWith(e){let t=new Wr(js.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new So(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class Xs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xs(t)}static fromUint8Array(e){const t=function(a){let d="";for(let _=0;_<a.length;++_)d+=String.fromCharCode(a[_]);return d}(e);return new Xs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xs.EMPTY_BYTE_STRING=new Xs("");const Vl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(i){if(Ur(!!i),"string"==typeof i){let e=0;const t=Vl.exec(i);if(Ur(!!t),t[1]){let d=t[1];d=(d+"000000000").substr(0,9),e=Number(d)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ps(i.seconds),nanos:Ps(i.nanos)}}function Ps(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Il(i){return"string"==typeof i?Xs.fromBase64String(i):Xs.fromUint8Array(i)}function Mu(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function W(i){const e=i.mapValue.fields.__previous_value__;return Mu(e)?W(e):e}function X(i){const e=ka(i.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}class Ae{constructor(e,t,a,d,_,D,$,ne){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=d,this.ssl=_,this.forceLongPolling=D,this.autoDetectLongPolling=$,this.useFetchStreams=ne}}class We{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new We("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof We&&e.projectId===this.projectId&&e.database===this.database}}function $t(i){return null==i}function en(i){return 0===i&&1/i==-1/0}function Mn(i){return"number"==typeof i&&Number.isInteger(i)&&!en(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const zn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zr={nullValue:"NULL_VALUE"};function hi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Mu(i)?4:Tc(i)?9007199254740991:10:Xn()}function hr(i,e){if(i===e)return!0;const t=hi(i);if(t!==hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return X(i).isEqual(X(e));case 3:return function(a,d){if("string"==typeof a.timestampValue&&"string"==typeof d.timestampValue&&a.timestampValue.length===d.timestampValue.length)return a.timestampValue===d.timestampValue;const _=ka(a.timestampValue),D=ka(d.timestampValue);return _.seconds===D.seconds&&_.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,Il(i.bytesValue).isEqual(Il(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,d){return Ps(a.geoPointValue.latitude)===Ps(d.geoPointValue.latitude)&&Ps(a.geoPointValue.longitude)===Ps(d.geoPointValue.longitude)}(i,e);case 2:return function(a,d){if("integerValue"in a&&"integerValue"in d)return Ps(a.integerValue)===Ps(d.integerValue);if("doubleValue"in a&&"doubleValue"in d){const _=Ps(a.doubleValue),D=Ps(d.doubleValue);return _===D?en(_)===en(D):isNaN(_)&&isNaN(D)}return!1}(i,e);case 9:return Xo(i.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:return function(a,d){const _=a.mapValue.fields||{},D=d.mapValue.fields||{};if(Je(_)!==Je(D))return!1;for(const $ in _)if(_.hasOwnProperty($)&&(void 0===D[$]||!hr(_[$],D[$])))return!1;return!0}(i,e);default:return Xn()}var d}function Or(i,e){return void 0!==(i.values||[]).find(t=>hr(t,e))}function bs(i,e){if(i===e)return 0;const t=hi(i),a=hi(e);if(t!==a)return Vr(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vr(i.booleanValue,e.booleanValue);case 2:return function(d,_){const D=Ps(d.integerValue||d.doubleValue),$=Ps(_.integerValue||_.doubleValue);return D<$?-1:D>$?1:D===$?0:isNaN(D)?isNaN($)?0:-1:1}(i,e);case 3:return aa(i.timestampValue,e.timestampValue);case 4:return aa(X(i),X(e));case 5:return Vr(i.stringValue,e.stringValue);case 6:return function(d,_){const D=Il(d),$=Il(_);return D.compareTo($)}(i.bytesValue,e.bytesValue);case 7:return function(d,_){const D=d.split("/"),$=_.split("/");for(let ne=0;ne<D.length&&ne<$.length;ne++){const de=Vr(D[ne],$[ne]);if(0!==de)return de}return Vr(D.length,$.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,_){const D=Vr(Ps(d.latitude),Ps(_.latitude));return 0!==D?D:Vr(Ps(d.longitude),Ps(_.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,_){const D=d.values||[],$=_.values||[];for(let ne=0;ne<D.length&&ne<$.length;++ne){const de=bs(D[ne],$[ne]);if(de)return de}return Vr(D.length,$.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,_){if(d===zn.mapValue&&_===zn.mapValue)return 0;if(d===zn.mapValue)return 1;if(_===zn.mapValue)return-1;const D=d.fields||{},$=Object.keys(D),ne=_.fields||{},de=Object.keys(ne);$.sort(),de.sort();for(let ke=0;ke<$.length&&ke<de.length;++ke){const _t=Vr($[ke],de[ke]);if(0!==_t)return _t;const Zt=bs(D[$[ke]],ne[de[ke]]);if(0!==Zt)return Zt}return Vr($.length,de.length)}(i.mapValue,e.mapValue);default:throw Xn()}}function aa(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Vr(i,e);const t=ka(i),a=ka(e),d=Vr(t.seconds,a.seconds);return 0!==d?d:Vr(t.nanos,a.nanos)}function wa(i){return Ha(i)}function Ha(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const d=ka(a);return`time(${d.seconds},${d.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Il(i.bytesValue).toBase64():"referenceValue"in i?nr.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(a){let d="[",_=!0;for(const D of a.values||[])_?_=!1:d+=",",d+=Ha(D);return d+"]"}(i.arrayValue):"mapValue"in i?function(a){const d=Object.keys(a.fields||{}).sort();let _="{",D=!0;for(const $ of d)D?D=!1:_+=",",_+=`${$}:${Ha(a.fields[$])}`;return _+"}"}(i.mapValue):Xn();var e}function la(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function tl(i){return!!i&&"integerValue"in i}function gl(i){return!!i&&"arrayValue"in i}function Ca(i){return!!i&&"nullValue"in i}function Na(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nl(i){return!!i&&"mapValue"in i}function rl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return dt(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=rl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Tc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function zc(i){return"nullValue"in i?zr:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?la(We.empty(),nr.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Xn()}function Qd(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?la(We.empty(),nr.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?zn:Xn()}function rd(i,e){const t=bs(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Ou(i,e){const t=bs(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ko{constructor(e){this.value=e}static empty(){return new ko({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!nl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(t)}setAll(e){let t=js.emptyPath(),a={},d=[];e.forEach((D,$)=>{if(!t.isImmediateParentOf($)){const ne=this.getFieldsMap(t);this.applyChanges(ne,a,d),a={},d=[],t=$.popLast()}D?a[$.lastSegment()]=rl(D):d.push($.lastSegment())});const _=this.getFieldsMap(t);this.applyChanges(_,a,d)}delete(e){const t=this.field(e.popLast());nl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let d=t.mapValue.fields[e.get(a)];nl(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=d),t=d}return t.mapValue.fields}applyChanges(e,t,a){dt(t,(d,_)=>e[d]=_);for(const d of a)delete e[d]}clone(){return new ko(rl(this.value))}}function Dd(i){const e=[];return dt(i.fields,(t,a)=>{const d=new js([t]);if(nl(a)){const _=Dd(a.mapValue).fields;if(0===_.length)e.push(d);else for(const D of _)e.push(d.child(D))}else e.push(d)}),new So(e)}class ws{constructor(e,t,a,d,_,D){this.key=e,this.documentType=t,this.version=a,this.readTime=d,this.data=_,this.documentState=D}static newInvalidDocument(e){return new ws(e,0,Gr.min(),Gr.min(),ko.empty(),0)}static newFoundDocument(e,t,a){return new ws(e,1,t,Gr.min(),a,0)}static newNoDocument(e,t){return new ws(e,2,t,Gr.min(),ko.empty(),0)}static newUnknownDocument(e,t){return new ws(e,3,t,Gr.min(),ko.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ko.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ko.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ws&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ws(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class id{constructor(e,t=null,a=[],d=[],_=null,D=null,$=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=d,this.limit=_,this.startAt=D,this.endAt=$,this.ht=null}}function Sc(i,e=null,t=[],a=[],d=null,_=null,D=null){return new id(i,e,t,a,d,_,D)}function il(i){const e=Zn(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>{return(d=a).field.canonicalString()+d.op.toString()+wa(d.value);var d}).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(d=a).field.canonicalString()+d.dir;var d}).join(","),$t(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>wa(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>wa(a)).join(",")),e.ht=t}return e.ht}function pc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let d=0;d<i.orderBy.length;d++)if(!sd(i.orderBy[d],e.orderBy[d]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let d=0;d<i.filters.length;d++)if((t=i.filters[d]).op!==(a=e.filters[d]).op||!t.field.isEqual(a.field)||!hr(t.value,a.value))return!1;var t,a;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Kc(i.startAt,e.startAt)&&Kc(i.endAt,e.endAt)}function uu(i){return nr.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Yc(i,e){return i.filters.filter(t=>t instanceof Fo&&t.field.isEqual(e))}function Id(i,e,t){let a=zr,d=!0;for(const _ of Yc(i,e)){let D=zr,$=!0;switch(_.op){case"<":case"<=":D=zc(_.value);break;case"==":case"in":case">=":D=_.value;break;case">":D=_.value,$=!1;break;case"!=":case"not-in":D=zr}rd({value:a,inclusive:d},{value:D,inclusive:$})<0&&(a=D,d=$)}if(null!==t)for(let _=0;_<i.orderBy.length;++_)if(i.orderBy[_].field.isEqual(e)){const D=t.position[_];rd({value:a,inclusive:d},{value:D,inclusive:t.inclusive})<0&&(a=D,d=t.inclusive);break}return{value:a,inclusive:d}}function Ru(i,e,t){let a=zn,d=!0;for(const _ of Yc(i,e)){let D=zn,$=!0;switch(_.op){case">=":case">":D=Qd(_.value),$=!1;break;case"==":case"in":case"<=":D=_.value;break;case"<":D=_.value,$=!1;break;case"!=":case"not-in":D=zn}Ou({value:a,inclusive:d},{value:D,inclusive:$})>0&&(a=D,d=$)}if(null!==t)for(let _=0;_<i.orderBy.length;++_)if(i.orderBy[_].field.isEqual(e)){const D=t.position[_];Ou({value:a,inclusive:d},{value:D,inclusive:t.inclusive})>0&&(a=D,d=t.inclusive);break}return{value:a,inclusive:d}}class Fo extends class{}{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,a):new Jd(e,t,a):"array-contains"===t?new Sd(e,a):"in"===t?new Ch(e,a):"not-in"===t?new Eh(e,a):"array-contains-any"===t?new Pu(e,a):new Fo(e,t,a)}static lt(e,t,a){return"in"===t?new du(e,a):new Td(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(bs(t,this.value)):null!==t&&hi(this.value)===hi(t)&&this.ft(bs(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Jd extends Fo{constructor(e,t,a){super(e,t,a),this.key=nr.fromName(a.referenceValue)}matches(e){const t=nr.comparator(e.key,this.key);return this.ft(t)}}class du extends Fo{constructor(e,t){super(e,"in",t),this.keys=gc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Td extends Fo{constructor(e,t){super(e,"not-in",t),this.keys=gc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>nr.fromName(a.referenceValue))}class Sd extends Fo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gl(t)&&Or(t.arrayValue,this.value)}}class Ch extends Fo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Or(this.value.arrayValue,t)}}class Eh extends Fo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Or(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Or(this.value.arrayValue,t)}}class Pu extends Fo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Or(this.value.arrayValue,a))}}class nc{constructor(e,t){this.position=e,this.inclusive=t}}class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function sd(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function ku(i,e,t){let a=0;for(let d=0;d<i.position.length;d++){const _=e[d],D=i.position[d];if(a=_.field.isKeyField()?nr.comparator(nr.fromName(D.referenceValue),t.key):bs(D,t.data.field(_.field)),"desc"===_.dir&&(a*=-1),0!==a)break}return a}function Kc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!hr(i.position[t],e.position[t]))return!1;return!0}class Tl{constructor(e,t=null,a=[],d=[],_=null,D="F",$=null,ne=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=d,this.limit=_,this.limitType=D,this.startAt=$,this.endAt=ne,this._t=null,this.wt=null}}function jl(i,e,t,a,d,_,D,$){return new Tl(i,e,t,a,d,_,D,$)}function Nc(i){return new Tl(i)}function od(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ad(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ga(i){for(const e of i.filters)if(e.dt())return e.field;return null}function xc(i){return null!==i.collectionGroup}function qc(i){const e=Zn(i);if(null===e._t){e._t=[];const t=Ga(e),a=Ad(e);if(null!==t&&null===a)t.isKeyField()||e._t.push(new Ac(t)),e._t.push(new Ac(js.keyField(),"asc"));else{let d=!1;for(const _ of e.explicitOrderBy)e._t.push(_),_.field.isKeyField()&&(d=!0);if(!d){const _=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Ac(js.keyField(),_))}}}return e._t}function ta(i){const e=Zn(i);if(!e.wt)if("F"===e.limitType)e.wt=Sc(e.path,e.collectionGroup,qc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const _ of qc(e))t.push(new Ac(_.field,"desc"===_.dir?"asc":"desc"));const a=e.endAt?new nc(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new nc(e.startAt.position,e.startAt.inclusive):null;e.wt=Sc(e.path,e.collectionGroup,t,e.filters,e.limit,a,d)}return e.wt}function Fu(i,e,t){return new Tl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Wa(i,e){return pc(ta(i),ta(e))&&i.limitType===e.limitType}function ho(i){return`${il(ta(i))}|lt:${i.limitType}`}function ad(i){return`Query(target=${function cu(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(a=t).field.canonicalString()} ${a.op} ${wa(a.value)}`;var a}).join(", ")}]`),$t(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(a=t).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>wa(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>wa(t)).join(",")),`Target(${e})`}(ta(i))}; limitType=${i.limitType})`}function sl(i,e){return e.isFoundDocument()&&function(t,a){const d=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(d):nr.isDocumentKey(t.path)?t.path.isEqual(d):t.path.isImmediateParentOf(d)}(i,e)&&function(t,a){for(const d of t.explicitOrderBy)if(!d.field.isKeyField()&&null===a.data.field(d.field))return!1;return!0}(i,e)&&function(t,a){for(const d of t.filters)if(!d.matches(a))return!1;return!0}(i,e)&&(a=e,!((t=i).startAt&&!function(d,_,D){const $=ku(d,_,D);return d.inclusive?$<=0:$<0}(t.startAt,qc(t),a)||t.endAt&&!function(d,_,D){const $=ku(d,_,D);return d.inclusive?$>=0:$>0}(t.endAt,qc(t),a)));var t,a}function Mc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ld(i){return(e,t)=>{let a=!1;for(const d of qc(i)){const _=cd(d,e,t);if(0!==_)return _;a=a||d.field.isKeyField()}return 0}}function cd(i,e,t){const a=i.field.isKeyField()?nr.comparator(e.key,t.key):function(d,_,D){const $=_.data.field(d),ne=D.data.field(d);return null!==$&&null!==ne?bs($,ne):Xn()}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Xn()}}function mc(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:en(e)?"-0":e}}function za(i){return{integerValue:""+i}}function ca(i,e){return Mn(e)?za(e):mc(i,e)}class Sl{constructor(){this._=void 0}}function Zc(i,e,t){return i instanceof Al?function(a,d){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return d&&(_.fields.__previous_value__=d),{mapValue:_}}(t,e):i instanceof Qc?Ea(i,e):i instanceof xa?_c(i,e):function(a,d){const _=Oc(a,d),D=Bu(_)+Bu(a.yt);return tl(_)&&tl(a.yt)?za(D):mc(a.It,D)}(i,e)}function Lu(i,e,t){return i instanceof Qc?Ea(i,e):i instanceof xa?_c(i,e):t}function Oc(i,e){return i instanceof Nl?tl(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class Al extends Sl{}class Qc extends Sl{constructor(e){super(),this.elements=e}}function Ea(i,e){const t=Ho(e);for(const a of i.elements)t.some(d=>hr(d,a))||t.push(a);return{arrayValue:{values:t}}}class xa extends Sl{constructor(e){super(),this.elements=e}}function _c(i,e){let t=Ho(e);for(const a of i.elements)t=t.filter(d=>!hr(d,a));return{arrayValue:{values:t}}}class Nl extends Sl{constructor(e,t){super(),this.It=e,this.yt=t}}function Bu(i){return Ps(i.integerValue||i.doubleValue)}function Ho(i){return gl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ml{constructor(e,t){this.field=e,this.transform=t}}class ud{constructor(e,t){this.version=e,this.transformResults=t}}class so{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new so}static exists(e){return new so(void 0,e)}static updateTime(e){return new so(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Jc{}function hu(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new gu(i.key,so.none()):new Rc(i.key,i.data,so.none());{const t=i.data,a=ko.empty();let d=new Wr(js.comparator);for(let _ of e.fields)if(!d.has(_)){let D=t.field(_);null===D&&_.length>1&&(_=_.popLast(),D=t.field(_)),null===D?a.delete(_):a.set(_,D),d=d.add(_)}return new ol(i.key,a,new So(d.toArray()),so.none())}}function Xc(i,e,t){i instanceof Rc?function(a,d,_){const D=a.value.clone(),$=dd(a.fieldTransforms,d,_.transformResults);D.setAll($),d.convertToFoundDocument(_.version,D).setHasCommittedMutations()}(i,e,t):i instanceof ol?function(a,d,_){if(!$u(a.precondition,d))return void d.convertToUnknownDocument(_.version);const D=dd(a.fieldTransforms,d,_.transformResults),$=d.data;$.setAll(Md(a)),$.setAll(D),d.convertToFoundDocument(_.version,$).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fu(i,e,t,a){return i instanceof Rc?function(d,_,D,$){if(!$u(d.precondition,_))return D;const ne=d.value.clone(),de=pu(d.fieldTransforms,$,_);return ne.setAll(de),_.convertToFoundDocument(_.version,ne).setHasLocalMutations(),null}(i,e,t,a):i instanceof ol?function(d,_,D,$){if(!$u(d.precondition,_))return D;const ne=pu(d.fieldTransforms,$,_),de=_.data;return de.setAll(Md(d)),de.setAll(ne),_.convertToFoundDocument(_.version,de).setHasLocalMutations(),null===D?null:D.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(ke=>ke.field))}(i,e,t,a):(D=t,$u(i.precondition,_=e)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):D);var _,D}function Go(i,e){let t=null;for(const a of i.fieldTransforms){const d=e.data.field(a.field),_=Oc(a.transform,d||null);null!=_&&(null===t&&(t=ko.empty()),t.set(a.field,_))}return t||null}function xd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===a||t&&a&&Xo(t,a,(d,_)=>function Nd(i,e){return i.field.isEqual(e.field)&&(a=e.transform,(t=i.transform)instanceof Qc&&a instanceof Qc||t instanceof xa&&a instanceof xa?Xo(t.elements,a.elements,hr):t instanceof Nl&&a instanceof Nl?hr(t.yt,a.yt):t instanceof Al&&a instanceof Al);var t,a}(d,_))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,a}class Rc extends Jc{constructor(e,t,a,d=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class ol extends Jc{constructor(e,t,a,d,_=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=d,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function Md(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function dd(i,e,t){const a=new Map;Ur(i.length===t.length);for(let d=0;d<t.length;d++){const _=i[d],D=_.transform,$=e.data.field(_.field);a.set(_.field,Lu(D,$,t[d]))}return a}function pu(i,e,t){const a=new Map;for(const d of i){const _=d.transform,D=t.data.field(d.field);a.set(d.field,Zc(_,D,e))}return a}class gu extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mu extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Od{constructor(e){this.count=e}}var Wo,ss;function Pc(i){switch(i){default:return Xn();case sn.CANCELLED:case sn.UNKNOWN:case sn.DEADLINE_EXCEEDED:case sn.RESOURCE_EXHAUSTED:case sn.INTERNAL:case sn.UNAVAILABLE:case sn.UNAUTHENTICATED:return!1;case sn.INVALID_ARGUMENT:case sn.NOT_FOUND:case sn.ALREADY_EXISTS:case sn.PERMISSION_DENIED:case sn.FAILED_PRECONDITION:case sn.ABORTED:case sn.OUT_OF_RANGE:case sn.UNIMPLEMENTED:case sn.DATA_LOSS:return!0}}function Hl(i){if(void 0===i)return Os("GRPC error has no .code"),sn.UNKNOWN;switch(i){case Wo.OK:return sn.OK;case Wo.CANCELLED:return sn.CANCELLED;case Wo.UNKNOWN:return sn.UNKNOWN;case Wo.DEADLINE_EXCEEDED:return sn.DEADLINE_EXCEEDED;case Wo.RESOURCE_EXHAUSTED:return sn.RESOURCE_EXHAUSTED;case Wo.INTERNAL:return sn.INTERNAL;case Wo.UNAVAILABLE:return sn.UNAVAILABLE;case Wo.UNAUTHENTICATED:return sn.UNAUTHENTICATED;case Wo.INVALID_ARGUMENT:return sn.INVALID_ARGUMENT;case Wo.NOT_FOUND:return sn.NOT_FOUND;case Wo.ALREADY_EXISTS:return sn.ALREADY_EXISTS;case Wo.PERMISSION_DENIED:return sn.PERMISSION_DENIED;case Wo.FAILED_PRECONDITION:return sn.FAILED_PRECONDITION;case Wo.ABORTED:return sn.ABORTED;case Wo.OUT_OF_RANGE:return sn.OUT_OF_RANGE;case Wo.UNIMPLEMENTED:return sn.UNIMPLEMENTED;case Wo.DATA_LOSS:return sn.DATA_LOSS;default:return Xn()}}(ss=Wo||(Wo={}))[ss.OK=0]="OK",ss[ss.CANCELLED=1]="CANCELLED",ss[ss.UNKNOWN=2]="UNKNOWN",ss[ss.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ss[ss.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ss[ss.NOT_FOUND=5]="NOT_FOUND",ss[ss.ALREADY_EXISTS=6]="ALREADY_EXISTS",ss[ss.PERMISSION_DENIED=7]="PERMISSION_DENIED",ss[ss.UNAUTHENTICATED=16]="UNAUTHENTICATED",ss[ss.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ss[ss.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ss[ss.ABORTED=10]="ABORTED",ss[ss.OUT_OF_RANGE=11]="OUT_OF_RANGE",ss[ss.UNIMPLEMENTED=12]="UNIMPLEMENTED",ss[ss.INTERNAL=13]="INTERNAL",ss[ss.UNAVAILABLE=14]="UNAVAILABLE",ss[ss.DATA_LOSS=15]="DATA_LOSS";class _l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[d,_]of a)if(this.equalsFn(d,e))return _}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),d=this.inner[a];if(void 0===d)return this.inner[a]=[[e,t]],void this.innerSize++;for(let _=0;_<d.length;_++)if(this.equalsFn(d[_][0],e))return void(d[_]=[e,t]);d.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return 1===a.length?delete this.inner[t]:a.splice(d,1),this.innerSize--,!0;return!1}forEach(e){dt(this.inner,(t,a)=>{for(const[d,_]of a)e(d,_)})}isEmpty(){return fn(this.inner)}size(){return this.innerSize}}const kc=new Rn(nr.comparator);function zo(){return kc}const Gl=new Rn(nr.comparator);function Ya(...i){let e=Gl;for(const t of i)e=e.insert(t.key,t);return e}function Uu(i){let e=Gl;return i.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function Hs(){return xl()}function eu(){return xl()}function xl(){return new _l(i=>i.toString(),(i,e)=>i.isEqual(e))}const Fc=new Rn(nr.comparator),_u=new Wr(nr.comparator);function Ci(...i){let e=_u;for(const t of i)e=e.add(t);return e}const yc=new Wr(Vr);function vc(){return yc}class rc{constructor(e,t,a,d,_){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=d,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,t){const a=new Map;return a.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,t)),new rc(Gr.min(),a,vc(),zo(),Ci())}}class ua{constructor(e,t,a,d,_){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=d,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ua(Xs.EMPTY_BYTE_STRING,t,Ci(),Ci(),Ci())}}class yu{constructor(e,t,a,d){this.Tt=e,this.removedTargetIds=t,this.key=a,this.Et=d}}class vu{constructor(e,t){this.targetId=e,this.At=t}}class Lc{constructor(e,t,a=Xs.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=d}}class ic{constructor(){this.Rt=0,this.bt=Bc(),this.Pt=Xs.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ci(),t=Ci(),a=Ci();return this.bt.forEach((d,_)=>{switch(_){case 0:e=e.add(d);break;case 2:t=t.add(d);break;case 1:a=a.add(d);break;default:Xn()}}),new ua(this.Pt,this.vt,e,t,a)}Nt(){this.Vt=!1,this.bt=Bc()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class tu{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=zo(),this.qt=Yo(),this.Kt=new Wr(Vr)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const a=this.zt(t);switch(e.state){case 0:this.Ht(t)&&a.Ct(e.resumeToken);break;case 1:a.Ft(),a.St||a.Nt(),a.Ct(e.resumeToken);break;case 2:a.Ft(),a.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(a.$t(),a.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),a.Ct(e.resumeToken));break;default:Xn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((a,d)=>{this.Ht(d)&&t(d)})}Yt(e){const t=e.targetId,a=e.At.count,d=this.Xt(t);if(d){const _=d.target;if(uu(_))if(0===a){const D=new nr(_.path);this.jt(t,D,ws.newNoDocument(D,Gr.min()))}else Ur(1===a);else this.Zt(t)!==a&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((_,D)=>{const $=this.Xt(D);if($){if(_.current&&uu($.target)){const ne=new nr($.target.path);null!==this.Ut.get(ne)||this.ee(D,ne)||this.jt(D,ne,ws.newNoDocument(ne,e))}_.Dt&&(t.set(D,_.xt()),_.Nt())}});let a=Ci();this.qt.forEach((_,D)=>{let $=!0;D.forEachWhile(ne=>{const de=this.Xt(ne);return!de||2===de.purpose||($=!1,!1)}),$&&(a=a.add(_))}),this.Ut.forEach((_,D)=>D.setReadTime(e));const d=new rc(e,t,this.Kt,this.Ut,a);return this.Ut=zo(),this.qt=Yo(),this.Kt=new Wr(Vr),d}Qt(e,t){if(!this.Ht(e))return;const a=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,a),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,a){if(!this.Ht(e))return;const d=this.zt(e);this.ee(e,t)?d.kt(t,1):d.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),a&&(this.Ut=this.Ut.insert(t,a))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new ic,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Wr(Vr),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||xn("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new ic),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Yo(){return new Rn(nr.comparator)}function Bc(){return new Rn(nr.comparator)}const Vu={asc:"ASCENDING",desc:"DESCENDING"},Fa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class na{constructor(e,t){this.databaseId=e,this.gt=t}}function La(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bu(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Ka(i,e){return La(i,e.toTimestamp())}function fo(i){return Ur(!!i),Gr.fromTimestamp(function(e){const t=ka(e);return new Zi(t.seconds,t.nanos)}(i))}function sc(i,e){return(t=i,new _i(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ju(i){const e=_i.fromString(i);return Ur(Gu(e)),e}function al(i,e){return sc(i.databaseId,e.path)}function Wl(i,e){const t=ju(e);if(t.get(1)!==i.databaseId.projectId)throw new Nn(sn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Nn(sn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new nr(b(t))}function wu(i,e){return sc(i.databaseId,e)}function N(i){const e=ju(i);return 4===e.length?_i.emptyPath():b(e)}function m(i){return new _i(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function b(i){return Ur(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function P(i,e,t){return{name:al(i,e),fields:t.value.mapValue.fields}}function ie(i,e,t){const a=Wl(i,e.name),d=fo(e.updateTime),_=new ko({mapValue:{fields:e.fields}}),D=ws.newFoundDocument(a,d,_);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function on(i,e){let t;if(e instanceof Rc)t={update:P(i,e.key,e.value)};else if(e instanceof gu)t={delete:al(i,e.key)};else if(e instanceof ol)t={update:P(i,e.key,e.data),updateMask:Dh(e.fieldMask)};else{if(!(e instanceof mu))return Xn();t={verify:al(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(d,_){const D=_.transform;if(D instanceof Al)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Qc)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof xa)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Nl)return{fieldPath:_.field.canonicalString(),increment:D.yt};throw Xn()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Ka(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Xn()),t;var d}function Yn(i,e){const t=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?so.updateTime(fo(d.updateTime)):void 0!==d.exists?so.exists(d.exists):so.none():so.none(),a=e.updateTransforms?e.updateTransforms.map(d=>function(_,D){let $=null;"setToServerValue"in D?(Ur("REQUEST_TIME"===D.setToServerValue),$=new Al):"appendMissingElements"in D?$=new Qc(D.appendMissingElements.values||[]):"removeAllFromArray"in D?$=new xa(D.removeAllFromArray.values||[]):"increment"in D?$=new Nl(_,D.increment):Xn();const ne=js.fromServerFormat(D.fieldPath);return new ml(ne,$)}(i,d)):[];var d;if(e.update){const d=Wl(i,e.update.name),_=new ko({mapValue:{fields:e.update.fields}});if(e.updateMask){const D=new So((e.updateMask.fieldPaths||[]).map(de=>js.fromServerFormat(de)));return new ol(d,_,D,t,a)}return new Rc(d,_,t,a)}if(e.delete){const d=Wl(i,e.delete);return new gu(d,t)}if(e.verify){const d=Wl(i,e.verify);return new mu(d,t)}return Xn()}function si(i,e){return{documents:[wu(i,e.path)]}}function Xr(i,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=wu(i,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wu(i,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const d=function(ne){if(0===ne.length)return;const de=ne.map(ke=>function(_t){if("=="===_t.op){if(Na(_t.value))return{unaryFilter:{field:bc(_t.field),op:"IS_NAN"}};if(Ca(_t.value))return{unaryFilter:{field:bc(_t.field),op:"IS_NULL"}}}else if("!="===_t.op){if(Na(_t.value))return{unaryFilter:{field:bc(_t.field),op:"IS_NOT_NAN"}};if(Ca(_t.value))return{unaryFilter:{field:bc(_t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(_t.field),op:Cu(_t.op),value:_t.value}}}(ke));return 1===de.length?de[0]:{compositeFilter:{op:"AND",filters:de}}}(e.filters);d&&(t.structuredQuery.where=d);const _=function(ne){if(0!==ne.length)return ne.map(de=>{return{field:bc((ke=de).field),direction:Ml(ke.dir)};var ke})}(e.orderBy);_&&(t.structuredQuery.orderBy=_);const D=(de=e.limit,i.gt||$t(de)?de:{value:de});var de,$,ne;return null!==D&&(t.structuredQuery.limit=D),e.startAt&&(t.structuredQuery.startAt={before:($=e.startAt).inclusive,values:$.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ne=e.endAt).inclusive,values:ne.position}),t}function Lo(i){let e=N(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let d=null;if(a>0){Ur(1===a);const ke=t.from[0];ke.allDescendants?d=ke.collectionId:e=e.child(ke.collectionId)}let _=[];t.where&&(_=$c(t.where));let D=[];t.orderBy&&(D=t.orderBy.map(ke=>{return new Ac(Eu((_t=ke).field),function(Zt){switch(Zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_t.direction));var _t}));let $=null;t.limit&&($=function(ke){let _t;return _t="object"==typeof ke?ke.value:ke,$t(_t)?null:_t}(t.limit));let ne=null;var ke;t.startAt&&(ne=new nc((ke=t.startAt).values||[],!!ke.before));let de=null;return t.endAt&&(de=function(ke){return new nc(ke.values||[],!ke.before)}(t.endAt)),jl(e,d,D,_,$,"F",ne,de)}function $c(i){return i?void 0!==i.unaryFilter?[Hu(i)]:void 0!==i.fieldFilter?[hd(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>$c(e)).reduce((e,t)=>e.concat(t)):Xn():[]}function Ml(i){return Vu[i]}function Cu(i){return Fa[i]}function bc(i){return{fieldPath:i.canonicalString()}}function Eu(i){return js.fromServerFormat(i.fieldPath)}function hd(i){return Fo.create(Eu(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xn()}}(i.fieldFilter.op),i.fieldFilter.value)}function Hu(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Eu(i.unaryFilter.field);return Fo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Eu(i.unaryFilter.field);return Fo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Eu(i.unaryFilter.field);return Fo.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Eu(i.unaryFilter.field);return Fo.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Xn()}}function Dh(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gu(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function qa(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Rd(e)),e=cf(i.get(t),e);return Rd(e)}function cf(i,e){let t=e;const a=i.length;for(let d=0;d<a;d++){const _=i.charAt(d);switch(_){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=_}}return t}function Rd(i){return i+"\x01\x01"}function oc(i){const e=i.length;if(Ur(e>=2),2===e)return Ur("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),_i.emptyPath();const t=e-2,a=[];let d="";for(let _=0;_<e;){const D=i.indexOf("\x01",_);switch((D<0||D>t)&&Xn(),i.charAt(D+1)){case"\x01":const $=i.substring(_,D);let ne;0===d.length?ne=$:(d+=$,ne=d,d=""),a.push(ne);break;case"\x10":d+=i.substring(_,D),d+="\0";break;case"\x11":d+=i.substring(_,D+1);break;default:Xn()}_=D+2}return new _i(a)}const Xd=["userId","batchId"];function fd(i,e){return[i,qa(e)]}function Ih(i,e,t){return[i,qa(e),t]}const Th={},uf=["prefixPath","collectionGroup","readTime","documentId"],Sh=["prefixPath","collectionGroup","documentId"],Ah=["collectionGroup","readTime","prefixPath","documentId"],Nh=["canonicalId","targetId"],Pd=["targetId","path"],Jf=["path","targetId"],Xf=["collectionId","parent"],wc=["indexId","uid"],eh=["uid","sequenceNumber"],xh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],df=["indexId","uid","orderedDocumentKey"],ep=["userId","collectionPath","documentId"],hf=["userId","collectionPath","largestBatchId"],kd=["userId","collectionGroup","largestBatchId"],ff=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tp=[...ff,"documentOverlays"],pf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],th=pf,gf=[...th,"indexConfiguration","indexState","indexEntries"];class Mh extends Ul{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Bs(i,e){const t=Zn(i);return Js.O(t.ie,e)}class Fd{constructor(e,t,a,d){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=d}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let d=0;d<this.mutations.length;d++){const _=this.mutations[d];_.key.isEqual(e.key)&&Xc(_,e,a[d])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=fu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=fu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=eu();return this.mutations.forEach(d=>{const _=e.get(d.key),D=_.overlayedDocument;let $=this.applyToLocalView(D,_.mutatedFields);$=t.has(d.key)?null:$;const ne=hu(D,$);null!==ne&&a.set(d.key,ne),D.isValidDocument()||D.convertToNoDocument(Gr.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ci())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(t,a)=>xd(t,a))&&Xo(this.baseMutations,e.baseMutations,(t,a)=>xd(t,a))}}class nh{constructor(e,t,a,d){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=d}static from(e,t,a){Ur(e.mutations.length===a.length);let d=Fc;const _=e.mutations;for(let D=0;D<_.length;D++)d=d.insert(_[D].key,a[D].version);return new nh(e,t,a,d)}}class Wu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ko{constructor(e,t,a,d,_=Gr.min(),D=Gr.min(),$=Xs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=d,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=$}withSequenceNumber(e){return new Ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pd{constructor(e){this.re=e}}function _f(i,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:al(d=i.re,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:La(d,_.version.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:Du(e.version)};else{if(!e.isUnknownDocument())return Xn();a.unknownDocument={path:t.path.toArray(),version:Du(e.version)}}var d,_;return a}function rh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Du(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zu(i){const e=new Zi(i.seconds,i.nanoseconds);return Gr.fromTimestamp(e)}function Yu(i,e){const t=(e.baseMutations||[]).map(_=>Yn(i.re,_));for(let _=0;_<e.mutations.length-1;++_){const D=e.mutations[_];_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(D.updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_)}const a=e.mutations.map(_=>Yn(i.re,_)),d=Zi.fromMillis(e.localWriteTimeMs);return new Fd(e.batchId,d,t,a)}function gd(i){const e=zu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?zu(i.lastLimboFreeSnapshotVersion):Gr.min();let a;var d;return void 0!==i.query.documents?(Ur(1===(d=i.query).documents.length),a=ta(Nc(N(d.documents[0])))):a=ta(Lo(i.query)),new Ko(a,i.targetId,0,i.lastListenSequenceNumber,e,t,Xs.fromBase64String(i.resumeToken))}function ih(i,e){const t=Du(e.snapshotVersion),a=Du(e.lastLimboFreeSnapshotVersion);let d;d=uu(e.target)?si(i.re,e.target):Xr(i.re,e.target);const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:il(e.target),readTime:t,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:d}}function sh(i){const e=Lo({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Fu(e,e.limit,"L"):e}function g(i,e){return new Wu(e.largestBatchId,Yn(i.re,e.overlayMutation))}function w(i,e){const t=e.path.lastSegment();return[i,qa(e.path.popLast()),t]}function h(i,e,t,a){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Du(a.readTime),documentKey:qa(a.documentKey.path),largestBatchId:a.largestBatchId}}class I{getBundleMetadata(e,t){return B(e).get(t).next(a=>{if(a)return{id:(d=a).bundleId,createTime:zu(d.createTime),version:d.version};var d})}saveBundleMetadata(e,t){return B(e).put({bundleId:(a=t).id,createTime:Du(fo(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return te(e).get(t).next(a=>{if(a)return{name:(d=a).name,query:sh(d.bundledQuery),readTime:zu(d.readTime)};var d})}saveNamedQuery(e,t){return te(e).put({name:(a=t).name,readTime:Du(fo(a.readTime)),bundledQuery:a.bundledQuery});var a}}function B(i){return Bs(i,"bundles")}function te(i){return Bs(i,"namedQueries")}class Ye{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Ye(e,t.uid||"")}getOverlay(e,t){return Ct(e).get(w(this.userId,t)).next(a=>a?g(this.It,a):null)}getOverlays(e,t){const a=Hs();return Qt.forEach(t,d=>this.getOverlay(e,d).next(_=>{null!==_&&a.set(d,_)})).next(()=>a)}saveOverlays(e,t,a){const d=[];return a.forEach((_,D)=>{const $=new Wu(t,D);d.push(this.ue(e,$))}),Qt.waitFor(d)}removeOverlaysForBatchId(e,t,a){const d=new Set;t.forEach(D=>d.add(qa(D.getCollectionPath())));const _=[];return d.forEach(D=>{const $=IDBKeyRange.bound([this.userId,D,a],[this.userId,D,a+1],!1,!0);_.push(Ct(e).Y("collectionPathOverlayIndex",$))}),Qt.waitFor(_)}getOverlaysForCollection(e,t,a){const d=Hs(),_=qa(t),D=IDBKeyRange.bound([this.userId,_,a],[this.userId,_,Number.POSITIVE_INFINITY],!0);return Ct(e).W("collectionPathOverlayIndex",D).next($=>{for(const ne of $){const de=g(this.It,ne);d.set(de.getKey(),de)}return d})}getOverlaysForCollectionGroup(e,t,a,d){const _=Hs();let D;const $=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ct(e).Z({index:"collectionGroupOverlayIndex",range:$},(ne,de,ke)=>{const _t=g(this.It,de);_.size()<d||_t.largestBatchId===D?(_.set(_t.getKey(),_t),D=_t.largestBatchId):ke.done()}).next(()=>_)}ue(e,t){return Ct(e).put(function(a,d,_){const[D,$,ne]=w(d,_.mutation.key);return{userId:d,collectionPath:$,documentId:ne,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:on(a.re,_.mutation)}}(this.It,this.userId,t))}}function Ct(i){return Bs(i,"documentOverlays")}class Ot{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ps(e.integerValue));else if("doubleValue"in e){const a=Ps(e.doubleValue);isNaN(a)?this.le(t,13):(this.le(t,15),en(a)?t.fe(0):t.fe(a))}else if("timestampValue"in e){const a=e.timestampValue;this.le(t,20),"string"==typeof a?t.de(a):(t.de(`${a.seconds||""}`),t.fe(a.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Il(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.le(t,45),t.fe(a.latitude||0),t.fe(a.longitude||0)}else"mapValue"in e?Tc(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Xn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const a=e.fields||{};this.le(t,55);for(const d of Object.keys(a))this._e(d,t),this.ae(a[d],t)}pe(e,t){const a=e.values||[];this.le(t,50);for(const d of a)this.ae(d,t)}ge(e,t){this.le(t,37),nr.fromName(e).path.forEach(a=>{this.le(t,60),this.Ie(a,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function un(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function yn(i){const e=64-function(t){let a=0;for(let d=0;d<8;++d){const _=un(255&t[d]);if(a+=_,8!==_)break}return a}(i);return Math.ceil(e/8)}Ot.Te=new Ot;class wr{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Ae(a.value),a=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Pe(a.value),a=t.next();this.ve()}Ve(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Ae(a);else if(a<2048)this.Ae(960|a>>>6),this.Ae(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a);else{const d=t.codePointAt(0);this.Ae(240|d>>>18),this.Ae(128|63&d>>>12),this.Ae(128|63&d>>>6),this.Ae(128|63&d)}}this.Re()}Se(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Pe(a);else if(a<2048)this.Pe(960|a>>>6),this.Pe(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a);else{const d=t.codePointAt(0);this.Pe(240|d>>>18),this.Pe(128|63&d>>>12),this.Pe(128|63&d>>>6),this.Pe(128|63&d)}}this.ve()}De(e){const t=this.Ce(e),a=yn(t);this.xe(1+a),this.buffer[this.position++]=255&a;for(let d=t.length-a;d<t.length;++d)this.buffer[this.position++]=255&t[d]}Ne(e){const t=this.Ce(e),a=yn(t);this.xe(1+a),this.buffer[this.position++]=~(255&a);for(let d=t.length-a;d<t.length;++d)this.buffer[this.position++]=~(255&t[d])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(d){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,d,!1),new Uint8Array(_.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let d=1;d<t.length;++d)t[d]^=a?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const d=new Uint8Array(a);d.set(this.buffer),this.buffer=d}}class cr{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Cr{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class $i{constructor(){this.Be=new wr,this.Le=new cr(this.Be),this.Ue=new Cr(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Zr{constructor(e,t,a,d){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=d}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Zr(this.indexId,this.documentKey,this.arrayValue,a)}}function Ei(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=os(i.arrayValue,e.arrayValue),0!==t?t:(t=os(i.directionalValue,e.directionalValue),0!==t?t:nr.comparator(i.documentKey,e.documentKey)))}function os(i,e){for(let t=0;t<i.length&&t<e.length;++t){const a=i[t]-e[t];if(0!==a)return a}return i.length-e.length}class Li{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const a=t;a.dt()?this.je=a:this.Qe.push(a)}}We(e){const t=Xl(e);if(void 0!==t&&!this.ze(t))return!1;const a=ec(e);let d=0,_=0;for(;d<a.length&&this.ze(a[d]);++d);if(d===a.length)return!0;if(void 0!==this.je){const D=a[d];if(!this.He(this.je,D)||!this.Je(this.Ge[_++],D))return!1;++d}for(;d<a.length;++d){const D=a[d];if(_>=this.Ge.length||!this.Je(this.Ge[_++],D))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class po{constructor(){this.Ye=new Qi}addToCollectionParentIndex(e,t){return this.Ye.add(t),Qt.resolve()}getCollectionParents(e,t){return Qt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Qt.resolve()}deleteFieldIndex(e,t){return Qt.resolve()}getDocumentsMatchingTarget(e,t){return Qt.resolve(null)}getIndexType(e,t){return Qt.resolve(0)}getFieldIndexes(e,t){return Qt.resolve([])}getNextCollectionGroupToUpdate(e){return Qt.resolve(null)}getMinOffset(e,t){return Qt.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return Qt.resolve(Io.min())}updateCollectionGroup(e,t,a){return Qt.resolve()}updateIndexEntries(e,t){return Qt.resolve()}}class Qi{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),d=this.index[t]||new Wr(_i.comparator),_=!d.has(a);return this.index[t]=d.add(a),_}has(e){const t=e.lastSegment(),a=e.popLast(),d=this.index[t];return d&&d.has(a)}getEntries(e){return(this.index[e]||new Wr(_i.comparator)).toArray()}}const Ui=new Uint8Array(0);class Wi{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Qi,this.Ze=new _l(a=>il(a),(a,d)=>pc(a,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const a=t.lastSegment(),d=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const _={collectionId:a,parent:qa(d)};return eo(e).put(_)}return Qt.resolve()}getCollectionParents(e,t){const a=[],d=IDBKeyRange.bound([t,""],[Pa(t),""],!1,!0);return eo(e).W(d).next(_=>{for(const D of _){if(D.collectionId!==t)break;a.push(oc(D.parent))}return a})}addFieldIndex(e,t){const a=oo(e),d={indexId:(D=t).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map($=>[$.fieldPath.canonicalString(),$.kind])};var D;delete d.indexId;const _=a.add(d);if(t.indexState){const D=_o(e);return _.next($=>{D.put(h($,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return _.next()}deleteFieldIndex(e,t){const a=oo(e),d=_o(e),_=Is(e);return a.delete(t.indexId).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=Is(e);let d=!0;const _=new Map;return Qt.forEach(this.tn(t),D=>this.en(e,D).next($=>{d&&(d=!!$),_.set(D,$)})).next(()=>{if(d){let D=Ci();const $=[];return Qt.forEach(_,(ne,de)=>{var ke;xn("IndexedDbIndexManager",`Using index ${ke=ne,`id=${ke.indexId}|cg=${ke.collectionGroup}|f=${ke.fields.map(ao=>`${ao.fieldPath}:${ao.kind}`).join(",")}`} to execute ${il(t)}`);const _t=function(ao,da){const Gs=Xl(da);if(void 0===Gs)return null;for(const lo of Yc(ao,Gs.fieldPath))switch(lo.op){case"array-contains-any":return lo.value.arrayValue.values||[];case"array-contains":return[lo.value]}return null}(de,ne),Zt=function(ao,da){const Gs=new Map;for(const lo of ec(da))for(const dl of Yc(ao,lo.fieldPath))switch(dl.op){case"==":case"in":Gs.set(lo.fieldPath.canonicalString(),dl.value);break;case"not-in":case"!=":return Gs.set(lo.fieldPath.canonicalString(),dl.value),Array.from(Gs.values())}return null}(de,ne),wn=function(ao,da){const Gs=[];let lo=!0;for(const dl of ec(da)){const af=0===dl.kind?Id(ao,dl.fieldPath,ao.startAt):Ru(ao,dl.fieldPath,ao.startAt);Gs.push(af.value),lo&&(lo=af.inclusive)}return new nc(Gs,lo)}(de,ne),Tn=function(ao,da){const Gs=[];let lo=!0;for(const dl of ec(da)){const af=0===dl.kind?Ru(ao,dl.fieldPath,ao.endAt):Id(ao,dl.fieldPath,ao.endAt);Gs.push(af.value),lo&&(lo=af.inclusive)}return new nc(Gs,lo)}(de,ne),lr=this.nn(ne,de,wn),Fr=this.nn(ne,de,Tn),$s=this.sn(ne,de,Zt),No=this.rn(ne.indexId,_t,lr,wn.inclusive,Fr,Tn.inclusive,$s);return Qt.forEach(No,ao=>a.J(ao,t.limit).next(da=>{da.forEach(Gs=>{const lo=nr.fromSegments(Gs.documentKey);D.has(lo)||(D=D.add(lo),$.push(lo))})}))}).next(()=>$)}return Qt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,a,d,_,D,$){const ne=(null!=t?t.length:1)*Math.max(a.length,_.length),de=ne/(null!=t?t.length:1),ke=[];for(let _t=0;_t<ne;++_t){const Zt=t?this.on(t[_t/de]):Ui,wn=this.un(e,Zt,a[_t%de],d),Tn=this.cn(e,Zt,_[_t%de],D),lr=$.map(Fr=>this.un(e,Zt,Fr,!0));ke.push(...this.createRange(wn,Tn,lr))}return ke}un(e,t,a,d){const _=new Zr(e,nr.empty(),t,a);return d?_:_.Ke()}cn(e,t,a,d){const _=new Zr(e,nr.empty(),t,a);return d?_.Ke():_}en(e,t){const a=new Li(t),d=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,d).next(_=>{let D=null;for(const $ of _)a.We($)&&(!D||$.fields.length>D.fields.length)&&(D=$);return D})}getIndexType(e,t){let a=2;return Qt.forEach(this.tn(t),d=>this.en(e,d).next(_=>{_?0!==a&&_.fields.length<function(D){let $=new Wr(js.comparator),ne=!1;for(const de of D.filters){const ke=de;ke.field.isKeyField()||("array-contains"===ke.op||"array-contains-any"===ke.op?ne=!0:$=$.add(ke.field))}for(const de of D.orderBy)de.field.isKeyField()||($=$.add(de.field));return $.size+(ne?1:0)}(d)&&(a=1):a=0})).next(()=>a)}an(e,t){const a=new $i;for(const d of ec(e)){const _=t.data.field(d.fieldPath);if(null==_)return null;const D=a.qe(d.kind);Ot.Te.ce(_,D)}return a.$e()}on(e){const t=new $i;return Ot.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const a=new $i;return Ot.Te.ce(la(this.databaseId,t),a.qe(function(d){const _=ec(d);return 0===_.length?0:_[_.length-1].kind}(e))),a.$e()}sn(e,t,a){if(null===a)return[];let d=[];d.push(new $i);let _=0;for(const D of ec(e)){const $=a[_++];for(const ne of d)if(this.ln(t,D.fieldPath)&&gl($))d=this.fn(d,D,$);else{const de=ne.qe(D.kind);Ot.Te.ce($,de)}}return this.dn(d)}nn(e,t,a){return this.sn(e,t,a.position)}dn(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].$e();return t}fn(e,t,a){const d=[...e],_=[];for(const D of a.arrayValue.values||[])for(const $ of d){const ne=new $i;ne.seed($.$e()),Ot.Te.ce(D,ne.qe(t.kind)),_.push(ne)}return _}ln(e,t){return!!e.filters.find(a=>a instanceof Fo&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=oo(e),d=_o(e);return(t?a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.W()).next(_=>{const D=[];return Qt.forEach(_,$=>d.get([$.indexId,this.uid]).next(ne=>{D.push(function(de,ke){const _t=ke?new $l(ke.sequenceNumber,new Io(zu(ke.readTime),new nr(oc(ke.documentKey)),ke.largestBatchId)):$l.empty(),Zt=de.fields.map(([wn,Tn])=>new lu(js.fromServerFormat(wn),Tn));return new Bl(de.indexId,de.collectionGroup,Zt,_t)}($,ne))})).next(()=>D)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,d)=>{const _=a.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==_?_:Vr(a.collectionGroup,d.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const d=oo(e),_=_o(e);return this._n(e).next(D=>d.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next($=>Qt.forEach($,ne=>_.put(h(ne.indexId,this.user,D,a)))))}updateIndexEntries(e,t){const a=new Map;return Qt.forEach(t,(d,_)=>{const D=a.get(d.collectionGroup);return(D?Qt.resolve(D):this.getFieldIndexes(e,d.collectionGroup)).next($=>(a.set(d.collectionGroup,$),Qt.forEach($,ne=>this.wn(e,d,ne).next(de=>{const ke=this.mn(_,ne);return de.isEqual(ke)?Qt.resolve():this.gn(e,_,ne,de,ke)}))))})}yn(e,t,a,d){return Is(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.hn(a,t.key),documentKey:t.key.path.toArray()})}pn(e,t,a,d){return Is(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.hn(a,t.key),t.key.path.toArray()])}wn(e,t,a){const d=Is(e);let _=new Wr(Ei);return d.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.hn(a,t)])},(D,$)=>{_=_.add(new Zr(a.indexId,t,$.arrayValue,$.directionalValue))}).next(()=>_)}mn(e,t){let a=new Wr(Ei);const d=this.an(t,e);if(null==d)return a;const _=Xl(t);if(null!=_){const D=e.data.field(_.fieldPath);if(gl(D))for(const $ of D.arrayValue.values||[])a=a.add(new Zr(t.indexId,e.key,this.on($),d))}else a=a.add(new Zr(t.indexId,e.key,Ui,d));return a}gn(e,t,a,d,_){xn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const D=[];return function($,ne,de,ke,_t){const Zt=$.getIterator(),wn=ne.getIterator();let Tn=Ds(Zt),lr=Ds(wn);for(;Tn||lr;){let Fr=!1,$s=!1;if(Tn&&lr){const No=de(Tn,lr);No<0?$s=!0:No>0&&(Fr=!0)}else null!=Tn?$s=!0:Fr=!0;Fr?(ke(lr),lr=Ds(wn)):$s?(_t(Tn),Tn=Ds(Zt)):(Tn=Ds(Zt),lr=Ds(wn))}}(d,_,Ei,$=>{D.push(this.yn(e,t,a,$))},$=>{D.push(this.pn(e,t,a,$))}),Qt.waitFor(D)}_n(e){let t=1;return _o(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,d,_)=>{_.done(),t=d.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((D,$)=>Ei(D,$)).filter((D,$,ne)=>!$||0!==Ei(D,ne[$-1]));const d=[];d.push(e);for(const D of a){const $=Ei(D,e),ne=Ei(D,t);if(0===$)d[0]=e.Ke();else if($>0&&ne<0)d.push(D),d.push(D.Ke());else if(ne>0)break}d.push(t);const _=[];for(let D=0;D<d.length;D+=2)_.push(IDBKeyRange.bound([d[D].indexId,this.uid,d[D].arrayValue,d[D].directionalValue,Ui,[]],[d[D+1].indexId,this.uid,d[D+1].arrayValue,d[D+1].directionalValue,Ui,[]]));return _}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ao)}getMinOffset(e,t){return Qt.mapArray(this.tn(t),a=>this.en(e,a).next(d=>d||Xn())).next(Ao)}}function eo(i){return Bs(i,"collectionParents")}function Is(i){return Bs(i,"indexEntries")}function oo(i){return Bs(i,"indexConfiguration")}function _o(i){return Bs(i,"indexState")}function Ao(i){Ur(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<i.length;a++){const d=i[a].indexState.offset;va(d,e)<0&&(e=d),t<d.largestBatchId&&(t=d.largestBatchId)}return new Io(e.readTime,e.documentKey,t)}const Ol={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nu(i,e,t){const a=i.store("mutations"),d=i.store("documentMutations"),_=[],D=IDBKeyRange.only(t.batchId);let $=0;const ne=a.Z({range:D},(ke,_t,Zt)=>($++,Zt.delete()));_.push(ne.next(()=>{Ur(1===$)}));const de=[];for(const ke of t.mutations){const _t=Ih(e,ke.key.path,t.batchId);_.push(d.delete(_t)),de.push(ke.key)}return Qt.waitFor(_).next(()=>de)}function Cc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Xn();e=i.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class Za{constructor(e,t,a,d){this.userId=e,this.It=t,this.indexManager=a,this.referenceDelegate=d,this.In={}}static oe(e,t,a,d){Ur(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new Za(_,t,a,d)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ac(e).Z({index:"userMutationsIndex",range:a},(d,_,D)=>{t=!1,D.done()}).next(()=>t)}addMutationBatch(e,t,a,d){const _=zl(e),D=ac(e);return D.add({}).next($=>{Ur("number"==typeof $);const ne=new Fd($,t,a,d),de=function(Zt,wn,Tn){const lr=Tn.baseMutations.map($s=>on(Zt.re,$s)),Fr=Tn.mutations.map($s=>on(Zt.re,$s));return{userId:wn,batchId:Tn.batchId,localWriteTimeMs:Tn.localWriteTime.toMillis(),baseMutations:lr,mutations:Fr}}(this.It,this.userId,ne),ke=[];let _t=new Wr((Zt,wn)=>Vr(Zt.canonicalString(),wn.canonicalString()));for(const Zt of d){const wn=Ih(this.userId,Zt.key.path,$);_t=_t.add(Zt.key.path.popLast()),ke.push(D.put(de)),ke.push(_.put(wn,Th))}return _t.forEach(Zt=>{ke.push(this.indexManager.addToCollectionParentIndex(e,Zt))}),e.addOnCommittedListener(()=>{this.In[$]=ne.keys()}),Qt.waitFor(ke).next(()=>ne)})}lookupMutationBatch(e,t){return ac(e).get(t).next(a=>a?(Ur(a.userId===this.userId),Yu(this.It,a)):null)}Tn(e,t){return this.In[t]?Qt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const d=a.keys();return this.In[t]=d,d}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,d=IDBKeyRange.lowerBound([this.userId,a]);let _=null;return ac(e).Z({index:"userMutationsIndex",range:d},(D,$,ne)=>{$.userId===this.userId&&(Ur($.batchId>=a),_=Yu(this.It,$)),ne.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return ac(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(d,_,D)=>{a=_.batchId,D.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ac(e).W("userMutationsIndex",t).next(a=>a.map(d=>Yu(this.It,d)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=fd(this.userId,t.path),d=IDBKeyRange.lowerBound(a),_=[];return zl(e).Z({range:d},(D,$,ne)=>{const[de,ke,_t]=D,Zt=oc(ke);if(de===this.userId&&t.path.isEqual(Zt))return ac(e).get(_t).next(wn=>{if(!wn)throw Xn();Ur(wn.userId===this.userId),_.push(Yu(this.It,wn))});ne.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Wr(Vr);const d=[];return t.forEach(_=>{const D=fd(this.userId,_.path),$=IDBKeyRange.lowerBound(D),ne=zl(e).Z({range:$},(de,ke,_t)=>{const[Zt,wn,Tn]=de,lr=oc(wn);Zt===this.userId&&_.path.isEqual(lr)?a=a.add(Tn):_t.done()});d.push(ne)}),Qt.waitFor(d).next(()=>this.En(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,d=a.length+1,_=fd(this.userId,a),D=IDBKeyRange.lowerBound(_);let $=new Wr(Vr);return zl(e).Z({range:D},(ne,de,ke)=>{const[_t,Zt,wn]=ne,Tn=oc(Zt);_t===this.userId&&a.isPrefixOf(Tn)?Tn.length===d&&($=$.add(wn)):ke.done()}).next(()=>this.En(e,$))}En(e,t){const a=[],d=[];return t.forEach(_=>{d.push(ac(e).get(_).next(D=>{if(null===D)throw Xn();Ur(D.userId===this.userId),a.push(Yu(this.It,D))}))}),Qt.waitFor(d).next(()=>a)}removeMutationBatch(e,t){return nu(e.ie,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Qt.forEach(a,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Qt.resolve();const a=IDBKeyRange.lowerBound([this.userId]),d=[];return zl(e).Z({range:a},(_,D,$)=>{if(_[0]===this.userId){const ne=oc(_[1]);d.push(ne)}else $.done()}).next(()=>{Ur(0===d.length)})})}containsKey(e,t){return Rl(e,this.userId,t)}Rn(e){return Iu(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rl(i,e,t){const a=fd(e,t.path),d=a[1],_=IDBKeyRange.lowerBound(a);let D=!1;return zl(i).Z({range:_,X:!0},($,ne,de)=>{const[ke,_t,Zt]=$;ke===e&&_t===d&&(D=!0),de.done()}).next(()=>D)}function ac(i){return Bs(i,"mutations")}function zl(i){return Bs(i,"documentMutations")}function Iu(i){return Bs(i,"mutationQueues")}class lc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new lc(0)}static vn(){return new lc(-1)}}class Ku{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const a=new lc(t.highestTargetId);return t.highestTargetId=a.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Gr.fromTimestamp(new Zi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.Vn(e).next(d=>(d.highestListenSequenceNumber=t,a&&(d.lastRemoteSnapshotVersion=a.toTimestamp()),t>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=t),this.Sn(e,d)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(a=>(a.targetCount+=1,this.Cn(t,a),this.Sn(e,a))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(a=>(Ur(a.targetCount>0),a.targetCount-=1,this.Sn(e,a)))}removeTargets(e,t,a){let d=0;const _=[];return cc(e).Z((D,$)=>{const ne=gd($);ne.sequenceNumber<=t&&null===a.get(ne.targetId)&&(d++,_.push(this.removeTargetData(e,ne)))}).next(()=>Qt.waitFor(_)).next(()=>d)}forEachTarget(e,t){return cc(e).Z((a,d)=>{const _=gd(d);t(_)})}Vn(e){return Tu(e).get("targetGlobalKey").next(t=>(Ur(null!==t),t))}Sn(e,t){return Tu(e).put("targetGlobalKey",t)}Dn(e,t){return cc(e).put(ih(this.It,t))}Cn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const a=il(t),d=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let _=null;return cc(e).Z({range:d,index:"queryTargetsIndex"},(D,$,ne)=>{const de=gd($);pc(t,de.target)&&(_=de,ne.done())}).next(()=>_)}addMatchingKeys(e,t,a){const d=[],_=ll(e);return t.forEach(D=>{const $=qa(D.path);d.push(_.put({targetId:a,path:$})),d.push(this.referenceDelegate.addReference(e,a,D))}),Qt.waitFor(d)}removeMatchingKeys(e,t,a){const d=ll(e);return Qt.forEach(t,_=>{const D=qa(_.path);return Qt.waitFor([d.delete([a,D]),this.referenceDelegate.removeReference(e,a,_)])})}removeMatchingKeysForTargetId(e,t){const a=ll(e),d=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(d)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),d=ll(e);let _=Ci();return d.Z({range:a,X:!0},(D,$,ne)=>{const de=oc(D[1]),ke=new nr(de);_=_.add(ke)}).next(()=>_)}containsKey(e,t){const a=qa(t.path),d=IDBKeyRange.bound([a],[Pa(a)],!1,!0);let _=0;return ll(e).Z({index:"documentTargetsIndex",X:!0,range:d},([D,$],ne,de)=>{0!==D&&(_++,de.done())}).next(()=>_>0)}se(e,t){return cc(e).get(t).next(a=>a?gd(a):null)}}function cc(i){return Bs(i,"targets")}function Tu(i){return Bs(i,"targetGlobal")}function ll(i){return Bs(i,"targetDocuments")}function Su([i,e],[t,a]){const d=Vr(i,t);return 0===d?Vr(e,a):d}class md{constructor(e){this.xn=e,this.buffer=new Wr(Su),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Su(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pl{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;xn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){ba(a)?xn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield io(a)}yield t.Fn(3e5)}))}}class f{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return Qt.resolve(Ce.at);const a=new md(t);return this.$n.forEachTarget(e,d=>a.Mn(d.sequenceNumber)).next(()=>this.$n.Ln(e,d=>a.Mn(d))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.$n.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(xn("LruGarbageCollector","Garbage collection skipped; disabled"),Qt.resolve(Ol)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(xn("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ol):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let a,d,_,D,$,ne,de;const ke=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_t=>(_t>this.params.maximumSequenceNumbersToCollect?(xn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_t}`),d=this.params.maximumSequenceNumbersToCollect):d=_t,D=Date.now(),this.nthSequenceNumber(e,d))).next(_t=>(a=_t,$=Date.now(),this.removeTargets(e,a,t))).next(_t=>(_=_t,ne=Date.now(),this.removeOrphanedDocuments(e,a))).next(_t=>(de=Date.now(),Xa()<=_e.in.DEBUG&&xn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-ke}ms\n\tDetermined least recently used ${d} in `+($-D)+`ms\n\tRemoved ${_} targets in `+(ne-$)+`ms\n\tRemoved ${_t} documents in `+(de-ne)+`ms\nTotal Duration: ${de-ke}ms`),Qt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:_,documentsRemoved:_t})))}}class u{constructor(e,t){this.db=e,this.garbageCollector=new f(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(d=>a+d))}qn(e){let t=0;return this.Ln(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(a,d)=>t(d))}addReference(e,t,a){return c(e,a)}removeReference(e,t,a){return c(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return c(e,t)}Gn(e,t){return function(a,d){let _=!1;return Iu(a).tt(D=>Rl(a,D,d).next($=>($&&(_=!0),Qt.resolve(!$)))).next(()=>_)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let _=0;return this.Kn(e,(D,$)=>{if($<=t){const ne=this.Gn(e,D).next(de=>{if(!de)return _++,a.getEntry(e,D).next(()=>(a.removeEntry(D,Gr.min()),ll(e).delete([0,qa(D.path)])))});d.push(ne)}}).next(()=>Qt.waitFor(d)).next(()=>a.apply(e)).next(()=>_)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return c(e,t)}Kn(e,t){const a=ll(e);let d,_=Ce.at;return a.Z({index:"documentTargetsIndex"},([D,$],{path:ne,sequenceNumber:de})=>{0===D?(_!==Ce.at&&t(new nr(oc(d)),_),_=de,d=ne):_=Ce.at}).next(()=>{_!==Ce.at&&t(new nr(oc(d)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function c(i,e){return ll(i).put((a=i.currentSequenceNumber,{targetId:0,path:qa(e.path),sequenceNumber:a}));var a}class y{constructor(){this.changes=new _l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ws.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?Qt.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class O{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return je(e).put(a)}removeEntry(e,t,a){return je(e).delete(function(d,_){const D=d.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],rh(_),D[D.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Qn(e,a)))}getEntry(e,t){let a=ws.newInvalidDocument(t);return je(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ft(t))},(d,_)=>{a=this.jn(t,_)}).next(()=>a)}Wn(e,t){let a={size:0,document:ws.newInvalidDocument(t)};return je(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ft(t))},(d,_)=>{a={document:this.jn(t,_),size:Cc(_)}}).next(()=>a)}getEntries(e,t){let a=zo();return this.zn(e,t,(d,_)=>{const D=this.jn(d,_);a=a.insert(d,D)}).next(()=>a)}Hn(e,t){let a=zo(),d=new Rn(nr.comparator);return this.zn(e,t,(_,D)=>{const $=this.jn(_,D);a=a.insert(_,$),d=d.insert(_,Cc(D))}).next(()=>({documents:a,Jn:d}))}zn(e,t,a){if(t.isEmpty())return Qt.resolve();let d=new Wr(nn);t.forEach(ne=>d=d.add(ne));const _=IDBKeyRange.bound(ft(d.first()),ft(d.last())),D=d.getIterator();let $=D.getNext();return je(e).Z({index:"documentKeyIndex",range:_},(ne,de,ke)=>{const _t=nr.fromSegments([...de.prefixPath,de.collectionGroup,de.documentId]);for(;$&&nn($,_t)<0;)a($,null),$=D.getNext();$&&$.isEqual(_t)&&(a($,de),$=D.hasNext()?D.getNext():null),$?ke.j(ft($)):ke.done()}).next(()=>{for(;$;)a($,null),$=D.hasNext()?D.getNext():null})}getAllFromCollection(e,t,a){const d=[t.popLast().toArray(),t.lastSegment(),rh(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],_=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return je(e).W(IDBKeyRange.bound(d,_,!0)).next(D=>{let $=zo();for(const ne of D){const de=this.jn(nr.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);$=$.insert(de.key,de)}return $})}getAllFromCollectionGroup(e,t,a,d){let _=zo();const D=ln(t,a),$=ln(t,Io.max());return je(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(D,$,!0)},(ne,de,ke)=>{const _t=this.jn(nr.fromSegments(de.prefixPath.concat(de.collectionGroup,de.documentId)),de);_=_.insert(_t.key,_t),_.size===d&&ke.done()}).next(()=>_)}newChangeBuffer(e){return new ee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Te(e).get("remoteDocumentGlobalKey").next(t=>(Ur(!!t),t))}Qn(e,t){return Te(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const a=function mf(i,e){let t;if(e.document)t=ie(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=nr.fromSegments(e.noDocument.path),d=zu(e.noDocument.readTime);t=ws.newNoDocument(a,d),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xn();{const a=nr.fromSegments(e.unknownDocument.path),d=zu(e.unknownDocument.version);t=ws.newUnknownDocument(a,d)}}return e.readTime&&t.setReadTime(function(a){const d=new Zi(a[0],a[1]);return Gr.fromTimestamp(d)}(e.readTime)),t}(this.It,t);if(!a.isNoDocument()||!a.version.isEqual(Gr.min()))return a}return ws.newInvalidDocument(e)}}function V(i){return new O(i)}class ee extends y{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new _l(a=>a.toString(),(a,d)=>a.isEqual(d))}applyChanges(e){const t=[];let a=0,d=new Wr((_,D)=>Vr(_.canonicalString(),D.canonicalString()));return this.changes.forEach((_,D)=>{const $=this.Xn.get(_);if(t.push(this.Yn.removeEntry(e,_,$.readTime)),D.isValidDocument()){const ne=_f(this.Yn.It,D);d=d.add(_.path.popLast()),a+=Cc(ne)-$.size,t.push(this.Yn.addEntry(e,_,ne))}else if(a-=$.size,this.trackRemovals){const ne=_f(this.Yn.It,D.convertToNoDocument(Gr.min()));t.push(this.Yn.addEntry(e,_,ne))}}),d.forEach(_=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,_))}),t.push(this.Yn.updateMetadata(e,a)),Qt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(a=>(this.Xn.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:a,Jn:d})=>(d.forEach((_,D)=>{this.Xn.set(_,{size:D,readTime:a.get(_).readTime})}),a))}}function Te(i){return Bs(i,"remoteDocumentGlobal")}function je(i){return Bs(i,"remoteDocumentsV14")}function ft(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ln(i,e){const t=e.documentKey.path.toArray();return[i,rh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function nn(i,e){const t=i.path.toArray(),a=e.path.toArray();let d=0;for(let _=0;_<t.length-2&&_<a.length-2;++_)if(d=Vr(t[_],a[_]),d)return d;return d=Vr(t.length,a.length),d||(d=Vr(t[t.length-2],a[a.length-2]),d||Vr(t[t.length-1],a[a.length-1]))}class vn{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fr{constructor(e,t,a,d){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=d}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(d=>(a=d,this.getBaseDocument(e,t,a))).next(d=>(null!==a&&fu(a.mutation,d,So.empty(),Zi.now()),d))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Ci()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Ci()){const d=Hs();return this.populateOverlays(e,d,t).next(()=>this.computeViews(e,t,d,a).next(_=>{let D=Ya();return _.forEach(($,ne)=>{D=D.insert($,ne.overlayedDocument)}),D}))}getOverlayedDocuments(e,t){const a=Hs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Ci()))}populateOverlays(e,t,a){const d=[];return a.forEach(_=>{t.has(_)||d.push(_)}),this.documentOverlayCache.getOverlays(e,d).next(_=>{_.forEach((D,$)=>{t.set(D,$)})})}computeViews(e,t,a,d){let _=zo();const D=xl(),$=xl();return t.forEach((ne,de)=>{const ke=a.get(de.key);d.has(de.key)&&(void 0===ke||ke.mutation instanceof ol)?_=_.insert(de.key,de):void 0!==ke&&(D.set(de.key,ke.mutation.getFieldMask()),fu(ke.mutation,de,ke.mutation.getFieldMask(),Zi.now()))}),this.recalculateAndSaveOverlays(e,_).next(ne=>(ne.forEach((de,ke)=>D.set(de,ke)),t.forEach((de,ke)=>{var _t;return $.set(de,new vn(ke,null!==(_t=D.get(de))&&void 0!==_t?_t:null))}),$))}recalculateAndSaveOverlays(e,t){const a=xl();let d=new Rn((D,$)=>D-$),_=Ci();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(D=>{for(const $ of D)$.keys().forEach(ne=>{const de=t.get(ne);if(null===de)return;let ke=a.get(ne)||So.empty();ke=$.applyToLocalView(de,ke),a.set(ne,ke);const _t=(d.get($.batchId)||Ci()).add(ne);d=d.insert($.batchId,_t)})}).next(()=>{const D=[],$=d.getReverseIterator();for(;$.hasNext();){const ne=$.getNext(),de=ne.key,ke=ne.value,_t=eu();ke.forEach(Zt=>{if(!_.has(Zt)){const wn=hu(t.get(Zt),a.get(Zt));null!==wn&&_t.set(Zt,wn),_=_.add(Zt)}}),D.push(this.documentOverlayCache.saveOverlays(e,de,_t))}return Qt.waitFor(D)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return nr.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):xc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var d}getNextDocuments(e,t,a,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,d).next(_=>{const D=d-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,d-_.size):Qt.resolve(Hs());let $=-1,ne=_;return D.next(de=>Qt.forEach(de,(ke,_t)=>($<_t.largestBatchId&&($=_t.largestBatchId),_.get(ke)?Qt.resolve():this.getBaseDocument(e,ke,_t).next(Zt=>{ne=ne.insert(ke,Zt)}))).next(()=>this.populateOverlays(e,de,_)).next(()=>this.computeViews(e,ne,de,Ci())).next(ke=>({batchId:$,changes:Uu(ke)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nr(t)).next(a=>{let d=Ya();return a.isFoundDocument()&&(d=d.insert(a.key,a)),d})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const d=t.collectionGroup;let _=Ya();return this.indexManager.getCollectionParents(e,d).next(D=>Qt.forEach(D,$=>{const ne=(de=t,ke=$.child(d),new Tl(ke,null,de.explicitOrderBy.slice(),de.filters.slice(),de.limit,de.limitType,de.startAt,de.endAt));var de,ke;return this.getDocumentsMatchingCollectionQuery(e,ne,a).next(de=>{de.forEach((ke,_t)=>{_=_.insert(ke,_t)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(e,t,a){let d;return this.remoteDocumentCache.getAllFromCollection(e,t.path,a).next(_=>(d=_,this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId))).next(_=>{_.forEach(($,ne)=>{const de=ne.getKey();null===d.get(de)&&(d=d.insert(de,ws.newInvalidDocument(de)))});let D=Ya();return d.forEach(($,ne)=>{const de=_.get($);void 0!==de&&fu(de.mutation,ne,So.empty(),Zi.now()),sl(t,ne)&&(D=D.insert($,ne))}),D})}getBaseDocument(e,t,a){return null===a||1===a.mutation.type?this.remoteDocumentCache.getEntry(e,t):Qt.resolve(ws.newInvalidDocument(t))}}class Yr{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Qt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var a;return this.Zn.set(t.id,{id:(a=t).id,version:a.version,createTime:fo(a.createTime)}),Qt.resolve()}getNamedQuery(e,t){return Qt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(a=t).name,query:sh(a.bundledQuery),readTime:fo(a.readTime)}),Qt.resolve();var a}}class as{constructor(){this.overlays=new Rn(nr.comparator),this.es=new Map}getOverlay(e,t){return Qt.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Hs();return Qt.forEach(t,d=>this.getOverlay(e,d).next(_=>{null!==_&&a.set(d,_)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((d,_)=>{this.ue(e,t,_)}),Qt.resolve()}removeOverlaysForBatchId(e,t,a){const d=this.es.get(a);return void 0!==d&&(d.forEach(_=>this.overlays=this.overlays.remove(_)),this.es.delete(a)),Qt.resolve()}getOverlaysForCollection(e,t,a){const d=Hs(),_=t.length+1,D=new nr(t.child("")),$=this.overlays.getIteratorFrom(D);for(;$.hasNext();){const ne=$.getNext().value,de=ne.getKey();if(!t.isPrefixOf(de.path))break;de.path.length===_&&ne.largestBatchId>a&&d.set(ne.getKey(),ne)}return Qt.resolve(d)}getOverlaysForCollectionGroup(e,t,a,d){let _=new Rn((de,ke)=>de-ke);const D=this.overlays.getIterator();for(;D.hasNext();){const de=D.getNext().value;if(de.getKey().getCollectionGroup()===t&&de.largestBatchId>a){let ke=_.get(de.largestBatchId);null===ke&&(ke=Hs(),_=_.insert(de.largestBatchId,ke)),ke.set(de.getKey(),de)}}const $=Hs(),ne=_.getIterator();for(;ne.hasNext()&&(ne.getNext().value.forEach((de,ke)=>$.set(de,ke)),!($.size()>=d)););return Qt.resolve($)}ue(e,t,a){const d=this.overlays.get(a.key);if(null!==d){const D=this.es.get(d.largestBatchId).delete(a.key);this.es.set(d.largestBatchId,D)}this.overlays=this.overlays.insert(a.key,new Wu(t,a));let _=this.es.get(t);void 0===_&&(_=Ci(),this.es.set(t,_)),this.es.set(t,_.add(a.key))}}class Bo{constructor(){this.ns=new Wr(Ts.ss),this.rs=new Wr(Ts.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const a=new Ts(e,t);this.ns=this.ns.add(a),this.rs=this.rs.add(a)}us(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.cs(new Ts(e,t))}hs(e,t){e.forEach(a=>this.removeReference(a,t))}ls(e){const t=new nr(new _i([])),a=new Ts(t,e),d=new Ts(t,e+1),_=[];return this.rs.forEachInRange([a,d],D=>{this.cs(D),_.push(D.key)}),_}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new nr(new _i([])),a=new Ts(t,e),d=new Ts(t,e+1);let _=Ci();return this.rs.forEachInRange([a,d],D=>{_=_.add(D.key)}),_}containsKey(e){const t=new Ts(e,0),a=this.ns.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class Ts{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return nr.comparator(e.key,t.key)||Vr(e._s,t._s)}static os(e,t){return Vr(e._s,t._s)||nr.comparator(e.key,t.key)}}class Ec{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Wr(Ts.ss)}checkEmpty(e){return Qt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,d){const _=this.ws;this.ws++;const D=new Fd(_,t,a,d);this.mutationQueue.push(D);for(const $ of d)this.gs=this.gs.add(new Ts($.key,_)),this.indexManager.addToCollectionParentIndex(e,$.key.path.popLast());return Qt.resolve(D)}lookupMutationBatch(e,t){return Qt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const d=this.ps(t+1),_=d<0?0:d;return Qt.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return Qt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Qt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Ts(t,0),d=new Ts(t,Number.POSITIVE_INFINITY),_=[];return this.gs.forEachInRange([a,d],D=>{const $=this.ys(D._s);_.push($)}),Qt.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Wr(Vr);return t.forEach(d=>{const _=new Ts(d,0),D=new Ts(d,Number.POSITIVE_INFINITY);this.gs.forEachInRange([_,D],$=>{a=a.add($._s)})}),Qt.resolve(this.Is(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,d=a.length+1;let _=a;nr.isDocumentKey(_)||(_=_.child(""));const D=new Ts(new nr(_),0);let $=new Wr(Vr);return this.gs.forEachWhile(ne=>{const de=ne.key.path;return!!a.isPrefixOf(de)&&(de.length===d&&($=$.add(ne._s)),!0)},D),Qt.resolve(this.Is($))}Is(e){const t=[];return e.forEach(a=>{const d=this.ys(a);null!==d&&t.push(d)}),t}removeMutationBatch(e,t){Ur(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let a=this.gs;return Qt.forEach(t.mutations,d=>{const _=new Ts(d.key,t.batchId);return a=a.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.gs=a})}An(e){}containsKey(e,t){const a=new Ts(t,0),d=this.gs.firstAfterOrEqual(a);return Qt.resolve(t.isEqual(d&&d.key))}performConsistencyCheck(e){return Qt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ru{constructor(e){this.Es=e,this.docs=new Rn(nr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,d=this.docs.get(a),_=d?d.size:0,D=this.Es(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:D}),this.size+=D-_,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Qt.resolve(a?a.document.mutableCopy():ws.newInvalidDocument(t))}getEntries(e,t){let a=zo();return t.forEach(d=>{const _=this.docs.get(d);a=a.insert(d,_?_.document.mutableCopy():ws.newInvalidDocument(d))}),Qt.resolve(a)}getAllFromCollection(e,t,a){let d=zo();const _=new nr(t.child("")),D=this.docs.getIteratorFrom(_);for(;D.hasNext();){const{key:$,value:{document:ne}}=D.getNext();if(!t.isPrefixOf($.path))break;$.path.length>t.length+1||va(is(ne),a)<=0||(d=d.insert(ne.key,ne.mutableCopy()))}return Qt.resolve(d)}getAllFromCollectionGroup(e,t,a,d){Xn()}As(e,t){return Qt.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new jp(this)}getSize(e){return Qt.resolve(this.size)}}class jp extends y{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((a,d)=>{d.isValidDocument()?t.push(this.Yn.addEntry(e,d)):this.Yn.removeEntry(a)}),Qt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class ty{constructor(e){this.persistence=e,this.Rs=new _l(t=>il(t),pc),this.lastRemoteSnapshotVersion=Gr.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Bo,this.targetCount=0,this.vs=lc.Pn()}forEachTarget(e,t){return this.Rs.forEach((a,d)=>t(d)),Qt.resolve()}getLastRemoteSnapshotVersion(e){return Qt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Qt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.bs&&(this.bs=t),Qt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new lc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Qt.resolve()}updateTargetData(e,t){return this.Dn(t),Qt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Qt.resolve()}removeTargets(e,t,a){let d=0;const _=[];return this.Rs.forEach((D,$)=>{$.sequenceNumber<=t&&null===a.get($.targetId)&&(this.Rs.delete(D),_.push(this.removeMatchingKeysForTargetId(e,$.targetId)),d++)}),Qt.waitFor(_).next(()=>d)}getTargetCount(e){return Qt.resolve(this.targetCount)}getTargetData(e,t){const a=this.Rs.get(t)||null;return Qt.resolve(a)}addMatchingKeys(e,t,a){return this.Ps.us(t,a),Qt.resolve()}removeMatchingKeys(e,t,a){this.Ps.hs(t,a);const d=this.persistence.referenceDelegate,_=[];return d&&t.forEach(D=>{_.push(d.markPotentiallyOrphaned(e,D))}),Qt.waitFor(_)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Qt.resolve()}getMatchingKeysForTargetId(e,t){const a=this.Ps.ds(t);return Qt.resolve(a)}containsKey(e,t){return Qt.resolve(this.Ps.containsKey(t))}}class Hp{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ce(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ty(this),this.indexManager=new po,this.remoteDocumentCache=new ru(a=>this.referenceDelegate.xs(a)),this.It=new pd(t),this.Ns=new Yr(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new as,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Vs[e.toKey()];return a||(a=new Ec(t,this.referenceDelegate),this.Vs[e.toKey()]=a),a}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,a){xn("MemoryPersistence","Starting transaction:",e);const d=new Gp(this.Ss.next());return this.referenceDelegate.ks(),a(d).next(_=>this.referenceDelegate.Ms(d).next(()=>_)).toPromise().then(_=>(d.raiseOnCommittedEvent(),_))}Os(e,t){return Qt.or(Object.values(this.Vs).map(a=>()=>a.containsKey(e,t)))}}class Gp extends Ul{constructor(e){super(),this.currentSequenceNumber=e}}class yf{constructor(e){this.persistence=e,this.Fs=new Bo,this.$s=null}static Bs(e){return new yf(e)}get Ls(){if(this.$s)return this.$s;throw Xn()}addReference(e,t,a){return this.Fs.addReference(a,t),this.Ls.delete(a.toString()),Qt.resolve()}removeReference(e,t,a){return this.Fs.removeReference(a,t),this.Ls.add(a.toString()),Qt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Qt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(d=>this.Ls.add(d.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(d=>{d.forEach(_=>this.Ls.add(_.toString()))}).next(()=>a.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qt.forEach(this.Ls,a=>{const d=nr.fromPath(a);return this.Us(e,d).next(_=>{_||t.removeEntry(d,Gr.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(a=>{a?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Qt.or([()=>Qt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Qv{constructor(e){this.It=e}$(e,t,a,d){const _=new Aa("createOrUpgrade",t);var $;a<1&&d>=1&&(e.createObjectStore("owner"),($=e).createObjectStore("mutationQueues",{keyPath:"userId"}),$.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xd,{unique:!0}),$.createObjectStore("documentMutations"),Wp(e),function($){$.createObjectStore("remoteDocuments")}(e));let D=Qt.resolve();return a<3&&d>=3&&(0!==a&&(function($){$.deleteObjectStore("targetDocuments"),$.deleteObjectStore("targets"),$.deleteObjectStore("targetGlobal")}(e),Wp(e)),D=D.next(()=>function($){const ne=$.store("targetGlobal"),de={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gr.min().toTimestamp(),targetCount:0};return ne.put("targetGlobalKey",de)}(_))),a<4&&d>=4&&(0!==a&&(D=D.next(()=>function($,ne){return ne.store("mutations").W().next(de=>{$.deleteObjectStore("mutations"),$.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xd,{unique:!0});const ke=ne.store("mutations"),_t=de.map(Zt=>ke.put(Zt));return Qt.waitFor(_t)})}(e,_))),D=D.next(()=>{!function($){$.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&d>=5&&(D=D.next(()=>this.qs(_))),a<6&&d>=6&&(D=D.next(()=>(function($){$.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(_)))),a<7&&d>=7&&(D=D.next(()=>this.Gs(_))),a<8&&d>=8&&(D=D.next(()=>this.Qs(e,_))),a<9&&d>=9&&(D=D.next(()=>{!function($){$.objectStoreNames.contains("remoteDocumentChanges")&&$.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&d>=10&&(D=D.next(()=>this.js(_))),a<11&&d>=11&&(D=D.next(()=>{(function($){$.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function($){$.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&d>=12&&(D=D.next(()=>{!function($){const ne=$.createObjectStore("documentOverlays",{keyPath:ep});ne.createIndex("collectionPathOverlayIndex",hf,{unique:!1}),ne.createIndex("collectionGroupOverlayIndex",kd,{unique:!1})}(e)})),a<13&&d>=13&&(D=D.next(()=>function($){const ne=$.createObjectStore("remoteDocumentsV14",{keyPath:uf});ne.createIndex("documentKeyIndex",Sh),ne.createIndex("collectionGroupIndex",Ah)}(e)).next(()=>this.Ws(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&d>=14&&(D=D.next(()=>this.zs(e,_))),a<15&&d>=15&&(D=D.next(()=>function($){$.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),$.createObjectStore("indexState",{keyPath:wc}).createIndex("sequenceNumberIndex",eh,{unique:!1}),$.createObjectStore("indexEntries",{keyPath:xh}).createIndex("documentKeyIndex",df,{unique:!1})}(e))),D}Ks(e){let t=0;return e.store("remoteDocuments").Z((a,d)=>{t+=Cc(d)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}qs(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.W().next(d=>Qt.forEach(d,_=>{const D=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",D).next($=>Qt.forEach($,ne=>{Ur(ne.userId===_.userId);const de=Yu(this.It,ne);return nu(e,_.userId,de).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const _=[];return a.Z((D,$)=>{const ne=new _i(D),de=[0,qa(ne)];_.push(t.get(de).next(ke=>ke?Qt.resolve():t.put({targetId:0,path:qa(ne),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>Qt.waitFor(_))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Xf});const a=t.store("collectionParents"),d=new Qi,_=D=>{if(d.add(D)){const $=D.lastSegment(),ne=D.popLast();return a.put({collectionId:$,parent:qa(ne)})}};return t.store("remoteDocuments").Z({X:!0},(D,$)=>{const ne=new _i(D);return _(ne.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([D,$,ne],de)=>{const ke=oc($);return _(ke.popLast())}))}js(e){const t=e.store("targets");return t.Z((a,d)=>{const _=gd(d),D=ih(this.It,_);return t.put(D)})}Ws(e,t){const a=t.store("remoteDocuments"),d=[];return a.Z((_,D)=>{const $=t.store("remoteDocumentsV14"),ne=(de=D,de.document?new nr(_i.fromString(de.document.name).popFirst(5)):de.noDocument?nr.fromSegments(de.noDocument.path):de.unknownDocument?nr.fromSegments(de.unknownDocument.path):Xn()).path.toArray();var de;const ke={prefixPath:ne.slice(0,ne.length-2),collectionGroup:ne[ne.length-2],documentId:ne[ne.length-1],readTime:D.readTime||[0,0],unknownDocument:D.unknownDocument,noDocument:D.noDocument,document:D.document,hasCommittedMutations:!!D.hasCommittedMutations};d.push($.put(ke))}).next(()=>Qt.waitFor(d))}zs(e,t){const a=t.store("mutations"),d=V(this.It),_=new Hp(yf.Bs,this.It.re);return a.W().next(D=>{const $=new Map;return D.forEach(ne=>{var de;let ke=null!==(de=$.get(ne.userId))&&void 0!==de?de:Ci();Yu(this.It,ne).keys().forEach(_t=>ke=ke.add(_t)),$.set(ne.userId,ke)}),Qt.forEach($,(ne,de)=>{const ke=new wi(de),_t=Ye.oe(this.It,ke),Zt=_.getIndexManager(ke),wn=Za.oe(ke,this.It,Zt,_.referenceDelegate);return new fr(d,wn,_t,Zt).recalculateAndSaveOverlaysForDocumentKeys(new Mh(t,Ce.at),ne).next()})})}}function Wp(i){i.createObjectStore("targetDocuments",{keyPath:Pd}).createIndex("documentTargetsIndex",Jf,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Nh,{unique:!0}),i.createObjectStore("targetGlobal")}const zp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class np{constructor(e,t,a,d,_,D,$,ne,de,ke,_t=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.Hs=_,this.window=D,this.document=$,this.Js=de,this.Ys=ke,this.Xs=_t,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Zt=>Promise.resolve(),!np.C())throw new Nn(sn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new u(this,d),this.ii=t+"main",this.It=new pd(ne),this.ri=new Js(this.ii,this.Xs,new Qv(this.It)),this.Cs=new Ku(this.referenceDelegate,this.It),this.remoteDocumentCache=V(this.It),this.Ns=new I,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ke&&Os("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nn(sn.FAILED_PRECONDITION,zp);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ce(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var a=(0,ye.Z)(function*(d){if(t.started)return e(d)});return function(d){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ye.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ba(e))return xn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return vf(e).get("owner").next(t=>Qt.resolve(this.mi(t)))}gi(e){return rp(e).delete(this.clientId)}yi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const d=Bs(a,"clientMetadata");return d.W().next(_=>{const D=e.Ii(_,18e5),$=_.filter(ne=>-1===D.indexOf(ne));return Qt.forEach($,ne=>d.delete(ne.clientId)).next(()=>$)})}).catch(()=>[]);if(e.oi)for(const a of t)e.oi.removeItem(e.Ti(a.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Qt.resolve(!0):vf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Nn(sn.FAILED_PRECONDITION,zp);return!1}}return!(!this.networkEnabled||!this.inForeground)||rp(e).W().next(a=>void 0===this.Ii(a,5e3).find(d=>{if(this.clientId!==d.clientId){const D=!this.inForeground&&d.inForeground,$=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||D&&$)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&xn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new Mh(t,Ce.at);return e._i(a).next(()=>e.gi(a))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(a=>this.pi(a.updateTimeMs,t)&&!this.Ei(a.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rp(e).W().next(t=>this.Ii(t,18e5).map(a=>a.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Za.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Wi(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Ye.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,a){xn("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===t?"readonly":"readwrite",_=15===(D=this.Xs)?gf:14===D?th:13===D?pf:12===D?tp:11===D?ff:void Xn();var D;let $;return this.ri.runTransaction(e,d,_,ne=>($=new Mh(ne,this.Ss?this.Ss.next():Ce.at),"readwrite-primary"===t?this.fi($).next(de=>!!de||this.di($)).next(de=>{if(!de)throw Os(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Nn(sn.FAILED_PRECONDITION,Dl);return a($)}).next(de=>this.wi($).next(()=>de)):this.Vi($).next(()=>a($)))).then(ne=>($.raiseOnCommittedEvent(),ne))}Vi(e){return vf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Nn(sn.FAILED_PRECONDITION,zp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vf(e).put("owner",t)}static C(){return Js.C()}_i(e){const t=vf(e);return t.get("owner").next(a=>this.mi(a)?(xn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Qt.resolve())}pi(e,t){const a=Date.now();return!(e<a-t||e>a&&(Os(`Detected an update time that is in the future: ${e} > ${a}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,fe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const a=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return xn("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Os("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Os("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vf(i){return Bs(i,"owner")}function rp(i){return Bs(i,"clientMetadata")}function Uc(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Yp{constructor(e,t,a,d){this.targetId=e,this.fromCache=t,this.Si=a,this.Di=d}static Ci(e,t){let a=Ci(),d=Ci();for(const _ of t.docChanges)switch(_.type){case 0:a=a.add(_.doc.key);break;case 1:d=d.add(_.doc.key)}return new Yp(e,t.fromCache,a,d)}}class Kp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,a,d){return this.ki(e,t).next(_=>_||this.Mi(e,t,d,a)).next(_=>_||this.Oi(e,t))}ki(e,t){if(od(t))return Qt.resolve(null);let a=ta(t);return this.indexManager.getIndexType(e,a).next(d=>0===d?null:(null!==t.limit&&1===d&&(t=Fu(t,null,"F"),a=ta(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(_=>{const D=Ci(..._);return this.Ni.getDocuments(e,D).next($=>this.indexManager.getMinOffset(e,a).next(ne=>{const de=this.Fi(t,$);return this.$i(t,de,D,ne.readTime)?this.ki(e,Fu(t,null,"F")):this.Bi(e,de,t,ne)}))})))}Mi(e,t,a,d){return od(t)||d.isEqual(Gr.min())?this.Oi(e,t):this.Ni.getDocuments(e,a).next(_=>{const D=this.Fi(t,_);return this.$i(t,D,a,d)?this.Oi(e,t):(Xa()<=_e.in.DEBUG&&xn("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),ad(t)),this.Bi(e,D,t,Wc(d,-1)))})}Fi(e,t){let a=new Wr(ld(e));return t.forEach((d,_)=>{sl(e,_)&&(a=a.add(_))}),a}$i(e,t,a,d){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const _="F"===e.limitType?t.last():t.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(d)>0)}Oi(e,t){return Xa()<=_e.in.DEBUG&&xn("QueryEngine","Using full collection scan to execute query:",ad(t)),this.Ni.getDocumentsMatchingQuery(e,t,Io.min())}Bi(e,t,a,d){return this.Ni.getDocumentsMatchingQuery(e,a,d).next(_=>(t.forEach(D=>{_=_.insert(D.key,D)}),_))}}class ny{constructor(e,t,a,d){this.persistence=e,this.Li=t,this.It=d,this.Ui=new Rn(Vr),this.qi=new _l(_=>il(_),pc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(a)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fr(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function mm(i,e,t,a){return new ny(i,e,t,a)}function _m(i,e){return qp.apply(this,arguments)}function qp(){return qp=(0,ye.Z)(function*(i,e){const t=Zn(i);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let d;return t.mutationQueue.getAllMutationBatches(a).next(_=>(d=_,t.Qi(e),t.mutationQueue.getAllMutationBatches(a))).next(_=>{const D=[],$=[];let ne=Ci();for(const de of d){D.push(de.batchId);for(const ke of de.mutations)ne=ne.add(ke.key)}for(const de of _){$.push(de.batchId);for(const ke of de.mutations)ne=ne.add(ke.key)}return t.localDocuments.getDocuments(a,ne).next(de=>({ji:de,removedBatchIds:D,addedBatchIds:$}))})})}),qp.apply(this,arguments)}function ym(i,e){const t=Zn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const d=e.batch.keys(),_=t.Gi.newChangeBuffer({trackRemovals:!0});return function(D,$,ne,de){const ke=ne.batch,_t=ke.keys();let Zt=Qt.resolve();return _t.forEach(wn=>{Zt=Zt.next(()=>de.getEntry($,wn)).next(Tn=>{const lr=ne.docVersions.get(wn);Ur(null!==lr),Tn.version.compareTo(lr)<0&&(ke.applyToRemoteDocument(Tn,ne),Tn.isValidDocument()&&(Tn.setReadTime(ne.commitVersion),de.addEntry(Tn)))})}),Zt.next(()=>D.mutationQueue.removeMutationBatch($,ke))}(t,a,e,_).next(()=>_.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,d,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(D){let $=Ci();for(let ne=0;ne<D.mutationResults.length;++ne)D.mutationResults[ne].transformResults.length>0&&($=$.add(D.batch.mutations[ne].key));return $}(e))).next(()=>t.localDocuments.getDocuments(a,d))})}function vm(i){const e=Zn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ry(i,e){const t=Zn(i),a=e.snapshotVersion;let d=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const D=t.Gi.newChangeBuffer({trackRemovals:!0});d=t.Ui;const $=[];e.targetChanges.forEach((ke,_t)=>{const Zt=d.get(_t);if(!Zt)return;$.push(t.Cs.removeMatchingKeys(_,ke.removedDocuments,_t).next(()=>t.Cs.addMatchingKeys(_,ke.addedDocuments,_t)));let wn=Zt.withSequenceNumber(_.currentSequenceNumber);var Tn,lr,Fr;e.targetMismatches.has(_t)?wn=wn.withResumeToken(Xs.EMPTY_BYTE_STRING,Gr.min()).withLastLimboFreeSnapshotVersion(Gr.min()):ke.resumeToken.approximateByteSize()>0&&(wn=wn.withResumeToken(ke.resumeToken,a)),d=d.insert(_t,wn),lr=wn,Fr=ke,(0===(Tn=Zt).resumeToken.approximateByteSize()||lr.snapshotVersion.toMicroseconds()-Tn.snapshotVersion.toMicroseconds()>=3e8||Fr.addedDocuments.size+Fr.modifiedDocuments.size+Fr.removedDocuments.size>0)&&$.push(t.Cs.updateTargetData(_,wn))});let ne=zo(),de=Ci();if(e.documentUpdates.forEach(ke=>{e.resolvedLimboDocuments.has(ke)&&$.push(t.persistence.referenceDelegate.updateLimboDocument(_,ke))}),$.push(bm(_,D,e.documentUpdates).next(ke=>{ne=ke.Wi,de=ke.zi})),!a.isEqual(Gr.min())){const ke=t.Cs.getLastRemoteSnapshotVersion(_).next(_t=>t.Cs.setTargetsMetadata(_,_.currentSequenceNumber,a));$.push(ke)}return Qt.waitFor($).next(()=>D.apply(_)).next(()=>t.localDocuments.getLocalViewOfDocuments(_,ne,de)).next(()=>ne)}).then(_=>(t.Ui=d,_))}function bm(i,e,t){let a=Ci(),d=Ci();return t.forEach(_=>a=a.add(_)),e.getEntries(i,a).next(_=>{let D=zo();return t.forEach(($,ne)=>{const de=_.get($);ne.isFoundDocument()!==de.isFoundDocument()&&(d=d.add($)),ne.isNoDocument()&&ne.version.isEqual(Gr.min())?(e.removeEntry($,ne.readTime),D=D.insert($,ne)):!de.isValidDocument()||ne.version.compareTo(de.version)>0||0===ne.version.compareTo(de.version)&&de.hasPendingWrites?(e.addEntry(ne),D=D.insert($,ne)):xn("LocalStore","Ignoring outdated watch update for ",$,". Current version:",de.version," Watch version:",ne.version)}),{Wi:D,zi:d}})}function Hi(i,e){const t=Zn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function oh(i,e){const t=Zn(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let d;return t.Cs.getTargetData(a,e).next(_=>_?(d=_,Qt.resolve(d)):t.Cs.allocateTargetId(a).next(D=>(d=new Ko(e,D,0,a.currentSequenceNumber),t.Cs.addTargetData(a,d).next(()=>d))))}).then(a=>{const d=t.Ui.get(a.targetId);return(null===d||a.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(a.targetId,a),t.qi.set(e,a.targetId)),a})}function ah(i,e,t){return ip.apply(this,arguments)}function ip(){return ip=(0,ye.Z)(function*(i,e,t){const a=Zn(i),d=a.Ui.get(e),_=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",_,D=>a.persistence.referenceDelegate.removeTarget(D,d)))}catch(D){if(!ba(D))throw D;xn("LocalStore",`Failed to update sequence numbers for target ${e}: ${D}`)}a.Ui=a.Ui.remove(e),a.qi.delete(d.target)}),ip.apply(this,arguments)}function sp(i,e,t){const a=Zn(i);let d=Gr.min(),_=Ci();return a.persistence.runTransaction("Execute query","readonly",D=>function($,ne,de){const ke=Zn($),_t=ke.qi.get(de);return void 0!==_t?Qt.resolve(ke.Ui.get(_t)):ke.Cs.getTargetData(ne,de)}(a,D,ta(e)).next($=>{if($)return d=$.lastLimboFreeSnapshotVersion,a.Cs.getMatchingKeysForTargetId(D,$.targetId).next(ne=>{_=ne})}).next(()=>a.Li.getDocumentsMatchingQuery(D,e,t?d:Gr.min(),t?_:Ci())).next($=>(Cm(a,Mc(e),$),{documents:$,Hi:_})))}function wm(i,e){const t=Zn(i),a=Zn(t.Cs),d=t.Ui.get(e);return d?Promise.resolve(d.target):t.persistence.runTransaction("Get target data","readonly",_=>a.se(_,e).next(D=>D?D.target:null))}function Zp(i,e){const t=Zn(i),a=t.Ki.get(e)||Gr.min();return t.persistence.runTransaction("Get new document changes","readonly",d=>t.Gi.getAllFromCollectionGroup(d,e,Wc(a,-1),Number.MAX_SAFE_INTEGER)).then(d=>(Cm(t,e,d),d))}function Cm(i,e,t){let a=Gr.min();t.forEach((d,_)=>{_.readTime.compareTo(a)>0&&(a=_.readTime)}),i.Ki.set(e,a)}function Qp(){return Qp=(0,ye.Z)(function*(i,e,t,a){const d=Zn(i);let _=Ci(),D=zo();for(const de of t){const ke=e.Ji(de.metadata.name);de.document&&(_=_.add(ke));const _t=e.Yi(de);_t.setReadTime(e.Xi(de.metadata.readTime)),D=D.insert(ke,_t)}const $=d.Gi.newChangeBuffer({trackRemovals:!0}),ne=yield oh(d,(de=a,ta(Nc(_i.fromString(`__bundle__/docs/${de}`)))));var de;return d.persistence.runTransaction("Apply bundle documents","readwrite",de=>bm(de,$,D).next(ke=>($.apply(de),ke)).next(ke=>d.Cs.removeMatchingKeysForTargetId(de,ne.targetId).next(()=>d.Cs.addMatchingKeys(de,_,ne.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(de,ke.Wi,ke.zi)).next(()=>ke.Wi)))}),Qp.apply(this,arguments)}function iy(i,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,ye.Z)(function*(i,e,t=Ci()){const a=yield oh(i,ta(sh(e.bundledQuery))),d=Zn(i);return d.persistence.runTransaction("Save named query","readwrite",_=>{const D=fo(e.readTime);if(a.snapshotVersion.compareTo(D)>=0)return d.Ns.saveNamedQuery(_,e);const $=a.withResumeToken(Xs.EMPTY_BYTE_STRING,D);return d.Ui=d.Ui.insert($.targetId,$),d.Cs.updateTargetData(_,$).next(()=>d.Cs.removeMatchingKeysForTargetId(_,a.targetId)).next(()=>d.Cs.addMatchingKeys(_,t,a.targetId)).next(()=>d.Ns.saveNamedQuery(_,e))})}),Dm.apply(this,arguments)}function Jp(i,e){return`firestore_clients_${i}_${e}`}function Xp(i,e,t){let a=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function _d(i,e){return`firestore_targets_${i}_${e}`}class op{constructor(e,t,a,d){this.user=e,this.batchId=t,this.state=a,this.error=d}static Zi(e,t,a){const d=JSON.parse(a);let _,D="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return D&&d.error&&(D="string"==typeof d.error.message&&"string"==typeof d.error.code,D&&(_=new Nn(d.error.code,d.error.message))),D?new op(e,t,d.state,_):(Os("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lh{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static Zi(e,t){const a=JSON.parse(t);let d,_="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return _&&a.error&&(_="string"==typeof a.error.message&&"string"==typeof a.error.code,_&&(d=new Nn(a.error.code,a.error.message))),_?new lh(e,a.state,d):(Os("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Oh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const a=JSON.parse(t);let d="object"==typeof a&&a.activeTargetIds instanceof Array,_=vc();for(let D=0;d&&D<a.activeTargetIds.length;++D)d=Mn(a.activeTargetIds[D]),_=_.add(a.activeTargetIds[D]);return d?new Oh(e,_):(Os("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class eg{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eg(t.clientId,t.onlineState):(Os("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Im{constructor(){this.activeTargetIds=vc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tm{constructor(e,t,a,d,_){this.window=e,this.Hs=t,this.persistenceKey=a,this.sr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Rn(Vr),this.started=!1,this.cr=[];const D=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.ar=Jp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Im),this.lr=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function($){return`firestore_bundle_loaded_v2_${$}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.vi();for(const d of t){if(d===e.sr)continue;const _=e.getItem(Jp(e.persistenceKey,d));if(_){const D=Oh.Zi(d,_);D&&(e.ur=e.ur.insert(D.clientId,D))}}e.gr();const a=e.storage.getItem(e.wr);if(a){const d=e.yr(a);d&&e.pr(d)}for(const d of e.cr)e.rr(d);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((a,d)=>{d.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,a){this.Tr(e,t,a),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(_d(this.persistenceKey,e));if(a){const d=lh.Zi(e,a);d&&(t=d.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_d(this.persistenceKey,e))}updateQueryState(e,t,a){this.Rr(e,t,a)}handleUserChange(e,t,a){t.forEach(d=>{this.Er(d)}),this.currentUser=e,a.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return xn("SharedClientState","READ",e,t),t}setItem(e,t){xn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){xn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const a=e;if(a.storageArea===this.storage){if(xn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.ar)return void Os("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==a.key)if(t.lr.test(a.key)){if(null==a.newValue){const d=t.vr(a.key);return t.Vr(d,null)}{const d=t.Sr(a.key,a.newValue);if(d)return t.Vr(d.clientId,d)}}else if(t.dr.test(a.key)){if(null!==a.newValue){const d=t.Dr(a.key,a.newValue);if(d)return t.Cr(d)}}else if(t._r.test(a.key)){if(null!==a.newValue){const d=t.Nr(a.key,a.newValue);if(d)return t.kr(d)}}else if(a.key===t.wr){if(null!==a.newValue){const d=t.yr(a.newValue);if(d)return t.pr(d)}}else if(a.key===t.hr){const d=function(_){let D=Ce.at;if(null!=_)try{const $=JSON.parse(_);Ur("number"==typeof $),D=$}catch($){Os("SharedClientState","Failed to read sequence number from WebStorage",$)}return D}(a.newValue);d!==Ce.at&&t.sequenceNumberHandler(d)}else if(a.key===t.mr){const d=t.Mr(a.newValue);yield Promise.all(d.map(_=>t.syncEngine.Or(_)))}}else t.cr.push(a)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,a){const d=new op(this.currentUser,e,t,a),_=Xp(this.persistenceKey,this.currentUser,e);this.setItem(_,d.tr())}Er(e){const t=Xp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,a){const d=_d(this.persistenceKey,e),_=new lh(e,t,a);this.setItem(d,_.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const a=this.vr(e);return Oh.Zi(a,t)}Dr(e,t){const a=this.dr.exec(e),d=Number(a[1]);return op.Zi(new wi(void 0!==a[2]?a[2]:null),d,t)}Nr(e,t){const a=this._r.exec(e),d=Number(a[1]);return lh.Zi(d,t)}yr(e){return eg.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);xn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const a=t?this.ur.insert(e,t):this.ur.remove(e),d=this.Ir(this.ur),_=this.Ir(a),D=[],$=[];return _.forEach(ne=>{d.has(ne)||D.push(ne)}),d.forEach(ne=>{_.has(ne)||$.push(ne)}),this.syncEngine.Br(D,$).then(()=>{this.ur=a})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=vc();return e.forEach((a,d)=>{t=t.unionWith(d.activeTargetIds)}),t}}class sy{constructor(){this.Lr=new Im,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,a){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Im,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oy{qr(e){}shutdown(){}}class tg{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){xn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){xn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Jv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ay{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Rh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,a,d,_){const D=this.ao(e,t);xn("RestConnection","Sending: ",D,a);const $={};return this.ho($,d,_),this.lo(e,D,$,a).then(ne=>(xn("RestConnection","Received: ",ne),ne),ne=>{throw Zo("RestConnection",`${e} failed with error: `,ne,"url: ",D,"request:",a),ne})}fo(e,t,a,d,_,D){return this.co(e,t,a,d,_)}ho(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+ro,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((d,_)=>e[_]=d),a&&a.headers.forEach((d,_)=>e[_]=d)}ao(e,t){return`${this.oo}/v1/${t}:${Jv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,a,d){return new Promise((_,D)=>{const $=new Ua;$.listenOnce(dc.COMPLETE,()=>{try{switch($.getLastErrorCode()){case mo.NO_ERROR:const de=$.getResponseJson();xn("Connection","XHR received:",JSON.stringify(de)),_(de);break;case mo.TIMEOUT:xn("Connection",'RPC "'+e+'" timed out'),D(new Nn(sn.DEADLINE_EXCEEDED,"Request time out"));break;case mo.HTTP_ERROR:const ke=$.getStatus();if(xn("Connection",'RPC "'+e+'" failed with status:',ke,"response text:",$.getResponseText()),ke>0){const _t=$.getResponseJson().error;if(_t&&_t.status&&_t.message){const Zt=function(wn){const Tn=wn.toLowerCase().replace(/_/g,"-");return Object.values(sn).indexOf(Tn)>=0?Tn:sn.UNKNOWN}(_t.status);D(new Nn(Zt,_t.message))}else D(new Nn(sn.UNKNOWN,"Server responded with status "+$.getStatus()))}else D(new Nn(sn.UNAVAILABLE,"Connection failed."));break;default:Xn()}}finally{xn("Connection",'RPC "'+e+'" completed.')}});const ne=JSON.stringify(d);$.send(t,"POST",ne,a,15)})}_o(e,t,a){const d=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Gc(),D=au(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&($.xmlHttpFactory=new Ja({})),this.ho($.initMessageHeaders,t,a),$.encodeInitMessageHeaders=!0;const ne=d.join("");xn("Connection","Creating WebChannel: "+ne,$);const de=_.createWebChannel(ne,$);let ke=!1,_t=!1;const Zt=new ay({Hr:Tn=>{_t?xn("Connection","Not sending because WebChannel is closed:",Tn):(ke||(xn("Connection","Opening WebChannel transport."),de.open(),ke=!0),xn("Connection","WebChannel sending:",Tn),de.send(Tn))},Jr:()=>de.close()}),wn=(Tn,lr,Fr)=>{Tn.listen(lr,$s=>{try{Fr($s)}catch(No){setTimeout(()=>{throw No},0)}})};return wn(de,Jl.EventType.OPEN,()=>{_t||xn("Connection","WebChannel transport opened.")}),wn(de,Jl.EventType.CLOSE,()=>{_t||(_t=!0,xn("Connection","WebChannel transport closed"),Zt.io())}),wn(de,Jl.EventType.ERROR,Tn=>{_t||(_t=!0,Zo("Connection","WebChannel transport errored:",Tn),Zt.io(new Nn(sn.UNAVAILABLE,"The operation could not be completed")))}),wn(de,Jl.EventType.MESSAGE,Tn=>{var lr;if(!_t){const Fr=Tn.data[0];Ur(!!Fr);const $s=Fr,No=$s.error||(null===(lr=$s[0])||void 0===lr?void 0:lr.error);if(No){xn("Connection","WebChannel received error:",No);const ao=No.status;let da=function(lo){const dl=Wo[lo];if(void 0!==dl)return Hl(dl)}(ao),Gs=No.message;void 0===da&&(da=sn.INTERNAL,Gs="Unknown error status: "+ao+" with message "+No.message),_t=!0,Zt.io(new Nn(da,Gs)),de.close()}else xn("Connection","WebChannel received:",Fr),Zt.ro(Fr)}}),wn(D,qo.STAT_EVENT,Tn=>{Tn.stat===_a.PROXY?xn("Connection","Detected buffering proxy"):Tn.stat===_a.NOPROXY&&xn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Zt.so()},0),Zt}}function Sm(){return typeof window<"u"?window:null}function bf(){return typeof document<"u"?document:null}function Ld(i){return new na(i,!0)}class ng{constructor(e,t,a=1e3,d=1.5,_=6e4){this.Hs=e,this.timerId=t,this.wo=a,this.mo=d,this.yo=_,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),a=Math.max(0,Date.now()-this.To),d=Math.max(0,t-a);d>0&&xn("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,d,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class rg{constructor(e,t,a,d,_,D,$,ne){this.Hs=e,this.Po=a,this.vo=d,this.Vo=_,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=$,this.listener=ne,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ng(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ye.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ye.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var a=this;return(0,ye.Z)(function*(){a.Lo(),a.Uo(),a.xo.cancel(),a.So++,4!==e?a.xo.reset():t&&t.code===sn.RESOURCE_EXHAUSTED?(Os(t.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),a.xo.Eo()):t&&t.code===sn.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.qo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,d])=>{this.So===t&&this.Go(a,d)},a=>{e(()=>{const d=new Nn(sn.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Qo(d)})})}Go(e,t){const a=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{a(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(d=>{a(()=>this.Qo(d))}),this.stream.onMessage(d=>{a(()=>this.onMessage(d))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ye.Z)(function*(){e.state=0,e.start()}))}Qo(e){return xn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(xn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ly extends rg{constructor(e,t,a,d,_,D){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,d,D),this.It=_}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Pt(i,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(ne=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ne?1:"REMOVE"===ne?2:"CURRENT"===ne?3:"RESET"===ne?4:Xn(),d=e.targetChange.targetIds||[],_=function(ne,de){return ne.gt?(Ur(void 0===de||"string"==typeof de),Xs.fromBase64String(de||"")):(Ur(void 0===de||de instanceof Uint8Array),Xs.fromUint8Array(de||new Uint8Array))}(i,e.targetChange.resumeToken),D=e.targetChange.cause,$=D&&function(ne){const de=void 0===ne.code?sn.UNKNOWN:Hl(ne.code);return new Nn(de,ne.message||"")}(D);t=new Lc(a,d,_,$||null)}else if("documentChange"in e){const a=e.documentChange,d=Wl(i,a.document.name),_=fo(a.document.updateTime),D=new ko({mapValue:{fields:a.document.fields}}),$=ws.newFoundDocument(d,_,D);t=new yu(a.targetIds||[],a.removedTargetIds||[],$.key,$)}else if("documentDelete"in e){const a=e.documentDelete,d=Wl(i,a.document),_=a.readTime?fo(a.readTime):Gr.min(),D=ws.newNoDocument(d,_);t=new yu([],a.removedTargetIds||[],D.key,D)}else if("documentRemove"in e){const a=e.documentRemove,d=Wl(i,a.document);t=new yu([],a.removedTargetIds||[],d,null)}else{if(!("filter"in e))return Xn();{const a=e.filter,_=new Od(a.count||0);t=new vu(a.targetId,_)}}var ne;return t}(this.It,e),a=function(d){if(!("targetChange"in d))return Gr.min();const _=d.targetChange;return _.targetIds&&_.targetIds.length?Gr.min():_.readTime?fo(_.readTime):Gr.min()}(e);return this.listener.Wo(t,a)}zo(e){const t={};t.database=m(this.It),t.addTarget=function(d,_){let D;const $=_.target;return D=uu($)?{documents:si(d,$)}:{query:Xr(d,$)},D.targetId=_.targetId,_.resumeToken.approximateByteSize()>0?D.resumeToken=bu(d,_.resumeToken):_.snapshotVersion.compareTo(Gr.min())>0&&(D.readTime=La(d,_.snapshotVersion.toTimestamp())),D}(this.It,e);const a=function yl(i,e){const t=function(a,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Bo(t)}Ho(e){const t={};t.database=m(this.It),t.removeTarget=e,this.Bo(t)}}class cy extends rg{constructor(e,t,a,d,_,D){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,d,D),this.It=_,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Ur(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function br(i,e){return i&&i.length>0?(Ur(void 0!==e),i.map(t=>function(a,d){let _=fo(a.updateTime?a.updateTime:d);return _.isEqual(Gr.min())&&(_=fo(d)),new ud(_,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=fo(e.commitTime);return this.listener.Zo(a,t)}return Ur(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=m(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>on(this.It,a))};this.Bo(t)}}class uy extends class{}{constructor(e,t,a,d){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=a,this.It=d,this.nu=!1}su(){if(this.nu)throw new Nn(sn.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.Vo.co(e,t,a,d,_)).catch(d=>{throw"FirebaseError"===d.name?(d.code===sn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Nn(sn.UNKNOWN,d.toString())})}fo(e,t,a,d){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,D])=>this.Vo.fo(e,t,a,_,D,d)).catch(_=>{throw"FirebaseError"===_.name?(_.code===sn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Nn(sn.UNKNOWN,_.toString())})}terminate(){this.nu=!0}}class dy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Os(t),this.ou=!1):xn("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class hy{constructor(e,t,a,d,_){var D=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=_,this.mu.qr($=>{a.enqueueAndForget((0,ye.Z)(function*(){var ne;yd(D)&&(xn("RemoteStore","Restarting streams for network reachability change."),yield(ne=(0,ye.Z)(function*(de){const ke=Zn(de);ke._u.add(4),yield ch(ke),ke.gu.set("Unknown"),ke._u.delete(4),yield Ph(ke)}),function(de){return ne.apply(this,arguments)})(D))}))}),this.gu=new dy(a,d)}}function Ph(i){return ig.apply(this,arguments)}function ig(){return ig=(0,ye.Z)(function*(i){if(yd(i))for(const e of i.wu)yield e(!0)}),ig.apply(this,arguments)}function ch(i){return ap.apply(this,arguments)}function ap(){return ap=(0,ye.Z)(function*(i){for(const e of i.wu)yield e(!1)}),ap.apply(this,arguments)}function kh(i,e){const t=Zn(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Bd(t)?Nm(t):uh(t).ko()&&wf(t,e))}function lp(i,e){const t=Zn(i),a=uh(t);t.du.delete(e),a.ko()&&Am(t,e),0===t.du.size&&(a.ko()?a.Fo():yd(t)&&t.gu.set("Unknown"))}function wf(i,e){i.yu.Ot(e.targetId),uh(i).zo(e)}function Am(i,e){i.yu.Ot(e),uh(i).Ho(e)}function Nm(i){i.yu=new tu({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),uh(i).start(),i.gu.uu()}function Bd(i){return yd(i)&&!uh(i).No()&&i.du.size>0}function yd(i){return 0===Zn(i)._u.size}function sg(i){i.yu=void 0}function cp(i){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,ye.Z)(function*(i){i.du.forEach((e,t)=>{wf(i,e)})}),Vc.apply(this,arguments)}function xm(i,e){return og.apply(this,arguments)}function og(){return og=(0,ye.Z)(function*(i,e){sg(i),Bd(i)?(i.gu.hu(e),Nm(i)):i.gu.set("Unknown")}),og.apply(this,arguments)}function ag(i,e,t){return Au.apply(this,arguments)}function Au(){return Au=(0,ye.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Lc&&2===e.state&&e.cause)try{yield(a=(0,ye.Z)(function*(d,_){const D=_.cause;for(const $ of _.targetIds)d.du.has($)&&(yield d.remoteSyncer.rejectListen($,D),d.du.delete($),d.yu.removeTarget($))}),function(d,_){return a.apply(this,arguments)})(i,e)}catch(a){xn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Fh(i,a)}else if(e instanceof yu?i.yu.Gt(e):e instanceof vu?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(Gr.min()))try{const a=yield vm(i.localStore);t.compareTo(a)>=0&&(yield function(d,_){const D=d.yu.te(_);return D.targetChanges.forEach(($,ne)=>{if($.resumeToken.approximateByteSize()>0){const de=d.du.get(ne);de&&d.du.set(ne,de.withResumeToken($.resumeToken,_))}}),D.targetMismatches.forEach($=>{const ne=d.du.get($);if(!ne)return;d.du.set($,ne.withResumeToken(Xs.EMPTY_BYTE_STRING,ne.snapshotVersion)),Am(d,$);const de=new Ko(ne.target,$,1,ne.sequenceNumber);wf(d,de)}),d.remoteSyncer.applyRemoteEvent(D)}(i,t))}catch(a){xn("RemoteStore","Failed to raise snapshot:",a),yield Fh(i,a)}var a}),Au.apply(this,arguments)}function Fh(i,e,t){return up.apply(this,arguments)}function up(){return up=(0,ye.Z)(function*(i,e,t){if(!ba(e))throw e;i._u.add(1),yield ch(i),i.gu.set("Offline"),t||(t=()=>vm(i.localStore)),i.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){xn("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Ph(i)}))}),up.apply(this,arguments)}function dp(i,e){return e().catch(t=>Fh(i,t,e))}function Cf(i){return hp.apply(this,arguments)}function hp(){return hp=(0,ye.Z)(function*(i){const e=Zn(i),t=$d(e);let a=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Xv(e);)try{const d=yield Hi(e.localStore,a);if(null===d){0===e.fu.length&&t.Fo();break}a=d.batchId,fp(e,d)}catch(d){yield Fh(e,d)}Ef(e)&&pp(e)}),hp.apply(this,arguments)}function Xv(i){return yd(i)&&i.fu.length<10}function fp(i,e){i.fu.push(e);const t=$d(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Ef(i){return yd(i)&&!$d(i).No()&&i.fu.length>0}function pp(i){$d(i).start()}function lg(i){return Df.apply(this,arguments)}function Df(){return Df=(0,ye.Z)(function*(i){$d(i).eu()}),Df.apply(this,arguments)}function e0(i){return cg.apply(this,arguments)}function cg(){return cg=(0,ye.Z)(function*(i){const e=$d(i);for(const t of i.fu)e.Xo(t.mutations)}),cg.apply(this,arguments)}function fy(i,e,t){return ug.apply(this,arguments)}function ug(){return ug=(0,ye.Z)(function*(i,e,t){const a=i.fu.shift(),d=nh.from(a,e,t);yield dp(i,()=>i.remoteSyncer.applySuccessfulWrite(d)),yield Cf(i)}),ug.apply(this,arguments)}function py(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,ye.Z)(function*(i,e){var t;e&&$d(i).Yo&&(yield(t=(0,ye.Z)(function*(a,d){if(Pc(_=d.code)&&_!==sn.ABORTED){const D=a.fu.shift();$d(a).Oo(),yield dp(a,()=>a.remoteSyncer.rejectFailedWrite(D.batchId,d)),yield Cf(a)}var _}),function(a,d){return t.apply(this,arguments)})(i,e)),Ef(i)&&pp(i)}),gp.apply(this,arguments)}function gy(i,e){return dg.apply(this,arguments)}function dg(){return dg=(0,ye.Z)(function*(i,e){const t=Zn(i);t.asyncQueue.verifyOperationInProgress(),xn("RemoteStore","RemoteStore received new credentials");const a=yd(t);t._u.add(3),yield ch(t),a&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ph(t)}),dg.apply(this,arguments)}function Mm(i,e){return mp.apply(this,arguments)}function mp(){return mp=(0,ye.Z)(function*(i,e){const t=Zn(i);e?(t._u.delete(2),yield Ph(t)):e||(t._u.add(2),yield ch(t),t.gu.set("Unknown"))}),mp.apply(this,arguments)}function uh(i){return i.pu||(i.pu=function(e,t,a){const d=Zn(e);return d.su(),new ly(t,d.Vo,d.authCredentials,d.appCheckCredentials,d.It,a)}(i.datastore,i.asyncQueue,{Yr:cp.bind(null,i),Zr:xm.bind(null,i),Wo:ag.bind(null,i)}),i.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(i.pu.Oo(),Bd(i)?Nm(i):i.gu.set("Unknown")):(yield i.pu.stop(),sg(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function $d(i){return i.Iu||(i.Iu=function(e,t,a){const d=Zn(e);return d.su(),new cy(t,d.Vo,d.authCredentials,d.appCheckCredentials,d.It,a)}(i.datastore,i.asyncQueue,{Yr:lg.bind(null,i),Zr:py.bind(null,i),tu:e0.bind(null,i),Zo:fy.bind(null,i)}),i.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(i.Iu.Oo(),yield Cf(i)):(yield i.Iu.stop(),i.fu.length>0&&(xn("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class If{constructor(e,t,a,d,_){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=d,this.removalCallback=_,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(e,t,a,d,_){const D=Date.now()+a,$=new If(e,t,D,d,_);return $.start(a),$}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nn(sn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tf(i,e){if(Os("AsyncQueue",`${e}: ${i}`),ba(i))return new Nn(sn.UNAVAILABLE,`${e}: ${i}`);throw i}class Sf{constructor(e){this.comparator=e?(t,a)=>e(t,a)||nr.comparator(t.key,a.key):(t,a)=>nr.comparator(t.key,a.key),this.keyedMap=Ya(),this.sortedSet=new Rn(this.comparator)}static emptySet(e){return new Sf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const d=t.getNext().key,_=a.getNext().key;if(!d.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new Sf;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class my{constructor(){this.Tu=new Rn(nr.comparator)}track(e){const t=e.doc.key,a=this.Tu.get(t);a?0!==e.type&&3===a.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==a.type?this.Tu=this.Tu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Tu=this.Tu.remove(t):1===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Xn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,a)=>{e.push(a)}),e}}class Af{constructor(e,t,a,d,_,D,$,ne){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=d,this.mutatedKeys=_,this.fromCache=D,this.syncStateChanged=$,this.excludesMetadataChanges=ne}static fromInitialDocuments(e,t,a,d){const _=[];return t.forEach(D=>{_.push({type:0,doc:D})}),new Af(e,t,Sf.emptySet(t),_,a,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let d=0;d<t.length;d++)if(t[d].type!==a[d].type||!t[d].doc.isEqual(a[d].doc))return!1;return!0}}class t0{constructor(){this.Au=void 0,this.listeners=[]}}class n0{constructor(){this.queries=new _l(e=>ho(e),Wa),this.onlineState="Unknown",this.Ru=new Set}}function Om(i,e){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,ye.Z)(function*(i,e){const t=Zn(i),a=e.query;let d=!1,_=t.queries.get(a);if(_||(d=!0,_=new t0),d)try{_.Au=yield t.onListen(a)}catch(D){const $=Tf(D,`Initialization of query '${ad(e.query)}' failed`);return void e.onError($)}t.queries.set(a,_),_.listeners.push(e),e.bu(t.onlineState),_.Au&&e.Pu(_.Au)&&fg(t)}),Rm.apply(this,arguments)}function Pm(i,e){return km.apply(this,arguments)}function km(){return km=(0,ye.Z)(function*(i,e){const t=Zn(i),a=e.query;let d=!1;const _=t.queries.get(a);if(_){const D=_.listeners.indexOf(e);D>=0&&(_.listeners.splice(D,1),d=0===_.listeners.length)}if(d)return t.queries.delete(a),t.onUnlisten(a)}),km.apply(this,arguments)}function Ud(i,e){const t=Zn(i);let a=!1;for(const d of e){const D=t.queries.get(d.query);if(D){for(const $ of D.listeners)$.Pu(d)&&(a=!0);D.Au=d}}a&&fg(t)}function hg(i,e,t){const a=Zn(i),d=a.queries.get(e);if(d)for(const _ of d.listeners)_.onError(t);a.queries.delete(e)}function fg(i){i.Ru.forEach(e=>{e.next()})}class _p{constructor(e,t,a){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=a||{}}Pu(e){if(!this.options.includeMetadataChanges){const a=[];for(const d of e.docChanges)3!==d.type&&a.push(d);e=new Af(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class pg{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class gg{constructor(e){this.It=e}Ji(e){return Wl(this.It,e)}Yi(e){return e.metadata.exists?ie(this.It,e.document,!1):ws.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return fo(e)}}class mg{constructor(e,t,a){this.Mu=e,this.localStore=t,this.It=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Fm(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const a=_i.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,a=new gg(this.It);for(const d of e)if(d.metadata.queries){const _=a.Ji(d.metadata.name);for(const D of d.metadata.queries){const $=(t.get(D)||Ci()).add(_);t.set(D,$)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function Em(i,e,t,a){return Qp.apply(this,arguments)}(e.localStore,new gg(e.It),e.documents,e.Mu.id),a=e.Fu(e.documents);for(const d of e.queries)yield iy(e.localStore,d,a.get(d.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Fm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class vd{constructor(e){this.key=e}}class _g{constructor(e){this.key=e}}class Lm{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Ci(),this.mutatedKeys=Ci(),this.Ku=ld(e),this.Gu=new Sf(this.Ku)}get Qu(){return this.Lu}ju(e,t){const a=t?t.Wu:new my,d=t?t.Gu:this.Gu;let _=t?t.mutatedKeys:this.mutatedKeys,D=d,$=!1;const ne="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,de="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((ke,_t)=>{const Zt=d.get(ke),wn=sl(this.query,_t)?_t:null,Tn=!!Zt&&this.mutatedKeys.has(Zt.key),lr=!!wn&&(wn.hasLocalMutations||this.mutatedKeys.has(wn.key)&&wn.hasCommittedMutations);let Fr=!1;Zt&&wn?Zt.data.isEqual(wn.data)?Tn!==lr&&(a.track({type:3,doc:wn}),Fr=!0):this.zu(Zt,wn)||(a.track({type:2,doc:wn}),Fr=!0,(ne&&this.Ku(wn,ne)>0||de&&this.Ku(wn,de)<0)&&($=!0)):!Zt&&wn?(a.track({type:0,doc:wn}),Fr=!0):Zt&&!wn&&(a.track({type:1,doc:Zt}),Fr=!0,(ne||de)&&($=!0)),Fr&&(wn?(D=D.add(wn),_=lr?_.add(ke):_.delete(ke)):(D=D.delete(ke),_=_.delete(ke)))}),null!==this.query.limit)for(;D.size>this.query.limit;){const ke="F"===this.query.limitType?D.last():D.first();D=D.delete(ke.key),_=_.delete(ke.key),a.track({type:1,doc:ke})}return{Gu:D,Wu:a,$i:$,mutatedKeys:_}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const d=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const _=e.Wu.Eu();_.sort((de,ke)=>function(_t,Zt){const wn=Tn=>{switch(Tn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xn()}};return wn(_t)-wn(Zt)}(de.type,ke.type)||this.Ku(de.doc,ke.doc)),this.Hu(a);const D=t?this.Ju():[],$=0===this.qu.size&&this.current?1:0,ne=$!==this.Uu;return this.Uu=$,0!==_.length||ne?{snapshot:new Af(this.query,e.Gu,d,_,e.mutatedKeys,0===$,ne,!1),Yu:D}:{Yu:D}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new my,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Ci(),this.Gu.forEach(a=>{this.Xu(a.key)&&(this.qu=this.qu.add(a.key))});const t=[];return e.forEach(a=>{this.qu.has(a)||t.push(new _g(a))}),this.qu.forEach(a=>{e.has(a)||t.push(new vd(a))}),t}Zu(e){this.Lu=e.Hi,this.qu=Ci();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Af.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class _y{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Bm{constructor(e){this.key=e,this.ec=!1}}class yy{constructor(e,t,a,d,_,D){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=d,this.currentUser=_,this.maxConcurrentLimboResolutions=D,this.nc={},this.sc=new _l($=>ho($),Wa),this.ic=new Map,this.rc=new Set,this.oc=new Rn(nr.comparator),this.uc=new Map,this.cc=new Bo,this.ac={},this.hc=new Map,this.lc=lc.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function vy(i,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,ye.Z)(function*(i,e){const t=Ag(i);let a,d;const _=t.sc.get(e);if(_)a=_.targetId,t.sharedClientState.addLocalQueryTarget(a),d=_.view.tc();else{const D=yield oh(t.localStore,ta(e));t.isPrimaryClient&&kh(t.remoteStore,D);const $=t.sharedClientState.addLocalQueryTarget(D.targetId);a=D.targetId,d=yield Vd(t,e,a,"current"===$)}return d}),Lh.apply(this,arguments)}function Vd(i,e,t,a){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ye.Z)(function*(i,e,t,a){i.dc=(ke,_t,Zt)=>{return(wn=(0,ye.Z)(function*(Tn,lr,Fr,$s){let No=lr.view.ju(Fr);No.$i&&(No=yield sp(Tn.localStore,lr.query,!1).then(({documents:Gs})=>lr.view.ju(Gs,No)));const ao=$s&&$s.targetChanges.get(lr.targetId),da=lr.view.applyChanges(No,Tn.isPrimaryClient,ao);return wg(Tn,lr.targetId,da.Yu),da.snapshot}),function(Tn,lr,Fr,$s){return wn.apply(this,arguments)})(i,ke,_t,Zt);var wn};const d=yield sp(i.localStore,e,!0),_=new Lm(e,d.Hi),D=_.ju(d.documents),$=ua.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==i.onlineState),ne=_.applyChanges(D,i.isPrimaryClient,$);wg(i,t,ne.Yu);const de=new _y(e,t,_);return i.sc.set(e,de),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),ne.snapshot}),Nf.apply(this,arguments)}function Bh(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,ye.Z)(function*(i,e){const t=Zn(i),a=t.sc.get(e),d=t.ic.get(a.targetId);if(d.length>1)return t.ic.set(a.targetId,d.filter(_=>!Wa(_,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield ah(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),lp(t.remoteStore,a.targetId),vl(t,a.targetId)}).catch(io))):(vl(t,a.targetId),yield ah(t.localStore,a.targetId,!0))}),xf.apply(this,arguments)}function vp(){return vp=(0,ye.Z)(function*(i,e,t){const a=Pf(i);try{const d=yield function(_,D){const $=Zn(_),ne=Zi.now(),de=D.reduce((Zt,wn)=>Zt.add(wn.key),Ci());let ke,_t;return $.persistence.runTransaction("Locally write mutations","readwrite",Zt=>{let wn=zo(),Tn=Ci();return $.Gi.getEntries(Zt,de).next(lr=>{wn=lr,wn.forEach((Fr,$s)=>{$s.isValidDocument()||(Tn=Tn.add(Fr))})}).next(()=>$.localDocuments.getOverlayedDocuments(Zt,wn)).next(lr=>{ke=lr;const Fr=[];for(const $s of D){const No=Go($s,ke.get($s.key).overlayedDocument);null!=No&&Fr.push(new ol($s.key,No,Dd(No.value.mapValue),so.exists(!0)))}return $.mutationQueue.addMutationBatch(Zt,ne,Fr,D)}).next(lr=>{_t=lr;const Fr=lr.applyToLocalDocumentSet(ke,Tn);return $.documentOverlayCache.saveOverlays(Zt,lr.batchId,Fr)})}).then(()=>({batchId:_t.batchId,changes:Uu(ke)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(d.batchId),function(_,D,$){let ne=_.ac[_.currentUser.toKey()];ne||(ne=new Rn(Vr)),ne=ne.insert(D,$),_.ac[_.currentUser.toKey()]=ne}(a,d.batchId,t),yield Nu(a,d.changes),yield Cf(a.remoteStore)}catch(d){const _=Tf(d,"Failed to persist write");t.reject(_)}}),vp.apply(this,arguments)}function yg(i,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,ye.Z)(function*(i,e){const t=Zn(i);try{const a=yield ry(t.localStore,e);e.targetChanges.forEach((d,_)=>{const D=t.uc.get(_);D&&(Ur(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?D.ec=!0:d.modifiedDocuments.size>0?Ur(D.ec):d.removedDocuments.size>0&&(Ur(D.ec),D.ec=!1))}),yield Nu(t,a,e)}catch(a){yield io(a)}}),Mf.apply(this,arguments)}function bp(i,e,t){const a=Zn(i);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const d=[];a.sc.forEach((_,D)=>{const $=D.view.bu(e);$.snapshot&&d.push($.snapshot)}),function(_,D){const $=Zn(_);$.onlineState=D;let ne=!1;$.queries.forEach((de,ke)=>{for(const _t of ke.listeners)_t.bu(D)&&(ne=!0)}),ne&&fg($)}(a.eventManager,e),d.length&&a.nc.Wo(d),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function $m(i,e,t){return Of.apply(this,arguments)}function Of(){return Of=(0,ye.Z)(function*(i,e,t){const a=Zn(i);a.sharedClientState.updateQueryState(e,"rejected",t);const d=a.uc.get(e),_=d&&d.key;if(_){let D=new Rn(nr.comparator);D=D.insert(_,ws.newNoDocument(_,Gr.min()));const $=Ci().add(_),ne=new rc(Gr.min(),new Map,new Wr(Vr),D,$);yield yg(a,ne),a.oc=a.oc.remove(_),a.uc.delete(e),Cg(a)}else yield ah(a.localStore,e,!1).then(()=>vl(a,e,t)).catch(io)}),Of.apply(this,arguments)}function by(i,e){return Um.apply(this,arguments)}function Um(){return Um=(0,ye.Z)(function*(i,e){const t=Zn(i),a=e.batch.batchId;try{const d=yield ym(t.localStore,e);vg(t,a,null),Ep(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield Nu(t,d)}catch(d){yield io(d)}}),Um.apply(this,arguments)}function wy(i,e,t){return wp.apply(this,arguments)}function wp(){return wp=(0,ye.Z)(function*(i,e,t){const a=Zn(i);try{const d=yield function(_,D){const $=Zn(_);return $.persistence.runTransaction("Reject batch","readwrite-primary",ne=>{let de;return $.mutationQueue.lookupMutationBatch(ne,D).next(ke=>(Ur(null!==ke),de=ke.keys(),$.mutationQueue.removeMutationBatch(ne,ke))).next(()=>$.mutationQueue.performConsistencyCheck(ne)).next(()=>$.documentOverlayCache.removeOverlaysForBatchId(ne,de,D)).next(()=>$.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ne,de)).next(()=>$.localDocuments.getDocuments(ne,de))})}(a.localStore,e);vg(a,e,t),Ep(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield Nu(a,d)}catch(d){yield io(d)}}),wp.apply(this,arguments)}function Cp(){return Cp=(0,ye.Z)(function*(i,e){const t=Zn(i);yd(t.remoteStore)||xn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(_){const D=Zn(_);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",$=>D.mutationQueue.getHighestUnacknowledgedBatchId($))}(t.localStore);if(-1===a)return void e.resolve();const d=t.hc.get(a)||[];d.push(e),t.hc.set(a,d)}catch(a){const d=Tf(a,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),Cp.apply(this,arguments)}function Ep(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function vg(i,e,t){const a=Zn(i);let d=a.ac[a.currentUser.toKey()];if(d){const _=d.get(e);_&&(t?_.reject(t):_.resolve(),d=d.remove(e)),a.ac[a.currentUser.toKey()]=d}}function vl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.ic.get(e))i.sc.delete(a),t&&i.nc._c(a,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(a=>{i.cc.containsKey(a)||bg(i,a)})}function bg(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(lp(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),Cg(i))}function wg(i,e,t){for(const a of t)a instanceof vd?(i.cc.addReference(a.key,e),r0(i,a)):a instanceof _g?(xn("SyncEngine","Document no longer in limbo: "+a.key),i.cc.removeReference(a.key,e),i.cc.containsKey(a.key)||bg(i,a.key)):Xn()}function r0(i,e){const t=e.key,a=t.path.canonicalString();i.oc.get(t)||i.rc.has(a)||(xn("SyncEngine","New document in limbo: "+t),i.rc.add(a),Cg(i))}function Cg(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new nr(_i.fromString(e)),a=i.lc.next();i.uc.set(a,new Bm(t)),i.oc=i.oc.insert(t,a),kh(i.remoteStore,new Ko(ta(Nc(t.path)),a,2,Ce.at))}}function Nu(i,e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,ye.Z)(function*(i,e,t){const a=Zn(i),d=[],_=[],D=[];var $;a.sc.isEmpty()||(a.sc.forEach(($,ne)=>{D.push(a.dc(ne,e,t).then(de=>{if(de){a.isPrimaryClient&&a.sharedClientState.updateQueryState(ne.targetId,de.fromCache?"not-current":"current"),d.push(de);const ke=Yp.Ci(ne.targetId,de);_.push(ke)}}))}),yield Promise.all(D),a.nc.Wo(d),yield($=(0,ye.Z)(function*(ne,de){const ke=Zn(ne);try{yield ke.persistence.runTransaction("notifyLocalViewChanges","readwrite",_t=>Qt.forEach(de,Zt=>Qt.forEach(Zt.Si,wn=>ke.persistence.referenceDelegate.addReference(_t,Zt.targetId,wn)).next(()=>Qt.forEach(Zt.Di,wn=>ke.persistence.referenceDelegate.removeReference(_t,Zt.targetId,wn)))))}catch(_t){if(!ba(_t))throw _t;xn("LocalStore","Failed to update sequence numbers: "+_t)}for(const _t of de){const Zt=_t.targetId;if(!_t.fromCache){const wn=ke.Ui.get(Zt),lr=wn.withLastLimboFreeSnapshotVersion(wn.snapshotVersion);ke.Ui=ke.Ui.insert(Zt,lr)}}}),function(ne,de){return $.apply(this,arguments)})(a.localStore,_))}),Dp.apply(this,arguments)}function Ey(i,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,ye.Z)(function*(i,e){const t=Zn(i);if(!t.currentUser.isEqual(e)){xn("SyncEngine","User change. New user:",e.toKey());const a=yield _m(t.localStore,e);t.currentUser=e,(d=t).hc.forEach(D=>{D.forEach($=>{$.reject(new Nn(sn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.hc.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Nu(t,a.ji)}var d}),Eg.apply(this,arguments)}function Dy(i,e){const t=Zn(i),a=t.uc.get(e);if(a&&a.ec)return Ci().add(a.key);{let d=Ci();const _=t.ic.get(e);if(!_)return d;for(const D of _){const $=t.sc.get(D);d=d.unionWith($.view.Qu)}return d}}function Vm(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,ye.Z)(function*(i,e){const t=Zn(i),a=yield sp(t.localStore,e.query,!0),d=e.view.Zu(a);return t.isPrimaryClient&&wg(t,e.targetId,d.Yu),d}),Dg.apply(this,arguments)}function jm(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,ye.Z)(function*(i,e){const t=Zn(i);return Zp(t.localStore,e).then(a=>Nu(t,a))}),Ig.apply(this,arguments)}function Iy(i,e,t,a){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,ye.Z)(function*(i,e,t,a){const d=Zn(i),_=yield function(D,$){const ne=Zn(D),de=Zn(ne.mutationQueue);return ne.persistence.runTransaction("Lookup mutation documents","readonly",ke=>de.Tn(ke,$).next(_t=>_t?ne.localDocuments.getDocuments(ke,_t):Qt.resolve(null)))}(d.localStore,e);var $;null!==_?("pending"===t?yield Cf(d.remoteStore):"acknowledged"===t||"rejected"===t?(vg(d,e,a||null),Ep(d,e),$=e,Zn(Zn(d.localStore).mutationQueue).An($)):Xn(),yield Nu(d,_)):xn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ip.apply(this,arguments)}function Tg(){return Tg=(0,ye.Z)(function*(i,e){const t=Zn(i);if(Ag(t),Pf(t),!0===e&&!0!==t.fc){const a=t.sharedClientState.getAllActiveQueryTargets(),d=yield xu(t,a.toArray());t.fc=!0,yield Mm(t.remoteStore,!0);for(const _ of d)kh(t.remoteStore,_)}else if(!1===e&&!1!==t.fc){const a=[];let d=Promise.resolve();t.ic.forEach((_,D)=>{t.sharedClientState.isLocalQueryTarget(D)?a.push(D):d=d.then(()=>(vl(t,D),ah(t.localStore,D,!0))),lp(t.remoteStore,D)}),yield d,yield xu(t,a),function(_){const D=Zn(_);D.uc.forEach(($,ne)=>{lp(D.remoteStore,ne)}),D.cc.fs(),D.uc=new Map,D.oc=new Rn(nr.comparator)}(t),t.fc=!1,yield Mm(t.remoteStore,!1)}}),Tg.apply(this,arguments)}function xu(i,e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,ye.Z)(function*(i,e,t){const a=Zn(i),d=[],_=[];for(const D of e){let $;const ne=a.ic.get(D);if(ne&&0!==ne.length){$=yield oh(a.localStore,ta(ne[0]));for(const de of ne){const ke=a.sc.get(de),_t=yield Vm(a,ke);_t.snapshot&&_.push(_t.snapshot)}}else{const de=yield wm(a.localStore,D);$=yield oh(a.localStore,de),yield Vd(a,Gm(de),D,!1)}d.push($)}return a.nc.Wo(_),d}),Rf.apply(this,arguments)}function Gm(i){return jl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ty(i){const e=Zn(i);return Zn(Zn(e.localStore).persistence).vi()}function s0(i,e,t,a){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,ye.Z)(function*(i,e,t,a){const d=Zn(i);if(d.fc)return void xn("SyncEngine","Ignoring unexpected query state notification.");const _=d.ic.get(e);if(_&&_.length>0)switch(t){case"current":case"not-current":{const D=yield Zp(d.localStore,Mc(_[0])),$=rc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Nu(d,D,$);break}case"rejected":yield ah(d.localStore,e,!0),vl(d,e,a);break;default:Xn()}}),Tp.apply(this,arguments)}function Sy(i,e,t){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,ye.Z)(function*(i,e,t){const a=Ag(i);if(a.fc){for(const d of e){if(a.ic.has(d)){xn("SyncEngine","Adding an already active target "+d);continue}const _=yield wm(a.localStore,d),D=yield oh(a.localStore,_);yield Vd(a,Gm(_),D.targetId,!1),kh(a.remoteStore,D)}for(const d of t)a.ic.has(d)&&(yield ah(a.localStore,d,!1).then(()=>{lp(a.remoteStore,d),vl(a,d)}).catch(io))}}),Sg.apply(this,arguments)}function Ag(i){const e=Zn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=yg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$m.bind(null,e),e.nc.Wo=Ud.bind(null,e.eventManager),e.nc._c=hg.bind(null,e.eventManager),e}function Pf(i){const e=Zn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=by.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wy.bind(null,e),e}class Wm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.It=Ld(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return mm(this.persistence,new Kp,e.initialUser,this.It)}gc(e){return new Hp(yf.Bs,this.It)}mc(e){return new sy}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kf extends Wm{constructor(e,t,a){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,ye.Z)(function*(){yield t().call(a,e),yield a.Ec.initialize(a,e),yield Pf(a.Ec.syncEngine),yield Cf(a.Ec.remoteStore),yield a.persistence.li(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return mm(this.persistence,new Kp,e.initialUser,this.It)}Ic(e,t){return new Pl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const a=new q(t,this.persistence);return new G(e.asyncQueue,a)}gc(e){const t=Uc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new np(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,Sm(),bf(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new sy}}class Ng extends kf{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,ye.Z)(function*(){yield t().call(a,e);const d=a.Ec.syncEngine;a.sharedClientState instanceof Tm&&(a.sharedClientState.syncEngine={Fr:Iy.bind(null,d),$r:s0.bind(null,d),Br:Sy.bind(null,d),vi:Ty.bind(null,d),Or:jm.bind(null,d)},yield a.sharedClientState.start()),yield a.persistence.li(function(){var _=(0,ye.Z)(function*(D){yield function Hm(i,e){return Tg.apply(this,arguments)}(a.Ec.syncEngine,D),a.gcScheduler&&(D&&!a.gcScheduler.started?a.gcScheduler.start():D||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(D&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():D||a.indexBackfillerScheduler.stop())});return function(D){return _.apply(this,arguments)}}())})()}mc(e){const t=Sm();if(!Tm.C(t))throw new Nn(sn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Uc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tm(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class $h{initialize(e,t){var a=this;return(0,ye.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=d=>bp(a.syncEngine,d,1),a.remoteStore.remoteSyncer.handleCredentialChange=Ey.bind(null,a.syncEngine),yield Mm(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new n0}createDatastore(e){const t=Ld(e.databaseInfo.databaseId),a=new Rh(e.databaseInfo);return new uy(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,d=e.asyncQueue,_=$=>bp(this.syncEngine,$,0),D=tg.C()?new tg:new oy,new hy(t,a,d,_,D);var t,a,d,_,D}createSyncEngine(e,t){return function(a,d,_,D,$,ne,de){const ke=new yy(a,d,_,D,$,ne);return de&&(ke.fc=!0),ke}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const a=Zn(t);xn("RemoteStore","RemoteStore shutting down."),a._u.add(5),yield ch(a),a.mu.shutdown(),a.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ny(i,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<i.byteLength){const a={value:i.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Uh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class o0{constructor(e,t){this.bc=e,this.It=t,this.metadata=new ii,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(a=>{a&&a.ku()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.payload)}`))},a=>this.metadata.reject(a))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const a=e.Pc.decode(t),d=Number(a);isNaN(d)&&e.Sc(`length string (${a}) is not valid number`);const _=yield e.Dc(d);return new pg(JSON.parse(_),t.length+d)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ye.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}Dc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const a=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.bc.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class zm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Nn(sn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(d=(0,ye.Z)(function*(_,D){const $=Zn(_),ne=m($.It)+"/documents",de={documents:D.map(wn=>al($.It,wn))},ke=yield $.fo("BatchGetDocuments",ne,de,D.length),_t=new Map;ke.forEach(wn=>{const Tn=function Oe(i,e){return"found"in e?function(t,a){Ur(!!a.found);const d=Wl(t,a.found.name),_=fo(a.found.updateTime),D=new ko({mapValue:{fields:a.found.fields}});return ws.newFoundDocument(d,_,D)}(i,e):"missing"in e?function(t,a){Ur(!!a.missing),Ur(!!a.readTime);const d=Wl(t,a.missing),_=fo(a.readTime);return ws.newNoDocument(d,_)}(i,e):Xn()}($.It,wn);_t.set(Tn.key.toString(),Tn)});const Zt=[];return D.forEach(wn=>{const Tn=_t.get(wn.toString());Ur(!!Tn),Zt.push(Tn)}),Zt}),function(_,D){return d.apply(this,arguments)})(t.datastore,e);var d;return a.forEach(d=>t.recordVersion(d)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new gu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,d)=>{const _=nr.fromPath(d);e.mutations.push(new mu(_,e.precondition(_)))}),yield(a=(0,ye.Z)(function*(d,_){const D=Zn(d),$=m(D.It)+"/documents",ne={writes:_.map(de=>on(D.It,de))};yield D.co("Commit",$,ne)}),function(d,_){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xn();t=Gr.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new Nn(sn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Gr.min())?so.exists(!1):so.updateTime(t):so.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gr.min()))throw new Nn(sn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return so.updateTime(t)}return so.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ym{constructor(e,t,a,d,_){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=d,this.deferred=_,this.Nc=a.maxAttempts,this.xo=new ng(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ye.Z)(function*(){const t=new zm(e.datastore),a=e.Mc(t);a&&a.then(d=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(d)}).catch(_=>{e.Oc(_)}))}).catch(d=>{e.Oc(d)})}))}Mc(e){try{const t=this.updateFunction(e);return!$t(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Pc(t)}return!1}}class Km{constructor(e,t,a,d){var _=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=d,this.user=wi.UNAUTHENTICATED,this.clientId=Jo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var D=(0,ye.Z)(function*($){xn("FirestoreClient","Received user=",$.uid),yield _.authCredentialListener($),_.user=$});return function($){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(a,D=>(xn("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nn(sn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const d=Tf(a,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function xg(i,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,ye.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),xn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(function(){var d=(0,ye.Z)(function*(_){a.isEqual(_)||(yield _m(e.localStore,_),a=_)});return function(_){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Ff.apply(this,arguments)}function qu(i,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,ye.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield jh(i);xn("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(t,a),i.setCredentialChangeListener(d=>gy(e.remoteStore,d)),i.setAppCheckTokenChangeListener((d,_)=>gy(e.remoteStore,_)),i.onlineComponents=e}),Vh.apply(this,arguments)}function jh(i){return dh.apply(this,arguments)}function dh(){return dh=(0,ye.Z)(function*(i){return i.offlineComponents||(xn("FirestoreClient","Using default OfflineComponentProvider"),yield xg(i,new Wm)),i.offlineComponents}),dh.apply(this,arguments)}function Sp(i){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ye.Z)(function*(i){return i.onlineComponents||(xn("FirestoreClient","Using default OnlineComponentProvider"),yield qu(i,new $h)),i.onlineComponents}),Lf.apply(this,arguments)}function Mg(i){return jh(i).then(e=>e.persistence)}function Ap(i){return jh(i).then(e=>e.localStore)}function qm(i){return Sp(i).then(e=>e.remoteStore)}function hh(i){return Sp(i).then(e=>e.syncEngine)}function Hh(i){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,ye.Z)(function*(i){const e=yield Sp(i),t=e.eventManager;return t.onListen=vy.bind(null,e.syncEngine),t.onUnlisten=Bh.bind(null,e.syncEngine),t}),Zm.apply(this,arguments)}function Qm(i,e,t={}){const a=new ii;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(d,_,D,$,ne){const de=new Uh({next:_t=>{_.enqueueAndForget(()=>Pm(d,ke));const Zt=_t.docs.has(D);!Zt&&_t.fromCache?ne.reject(new Nn(sn.UNAVAILABLE,"Failed to get document because the client is offline.")):Zt&&_t.fromCache&&$&&"server"===$.source?ne.reject(new Nn(sn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ne.resolve(_t)},error:_t=>ne.reject(_t)}),ke=new _p(Nc(D.path),de,{includeMetadataChanges:!0,Nu:!0});return Om(d,ke)}(yield Hh(i),i.asyncQueue,e,t,a)})),a.promise}function Og(i,e,t={}){const a=new ii;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(d,_,D,$,ne){const de=new Uh({next:_t=>{_.enqueueAndForget(()=>Pm(d,ke)),_t.fromCache&&"server"===$.source?ne.reject(new Nn(sn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ne.resolve(_t)},error:_t=>ne.reject(_t)}),ke=new _p(D,de,{includeMetadataChanges:!0,Nu:!0});return Om(d,ke)}(yield Hh(i),i.asyncQueue,e,t,a)})),a.promise}const Jm=new Map;function kg(i,e,t){if(!t)throw new Nn(sn.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Xm(i,e,t,a){if(!0===e&&!0===a)throw new Nn(sn.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function e_(i){if(!nr.isDocumentKey(i))throw new Nn(sn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function t_(i){if(nr.isDocumentKey(i))throw new Nn(sn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function fh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Xn()}function Ji(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Nn(sn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fh(i);throw new Nn(sn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function ky(i,e){if(e<=0)throw new Nn(sn.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Gh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Nn(sn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nn(sn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Xm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bf{constructor(e,t,a,d){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nn(sn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nn(sn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gh(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new rs;switch(t.type){case"gapi":return new Sa(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Nn(sn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jm.get(e);t&&(xn("ComponentProvider","Removing Datastore"),Jm.delete(e),t.terminate())}(this),Promise.resolve()}}class $o{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $o(this.firestore,e,this._key)}}class Yl{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Yl(this.firestore,e,this._query)}}class cl extends Yl{constructor(e,t,a){super(e,t,Nc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $o(this.firestore,null,new nr(e))}withConverter(e){return new cl(this.firestore,e,this._path)}}function Wh(i,e,...t){if(i=(0,fe.m9)(i),kg("collection","path",e),i instanceof Bf){const a=_i.fromString(e,...t);return t_(a),new cl(i,null,a)}{if(!(i instanceof $o||i instanceof cl))throw new Nn(sn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(_i.fromString(e,...t));return t_(a),new cl(i.firestore,null,a)}}function Zu(i,e,...t){if(i=(0,fe.m9)(i),1===arguments.length&&(e=Jo.R()),kg("doc","path",e),i instanceof Bf){const a=_i.fromString(e,...t);return e_(a),new $o(i,null,new nr(a))}{if(!(i instanceof $o||i instanceof cl))throw new Nn(sn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(_i.fromString(e,...t));return e_(a),new $o(i.firestore,i instanceof cl?i.converter:null,new nr(a))}}function $f(i,e){return i=(0,fe.m9)(i),e=(0,fe.m9)(e),(i instanceof $o||i instanceof cl)&&(e instanceof $o||e instanceof cl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function jc(i,e){return i=(0,fe.m9)(i),e=(0,fe.m9)(e),i instanceof Yl&&e instanceof Yl&&i.firestore===e.firestore&&Wa(i._query,e._query)&&i.converter===e.converter}class Fg{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new ng(this,"async_queue_retry"),this.jc=()=>{const t=bf();t&&xn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=bf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=bf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new ii;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!ba(t))throw t;xn("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(a=>{throw this.qc=a,this.Kc=!1,Os("INTERNAL UNHANDLED ERROR: ",function(_){let D=_.message||"";return _.stack&&(D=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),D}(a)),a}).then(a=>(this.Kc=!1,a))));return this.$c=t,t}enqueueAfterDelay(e,t,a){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const d=If.createAndSchedule(this,e,t,a,_=>this.Jc(_));return this.Uc.push(d),d}Wc(){this.qc&&Xn()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function jd(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const d of["next","error","complete"])if(d in a&&"function"==typeof a[d])return!0;return!1}(i)}class zh{constructor(){this._progressObserver={},this._taskCompletionResolver=new ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yo extends Bf{constructor(e,t,a,d){super(e,t,a,d),this.type="firestore",this._queue=new Fg,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ph(this),this._firestoreClient.terminate()}}function ra(i){return i._firestoreClient||ph(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ph(i){var e;const t=i._freezeSettings(),a=(_=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ae(i._databaseId,_,i._persistenceKey,($=t).host,$.ssl,$.experimentalForceLongPolling,$.experimentalAutoDetectLongPolling,$.useFetchStreams));var _,$;i._firestoreClient=new Km(i._authCredentials,i._appCheckCredentials,i._queue,a)}function Lg(i,e,t){const a=new ii;return i.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield xg(i,t),yield qu(i,e),a.resolve()}catch(d){const _=d;if(!("FirebaseError"===(D=_).name?D.code===sn.FAILED_PRECONDITION||D.code===sn.UNIMPLEMENTED:!(typeof DOMException<"u"&&D instanceof DOMException)||22===D.code||20===D.code||11===D.code))throw _;Zo("Error enabling offline persistence. Falling back to persistence disabled: "+_),a.reject(_)}var D})).then(()=>a.promise)}function c_(i){if(i._initialized||i._terminated)throw new Nn(sn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Nn(sn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new js(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qu(Xs.fromBase64String(e))}catch(t){throw new Nn(sn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qu(Xs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hd{constructor(e){this._methodName=e}}class qh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nn(sn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nn(sn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vr(this._lat,e._lat)||Vr(this._long,e._long)}}const Bg=/^__.*__$/;class $y{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rc(e,this.data,t,this.fieldTransforms)}}class jf{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Hf(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xn()}}class Zh{constructor(e,t,a,d,_,D){this.settings=e,this.databaseId=t,this.It=a,this.ignoreUndefinedProperties=d,void 0===_&&this.ea(),this.fieldTransforms=_||[],this.fieldMask=D||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Zh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.sa({path:a,ra:!1});return d.oa(e),d}ua(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.sa({path:a,ra:!1});return d.ea(),d}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return _h(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Hf(this.na)&&Bg.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Uy{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=a||Ld(e)}fa(e,t,a,d=!1){return new Zh({na:e,methodName:t,la:a,path:js.emptyPath(),ra:!1,ha:d},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Ju(i){const e=i._freezeSettings(),t=Ld(i._databaseId);return new Uy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function gh(i,e,t,a,d,_={}){const D=i.fa(_.merge||_.mergeFields?2:0,e,t,d);Wg("Data must be an object, but it was:",D,a);const $=Hg(a,D);let ne,de;if(_.merge)ne=new So(D.fieldMask),de=D.fieldTransforms;else if(_.mergeFields){const ke=[];for(const _t of _.mergeFields){const Zt=xp(e,_t,t);if(!D.contains(Zt))throw new Nn(sn.INVALID_ARGUMENT,`Field '${Zt}' is specified in your field mask but missing from your input data.`);zg(ke,Zt)||ke.push(Zt)}ne=new So(ke),de=D.fieldTransforms.filter(_t=>ne.covers(_t.field))}else ne=null,de=D.fieldTransforms;return new $y(new ko($),ne,de)}class mh extends Hd{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mh}}function $g(i,e,t){return new Zh({na:3,la:e.settings.la,methodName:i._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Gf extends Hd{_toFieldTransform(e){return new ml(e.path,new Al)}isEqual(e){return e instanceof Gf}}class u_ extends Hd{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=$g(this,e,!0),a=this.da.map(_=>Gd(_,t)),d=new Qc(a);return new ml(e.path,d)}isEqual(e){return this===e}}class d_ extends Hd{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=$g(this,e,!0),a=this.da.map(_=>Gd(_,t)),d=new xa(a);return new ml(e.path,d)}isEqual(e){return this===e}}class Ug extends Hd{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Nl(e.It,ca(e.It,this._a));return new ml(e.path,t)}isEqual(e){return this===e}}function Np(i,e,t,a){const d=i.fa(1,e,t);Wg("Data must be an object, but it was:",d,a);const _=[],D=ko.empty();dt(a,(ne,de)=>{const ke=Qh(e,ne,t);de=(0,fe.m9)(de);const _t=d.ua(ke);if(de instanceof mh)_.push(ke);else{const Zt=Gd(de,_t);null!=Zt&&(_.push(ke),D.set(ke,Zt))}});const $=new So(_);return new jf(D,$,d.fieldTransforms)}function Vg(i,e,t,a,d,_){const D=i.fa(1,e,t),$=[xp(e,a,t)],ne=[d];if(_.length%2!=0)throw new Nn(sn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Zt=0;Zt<_.length;Zt+=2)$.push(xp(e,_[Zt])),ne.push(_[Zt+1]);const de=[],ke=ko.empty();for(let Zt=$.length-1;Zt>=0;--Zt)if(!zg(de,$[Zt])){const wn=$[Zt];let Tn=ne[Zt];Tn=(0,fe.m9)(Tn);const lr=D.ua(wn);if(Tn instanceof mh)de.push(wn);else{const Fr=Gd(Tn,lr);null!=Fr&&(de.push(wn),ke.set(wn,Fr))}}const _t=new So(de);return new jf(ke,_t,D.fieldTransforms)}function jg(i,e,t,a=!1){return Gd(t,i.fa(a?4:3,e))}function Gd(i,e){if(Gg(i=(0,fe.m9)(i)))return Wg("Unsupported field value:",e,i),Hg(i,e);if(i instanceof Hd)return function(t,a){if(!Hf(a.na))throw a.aa(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a.aa(`${t._methodName}() is not currently supported inside arrays`);const d=t._toFieldTransform(a);d&&a.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,a){const d=[];let _=0;for(const D of t){let $=Gd(D,a.ca(_));null==$&&($={nullValue:"NULL_VALUE"}),d.push($),_++}return{arrayValue:{values:d}}}(i,e)}return function(t,a){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ca(a.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const d=Zi.fromDate(t);return{timestampValue:La(a.It,d)}}if(t instanceof Zi){const d=new Zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:La(a.It,d)}}if(t instanceof qh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qu)return{bytesValue:bu(a.It,t._byteString)};if(t instanceof $o){const d=a.databaseId,_=t.firestore._databaseId;if(!_.isEqual(d))throw a.aa(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:sc(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a.aa(`Unsupported field value: ${fh(t)}`)}(i,e)}function Hg(i,e){const t={};return fn(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dt(i,(a,d)=>{const _=Gd(d,e.ia(a));null!=_&&(t[a]=_)}),{mapValue:{fields:t}}}function Gg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Zi||i instanceof qh||i instanceof Qu||i instanceof $o||i instanceof Hd)}function Wg(i,e,t){if(!Gg(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=fh(t);throw e.aa("an object"===a?i+" a custom object":i+" "+a)}var a}function xp(i,e,t){if((e=(0,fe.m9)(e))instanceof bd)return e._internalPath;if("string"==typeof e)return Qh(i,e);throw _h("Field path arguments must be of type string or ",i,!1,void 0,t)}const h_=new RegExp("[~\\*/\\[\\]]");function Qh(i,e,t){if(e.search(h_)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new bd(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function _h(i,e,t,a,d){const _=a&&!a.isEmpty(),D=void 0!==d;let $=`Function ${e}() called with invalid data`;t&&($+=" (via `toFirestore()`)"),$+=". ";let ne="";return(_||D)&&(ne+=" (found",_&&(ne+=` in field ${a}`),D&&(ne+=` in document ${d}`),ne+=")"),new Nn(sn.INVALID_ARGUMENT,$+i+ne)}function zg(i,e){return i.some(t=>t.isEqual(e))}class Jh{constructor(e,t,a,d,_){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=d,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new $o(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new f_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class f_ extends Jh{data(){return super.data()}}function Wf(i,e){return"string"==typeof e?Qh(i,e):e instanceof bd?e._internalPath:e._delegate._internalPath}class Wd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xu extends Jh{constructor(e,t,a,d,_,D){super(e,t,a,d,D),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Wf("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Xh extends Xu{data(e={}){return super.data(e)}}class wd{constructor(e,t,a,d){this._firestore=e,this._userDataWriter=t,this._snapshot=d,this.metadata=new Wd(d.hasPendingWrites,d.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Xh(this._firestore,this._userDataWriter,a.key,a,new Wd(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nn(sn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,d){if(a._snapshot.oldDocs.isEmpty()){let _=0;return a._snapshot.docChanges.map(D=>({type:"added",doc:new Xh(a._firestore,a._userDataWriter,D.doc.key,D.doc,new Wd(a._snapshot.mutatedKeys.has(D.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:_++}))}{let _=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(D=>d||3!==D.type).map(D=>{const $=new Xh(a._firestore,a._userDataWriter,D.doc.key,D.doc,new Wd(a._snapshot.mutatedKeys.has(D.doc.key),a._snapshot.fromCache),a.query.converter);let ne=-1,de=-1;return 0!==D.type&&(ne=_.indexOf(D.doc.key),_=_.delete(D.doc.key)),1!==D.type&&(_=_.add(D.doc),de=_.indexOf(D.doc.key)),{type:l0(D.type),doc:$,oldIndex:ne,newIndex:de}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function l0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xn()}}function p_(i,e){return i instanceof Xu&&e instanceof Xu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof wd&&e instanceof wd&&i._firestore===e._firestore&&jc(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function g_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Nn(sn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ef{}function zd(i,...e){for(const t of e)i=t._apply(i);return i}class ul extends ef{constructor(e,t,a){super(),this.wa=e,this.ma=t,this.ga=a,this.type="where"}_apply(e){const t=Ju(e.firestore),a=function(d,_,D,$,ne,de,ke){let _t;if(ne.isKeyField()){if("array-contains"===de||"array-contains-any"===de)throw new Nn(sn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${de}' queries on documentId().`);if("in"===de||"not-in"===de){Mp(ke,de);const wn=[];for(const Tn of ke)wn.push(zy($,d,Tn));_t={arrayValue:{values:wn}}}else _t=zy($,d,ke)}else"in"!==de&&"not-in"!==de&&"array-contains-any"!==de||Mp(ke,de),_t=jg(D,"where",ke,"in"===de||"not-in"===de);const Zt=Fo.create(ne,de,_t);return function(wn,Tn){if(Tn.dt()){const Fr=Ga(wn);if(null!==Fr&&!Fr.isEqual(Tn.field))throw new Nn(sn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fr.toString()}' and '${Tn.field.toString()}'`);const $s=Ad(wn);null!==$s&&Op(0,Tn.field,$s)}const lr=function(Fr,$s){for(const No of Fr.filters)if($s.indexOf(No.op)>=0)return No.op;return null}(wn,function(Fr){switch(Fr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Tn.op));if(null!==lr)throw new Nn(sn.INVALID_ARGUMENT,lr===Tn.op?`Invalid query. You cannot use more than one '${Tn.op.toString()}' filter.`:`Invalid query. You cannot use '${Tn.op.toString()}' filters with '${lr.toString()}' filters.`)}(d,Zt),Zt}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Yl(e.firestore,e.converter,function(d,_){const D=d.filters.concat([_]);return new Tl(d.path,d.collectionGroup,d.explicitOrderBy.slice(),D,d.limit,d.limitType,d.startAt,d.endAt)}(e._query,a))}}class Vy extends ef{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(a,d,_){if(null!==a.startAt)throw new Nn(sn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Nn(sn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new Ac(d,_);return function($,ne){if(null===Ad($)){const de=Ga($);null!==de&&Op(0,de,ne.field)}}(a,D),D}(e._query,this.wa,this.ya);return new Yl(e.firestore,e.converter,function(a,d){const _=a.explicitOrderBy.concat([d]);return new Tl(a.path,a.collectionGroup,_,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class Yg extends ef{constructor(e,t,a){super(),this.type=e,this.pa=t,this.Ia=a}_apply(e){return new Yl(e.firestore,e.converter,Fu(e._query,this.pa,this.Ia))}}class Kg extends ef{constructor(e,t,a){super(),this.type=e,this.Ta=t,this.Ea=a}_apply(e){const t=qg(e,this.type,this.Ta,this.Ea);return new Yl(e.firestore,e.converter,(d=t,new Tl((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,d,a.endAt)));var a,d}}class y_ extends ef{constructor(e,t,a){super(),this.type=e,this.Ta=t,this.Ea=a}_apply(e){const t=qg(e,this.type,this.Ta,this.Ea);return new Yl(e.firestore,e.converter,(d=t,new Tl((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,d)));var a,d}}function qg(i,e,t,a){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof Jh)return function(d,_,D,$,ne){if(!$)throw new Nn(sn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const de=[];for(const ke of qc(d))if(ke.field.isKeyField())de.push(la(_,$.key));else{const _t=$.data.field(ke.field);if(Mu(_t))throw new Nn(sn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ke.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_t){const Zt=ke.field.canonicalString();throw new Nn(sn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Zt}' (used as the orderBy) does not exist.`)}de.push(_t)}return new nc(de,ne)}(i._query,i.firestore._databaseId,e,t[0]._document,a);{const d=Ju(i.firestore);return function(_,D,$,ne,de,ke){const _t=_.explicitOrderBy;if(de.length>_t.length)throw new Nn(sn.INVALID_ARGUMENT,`Too many arguments provided to ${ne}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Zt=[];for(let wn=0;wn<de.length;wn++){const Tn=de[wn];if(_t[wn].field.isKeyField()){if("string"!=typeof Tn)throw new Nn(sn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ne}(), but got a ${typeof Tn}`);if(!xc(_)&&-1!==Tn.indexOf("/"))throw new Nn(sn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ne}() must be a plain document ID, but '${Tn}' contains a slash.`);const lr=_.path.child(_i.fromString(Tn));if(!nr.isDocumentKey(lr))throw new Nn(sn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ne}() must result in a valid document path, but '${lr}' is not because it contains an odd number of segments.`);const Fr=new nr(lr);Zt.push(la(D,Fr))}else{const lr=jg($,ne,Tn);Zt.push(lr)}}return new nc(Zt,ke)}(i._query,i.firestore._databaseId,d,e,t,a)}}function zy(i,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new Nn(sn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xc(e)&&-1!==t.indexOf("/"))throw new Nn(sn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(_i.fromString(t));if(!nr.isDocumentKey(a))throw new Nn(sn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return la(i,new nr(a))}if(t instanceof $o)return la(i,t._key);throw new Nn(sn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(t)}.`)}function Mp(i,e){if(!Array.isArray(i)||0===i.length)throw new Nn(sn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Nn(sn.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Op(i,e,t){if(!t.isEqual(e))throw new Nn(sn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const ed={maxAttempts:5};class Zg{convertValue(e,t="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ps(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xn()}}convertObject(e,t){const a={};return dt(e.fields,(d,_)=>{a[d]=this.convertValue(_,t)}),a}convertGeoPoint(e){return new qh(Ps(e.latitude),Ps(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=W(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(X(e));default:return null}}convertTimestamp(e){const t=ka(e);return new Zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=_i.fromString(e);Ur(Gu(a));const d=new We(a.get(1),a.get(3)),_=new nr(a.popFirst(5));return d.isEqual(t)||Os(`Document ${_} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),_}}function zf(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}class td extends Zg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $o(this.firestore,null,t)}}class iu{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ju(e)}set(e,t,a){this._verifyNotCommitted();const d=bl(e,this._firestore),_=zf(d.converter,t,a),D=gh(this._dataReader,"WriteBatch.set",d._key,_,null!==d.converter,a);return this._mutations.push(D.toMutation(d._key,so.none())),this}update(e,t,a,...d){this._verifyNotCommitted();const _=bl(e,this._firestore);let D;return D="string"==typeof(t=(0,fe.m9)(t))||t instanceof bd?Vg(this._dataReader,"WriteBatch.update",_._key,t,a,d):Np(this._dataReader,"WriteBatch.update",_._key,t),this._mutations.push(D.toMutation(_._key,so.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bl(e,this._firestore);return this._mutations=this._mutations.concat(new gu(t._key,so.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nn(sn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bl(i,e){if((i=(0,fe.m9)(i)).firestore!==e)throw new Nn(sn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Yd extends Zg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $o(this.firestore,null,t)}}function nf(i,e,t){i=Ji(i,$o);const a=Ji(i.firestore,yo),d=zf(i.converter,e,t);return Cd(a,[gh(Ju(a),"setDoc",i._key,d,null!==i.converter,t).toMutation(i._key,so.none())])}function w_(i,e,t,...a){i=Ji(i,$o);const d=Ji(i.firestore,yo),_=Ju(d);let D;return D="string"==typeof(e=(0,fe.m9)(e))||e instanceof bd?Vg(_,"updateDoc",i._key,e,t,a):Np(_,"updateDoc",i._key,e),Cd(d,[D.toMutation(i._key,so.exists(!0))])}function Jg(i,...e){var t,a,d;i=(0,fe.m9)(i);let _={includeMetadataChanges:!1},D=0;"object"!=typeof e[D]||jd(e[D])||(_=e[D],D++);const $={includeMetadataChanges:_.includeMetadataChanges};if(jd(e[D])){const _t=e[D];e[D]=null===(t=_t.next)||void 0===t?void 0:t.bind(_t),e[D+1]=null===(a=_t.error)||void 0===a?void 0:a.bind(_t),e[D+2]=null===(d=_t.complete)||void 0===d?void 0:d.bind(_t)}let ne,de,ke;if(i instanceof $o)de=Ji(i.firestore,yo),ke=Nc(i._key.path),ne={next:_t=>{e[D]&&e[D](Xg(de,i,_t))},error:e[D+1],complete:e[D+2]};else{const _t=Ji(i,Yl);de=Ji(_t.firestore,yo),ke=_t._query;const Zt=new Yd(de);ne={next:wn=>{e[D]&&e[D](new wd(de,Zt,_t,wn))},error:e[D+1],complete:e[D+2]},g_(i._query)}return function(_t,Zt,wn,Tn){const lr=new Uh(Tn),Fr=new _p(Zt,lr,wn);return _t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Om(yield Hh(_t),Fr)})),()=>{lr.Rc(),_t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Pm(yield Hh(_t),Fr)}))}}(ra(de),ke,$,ne)}function Cd(i,e){return function(t,a){const d=new ii;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function yp(i,e,t){return vp.apply(this,arguments)}(yield hh(t),a,d)})),d.promise}(ra(i),e)}function Xg(i,e,t){const a=t.docs.get(e._key),d=new Yd(i);return new Xu(i,d,e._key,a,new Wd(t.hasPendingWrites,t.fromCache),e.converter)}class D_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ju(e)}get(e){const t=bl(e,this._firestore),a=new td(this._firestore);return this._transaction.lookup([t._key]).then(d=>{if(!d||1!==d.length)return Xn();const _=d[0];if(_.isFoundDocument())return new Jh(this._firestore,a,_.key,_,t.converter);if(_.isNoDocument())return new Jh(this._firestore,a,t._key,null,t.converter);throw Xn()})}set(e,t,a){const d=bl(e,this._firestore),_=zf(d.converter,t,a),D=gh(this._dataReader,"Transaction.set",d._key,_,null!==d.converter,a);return this._transaction.set(d._key,D),this}update(e,t,a,...d){const _=bl(e,this._firestore);let D;return D="string"==typeof(t=(0,fe.m9)(t))||t instanceof bd?Vg(this._dataReader,"Transaction.update",_._key,t,a,d):Np(this._dataReader,"Transaction.update",_._key,t),this._transaction.update(_._key,D),this}delete(e){const t=bl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bl(e,this._firestore),a=new Yd(this._firestore);return super.get(e).then(d=>new Xu(this._firestore,a,t._key,d._document,new Wd(!1,!1),t.converter))}}function im(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Nn("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function N_(){if(typeof Uint8Array>"u")throw new Nn("unimplemented","Uint8Arrays are not available in this environment.")}function x_(){if(!function Rs(){return typeof atob<"u"}())throw new Nn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){ro=Ie.SDK_VERSION,(0,Ie._registerComponent)(new he.wA("firestore",(t,{instanceIdentifier:a,options:d})=>{const _=t.getProvider("app").getImmediate(),D=new yo(new el(t.getProvider("auth-internal")),new ya(t.getProvider("app-check-internal")),function($,ne){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new Nn(sn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new We($.options.projectId,ne)}(_,a),_);return d=Object.assign({useFetchStreams:e},d),D._setSettings(d),D},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(hl,"3.5.0",i),(0,Ie.registerVersion)(hl,"3.5.0","esm2017")}();class Yf{constructor(e){this._delegate=e}static fromBase64String(e){return x_(),new Yf(Qu.fromBase64String(e))}static fromUint8Array(e){return N_(),new Yf(Qu.fromUint8Array(e))}toBase64(){return x_(),this._delegate.toBase64()}toUint8Array(){return N_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sm(i){return function ev(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const a of e)if(a in t&&"function"==typeof t[a])return!0;return!1}(i,["next","error","complete"])}class tv{enableIndexedDbPersistence(e,t){return function Kh(i,e){c_(i=Ji(i,yo));const t=ra(i),a=i._freezeSettings(),d=new $h;return Lg(t,d,new kf(d,a.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function n_(i){c_(i=Ji(i,yo));const e=ra(i),t=i._freezeSettings(),a=new $h;return Lg(e,a,new Ng(a,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function r_(i){if(i._initialized&&!i._terminated)throw new Nn(sn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ii;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(a){if(!Js.C())return Promise.resolve();const d=a+"main";yield Js.delete(d)}),function(a){return t.apply(this,arguments)})(Uc(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class M_{constructor(e,t,a){this._delegate=t,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof We||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,a={}){!function Fy(i,e,t,a={}){var d;const _=(i=Ji(i,Bf))._getSettings();if("firestore.googleapis.com"!==_.host&&_.host!==e&&Zo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},_),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let D,$;if("string"==typeof a.mockUserToken)D=a.mockUserToken,$=wi.MOCK_USER;else{D=(0,fe.Sg)(a.mockUserToken,null===(d=i._app)||void 0===d?void 0:d.options.projectId);const ne=a.mockUserToken.sub||a.mockUserToken.user_id;if(!ne)throw new Nn(sn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");$=new wi(ne)}i._authCredentials=new pl(new Qo(D,$))}}(this._delegate,e,t,a)}enableNetwork(){return function s_(i){return function xy(i){return i.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield Mg(i),t=yield qm(i);return e.setNetworkEnabled(!0),function(a){const d=Zn(a);return d._u.delete(0),Ph(d)}(t)}))}(ra(i=Ji(i,yo)))}(this._delegate)}disableNetwork(){return function o_(i){return function a0(i){return i.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield Mg(i),t=yield qm(i);return e.setNetworkEnabled(!1),(a=(0,ye.Z)(function*(d){const _=Zn(d);_._u.add(0),yield ch(_),_.gu.set("Offline")}),function(d){return a.apply(this,arguments)})(t);var a}))}(ra(i=Ji(i,yo)))}(this._delegate)}enablePersistence(e){let t=!1,a=!1;return e&&(t=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,Xm("synchronizeTabs",t,"experimentalForceOwningTab",a)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function i_(i){return function(e){const t=new ii;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function Cy(i,e){return Cp.apply(this,arguments)}(yield hh(e),t)})),t.promise}(ra(i=Ji(i,yo)))}(this._delegate)}onSnapshotsInSync(e){return function E_(i,e){return function Rg(i,e){const t=new Uh(e);return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return a=yield Hh(i),d=t,Zn(a).Ru.add(d),void d.next();var a,d})),()=>{t.Rc(),i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return a=yield Hh(i),d=t,void Zn(a).Ru.delete(d);var a,d}))}}(ra(i=Ji(i,yo)),jd(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Nn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vh(this,Wh(this._delegate,e))}catch(t){throw uc(t,"collection()","Firestore.collection()")}}doc(e){try{return new su(this,Zu(this._delegate,e))}catch(t){throw uc(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ql(this,function Kl(i,e){if(i=Ji(i,Bf),kg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nn(sn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yl(i,null,(t=e,new Tl(_i.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw uc(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function I_(i,e,t){i=Ji(i,yo);const a=Object.assign(Object.assign({},ed),t);return function(d){if(d.maxAttempts<1)throw new Nn(sn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function Ry(i,e,t){const a=new ii;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const d=yield(_=i,Sp(_).then(D=>D.datastore));var _;new Ym(i.asyncQueue,d,t,e,a).run()})),a.promise}(ra(i),d=>e(new D_(i,d)),a)}(this._delegate,t=>e(new O_(this,t)))}batch(){return ra(this._delegate),new R_(new iu(this._delegate,e=>Cd(this._delegate,e)))}loadBundle(e){return function a_(i,e){const t=ra(i=Ji(i,yo)),a=new zh;return function Pg(i,e,t,a){const d=function(_,D){let $;return $="string"==typeof _?(new TextEncoder).encode(_):_,ne=function(ne,de){if(ne instanceof Uint8Array)return Ny(ne,void 0);if(ne instanceof ArrayBuffer)return Ny(new Uint8Array(ne),void 0);if(ne instanceof ReadableStream)return ne.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}($),new o0(ne,D);var ne}(t,Ld(e));i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function Ay(i,e,t){const a=Zn(i);var d;(d=(0,ye.Z)(function*(_,D,$){try{const ne=yield D.getMetadata();if(yield function(Zt,wn){const Tn=Zn(Zt),lr=fo(wn.createTime);return Tn.persistence.runTransaction("hasNewerBundle","readonly",Fr=>Tn.Ns.getBundleMetadata(Fr,wn.id)).then(Fr=>!!Fr&&Fr.createTime.compareTo(lr)>=0)}(_.localStore,ne))return yield D.close(),$._completeWith({taskState:"Success",documentsLoaded:(Zt=ne).totalDocuments,bytesLoaded:Zt.totalBytes,totalDocuments:Zt.totalDocuments,totalBytes:Zt.totalBytes}),Promise.resolve(new Set);$._updateProgress(Fm(ne));const de=new mg(ne,_.localStore,D.It);let ke=yield D.wc();for(;ke;){const Zt=yield de.Ou(ke);Zt&&$._updateProgress(Zt),ke=yield D.wc()}const _t=yield de.complete();return yield Nu(_,_t.Bu,void 0),yield function(Zt,wn){const Tn=Zn(Zt);return Tn.persistence.runTransaction("Save bundle","readwrite",lr=>Tn.Ns.saveBundleMetadata(lr,wn))}(_.localStore,ne),$._completeWith(_t.progress),Promise.resolve(_t.$u)}catch(ne){return Zo("SyncEngine",`Loading bundle failed with ${ne}`),$._failWith(ne),Promise.resolve(new Set)}var Zt}),function(_,D,$){return d.apply(this,arguments)})(a,e,t).then(d=>{a.sharedClientState.notifyBundleLoaded(d)})}(yield hh(i),d,a)}))}(t,i._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function l_(i,e){return function Py(i,e){return i.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,a){const d=Zn(t);return d.persistence.runTransaction("Get named query","readonly",_=>d.Ns.getNamedQuery(_,a))}(yield Ap(i),e)}))}(ra(i=Ji(i,yo)),e).then(t=>t?new Yl(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ql(this,t):null)}}class Pp extends Zg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yf(new Qu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return su.forKey(t,this.firestore,null)}}class O_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Pp(e)}get(e){const t=Kd(e);return this._delegate.get(t).then(a=>new Kf(this._firestore,new Xu(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,t.converter)))}set(e,t,a){const d=Kd(e);return a?(im("Transaction.set",a),this._delegate.set(d,t,a)):this._delegate.set(d,t),this}update(e,t,a,...d){const _=Kd(e);return 2===arguments.length?this._delegate.update(_,t):this._delegate.update(_,t,a,...d),this}delete(e){const t=Kd(e);return this._delegate.delete(t),this}}class R_{constructor(e){this._delegate=e}set(e,t,a){const d=Kd(e);return a?(im("WriteBatch.set",a),this._delegate.set(d,t,a)):this._delegate.set(d,t),this}update(e,t,a,...d){const _=Kd(e);return 2===arguments.length?this._delegate.update(_,t):this._delegate.update(_,t,a,...d),this}delete(e){const t=Kd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yh{constructor(e,t,a){this._firestore=e,this._userDataWriter=t,this._delegate=a}fromFirestore(e,t){const a=new Xh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rf(this._firestore,a),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const a=yh.INSTANCES;let d=a.get(e);d||(d=new WeakMap,a.set(e,d));let _=d.get(t);return _||(_=new yh(e,new Pp(e),t),d.set(t,_)),_}}yh.INSTANCES=new WeakMap;class su{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Pp(e)}static forPath(e,t,a){if(e.length%2!=0)throw new Nn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new su(t,new $o(t._delegate,a,new nr(e)))}static forKey(e,t,a){return new su(t,new $o(t._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new vh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vh(this.firestore,Wh(this._delegate,e))}catch(t){throw uc(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,fe.m9)(e))instanceof $o&&$f(this._delegate,e)}set(e,t){t=im("DocumentReference.set",t);try{return t?nf(this._delegate,e,t):nf(this._delegate,e)}catch(a){throw uc(a,"setDoc()","DocumentReference.set()")}}update(e,t,...a){try{return 1===arguments.length?w_(this._delegate,e):w_(this._delegate,e,t,...a)}catch(d){throw uc(d,"updateDoc()","DocumentReference.update()")}}delete(){return function C_(i){return Cd(Ji(i.firestore,yo),[new gu(i._key,so.none())])}(this._delegate)}onSnapshot(...e){const t=P_(e),a=k_(e,d=>new Kf(this.firestore,new Xu(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return Jg(this._delegate,t,a)}get(e){let t;return t="cache"===e?.source?function Yy(i){i=Ji(i,$o);const e=Ji(i.firestore,yo),t=ra(e),a=new Yd(e);return function My(i,e){const t=new ii;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(a=(0,ye.Z)(function*(d,_,D){try{const $=yield function(ne,de){const ke=Zn(ne);return ke.persistence.runTransaction("read document","readonly",_t=>ke.localDocuments.getDocument(_t,de))}(d,_);$.isFoundDocument()?D.resolve($):$.isNoDocument()?D.resolve(null):D.reject(new Nn(sn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch($){const ne=Tf($,`Failed to get document '${_} from cache`);D.reject(ne)}}),function(d,_,D){return a.apply(this,arguments)})(yield Ap(i),e,t);var a})),t.promise}(t,i._key).then(d=>new Xu(e,a,i._key,d,new Wd(null!==d&&d.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function Ky(i){i=Ji(i,$o);const e=Ji(i.firestore,yo);return Qm(ra(e),i._key,{source:"server"}).then(t=>Xg(e,i,t))}(this._delegate):function b_(i){i=Ji(i,$o);const e=Ji(i.firestore,yo);return Qm(ra(e),i._key).then(t=>Xg(e,i,t))}(this._delegate),t.then(a=>new Kf(this.firestore,new Xu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new su(this.firestore,this._delegate.withConverter(e?yh.getInstance(this.firestore,e):null))}}function uc(i,e,t){return i.message=i.message.replace(e,t),i}function P_(i){for(const e of i)if("object"==typeof e&&!sm(e))return e;return{}}function k_(i,e){var t,a;let d;return d=sm(i[0])?i[0]:sm(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:_=>{d.next&&d.next(e(_))},error:null===(t=d.error)||void 0===t?void 0:t.bind(d),complete:null===(a=d.complete)||void 0===a?void 0:a.bind(d)}}class Kf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new su(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return p_(this._delegate,e._delegate)}}class rf extends Kf{data(e){const t=this._delegate.data(e);return function Po(i,e){i||Xn()}(void 0!==t),t}}class ql{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Pp(e)}where(e,t,a){try{return new ql(this.firestore,zd(this._delegate,function m_(i,e,t){const a=e,d=Wf("where",i);return new ul(d,a,t)}(e,t,a)))}catch(d){throw uc(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ql(this.firestore,zd(this._delegate,function jy(i,e="asc"){const t=e,a=Wf("orderBy",i);return new Vy(a,t)}(e,t)))}catch(a){throw uc(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ql(this.firestore,zd(this._delegate,function Hy(i){return ky("limit",i),new Yg("limit",i,"F")}(e)))}catch(t){throw uc(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ql(this.firestore,zd(this._delegate,function __(i){return ky("limitToLast",i),new Yg("limitToLast",i,"L")}(e)))}catch(t){throw uc(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ql(this.firestore,zd(this._delegate,function tf(...i){return new Kg("startAt",i,!0)}(...e)))}catch(t){throw uc(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ql(this.firestore,zd(this._delegate,function Gy(...i){return new Kg("startAfter",i,!1)}(...e)))}catch(t){throw uc(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ql(this.firestore,zd(this._delegate,function v_(...i){return new y_("endBefore",i,!1)}(...e)))}catch(t){throw uc(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ql(this.firestore,zd(this._delegate,function Wy(...i){return new y_("endAt",i,!0)}(...e)))}catch(t){throw uc(t,"endAt()","Query.endAt()")}}isEqual(e){return jc(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Zy(i){i=Ji(i,Yl);const e=Ji(i.firestore,yo),t=ra(e),a=new Yd(e);return function Oy(i,e){const t=new ii;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(a=(0,ye.Z)(function*(d,_,D){try{const $=yield sp(d,_,!0),ne=new Lm(_,$.Hi),de=ne.ju($.documents),ke=ne.applyChanges(de,!1);D.resolve(ke.snapshot)}catch($){const ne=Tf($,`Failed to execute query '${_} against cache`);D.reject(ne)}}),function(d,_,D){return a.apply(this,arguments)})(yield Ap(i),e,t);var a})),t.promise}(t,i._query).then(d=>new wd(e,a,i,d))}(this._delegate):"server"===e?.source?function Qg(i){i=Ji(i,Yl);const e=Ji(i.firestore,yo),t=ra(e),a=new Yd(e);return Og(t,i._query,{source:"server"}).then(d=>new wd(e,a,i,d))}(this._delegate):function qy(i){i=Ji(i,Yl);const e=Ji(i.firestore,yo),t=ra(e),a=new Yd(e);return g_(i._query),Og(t,i._query).then(d=>new wd(e,a,i,d))}(this._delegate),t.then(a=>new kp(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const t=P_(e),a=k_(e,d=>new kp(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return Jg(this._delegate,t,a)}withConverter(e){return new ql(this.firestore,this._delegate.withConverter(e?yh.getInstance(this.firestore,e):null))}}class F_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ql(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new F_(this._firestore,t))}forEach(e,t){this._delegate.forEach(a=>{e.call(t,new rf(this._firestore,a))})}isEqual(e){return p_(this._delegate,e._delegate)}}class vh extends ql{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new su(this.firestore,e):null}doc(e){try{return new su(this.firestore,void 0===e?Zu(this._delegate):Zu(this._delegate,e))}catch(t){throw uc(t,"doc()","CollectionReference.doc()")}}add(e){return function Qy(i,e){const t=Ji(i.firestore,yo),a=Zu(i),d=zf(i.converter,e);return Cd(t,[gh(Ju(i.firestore),"addDoc",a._key,d,null!==i.converter,{}).toMutation(a._key,so.exists(!1))]).then(()=>a)}(this._delegate,e).then(t=>new su(this.firestore,t))}isEqual(e){return $f(this._delegate,e._delegate)}withConverter(e){return new vh(this.firestore,this._delegate.withConverter(e?yh.getInstance(this.firestore,e):null))}}function Kd(i){return Ji(i,$o)}class Fp{constructor(...e){this._delegate=new bd(...e)}static documentId(){return new Fp(js.keyField().canonicalString())}isEqual(e){return(e=(0,fe.m9)(e))instanceof bd&&this._delegate._internalPath.isEqual(e._internalPath)}}class qd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Rp(){return new Gf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new qd(e)}static delete(){const e=function em(){return new mh("deleteField")}();return e._methodName="FieldValue.delete",new qd(e)}static arrayUnion(...e){const t=function tm(...i){return new u_("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new qd(t)}static arrayRemove(...e){const t=function nm(...i){return new d_("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new qd(t)}static increment(e){const t=function T_(i){return new Ug("increment",i)}(e);return t._methodName="FieldValue.increment",new qd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const L_={Firestore:M_,GeoPoint:qh,Timestamp:Zi,Blob:Yf,Transaction:O_,WriteBatch:R_,DocumentReference:su,DocumentSnapshot:Kf,Query:ql,QueryDocumentSnapshot:rf,QuerySnapshot:kp,CollectionReference:vh,FieldPath:Fp,FieldValue:qd,setLogLevel:function nv(i){!function Cl(i){Do.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function B_(i){(function om(i,e){i.INTERNAL.registerComponent(new he.wA("firestore-compat",t=>{const a=t.getProvider("app-compat").getImmediate(),d=t.getProvider("firestore").getImmediate();return e(a,d)},"PUBLIC").setServiceProps(Object.assign({},L_)))})(i,(e,t)=>new M_(e,t,new tv)),i.registerVersion("@firebase/firestore-compat","0.1.25")}(Ee.Z);var Dc=F(4941),rv=F(440);function iv(i,e){return function sf(i,e=ce.z){return new se.y(t=>{let a;return null!=e?e.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},t)}):a=i.onSnapshot({includeMetadataChanges:!0},t),()=>{a?.()}})}(i,e)}function $_(i,e){return iv(i,e).pipe((0,ue.U)(t=>({payload:t,type:"query"})))}function qf(i,e){return $_(i,e).pipe((0,ct.O)(void 0),Le(),(0,ue.U)(([t,a])=>{const d=a.payload.docChanges(),_=d.map(D=>({type:D.type,payload:D}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((D,$)=>{const ne=d.find(ke=>ke.doc.ref.isEqual(D.ref)),de=t?.payload.docs.find(ke=>ke.ref.isEqual(D.ref));ne&&JSON.stringify(ne.doc.metadata)===JSON.stringify(D.metadata)||!ne&&de&&JSON.stringify(de.metadata)===JSON.stringify(D.metadata)||_.push({type:"modified",payload:{oldIndex:$,newIndex:$,type:"modified",doc:D}})}),_}))}function lm(i,e,t){return qf(i,t).pipe((0,yt.R)((a,d)=>function u0(i,e,t){return e.forEach(a=>{t.indexOf(a.type)>-1&&(i=function sv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return yi(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yi(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yi(i,e.oldIndex,1)}return i}(i,a))}),i}(a,d.map(_=>_.payload),e),[]),(0,Mt.x)(),(0,ue.U)(a=>a.map(d=>({type:d.type,payload:d}))))}function yi(i,e,t,...a){const d=i.slice();return d.splice(e,t,...a),d}function U_(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}F(127);class V_{constructor(e,t,a){this.ref=e,this.query=t,this.afs=a}stateChanges(e){let t=qf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ue.U)(a=>a.filter(d=>e.indexOf(d.type)>-1)))),t.pipe((0,ct.O)(void 0),Le(),(0,nt.h)(([a,d])=>d.length>0||!a),(0,ue.U)(([a,d])=>d),Ue.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,yt.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=U_(e);return lm(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(e={}){return $_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(t=>t.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),Ue.iC)}get(e){return(0,le.D)(this.query.get(e)).pipe(Ue.iC)}add(e){return this.ref.add(e)}doc(e){return new bh(this.ref.doc(e),this.afs)}}class bh{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const a=this.ref.collection(e),{ref:d,query:_}=cm(a,t);return new V_(d,_,this.afs)}snapshotChanges(){return function am(i,e){return iv(i,e).pipe((0,ct.O)(void 0),Le(),(0,ue.U)(([t,a])=>a.exists?t?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ue.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,le.D)(this.ref.get(e)).pipe(Ue.iC)}}class ov{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?qf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(t=>t.filter(a=>e.indexOf(a.type)>-1)),(0,nt.h)(t=>t.length>0),Ue.iC):qf(this.query,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,yt.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=U_(e);return lm(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(e={}){return $_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(a=>a.payload.docs.map(d=>e.idField?Object.assign({[e.idField]:d.id},d.data()):d.data())),Ue.iC)}get(e){return(0,le.D)(this.query.get(e)).pipe(Ue.iC)}}const Lp=new pe.OlP("angularfire2.enableFirestorePersistence"),Bp=new pe.OlP("angularfire2.firestore.persistenceSettings"),Ma=new pe.OlP("angularfire2.firestore.settings"),d0=new pe.OlP("angularfire2.firestore.use-emulator");function cm(i,e=(t=>t)){return{query:e(i),ref:i}}let j_=(()=>{class i{constructor(t,a,d,_,D,$,ne,de,ke,_t,Zt,wn,Tn,lr,Fr,$s,No){this.schedulers=ne;const ao=(0,St.on)(t,$,a),da=ke;_t&&(0,Dc.nw)(ao,$,Zt,Tn,lr,Fr,wn,$s),[this.firestore,this.persistenceEnabled$]=(0,St.cc)(`${ao.name}.firestore`,"AngularFirestore",ao.name,()=>{const Gs=$.runOutsideAngular(()=>ao.firestore());if(_&&Gs.settings(_),da&&Gs.useEmulator(...da),d&&!(0,Pe.PM)(D)){const lo=()=>{try{return(0,le.D)(Gs.enablePersistence(de||void 0).then(()=>!0,()=>!1))}catch(dl){return typeof console<"u"&&console.warn(dl),(0,ge.of)(!1)}};return[Gs,$.runOutsideAngular(lo)]}return[Gs,(0,ge.of)(!1)]},[_,da,d])}collection(t,a){let d;d="string"==typeof t?this.firestore.collection(t):t;const{ref:_,query:D}=cm(d,a),$=this.schedulers.ngZone.run(()=>_);return new V_($,D,this)}collectionGroup(t,a){const d=a||(D=>D),_=this.firestore.collectionGroup(t);return new ov(d(_),this)}doc(t){let a;a="string"==typeof t?this.firestore.doc(t):t;const d=this.schedulers.ngZone.run(()=>a);return new bh(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(pe.LFG(St.Dh),pe.LFG(St.xv,8),pe.LFG(Lp,8),pe.LFG(Ma,8),pe.LFG(pe.Lbi),pe.LFG(pe.R0b),pe.LFG(Ue.HU),pe.LFG(Bp,8),pe.LFG(d0,8),pe.LFG(Dc.zQ,8),pe.LFG(Dc.Qv,8),pe.LFG(Dc.L6,8),pe.LFG(Dc._Q,8),pe.LFG(Dc.rT,8),pe.LFG(Dc.lh,8),pe.LFG(Dc.f7,8),pe.LFG(rv.nm,8))},i.\u0275prov=pe.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),H_=(()=>{class i{constructor(t,a,d){this.http=t,this.storage=a,this.db=d,this.baseUri=me.N.baseUrl,this.filesArray=[],this.filterVallue=new s.X("null"),this.productDetails=new Q.xQ,this.productData=new s.X(null),this.headers=(new Re.WM).set("Content-Type","application/json")}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, body was: ${t.error}`),(0,K._)("Something bad happened; please try again later.")}getProductById(t){return this.http.get(`${this.baseUri}/gallery/getFileById/${t}`).pipe((0,oe.K)(this.handleError))}addProduct(t){return this.http.post(`${this.baseUri}/product/add-product`,t).pipe((0,oe.K)(this.errorMgmt))}getProduct(){this.http.get(`${this.baseUri}/product/get-product`).subscribe(t=>{this.productData.next(t)})}deleteProduct(t){const a=new Re.WM;return this.http.delete(`${this.baseUri}/product/deleteProduct/${t}`,{headers:a}).pipe((0,oe.K)(this.handleError))}updateProduct(t,a){return this.http.put(`${this.baseUri}/product/updateProduct/${t}`,a,{headers:this.headers}).pipe((0,oe.K)(this.errorMgmt))}getGalleryByQuery(t){let d=new Re.LE({fromObject:{siteName:t.siteName,location:t.location}});return this.http.get(`${this.baseUri}/gallery/getfileByQuery`,{headers:this.headers,params:d}).pipe((0,ue.U)(D=>D),(0,oe.K)(this.handleError))}errorMgmt(t){let a="";return a=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(a),(0,K._)(a)}createGallery(t,a){let d=`${this.baseUri}/gallery/add-gallery-mid`;var _=[];let D,$=[];return _.push(a),_.length>0&&_[0].forEach((de,ke)=>{D=`gallery/${_[0][ke].name}`,this.storage.ref(D),this.task=this.storage.upload(D,_[0][ke]),$.push(`gallery/${_[0][ke].name}`)}),this.http.post(d,{siteName:t.siteName,location:t.location,firebaseArr:$}).pipe((0,oe.K)(this.errorMgmt))}getCartata(){}}return i.\u0275fac=function(t){return new(t||i)(pe.LFG(Re.eN),pe.LFG(De.Q1),pe.LFG(j_))},i.\u0275prov=pe.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},9089:(En,vt,F)=>{"use strict";F.d(vt,{K:()=>pe});var s=F(591),Q=F(1737),K=F(7221),Re=F(4850),oe=F(529),ue=F(2340),me=F(4650);let pe=(()=>{class De{constructor(se){this.http=se,this.baseUri=ue.N.baseUrl,this.headers=(new oe.WM).set("Content-Type","application/json"),this.attendenceLength=new s.X(null)}createUser(se){return this.http.post(`${this.baseUri}/users/register`,se).pipe((0,K.K)(this.errorMgmt))}getUser(){return this.http.get(`${this.baseUri}/users/getUser`)}getUserById(se){return this.http.get(`${this.baseUri}/users/get-user-by-id/${se}`,{headers:this.headers}).pipe((0,Re.U)(ge=>ge),(0,K.K)(this.errorMgmt))}updateUser(se,le){return this.http.put(`${this.baseUri}/users/updateUser/${se}`,le,{headers:this.headers}).pipe((0,K.K)(this.errorMgmt))}deleteUser(se){return this.http.delete(`${this.baseUri}/users/deleteUser/${se}`,{headers:this.headers}).pipe((0,K.K)(this.errorMgmt))}errorMgmt(se){let le="";return le=se.error instanceof ErrorEvent?se.error.message:`Error Code: ${se.status}\nMessage: ${se.message}`,console.log(le),(0,Q._)(le)}}return De.\u0275fac=function(se){return new(se||De)(me.LFG(oe.eN))},De.\u0275prov=me.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},2340:(En,vt,F)=>{"use strict";F.d(vt,{N:()=>s});const s={production:!0,baseUrl:"https://ecommerce-backend-iota.vercel.app/api/v1",firebase:{apiKey:"AIzaSyD728SAce7MxlhayIhChtdlZuUfZaFDelE",authDomain:"rasanwala-85a77.firebaseapp.com",projectId:"rasanwala-85a77",storageBucket:"rasanwala-85a77.appspot.com",messagingSenderId:"164917342440",appId:"1:164917342440:web:fefe634fa7081e0356195d",measurementId:"G-FZLRDLD7SC"}}},8688:(En,vt,F)=>{"use strict";var s=F(1481),Q=F(4650),K=F(1808),Re=F(6895),oe=F(4130),ue=F(191),me=F(529),pe=F(9404);let De=(()=>{class f{constructor(c,y){this.AuthService=c,this.router=y}canActivate(c,y){return!!this.AuthService.isLoggedIn()||(this.router.navigateByUrl("/login"),this.AuthService.deleteToken(),!1)}}return f.\u0275fac=function(c){return new(c||f)(Q.LFG(pe.$),Q.LFG(K.F0))},f.\u0275prov=Q.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const se=[{path:"product-list",component:F(7214).L},{path:"",loadChildren:()=>Promise.all([F.e(8592),F.e(9497)]).then(F.bind(F,9497)).then(f=>f.TabsPageModule)},{path:"home",loadChildren:()=>F.e(2782).then(F.bind(F,8504)).then(f=>f.HomePageModule)},{path:"cart",loadChildren:()=>F.e(8592).then(F.bind(F,5213)).then(f=>f.CartPageModule),canActivate:[De]},{path:"prooduct-details",loadChildren:()=>F.e(369).then(F.bind(F,369)).then(f=>f.ProoductDetailsPageModule)},{path:"camera",loadChildren:()=>F.e(2886).then(F.bind(F,2886)).then(f=>f.CameraPageModule)},{path:"todo-list",loadChildren:()=>Promise.all([F.e(5226),F.e(7492)]).then(F.bind(F,7492)).then(f=>f.TodoListPageModule)},{path:"menu",loadChildren:()=>F.e(7933).then(F.bind(F,7933)).then(f=>f.MenuPageModule)},{path:"vendor-product",loadChildren:()=>F.e(4189).then(F.bind(F,4189)).then(f=>f.VendorProductPageModule)},{path:"user",loadChildren:()=>F.e(2660).then(F.bind(F,2660)).then(f=>f.UserPageModule)},{path:"prouduct-track",loadChildren:()=>Promise.all([F.e(7670),F.e(4006)]).then(F.bind(F,4006)).then(f=>f.ProuductTrackPageModule)},{path:"product-update-page",loadChildren:()=>F.e(6517).then(F.bind(F,179)).then(f=>f.ProductUpdatePagePageModule)},{path:"delete",loadChildren:()=>Promise.all([F.e(7670),F.e(4773)]).then(F.bind(F,4773)).then(f=>f.DeletePageModule)},{path:"login",loadChildren:()=>F.e(4987).then(F.bind(F,4987)).then(f=>f.LoginPageModule)},{path:"user-delivery",loadChildren:()=>F.e(1151).then(F.bind(F,1151)).then(f=>f.UserDeliveryPageModule)},{path:"checkout",loadChildren:()=>Promise.all([F.e(5226),F.e(8592),F.e(4176)]).then(F.bind(F,4176)).then(f=>f.CheckoutPageModule),canActivate:[De]},{path:"order-tracking",loadChildren:()=>F.e(7126).then(F.bind(F,7126)).then(f=>f.OrderTrackingPageModule)},{path:"order-delivered",loadChildren:()=>F.e(5330).then(F.bind(F,5330)).then(f=>f.OrderDeliveredPageModule)}];let le=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=Q.oAB({type:f}),f.\u0275inj=Q.cJS({imports:[K.Bz.forRoot(se,{preloadingStrategy:K.wm,onSameUrlNavigation:"reload"}),K.Bz]}),f})();var ge=F(6738);const Be=(0,F(7423).fo)("App",{web:()=>F.e(4477).then(F.bind(F,4477)).then(f=>new f.AppWeb)});var Le=F(9463),Ve=F(9089),Ft=F(8806);function yt(f,u){if(1&f&&(Q.TgZ(0,"ion-menu-toggle",7)(1,"ion-item",8),Q._UZ(2,"ion-icon",9),Q._uU(3),Q.qZA()()),2&f){const c=u.$implicit,y=Q.oxw();Q.xp6(1),Q.ekj("active-item",y.selectedPath===c.url),Q.Q6J("routerLink",c.url),Q.xp6(1),Q.Q6J("name",c.icon),Q.xp6(1),Q.hij("\xa0\xa0 ",c.title," ")}}let Mt=(()=>{class f{constructor(c,y,O,V,ee){this.router=c,this._location=y,this.prodSer=O,this.userSer=V,this.cameraSer=ee,this.pages=[{title:"My Orders",url:"tabs/tab3",icon:"bag-handle-outline"},{title:"My Cart",url:"tabs/cart",icon:"cart-outline"},{title:"To-Do History",url:"tabs/to-do/todohistory",icon:"logo-buffer"},{title:"Add Product",url:"/tabs/vendor-product",icon:"create"},{title:"Product Track",url:"/tabs/product-track",icon:"cog"}],this.selectedPath="",window,(0,ge.a)().then(()=>{(0,ge.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[32,"keyup","handleBackdropKeyUp"]]]]]],undefined)}),this.router.events.subscribe(Te=>{this.selectedPath=Te.url}),Be.addListener("backButton",()=>{this._location.isCurrentPathEqualTo("/home")?navigator.app.exitApp():this._location.back()})}ngOnInit(){this.prodSer.productData.subscribe(c=>{c||this.prodSer.getProduct()}),this.cameraSer.getCameraByIdforcamera()}}return f.\u0275fac=function(c){return new(c||f)(Q.Y36(K.F0),Q.Y36(Re.Ye),Q.Y36(Le.M),Q.Y36(Ve.K),Q.Y36(Ft.y))},f.\u0275cmp=Q.Xpm({type:f,selectors:[["app-root"]],decls:9,vars:1,consts:[["side","start","contentId","app-content"],["id","sideBar"],[1,"header"],[1,"logo-img"],["src","../../assets/img/login-logo-1.png"],["contentId","content","auto-hide","false",4,"ngFor","ngForOf"],["id","app-content"],["contentId","content","auto-hide","false"],["routerDirection","root",1,"item-name",3,"routerLink"],["color","danger",3,"name"]],template:function(c,y){1&c&&(Q.TgZ(0,"ion-app")(1,"ion-menu",0)(2,"ion-content",1)(3,"ion-list")(4,"div",2)(5,"div",3),Q._UZ(6,"img",4),Q.qZA()(),Q.YNc(7,yt,4,5,"ion-menu-toggle",5),Q.qZA()()(),Q._UZ(8,"ion-router-outlet",6),Q.qZA()),2&c&&(Q.xp6(7),Q.Q6J("ngForOf",y.pages))},dependencies:[Re.sg,ue.dr,ue.W2,ue.gu,ue.Ie,ue.q_,ue.z0,ue.zc,ue.jP,ue.YI,K.rH],styles:[".bar-button-default[_ngcontent-%COMP%], .bar-button-clear-default[_ngcontent-%COMP%], .bar-button-default[_ngcontent-%COMP%]{color:#fff;background-color:transparent}.toolbar-background-ios[_ngcontent-%COMP%]{border:0}a[_ngcontent-%COMP%]{color:inherit}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.cart-icon-nav[_ngcontent-%COMP%]{position:absolute;right:12px;top:-3px}.carts[_ngcontent-%COMP%]{position:absolute;top:-3px;right:13px;border-radius:50%;height:20px;width:20px}ion-badge[_ngcontent-%COMP%]{display:inline-block;font-size:11px;padding-top:5px;padding-left:7px}.menu-badge[_ngcontent-%COMP%]{color:#fff;background-color:green;float:right;border-radius:50%;height:25px;width:25px;font-size:12px;padding-top:7px;padding-left:7px}.sidebar-menu[_ngcontent-%COMP%]{background-image:url(menu-bg.493fa5b1ddfa3166.jpg);background-position:center;background-repeat:no-repeat;background-size:cover}.sidebar-menu[_ngcontent-%COMP%]   .list-md[_ngcontent-%COMP%]{margin:24px 0 16px}.sidebar-menu[_ngcontent-%COMP%]   .menu-bg[_ngcontent-%COMP%]{height:115px;width:100%}.sidebar-menu[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%], .sidebar-menu[_ngcontent-%COMP%]   .item.item-block[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom:0px}.sidebar-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background-color:transparent;color:#fff;height:3.5em;border-bottom:1px solid;border-color:#0003}.sidebar-menu[_ngcontent-%COMP%]   .img-name-row[_ngcontent-%COMP%]{text-align:center}.sidebar-menu[_ngcontent-%COMP%]   .img-name-row[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{max-width:100%;height:7em;width:7em;border:3px solidwhite;border-radius:50%;margin-top:24px}.sidebar-menu[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.toolbar-background[_ngcontent-%COMP%]{background:green!important}.toolbar-title[_ngcontent-%COMP%]{color:#fff}.header-btn-cart[_ngcontent-%COMP%]{margin:0 10px!important}.active-item[_ngcontent-%COMP%]{border-left:8px solid var(--ion-color-warning)}.my-custom-menu[_ngcontent-%COMP%]{--width: 500px}.list-md-lines-none[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{--border-width: 1px;--inner-border-width:1px}.header[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);height:44px;color:#fff;font-size:18px;font-weight:600;padding:11px}body.swal2-height-auto[_ngcontent-%COMP%]{height:100%!important}.item-name[_ngcontent-%COMP%]{font-size:12px}ion-icon[_ngcontent-%COMP%]{font-size:15px}"]}),f})();var nt=F(2340),St=F(2011),Pe=F(4941),Xe=F(4586),Ee=F(353),ye=F(6498),Ie=F(1086),he=F(6787),_e=F(4850),fe=F(2474),Nt=F(7545),It=F(2014),xt=F(5778),gt=F(7168),Ze=F(3489);class st{constructor(u){this.predicate=u}call(u,c){return c.subscribe(new pt(u,this.predicate))}}class pt extends Ze.L{constructor(u,c){super(u),this.predicate=c,this.skipping=!0,this.index=0}_next(u){const c=this.destination;this.skipping&&this.tryCallPredicate(u),this.skipping||c.next(u)}tryCallPredicate(u){try{const c=this.predicate(u,this.index++);this.skipping=Boolean(c)}catch(c){this.destination.error(c)}}}var Tt=F(6351),Cn=(F(2476),F(3942)),Bt=F(4859),bn=F(5861),Sn=F(9681),we=F(2090),Kn=F(1877);const qn="@firebase/database";let fi="";function Ln(f){fi=f}class er{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,c){null==c?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,we.Pz)(c))}get(u){const c=this.domStorage_.getItem(this.prefixedName_(u));return null==c?null:(0,we.cI)(c)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class tn{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,c){null==c?delete this.cache_[u]:this.cache_[u]=c}get(u){return(0,we.r3)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const hn=function(f){try{if(typeof window<"u"&&typeof window[f]<"u"){const u=window[f];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new er(u)}}catch{}return new tn},yr=hn("localStorage"),kr=hn("sessionStorage"),Hn=new Kn.Yd("@firebase/database"),gr=function(){let f=1;return function(){return f++}}(),Er=function(f){const u=(0,we.dS)(f),c=new we.gQ;c.update(u);const y=c.digest();return we.US.encodeByteArray(y)},Ir=function(...f){let u="";for(let c=0;c<f.length;c++){const y=f[c];Array.isArray(y)||y&&"object"==typeof y&&"number"==typeof y.length?u+=Ir.apply(null,y):u+="object"==typeof y?(0,we.Pz)(y):y,u+=" "}return u};let Ht=null,rt=!0;const He=function(f,u){(0,we.hu)(!u||!0===f||!1===f,"Can't turn on custom loggers persistently."),!0===f?(Hn.logLevel=Kn.in.VERBOSE,Ht=Hn.log.bind(Hn),u&&kr.set("logging_enabled",!0)):"function"==typeof f?Ht=f:(Ht=null,kr.remove("logging_enabled"))},Et=function(...f){if(!0===rt&&(rt=!1,null===Ht&&!0===kr.get("logging_enabled")&&He(!0)),Ht){const u=Ir.apply(null,f);Ht(u)}},Ut=function(f){return function(...u){Et(f,...u)}},An=function(...f){const u="FIREBASE INTERNAL ERROR: "+Ir(...f);Hn.error(u)},Vn=function(...f){const u=`FIREBASE FATAL ERROR: ${Ir(...f)}`;throw Hn.error(u),new Error(u)},Un=function(...f){const u="FIREBASE WARNING: "+Ir(...f);Hn.warn(u)},ir=function(f){return"number"==typeof f&&(f!=f||f===Number.POSITIVE_INFINITY||f===Number.NEGATIVE_INFINITY)},Rr="[MIN_NAME]",sr="[MAX_NAME]",it=function(f,u){if(f===u)return 0;if(f===Rr||u===sr)return-1;if(u===Rr||f===sr)return 1;{const c=Lr(f),y=Lr(u);return null!==c?null!==y?c-y==0?f.length-u.length:c-y:-1:null!==y?1:f<u?-1:1}},tt=function(f,u){return f===u?0:f<u?-1:1},qe=function(f,u){if(u&&f in u)return u[f];throw new Error("Missing required key ("+f+") in object: "+(0,we.Pz)(u))},lt=function(f){if("object"!=typeof f||null===f)return(0,we.Pz)(f);const u=[];for(const y in f)u.push(y);u.sort();let c="{";for(let y=0;y<u.length;y++)0!==y&&(c+=","),c+=(0,we.Pz)(u[y]),c+=":",c+=lt(f[u[y]]);return c+="}",c},at=function(f,u){const c=f.length;if(c<=u)return[f];const y=[];for(let O=0;O<c;O+=u)y.push(f.substring(O,O+u>c?c:O+u));return y};function Gt(f,u){for(const c in f)f.hasOwnProperty(c)&&u(c,f[c])}const gn=function(f){(0,we.hu)(!ir(f),"Invalid JSON number");const y=1023;let O,V,ee,Te,je;0===f?(V=0,ee=0,O=1/f==-1/0?1:0):(O=f<0,(f=Math.abs(f))>=Math.pow(2,1-y)?(Te=Math.min(Math.floor(Math.log(f)/Math.LN2),y),V=Te+y,ee=Math.round(f*Math.pow(2,52-Te)-Math.pow(2,52))):(V=0,ee=Math.round(f/Math.pow(2,-1074))));const ft=[];for(je=52;je;je-=1)ft.push(ee%2?1:0),ee=Math.floor(ee/2);for(je=11;je;je-=1)ft.push(V%2?1:0),V=Math.floor(V/2);ft.push(O?1:0),ft.reverse();const ln=ft.join("");let nn="";for(je=0;je<64;je+=8){let vn=parseInt(ln.substr(je,8),2).toString(16);1===vn.length&&(vn="0"+vn),nn+=vn}return nn.toLowerCase()},Pr=new RegExp("^-?(0*)\\d{1,10}$"),pr=-2147483648,Wn=2147483647,Lr=function(f){if(Pr.test(f)){const u=Number(f);if(u>=pr&&u<=Wn)return u}return null},Br=function(f){try{f()}catch(u){setTimeout(()=>{throw Un("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},ni=function(f,u){const c=setTimeout(f,u);return"number"==typeof c&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class ci{constructor(u,c){this.appName_=u,this.appCheckProvider=c,this.appCheck=c?.getImmediate({optional:!0}),this.appCheck||c?.get().then(y=>this.appCheck=y)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((c,y)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(c,y):c(null)},0)})}addTokenChangeListener(u){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(y=>y.addTokenListener(u))}notifyForInvalidToken(){Un(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ot{constructor(u,c,y){this.appName_=u,this.firebaseOptions_=c,this.authProvider_=y,this.auth_=null,this.auth_=y.getImmediate({optional:!0}),this.auth_||y.onInit(O=>this.auth_=O)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(c=>c&&"auth/token-not-initialized"===c.code?(Et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,y)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(c,y):c(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(c=>c.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(c=>c.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Un(u)}}let Ke=(()=>{class f{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return f.OWNER="owner",f})();const Kt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gn="websocket",ur="long_polling";class Tr{constructor(u,c,y,O,V=!1,ee="",Te=!1){this.secure=c,this.namespace=y,this.webSocketOnly=O,this.nodeAdmin=V,this.persistenceKey=ee,this.includeNamespaceInQueryParams=Te,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yr.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&yr.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ar(f,u,c){let y;if((0,we.hu)("string"==typeof u,"typeof type must == string"),(0,we.hu)("object"==typeof c,"typeof params must == object"),u===Gn)y=(f.secure?"wss://":"ws://")+f.internalHost+"/.ws?";else{if(u!==ur)throw new Error("Unknown connection type: "+u);y=(f.secure?"https://":"http://")+f.internalHost+"/.lp?"}(function vr(f){return f.host!==f.internalHost||f.isCustomHost()||f.includeNamespaceInQueryParams})(f)&&(c.ns=f.namespace);const O=[];return Gt(c,(V,ee)=>{O.push(V+"="+ee)}),y+O.join("&")}class Si{constructor(){this.counters_={}}incrementCounter(u,c=1){(0,we.r3)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=c}get(){return(0,we.p$)(this.counters_)}}const Gi={},Ai={};function oi(f){const u=f.toString();return Gi[u]||(Gi[u]=new Si),Gi[u]}class vi{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,c){this.closeAfterResponse=u,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,c){for(this.pendingResponses[u]=c;this.pendingResponses[this.currentResponseNum];){const y=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let O=0;O<y.length;++O)y[O]&&Br(()=>{this.onMessage_(y[O])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class or{constructor(u,c,y,O,V,ee,Te){this.connId=u,this.repoInfo=c,this.applicationId=y,this.appCheckToken=O,this.authToken=V,this.transportSessionId=ee,this.lastSessionId=Te,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ut(u),this.stats_=oi(c),this.urlFn=je=>(this.appCheckToken&&(je.ac=this.appCheckToken),Ar(c,ur,je))}open(u,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new vi(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(f){if((0,we.Yr)()||"complete"===document.readyState)f();else{let u=!1;const c=function(){document.body?u||(u=!0,f()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Nr((...V)=>{const[ee,Te,je,ft,ln]=V;if(this.incrementIncomingBytes_(V),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===ee)this.id=Te,this.password=je;else{if("close"!==ee)throw new Error("Unrecognized command received: "+ee);Te?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Te,()=>{this.onClosed_()})):this.onClosed_()}},(...V)=>{const[ee,Te]=V;this.incrementIncomingBytes_(V),this.myPacketOrderer.handleResponse(ee,Te)},()=>{this.onClosed_()},this.urlFn);const y={start:"t"};y.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(y.cb=this.scriptTagHolder.uniqueCallbackIdentifier),y.v="5",this.transportSessionId&&(y.s=this.transportSessionId),this.lastSessionId&&(y.ls=this.lastSessionId),this.applicationId&&(y.p=this.applicationId),this.appCheckToken&&(y.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Kt.test(location.hostname)&&(y.r="f");const O=this.urlFn(y);this.log_("Connecting via long-poll to "+O),this.scriptTagHolder.addTag(O,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){or.forceAllow_=!0}static forceDisallow(){or.forceDisallow_=!0}static isAvailable(){return!((0,we.Yr)()||!or.forceAllow_&&(or.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const c=(0,we.Pz)(u);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const y=(0,we.h$)(c),O=at(y,1840);for(let V=0;V<O.length;V++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,O.length,O[V]),this.curSegmentNum++}addDisconnectPingFrame(u,c){if((0,we.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const y={dframe:"t"};y.id=u,y.pw=c,this.myDisconnFrame.src=this.urlFn(y),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const c=(0,we.Pz)(u).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class Nr{constructor(u,c,y,O){if(this.onDisconnect=y,this.urlFn=O,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,we.Yr)())this.commandCB=u,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=gr(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=Nr.createIFrame_();let V="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(V='<script>document.domain="'+document.domain+'";<\/script>');const ee="<html><body>"+V+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ee),this.myIFrame.doc.close()}catch(Te){Et("frame writing exception"),Te.stack&&Et(Te.stack),Et(Te)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||Et("No IE domain setting required")}catch{const y=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+y+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,c){for(this.myID=u,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let c=this.urlFn(u),y="",O=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+y.length<=1870;){const ee=this.pendingSegs.shift();y=y+"&seg"+O+"="+ee.seg+"&ts"+O+"="+ee.ts+"&d"+O+"="+ee.d,O++}return c+=y,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(u,c,y){this.pendingSegs.push({seg:u,ts:c,d:y}),this.alive&&this.newRequest_()}addLongPollTag_(u,c){this.outstandingRequests.add(c);const y=()=>{this.outstandingRequests.delete(c),this.newRequest_()},O=setTimeout(y,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(O),y()})}addTag(u,c){(0,we.Yr)()?this.doNodeLongPoll(u,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const y=this.myIFrame.doc.createElement("script");y.type="text/javascript",y.async=!0,y.src=u,y.onload=y.onreadystatechange=function(){const O=y.readyState;(!O||"loaded"===O||"complete"===O)&&(y.onload=y.onreadystatechange=null,y.parentNode&&y.parentNode.removeChild(y),c())},y.onerror=()=>{Et("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(y)}catch{}},Math.floor(1))}}let wt=null;typeof MozWebSocket<"u"?wt=MozWebSocket:typeof WebSocket<"u"&&(wt=WebSocket);let Dt=(()=>{class f{constructor(c,y,O,V,ee,Te,je){this.connId=c,this.applicationId=O,this.appCheckToken=V,this.authToken=ee,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ut(this.connId),this.stats_=oi(y),this.connURL=f.connectionURL_(y,Te,je,V,O),this.nodeAdmin=y.nodeAdmin}static connectionURL_(c,y,O,V,ee){const Te={v:"5"};return!(0,we.Yr)()&&typeof location<"u"&&location.hostname&&Kt.test(location.hostname)&&(Te.r="f"),y&&(Te.s=y),O&&(Te.ls=O),V&&(Te.ac=V),ee&&(Te.p=ee),Ar(c,Gn,Te)}open(c,y){this.onDisconnect=y,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yr.set("previous_websocket_failure",!0);try{let O;if((0,we.Yr)()){O={headers:{"User-Agent":`Firebase/5/${fi}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(O.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(O.headers["X-Firebase-AppCheck"]=this.appCheckToken);const ee=process.env,Te=0===this.connURL.indexOf("wss://")?ee.HTTPS_PROXY||ee.https_proxy:ee.HTTP_PROXY||ee.http_proxy;Te&&(O.proxy={origin:Te})}this.mySock=new wt(this.connURL,[],O)}catch(O){this.log_("Error instantiating WebSocket.");const V=O.message||O.data;return V&&this.log_(V),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=O=>{this.handleIncomingFrame(O)},this.mySock.onerror=O=>{this.log_("WebSocket error.  Closing connection.");const V=O.message||O.data;V&&this.log_(V),this.onClosed_()}}start(){}static forceDisallow(){f.forceDisallow_=!0}static isAvailable(){let c=!1;if(typeof navigator<"u"&&navigator.userAgent){const O=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);O&&O.length>1&&parseFloat(O[1])<4.4&&(c=!0)}return!c&&null!==wt&&!f.forceDisallow_}static previouslyFailed(){return yr.isInMemoryStorage||!0===yr.get("previous_websocket_failure")}markConnectionHealthy(){yr.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const y=this.frames.join("");this.frames=null;const O=(0,we.cI)(y);this.onMessage(O)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,we.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const y=Number(c);if(!isNaN(y))return this.handleNewFrameCount_(y),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const y=c.data;if(this.bytesReceived+=y.length,this.stats_.incrementCounter("bytes_received",y.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(y);else{const O=this.extractFrameCount_(y);null!==O&&this.appendFrame_(O)}}send(c){this.resetKeepAlive();const y=(0,we.Pz)(c);this.bytesSent+=y.length,this.stats_.incrementCounter("bytes_sent",y.length);const O=at(y,16384);O.length>1&&this.sendString_(String(O.length));for(let V=0;V<O.length;V++)this.sendString_(O[V])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(y){this.log_("Exception thrown from WebSocket.send():",y.message||y.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return f.responsesRequiredToBeHealthy=2,f.healthyTimeout=3e4,f})(),jt=(()=>{class f{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[or,Dt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const y=Dt&&Dt.isAvailable();let O=y&&!Dt.previouslyFailed();if(c.webSocketOnly&&(y||Un("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),O=!0),O)this.transports_=[Dt];else{const V=this.transports_=[];for(const ee of f.ALL_TRANSPORTS)ee&&ee.isAvailable()&&V.push(ee);f.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return f.globalTransportInitialized_=!1,f})();class ps{constructor(u,c,y,O,V,ee,Te,je,ft,ln){this.id=u,this.repoInfo_=c,this.applicationId_=y,this.appCheckToken_=O,this.authToken_=V,this.onMessage_=ee,this.onReady_=Te,this.onDisconnect_=je,this.onKill_=ft,this.lastSessionId=ln,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ut("c:"+this.id+":"),this.transportManager_=new jt(c),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),y=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,y)},Math.floor(0));const O=u.healthyTimeout||0;O>0&&(this.healthyTimeout_=ni(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(O)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return c=>{u===this.conn_?this.onConnectionLost_(c):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return c=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(c):u===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const c=u.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const c=qe("t",u),y=qe("d",u);if("c"===c)this.onSecondaryControl_(y);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(y)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const c=qe("t",u),y=qe("d",u);"c"===c?this.onControl_(y):"d"===c&&this.onDataMessage_(y)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const c=qe("t",u);if("d"in u){const y=u.d;if("h"===c)this.onHandshake_(y);else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let O=0;O<this.pendingDataMessages.length;++O)this.onDataMessage_(this.pendingDataMessages[O]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(y):"r"===c?this.onReset_(y):"e"===c?An("Server Error: "+y):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):An("Unknown control packet command: "+c)}}onHandshake_(u){const c=u.ts,y=u.v,O=u.h;this.sessionId=u.s,this.repoInfo_.host=O,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==y&&Un("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),y=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,y),ni(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,c){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ni(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Es{put(u,c,y,O){}merge(u,c,y,O){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,c,y){}onDisconnectMerge(u,c,y){}onDisconnectCancel(u,c){}reportStats(u){}}class _s{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,we.hu)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...c){if(Array.isArray(this.listeners_[u])){const y=[...this.listeners_[u]];for(let O=0;O<y.length;O++)y[O].callback.apply(y[O].context,c)}}on(u,c,y){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:c,context:y});const O=this.getInitialEvent(u);O&&c.apply(y,O)}off(u,c,y){this.validateEventType_(u);const O=this.listeners_[u]||[];for(let V=0;V<O.length;V++)if(O[V].callback===c&&(!y||y===O[V].context))return void O.splice(V,1)}validateEventType_(u){(0,we.hu)(this.allowedEvents_.find(c=>c===u),"Unknown event: "+u)}}class Us extends _s{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,we.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Us}getInitialEvent(u){return(0,we.hu)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}class ui{constructor(u,c){if(void 0===c){this.pieces_=u.split("/");let y=0;for(let O=0;O<this.pieces_.length;O++)this.pieces_[O].length>0&&(this.pieces_[y]=this.pieces_[O],y++);this.pieces_.length=y,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=c}toString(){let u="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(u+="/"+this.pieces_[c]);return u||"/"}}function di(){return new ui("")}function $r(f){return f.pieceNum_>=f.pieces_.length?null:f.pieces_[f.pieceNum_]}function cs(f){return f.pieces_.length-f.pieceNum_}function ti(f){let u=f.pieceNum_;return u<f.pieces_.length&&u++,new ui(f.pieces_,u)}function xs(f){return f.pieceNum_<f.pieces_.length?f.pieces_[f.pieces_.length-1]:null}function Mo(f,u=0){return f.pieces_.slice(f.pieceNum_+u)}function ys(f){if(f.pieceNum_>=f.pieces_.length)return null;const u=[];for(let c=f.pieceNum_;c<f.pieces_.length-1;c++)u.push(f.pieces_[c]);return new ui(u,0)}function xi(f,u){const c=[];for(let y=f.pieceNum_;y<f.pieces_.length;y++)c.push(f.pieces_[y]);if(u instanceof ui)for(let y=u.pieceNum_;y<u.pieces_.length;y++)c.push(u.pieces_[y]);else{const y=u.split("/");for(let O=0;O<y.length;O++)y[O].length>0&&c.push(y[O])}return new ui(c,0)}function jr(f){return f.pieceNum_>=f.pieces_.length}function Jr(f,u){const c=$r(f),y=$r(u);if(null===c)return u;if(c===y)return Jr(ti(f),ti(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+f+")")}function bo(f,u){const c=Mo(f,0),y=Mo(u,0);for(let O=0;O<c.length&&O<y.length;O++){const V=it(c[O],y[O]);if(0!==V)return V}return c.length===y.length?0:c.length<y.length?-1:1}function go(f,u){if(cs(f)!==cs(u))return!1;for(let c=f.pieceNum_,y=u.pieceNum_;c<=f.pieces_.length;c++,y++)if(f.pieces_[c]!==u.pieces_[y])return!1;return!0}function Ki(f,u){let c=f.pieceNum_,y=u.pieceNum_;if(cs(f)>cs(u))return!1;for(;c<f.pieces_.length;){if(f.pieces_[c]!==u.pieces_[y])return!1;++c,++y}return!0}class Ls{constructor(u,c){this.errorPrefix_=c,this.parts_=Mo(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let y=0;y<this.parts_.length;y++)this.byteLength_+=(0,we.ug)(this.parts_[y]);us(this)}}function us(f){if(f.byteLength_>768)throw new Error(f.errorPrefix_+"has a key path longer than 768 bytes ("+f.byteLength_+").");if(f.parts_.length>32)throw new Error(f.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ai(f))}function ai(f){return 0===f.parts_.length?"":"in property '"+f.parts_.join(".")+"'"}class Ks extends _s{constructor(){let u,c;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(c="visibilitychange",u="hidden"):typeof document.mozHidden<"u"?(c="mozvisibilitychange",u="mozHidden"):typeof document.msHidden<"u"?(c="msvisibilitychange",u="msHidden"):typeof document.webkitHidden<"u"&&(c="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const y=!document[u];y!==this.visible_&&(this.visible_=y,this.trigger("visible",y))},!1)}static getInstance(){return new Ks}getInitialEvent(u){return(0,we.hu)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const uo=1e3;let fa,ia=(()=>{class f extends Es{constructor(c,y,O,V,ee,Te,je,ft){if(super(),this.repoInfo_=c,this.applicationId_=y,this.onDataUpdate_=O,this.onConnectStatus_=V,this.onServerInfoUpdate_=ee,this.authTokenProvider_=Te,this.appCheckTokenProvider_=je,this.authOverride_=ft,this.id=f.nextPersistentConnectionId_++,this.log_=Ut("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ft&&!(0,we.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ks.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&Us.getInstance().on("online",this.onOnline_,this)}sendRequest(c,y,O){const V=++this.requestNumber_,ee={r:V,a:c,b:y};this.log_((0,we.Pz)(ee)),(0,we.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ee),O&&(this.requestCBHash_[V]=O)}get(c){this.initConnection_();const y=new we.BH,O={p:c._path.toString(),q:c._queryObject};return this.outstandingGets_.push({action:"g",request:O,onComplete:Te=>{const je=Te.d;"ok"===Te.s?y.resolve(je):y.reject(je)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),y.promise}listen(c,y,O,V){this.initConnection_();const ee=c._queryIdentifier,Te=c._path.toString();this.log_("Listen called for "+Te+" "+ee),this.listens.has(Te)||this.listens.set(Te,new Map),(0,we.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,we.hu)(!this.listens.get(Te).has(ee),"listen() called twice for same path/queryId.");const je={onComplete:V,hashFn:y,query:c,tag:O};this.listens.get(Te).set(ee,je),this.connected_&&this.sendListen_(je)}sendGet_(c){const y=this.outstandingGets_[c];this.sendRequest("g",y.request,O=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),y.onComplete&&y.onComplete(O)})}sendListen_(c){const y=c.query,O=y._path.toString(),V=y._queryIdentifier;this.log_("Listen on "+O+" for "+V);const ee={p:O};c.tag&&(ee.q=y._queryObject,ee.t=c.tag),ee.h=c.hashFn(),this.sendRequest("q",ee,je=>{const ft=je.d,ln=je.s;f.warnOnListenWarnings_(ft,y),(this.listens.get(O)&&this.listens.get(O).get(V))===c&&(this.log_("listen response",je),"ok"!==ln&&this.removeListen_(O,V),c.onComplete&&c.onComplete(ln,ft))})}static warnOnListenWarnings_(c,y){if(c&&"object"==typeof c&&(0,we.r3)(c,"w")){const O=(0,we.DV)(c,"w");if(Array.isArray(O)&&~O.indexOf("no_index")){const V='".indexOn": "'+y._queryParams.getIndex().toString()+'"',ee=y._path.toString();Un(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${V} at ${ee} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,we.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,y=(0,we.w9)(c)?"auth":"gauth",O={cred:c};null===this.authOverride_?O.noauth=!0:"object"==typeof this.authOverride_&&(O.authvar=this.authOverride_),this.sendRequest(y,O,V=>{const ee=V.s,Te=V.d||"error";this.authToken_===c&&("ok"===ee?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ee,Te))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const y=c.s,O=c.d||"error";"ok"===y?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(y,O)})}unlisten(c,y){const O=c._path.toString(),V=c._queryIdentifier;this.log_("Unlisten called for "+O+" "+V),(0,we.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(O,V)&&this.connected_&&this.sendUnlisten_(O,V,c._queryObject,y)}sendUnlisten_(c,y,O,V){this.log_("Unlisten on "+c+" for "+y);const ee={p:c};V&&(ee.q=O,ee.t=V),this.sendRequest("n",ee)}onDisconnectPut(c,y,O){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,y,O):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:y,onComplete:O})}onDisconnectMerge(c,y,O){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,y,O):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:y,onComplete:O})}onDisconnectCancel(c,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,y):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:y})}sendOnDisconnect_(c,y,O,V){const ee={p:y,d:O};this.log_("onDisconnect "+c,ee),this.sendRequest(c,ee,Te=>{V&&setTimeout(()=>{V(Te.s,Te.d)},Math.floor(0))})}put(c,y,O,V){this.putInternal("p",c,y,O,V)}merge(c,y,O,V){this.putInternal("m",c,y,O,V)}putInternal(c,y,O,V,ee){this.initConnection_();const Te={p:y,d:O};void 0!==ee&&(Te.h=ee),this.outstandingPuts_.push({action:c,request:Te,onComplete:V}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+y)}sendPut_(c){const y=this.outstandingPuts_[c].action,O=this.outstandingPuts_[c].request,V=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(y,O,ee=>{this.log_(y+" response",ee),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),V&&V(ee.s,ee.d)})}reportStats(c){if(this.connected_){const y={c};this.log_("reportStats",y),this.sendRequest("s",y,O=>{"ok"!==O.s&&this.log_("reportStats","Error sending stats: "+O.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,we.Pz)(c));const y=c.r,O=this.requestCBHash_[y];O&&(delete this.requestCBHash_[y],O(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,y){this.log_("handleServerMessage",c,y),"d"===c?this.onDataUpdate_(y.p,y.d,!1,y.t):"m"===c?this.onDataUpdate_(y.p,y.d,!0,y.t):"c"===c?this.onListenRevoked_(y.p,y.q):"ac"===c?this.onAuthRevoked_(y.s,y.d):"apc"===c?this.onAppCheckRevoked_(y.s,y.d):"sd"===c?this.onSecurityDebugPacket_(y):An("Unrecognized action received from server: "+(0,we.Pz)(c)+"\nAre you using the latest client?")}onReady_(c,y){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=y,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,we.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=uo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let y=Math.max(0,this.reconnectDelay_-c);y=Math.random()*y,this.log_("Trying to reconnect in "+y+"ms"),this.scheduleConnect_(y),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,bn.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const y=c.onDataMessage_.bind(c),O=c.onReady_.bind(c),V=c.onRealtimeDisconnect_.bind(c),ee=c.id+":"+f.nextConnectionId_++,Te=c.lastSessionId;let je=!1,ft=null;const ln=function(){ft?ft.close():(je=!0,V())};c.realtime_={close:ln,sendRequest:function(fr){(0,we.hu)(ft,"sendRequest call when we're not connected not allowed."),ft.sendRequest(fr)}};const vn=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[fr,Yr]=yield Promise.all([c.authTokenProvider_.getToken(vn),c.appCheckTokenProvider_.getToken(vn)]);je?Et("getToken() completed but was canceled"):(Et("getToken() completed. Creating connection."),c.authToken_=fr&&fr.accessToken,c.appCheckToken_=Yr&&Yr.token,ft=new ps(ee,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,y,O,V,as=>{Un(as+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},Te))}catch(fr){c.log_("Failed to get token: "+fr),je||(c.repoInfo_.nodeAdmin&&Un(fr),ln())}}})()}interrupt(c){Et("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){Et("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,we.xb)(this.interruptReasons_)&&(this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const y=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:y})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const y=this.outstandingPuts_[c];y&&"h"in y.request&&y.queued&&(y.onComplete&&y.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,y){let O;O=y?y.map(ee=>lt(ee)).join("$"):"default";const V=this.removeListen_(c,O);V&&V.onComplete&&V.onComplete("permission_denied")}removeListen_(c,y){const O=new ui(c).toString();let V;if(this.listens.has(O)){const ee=this.listens.get(O);V=ee.get(y),ee.delete(y),0===ee.size&&this.listens.delete(O)}else V=void 0;return V}onAuthRevoked_(c,y){Et("Auth token revoked: "+c+"/"+y),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,y){Et("App check token revoked: "+c+"/"+y),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const y of c.values())this.sendListen_(y);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let y="js";(0,we.Yr)()&&(y=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+y+"."+fi.replace(/\./g,"-")]=1,(0,we.uI)()?c["framework.cordova"]=1:(0,we.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=Us.getInstance().currentlyOnline();return(0,we.xb)(this.interruptReasons_)&&c}}return f.nextPersistentConnectionId_=0,f.nextConnectionId_=0,f})();class qr{constructor(u,c){this.name=u,this.node=c}static Wrap(u,c){return new qr(u,c)}}class Ia{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,c){const y=new qr(Rr,u),O=new qr(Rr,c);return 0!==this.compare(y,O)}minPost(){return qr.MIN}}class qs extends Ia{static get __EMPTY_NODE(){return fa}static set __EMPTY_NODE(u){fa=u}compare(u,c){return it(u.name,c.name)}isDefinedOn(u){throw(0,we.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,c){return!1}minPost(){return qr.MIN}maxPost(){return new qr(sr,fa)}makePost(u,c){return(0,we.hu)("string"==typeof u,"KeyIndex indexValue must always be a string."),new qr(u,fa)}toString(){return".key"}}const es=new qs;class Uo{constructor(u,c,y,O,V=null){this.isReverse_=O,this.resultGenerator_=V,this.nodeStack_=[];let ee=1;for(;!u.isEmpty();)if(ee=c?y(u.key,c):1,O&&(ee*=-1),ee<0)u=this.isReverse_?u.left:u.right;else{if(0===ee){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,u=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let xe,pn=(()=>{class f{constructor(c,y,O,V,ee){this.key=c,this.value=y,this.color=O??f.RED,this.left=V??Z.EMPTY_NODE,this.right=ee??Z.EMPTY_NODE}copy(c,y,O,V,ee){return new f(c??this.key,y??this.value,O??this.color,V??this.left,ee??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,y,O){let V=this;const ee=O(c,V.key);return V=ee<0?V.copy(null,null,null,V.left.insert(c,y,O),null):0===ee?V.copy(null,y,null,null,null):V.copy(null,null,null,null,V.right.insert(c,y,O)),V.fixUp_()}removeMin_(){if(this.left.isEmpty())return Z.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,y){let O,V;if(O=this,y(c,O.key)<0)!O.left.isEmpty()&&!O.left.isRed_()&&!O.left.left.isRed_()&&(O=O.moveRedLeft_()),O=O.copy(null,null,null,O.left.remove(c,y),null);else{if(O.left.isRed_()&&(O=O.rotateRight_()),!O.right.isEmpty()&&!O.right.isRed_()&&!O.right.left.isRed_()&&(O=O.moveRedRight_()),0===y(c,O.key)){if(O.right.isEmpty())return Z.EMPTY_NODE;V=O.right.min_(),O=O.copy(V.key,V.value,null,null,O.right.removeMin_())}O=O.copy(null,null,null,null,O.right.remove(c,y))}return O.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),y=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,y)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return f.RED=!0,f.BLACK=!1,f})();class Z{constructor(u,c=Z.EMPTY_NODE){this.comparator_=u,this.root_=c}insert(u,c){return new Z(this.comparator_,this.root_.insert(u,c,this.comparator_).copy(null,null,pn.BLACK,null,null))}remove(u){return new Z(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,pn.BLACK,null,null))}get(u){let c,y=this.root_;for(;!y.isEmpty();){if(c=this.comparator_(u,y.key),0===c)return y.value;c<0?y=y.left:c>0&&(y=y.right)}return null}getPredecessorKey(u){let c,y=this.root_,O=null;for(;!y.isEmpty();){if(c=this.comparator_(u,y.key),0===c){if(y.left.isEmpty())return O?O.key:null;for(y=y.left;!y.right.isEmpty();)y=y.right;return y.key}c<0?y=y.left:c>0&&(O=y,y=y.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new Uo(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,c){return new Uo(this.root_,u,this.comparator_,!1,c)}getReverseIteratorFrom(u,c){return new Uo(this.root_,u,this.comparator_,!0,c)}getReverseIterator(u){return new Uo(this.root_,null,this.comparator_,!0,u)}}function A(f,u){return it(f.name,u.name)}function Y(f,u){return it(f,u)}Z.EMPTY_NODE=new class T{copy(u,c,y,O,V){return this}insert(u,c,y){return new pn(u,c,null)}remove(u,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jn=function(f){return"number"==typeof f?"number:"+gn(f):"string:"+f},dr=function(f){if(f.isLeafNode()){const u=f.val();(0,we.hu)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,we.r3)(u,".sv"),"Priority must be a string or number.")}else(0,we.hu)(f===xe||f.isEmpty(),"priority of unexpected type.");(0,we.hu)(f===xe||f.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let E,S,j,C=(()=>{class f{constructor(c,y=f.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=y,this.lazyHash_=null,(0,we.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),dr(this.priorityNode_)}static set __childrenNodeConstructor(c){E=c}static get __childrenNodeConstructor(){return E}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new f(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return jr(c)?this:".priority"===$r(c)?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,y){return null}updateImmediateChild(c,y){return".priority"===c?this.updatePriority(y):y.isEmpty()&&".priority"!==c?this:f.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,y).updatePriority(this.priorityNode_)}updateChild(c,y){const O=$r(c);return null===O?y:y.isEmpty()&&".priority"!==O?this:((0,we.hu)(".priority"!==O||1===cs(c),".priority must be the last token in a path"),this.updateImmediateChild(O,f.__childrenNodeConstructor.EMPTY_NODE.updateChild(ti(c),y)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,y){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+jn(this.priorityNode_.val())+":");const y=typeof this.value_;c+=y+":",c+="number"===y?gn(this.value_):this.value_,this.lazyHash_=Er(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===f.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof f.__childrenNodeConstructor?-1:((0,we.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const y=typeof c.value_,O=typeof this.value_,V=f.VALUE_TYPE_ORDER.indexOf(y),ee=f.VALUE_TYPE_ORDER.indexOf(O);return(0,we.hu)(V>=0,"Unknown leaf type: "+y),(0,we.hu)(ee>=0,"Unknown leaf type: "+O),V===ee?"object"===O?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:ee-V}withIndex(){return this}isIndexed(){return!0}equals(c){if(c===this)return!0;if(c.isLeafNode()){const y=c;return this.value_===y.value_&&this.priorityNode_.equals(y.priorityNode_)}return!1}}return f.VALUE_TYPE_ORDER=["object","boolean","number","string"],f})();const Dn=new class rn extends Ia{compare(u,c){const y=u.node.getPriority(),O=c.node.getPriority(),V=y.compareTo(O);return 0===V?it(u.name,c.name):V}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,c){return!u.getPriority().equals(c.getPriority())}minPost(){return qr.MIN}maxPost(){return new qr(sr,new C("[PRIORITY-POST]",j))}makePost(u,c){const y=S(u);return new qr(c,new C("[PRIORITY-POST]",y))}toString(){return".priority"}},kn=Math.log(2);class xr{constructor(u){this.count=parseInt(Math.log(u+1)/kn,10),this.current_=this.count-1;const O=(V=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&O}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const ri=function(f,u,c,y){f.sort(u);const O=function(je,ft){const ln=ft-je;let nn,vn;if(0===ln)return null;if(1===ln)return nn=f[je],vn=c?c(nn):nn,new pn(vn,nn.node,pn.BLACK,null,null);{const fr=parseInt(ln/2,10)+je,Yr=O(je,fr),as=O(fr+1,ft);return nn=f[fr],vn=c?c(nn):nn,new pn(vn,nn.node,pn.BLACK,Yr,as)}},Te=function(je){let ft=null,ln=null,nn=f.length;const vn=function(Yr,as){const Bo=nn-Yr,Ts=nn;nn-=Yr;const Ec=O(Bo+1,Ts),ru=f[Bo],jp=c?c(ru):ru;fr(new pn(jp,ru.node,as,null,Ec))},fr=function(Yr){ft?(ft.left=Yr,ft=Yr):(ln=Yr,ft=Yr)};for(let Yr=0;Yr<je.count;++Yr){const as=je.nextBitIsOne(),Bo=Math.pow(2,je.count-(Yr+1));as?vn(Bo,pn.BLACK):(vn(Bo,pn.BLACK),vn(Bo,pn.RED))}return ln}(new xr(f.length));return new Z(y||u,Te)};let Bi;const Vi={};class ki{constructor(u,c){this.indexes_=u,this.indexSet_=c}static get Default(){return(0,we.hu)(Vi&&Dn,"ChildrenNode.ts has not been loaded"),Bi=Bi||new ki({".priority":Vi},{".priority":Dn}),Bi}get(u){const c=(0,we.DV)(this.indexes_,u);if(!c)throw new Error("No index defined for "+u);return c instanceof Z?c:null}hasIndex(u){return(0,we.r3)(this.indexSet_,u.toString())}addIndex(u,c){(0,we.hu)(u!==es,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const y=[];let O=!1;const V=c.getIterator(qr.Wrap);let Te,ee=V.getNext();for(;ee;)O=O||u.isDefinedOn(ee.node),y.push(ee),ee=V.getNext();Te=O?ri(y,u.getCompare()):Vi;const je=u.toString(),ft=Object.assign({},this.indexSet_);ft[je]=u;const ln=Object.assign({},this.indexes_);return ln[je]=Te,new ki(ln,ft)}addToIndexes(u,c){const y=(0,we.UI)(this.indexes_,(O,V)=>{const ee=(0,we.DV)(this.indexSet_,V);if((0,we.hu)(ee,"Missing index implementation for "+V),O===Vi){if(ee.isDefinedOn(u.node)){const Te=[],je=c.getIterator(qr.Wrap);let ft=je.getNext();for(;ft;)ft.name!==u.name&&Te.push(ft),ft=je.getNext();return Te.push(u),ri(Te,ee.getCompare())}return Vi}{const Te=c.get(u.name);let je=O;return Te&&(je=je.remove(new qr(u.name,Te))),je.insert(u,u.node)}});return new ki(y,this.indexSet_)}removeFromIndexes(u,c){const y=(0,we.UI)(this.indexes_,O=>{if(O===Vi)return O;{const V=c.get(u.name);return V?O.remove(new qr(u.name,V)):O}});return new ki(y,this.indexSet_)}}let ji,Sr=(()=>{class f{constructor(c,y,O){this.children_=c,this.priorityNode_=y,this.indexMap_=O,this.lazyHash_=null,this.priorityNode_&&dr(this.priorityNode_),this.children_.isEmpty()&&(0,we.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ji||(ji=new f(new Z(Y),null,ki.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ji}updatePriority(c){return this.children_.isEmpty()?this:new f(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const y=this.children_.get(c);return null===y?ji:y}}getChild(c){const y=$r(c);return null===y?this:this.getImmediateChild(y).getChild(ti(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,y){if((0,we.hu)(y,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(y);{const O=new qr(c,y);let V,ee;y.isEmpty()?(V=this.children_.remove(c),ee=this.indexMap_.removeFromIndexes(O,this.children_)):(V=this.children_.insert(c,y),ee=this.indexMap_.addToIndexes(O,this.children_));const Te=V.isEmpty()?ji:this.priorityNode_;return new f(V,Te,ee)}}updateChild(c,y){const O=$r(c);if(null===O)return y;{(0,we.hu)(".priority"!==$r(c)||1===cs(c),".priority must be the last token in a path");const V=this.getImmediateChild(O).updateChild(ti(c),y);return this.updateImmediateChild(O,V)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const y={};let O=0,V=0,ee=!0;if(this.forEachChild(Dn,(Te,je)=>{y[Te]=je.val(c),O++,ee&&f.INTEGER_REGEXP_.test(Te)?V=Math.max(V,Number(Te)):ee=!1}),!c&&ee&&V<2*O){const Te=[];for(const je in y)Te[je]=y[je];return Te}return c&&!this.getPriority().isEmpty()&&(y[".priority"]=this.getPriority().val()),y}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+jn(this.getPriority().val())+":"),this.forEachChild(Dn,(y,O)=>{const V=O.hash();""!==V&&(c+=":"+y+":"+V)}),this.lazyHash_=""===c?"":Er(c)}return this.lazyHash_}getPredecessorChildName(c,y,O){const V=this.resolveIndex_(O);if(V){const ee=V.getPredecessorKey(new qr(c,y));return ee?ee.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const y=this.resolveIndex_(c);if(y){const O=y.minKey();return O&&O.name}return this.children_.minKey()}getFirstChild(c){const y=this.getFirstChildName(c);return y?new qr(y,this.children_.get(y)):null}getLastChildName(c){const y=this.resolveIndex_(c);if(y){const O=y.maxKey();return O&&O.name}return this.children_.maxKey()}getLastChild(c){const y=this.getLastChildName(c);return y?new qr(y,this.children_.get(y)):null}forEachChild(c,y){const O=this.resolveIndex_(c);return O?O.inorderTraversal(V=>y(V.name,V.node)):this.children_.inorderTraversal(y)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,y){const O=this.resolveIndex_(y);if(O)return O.getIteratorFrom(c,V=>V);{const V=this.children_.getIteratorFrom(c.name,qr.Wrap);let ee=V.peek();for(;null!=ee&&y.compare(ee,c)<0;)V.getNext(),ee=V.peek();return V}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,y){const O=this.resolveIndex_(y);if(O)return O.getReverseIteratorFrom(c,V=>V);{const V=this.children_.getReverseIteratorFrom(c.name,qr.Wrap);let ee=V.peek();for(;null!=ee&&y.compare(ee,c)>0;)V.getNext(),ee=V.peek();return V}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===Zs?-1:0}withIndex(c){if(c===es||this.indexMap_.hasIndex(c))return this;{const y=this.indexMap_.addIndex(c,this.children_);return new f(this.children_,this.priorityNode_,y)}}isIndexed(c){return c===es||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const y=c;if(this.getPriority().equals(y.getPriority())){if(this.children_.count()===y.children_.count()){const O=this.getIterator(Dn),V=y.getIterator(Dn);let ee=O.getNext(),Te=V.getNext();for(;ee&&Te;){if(ee.name!==Te.name||!ee.node.equals(Te.node))return!1;ee=O.getNext(),Te=V.getNext()}return null===ee&&null===Te}return!1}return!1}}resolveIndex_(c){return c===es?null:this.indexMap_.get(c.toString())}}return f.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,f})();const Zs=new class pi extends Sr{constructor(){super(new Z(Y),Sr.EMPTY_NODE,ki.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return Sr.EMPTY_NODE}isEmpty(){return!1}};function gi(f,u=null){if(null===f)return Sr.EMPTY_NODE;if("object"==typeof f&&".priority"in f&&(u=f[".priority"]),(0,we.hu)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof f&&".value"in f&&null!==f[".value"]&&(f=f[".value"]),"object"!=typeof f||".sv"in f)return new C(f,gi(u));if(f instanceof Array){let c=Sr.EMPTY_NODE;return Gt(f,(y,O)=>{if((0,we.r3)(f,y)&&"."!==y.substring(0,1)){const V=gi(O);(V.isLeafNode()||!V.isEmpty())&&(c=c.updateImmediateChild(y,V))}}),c.updatePriority(gi(u))}{const c=[];let y=!1;if(Gt(f,(ee,Te)=>{if("."!==ee.substring(0,1)){const je=gi(Te);je.isEmpty()||(y=y||!je.getPriority().isEmpty(),c.push(new qr(ee,je)))}}),0===c.length)return Sr.EMPTY_NODE;const V=ri(c,A,ee=>ee.name,Y);if(y){const ee=ri(c,Dn.getCompare());return new Sr(V,gi(u),new ki({".priority":ee},{".priority":Dn}))}return new Sr(V,gi(u),ki.Default)}}Object.defineProperties(qr,{MIN:{value:new qr(Rr,Sr.EMPTY_NODE)},MAX:{value:new qr(sr,Zs)}}),qs.__EMPTY_NODE=Sr.EMPTY_NODE,C.__childrenNodeConstructor=Sr,function zt(f){xe=f}(Zs),function ht(f){j=f}(Zs),function Me(f){S=f}(gi);class gs extends Ia{constructor(u){super(),this.indexPath_=u,(0,we.hu)(!jr(u)&&".priority"!==$r(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,c){const y=this.extractChild(u.node),O=this.extractChild(c.node),V=y.compareTo(O);return 0===V?it(u.name,c.name):V}makePost(u,c){const y=gi(u),O=Sr.EMPTY_NODE.updateChild(this.indexPath_,y);return new qr(c,O)}maxPost(){const u=Sr.EMPTY_NODE.updateChild(this.indexPath_,Zs);return new qr(sr,u)}toString(){return Mo(this.indexPath_,0).join("/")}}const Oo=new class sa extends Ia{compare(u,c){const y=u.node.compareTo(c.node);return 0===y?it(u.name,c.name):y}isDefinedOn(u){return!0}indexedValueChanged(u,c){return!u.equals(c)}minPost(){return qr.MIN}maxPost(){return qr.MAX}makePost(u,c){const y=gi(u);return new qr(c,y)}toString(){return".value"}},Co="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Se=function(){let f=0;const u=[];return function(c){const y=c===f;let O;f=c;const V=new Array(8);for(O=7;O>=0;O--)V[O]=Co.charAt(c%64),c=Math.floor(c/64);(0,we.hu)(0===c,"Cannot push at time == 0");let ee=V.join("");if(y){for(O=11;O>=0&&63===u[O];O--)u[O]=0;u[O]++}else for(O=0;O<12;O++)u[O]=Math.floor(64*Math.random());for(O=0;O<12;O++)ee+=Co.charAt(u[O]);return(0,we.hu)(20===ee.length,"nextPushId: Length should be 20."),ee}}(),ut=function(f){if(f===""+Wn)return"-";const u=Lr(f);if(null!=u)return""+(u+1);const c=new Array(f.length);for(let ee=0;ee<c.length;ee++)c[ee]=f.charAt(ee);if(c.length<786)return c.push("-"),c.join("");let y=c.length-1;for(;y>=0&&"z"===c[y];)y--;if(-1===y)return sr;const V=Co.charAt(Co.indexOf(c[y])+1);return c[y]=V,c.slice(0,y+1).join("")},Wt=function(f){if(f===""+pr)return Rr;const u=Lr(f);if(null!=u)return""+(u-1);const c=new Array(f.length);for(let y=0;y<c.length;y++)c[y]=f.charAt(y);return"-"===c[c.length-1]?1===c.length?""+Wn:(delete c[c.length-1],c.join("")):(c[c.length-1]=Co.charAt(Co.indexOf(c[c.length-1])-1),c.join("")+"z".repeat(786-c.length))};function dn(f){return{type:"value",snapshotNode:f}}function rr(f,u){return{type:"child_added",snapshotNode:u,childName:f}}function mi(f,u){return{type:"child_removed",snapshotNode:u,childName:f}}function Ti(f,u,c){return{type:"child_changed",snapshotNode:u,childName:f,oldSnap:c}}class bi{constructor(u){this.index_=u}updateChild(u,c,y,O,V,ee){(0,we.hu)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Te=u.getImmediateChild(c);return Te.getChild(O).equals(y.getChild(O))&&Te.isEmpty()===y.isEmpty()||(null!=ee&&(y.isEmpty()?u.hasChild(c)?ee.trackChildChange(mi(c,Te)):(0,we.hu)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Te.isEmpty()?ee.trackChildChange(rr(c,y)):ee.trackChildChange(Ti(c,y,Te))),u.isLeafNode()&&y.isEmpty())?u:u.updateImmediateChild(c,y).withIndex(this.index_)}updateFullNode(u,c,y){return null!=y&&(u.isLeafNode()||u.forEachChild(Dn,(O,V)=>{c.hasChild(O)||y.trackChildChange(mi(O,V))}),c.isLeafNode()||c.forEachChild(Dn,(O,V)=>{if(u.hasChild(O)){const ee=u.getImmediateChild(O);ee.equals(V)||y.trackChildChange(Ti(O,V,ee))}else y.trackChildChange(rr(O,V))})),c.withIndex(this.index_)}updatePriority(u,c){return u.isEmpty()?Sr.EMPTY_NODE:u.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Vs{constructor(u){this.indexedFilter_=new bi(u.getIndex()),this.index_=u.getIndex(),this.startPost_=Vs.getStartPost_(u),this.endPost_=Vs.getEndPost_(u)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){return this.index_.compare(this.getStartPost(),u)<=0&&this.index_.compare(u,this.getEndPost())<=0}updateChild(u,c,y,O,V,ee){return this.matches(new qr(c,y))||(y=Sr.EMPTY_NODE),this.indexedFilter_.updateChild(u,c,y,O,V,ee)}updateFullNode(u,c,y){c.isLeafNode()&&(c=Sr.EMPTY_NODE);let O=c.withIndex(this.index_);O=O.updatePriority(Sr.EMPTY_NODE);const V=this;return c.forEachChild(Dn,(ee,Te)=>{V.matches(new qr(ee,Te))||(O=O.updateImmediateChild(ee,Sr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,O,y)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const c=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),c)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const c=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),c)}return u.getIndex().maxPost()}}class ts{constructor(u){this.rangedFilter_=new Vs(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft()}updateChild(u,c,y,O,V,ee){return this.rangedFilter_.matches(new qr(c,y))||(y=Sr.EMPTY_NODE),u.getImmediateChild(c).equals(y)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,c,y,O,V,ee):this.fullLimitUpdateChild_(u,c,y,V,ee)}updateFullNode(u,c,y){let O;if(c.isLeafNode()||c.isEmpty())O=Sr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let V;O=Sr.EMPTY_NODE.withIndex(this.index_),V=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let ee=0;for(;V.hasNext()&&ee<this.limit_;){const Te=V.getNext();let je;if(je=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Te)<=0:this.index_.compare(Te,this.rangedFilter_.getEndPost())<=0,!je)break;O=O.updateImmediateChild(Te.name,Te.node),ee++}}else{let V,ee,Te,je;if(O=c.withIndex(this.index_),O=O.updatePriority(Sr.EMPTY_NODE),this.reverse_){je=O.getReverseIterator(this.index_),V=this.rangedFilter_.getEndPost(),ee=this.rangedFilter_.getStartPost();const nn=this.index_.getCompare();Te=(vn,fr)=>nn(fr,vn)}else je=O.getIterator(this.index_),V=this.rangedFilter_.getStartPost(),ee=this.rangedFilter_.getEndPost(),Te=this.index_.getCompare();let ft=0,ln=!1;for(;je.hasNext();){const nn=je.getNext();!ln&&Te(V,nn)<=0&&(ln=!0),ln&&ft<this.limit_&&Te(nn,ee)<=0?ft++:O=O.updateImmediateChild(nn.name,Sr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,O,y)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,c,y,O,V){let ee;if(this.reverse_){const nn=this.index_.getCompare();ee=(vn,fr)=>nn(fr,vn)}else ee=this.index_.getCompare();const Te=u;(0,we.hu)(Te.numChildren()===this.limit_,"");const je=new qr(c,y),ft=this.reverse_?Te.getFirstChild(this.index_):Te.getLastChild(this.index_),ln=this.rangedFilter_.matches(je);if(Te.hasChild(c)){const nn=Te.getImmediateChild(c);let vn=O.getChildAfterChild(this.index_,ft,this.reverse_);for(;null!=vn&&(vn.name===c||Te.hasChild(vn.name));)vn=O.getChildAfterChild(this.index_,vn,this.reverse_);const fr=null==vn?1:ee(vn,je);if(ln&&!y.isEmpty()&&fr>=0)return V?.trackChildChange(Ti(c,y,nn)),Te.updateImmediateChild(c,y);{V?.trackChildChange(mi(c,nn));const as=Te.updateImmediateChild(c,Sr.EMPTY_NODE);return null!=vn&&this.rangedFilter_.matches(vn)?(V?.trackChildChange(rr(vn.name,vn.node)),as.updateImmediateChild(vn.name,vn.node)):as}}return y.isEmpty()?u:ln&&ee(ft,je)>=0?(null!=V&&(V.trackChildChange(mi(ft.name,ft.node)),V.trackChildChange(rr(c,y))),Te.updateImmediateChild(c,y).updateImmediateChild(ft.name,Sr.EMPTY_NODE)):u}}class ns{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,we.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,we.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,we.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,we.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,we.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dn}copy(){const u=new ns;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function ga(f,u,c){const y=f.copy();return y.startSet_=!0,void 0===u&&(u=null),y.indexStartValue_=u,null!=c?(y.startNameSet_=!0,y.indexStartName_=c):(y.startNameSet_=!1,y.indexStartName_=""),y}function jo(f,u,c){const y=f.copy();return y.endSet_=!0,void 0===u&&(u=null),y.indexEndValue_=u,void 0!==c?(y.endNameSet_=!0,y.indexEndName_=c):(y.endNameSet_=!1,y.indexEndName_=""),y}function wl(f,u){const c=f.copy();return c.index_=u,c}function vs(f){const u={};if(f.isDefault())return u;let c;return f.index_===Dn?c="$priority":f.index_===Oo?c="$value":f.index_===es?c="$key":((0,we.hu)(f.index_ instanceof gs,"Unrecognized index type!"),c=f.index_.toString()),u.orderBy=(0,we.Pz)(c),f.startSet_&&(u.startAt=(0,we.Pz)(f.indexStartValue_),f.startNameSet_&&(u.startAt+=","+(0,we.Pz)(f.indexStartName_))),f.endSet_&&(u.endAt=(0,we.Pz)(f.indexEndValue_),f.endNameSet_&&(u.endAt+=","+(0,we.Pz)(f.indexEndName_))),f.limitSet_&&(f.isViewFromLeft()?u.limitToFirst=f.limit_:u.limitToLast=f.limit_),u}function kl(f){const u={};if(f.startSet_&&(u.sp=f.indexStartValue_,f.startNameSet_&&(u.sn=f.indexStartName_)),f.endSet_&&(u.ep=f.indexEndValue_,f.endNameSet_&&(u.en=f.indexEndName_)),f.limitSet_){u.l=f.limit_;let c=f.viewFrom_;""===c&&(c=f.isViewFromLeft()?"l":"r"),u.vf=c}return f.index_!==Dn&&(u.i=f.index_.toString()),u}class Zl extends Es{constructor(u,c,y,O){super(),this.repoInfo_=u,this.onDataUpdate_=c,this.authTokenProvider_=y,this.appCheckTokenProvider_=O,this.log_=Ut("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,c){return void 0!==c?"tag$"+c:((0,we.hu)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,c,y,O){const V=u._path.toString();this.log_("Listen called for "+V+" "+u._queryIdentifier);const ee=Zl.getListenId_(u,y),Te={};this.listens_[ee]=Te;const je=vs(u._queryParams);this.restRequest_(V+".json",je,(ft,ln)=>{let nn=ln;if(404===ft&&(nn=null,ft=null),null===ft&&this.onDataUpdate_(V,nn,!1,y),(0,we.DV)(this.listens_,ee)===Te){let vn;vn=ft?401===ft?"permission_denied":"rest_error:"+ft:"ok",O(vn,null)}})}unlisten(u,c){const y=Zl.getListenId_(u,c);delete this.listens_[y]}get(u){const c=vs(u._queryParams),y=u._path.toString(),O=new we.BH;return this.restRequest_(y+".json",c,(V,ee)=>{let Te=ee;404===V&&(Te=null,V=null),null===V?(this.onDataUpdate_(y,Te,!1,null),O.resolve(Te)):O.reject(new Error(Te))}),O.promise}refreshAuthToken(u){}restRequest_(u,c={},y){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([O,V])=>{O&&O.accessToken&&(c.auth=O.accessToken),V&&V.token&&(c.ac=V.token);const ee=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,we.xO)(c);this.log_("Sending REST request for "+ee);const Te=new XMLHttpRequest;Te.onreadystatechange=()=>{if(y&&4===Te.readyState){this.log_("REST Response for "+ee+" received. status:",Te.status,"response:",Te.responseText);let je=null;if(Te.status>=200&&Te.status<300){try{je=(0,we.cI)(Te.responseText)}catch{Un("Failed to parse JSON response for "+ee+": "+Te.responseText)}y(null,je)}else 401!==Te.status&&404!==Te.status&&Un("Got unsuccessful REST response for "+ee+" Status: "+Te.status),y(Te.status);y=null}},Te.open("GET",ee,!0),Te.send()})}}class ou{constructor(){this.rootNode_=Sr.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,c){this.rootNode_=this.rootNode_.updateChild(u,c)}}function Fl(){return{value:null,children:new Map}}function Ta(f,u,c){if(jr(u))f.value=c,f.children.clear();else if(null!==f.value)f.value=f.value.updateChild(u,c);else{const y=$r(u);f.children.has(y)||f.children.set(y,Fl()),Ta(f.children.get(y),u=ti(u),c)}}function Eo(f,u){if(jr(u))return f.value=null,f.children.clear(),!0;if(null!==f.value){if(f.value.isLeafNode())return!1;{const c=f.value;return f.value=null,c.forEachChild(Dn,(y,O)=>{Ta(f,new ui(y),O)}),Eo(f,u)}}if(f.children.size>0){const c=$r(u);return u=ti(u),f.children.has(c)&&Eo(f.children.get(c),u)&&f.children.delete(c),0===f.children.size}return!0}function $a(f,u,c){null!==f.value?c(u,f.value):function Ql(f,u){f.children.forEach((c,y)=>{u(y,c)})}(f,(y,O)=>{$a(O,new ui(u.toString()+"/"+y),c)})}class Qa{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),c=Object.assign({},u);return this.last_&&Gt(this.last_,(y,O)=>{c[y]=c[y]-O}),this.last_=u,c}}class dc{constructor(u,c){this.server_=c,this.statsToReport_={},this.statsListener_=new Qa(u);const y=1e4+2e4*Math.random();ni(this.reportStats_.bind(this),Math.floor(y))}reportStats_(){const u=this.statsListener_.get(),c={};let y=!1;Gt(u,(O,V)=>{V>0&&(0,we.r3)(this.statsToReport_,O)&&(c[O]=V,y=!0)}),y&&this.server_.reportStats(c),ni(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var qo=(()=>{return(f=qo||(qo={}))[f.OVERWRITE=0]="OVERWRITE",f[f.MERGE=1]="MERGE",f[f.ACK_USER_WRITE=2]="ACK_USER_WRITE",f[f.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",qo;var f})();function Jl(f){return{fromUser:!1,fromServer:!0,queryId:f,tagged:!0}}class Ua{constructor(u,c,y){this.path=u,this.affectedTree=c,this.revert=y,this.type=qo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(jr(this.path)){if(null!=this.affectedTree.value)return(0,we.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new ui(u));return new Ua(di(),c,this.revert)}}return(0,we.hu)($r(this.path)===u,"operationForChild called for unrelated child."),new Ua(ti(this.path),this.affectedTree,this.revert)}}class hl{constructor(u,c){this.source=u,this.path=c,this.type=qo.LISTEN_COMPLETE}operationForChild(u){return jr(this.path)?new hl(this.source,di()):new hl(this.source,ti(this.path))}}class wi{constructor(u,c,y){this.source=u,this.path=c,this.snap=y,this.type=qo.OVERWRITE}operationForChild(u){return jr(this.path)?new wi(this.source,di(),this.snap.getImmediateChild(u)):new wi(this.source,ti(this.path),this.snap)}}class ro{constructor(u,c,y){this.source=u,this.path=c,this.children=y,this.type=qo.MERGE}operationForChild(u){if(jr(this.path)){const c=this.children.subtree(new ui(u));return c.isEmpty()?null:c.value?new wi(this.source,di(),c.value):new ro(this.source,di(),c)}return(0,we.hu)($r(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new ro(this.source,ti(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Do{constructor(u,c,y){this.node_=u,this.fullyInitialized_=c,this.filtered_=y}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(jr(u))return this.isFullyInitialized()&&!this.filtered_;const c=$r(u);return this.isCompleteForChild(c)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class Xa{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function xn(f,u,c,y,O,V){const ee=y.filter(Te=>Te.type===c);ee.sort((Te,je)=>function Zo(f,u,c){if(null==u.childName||null==c.childName)throw(0,we.g5)("Should only compare child_ events.");const y=new qr(u.childName,u.snapshotNode),O=new qr(c.childName,c.snapshotNode);return f.index_.compare(y,O)}(f,Te,je)),ee.forEach(Te=>{const je=function Os(f,u,c){return"value"===u.type||"child_removed"===u.type||(u.prevName=c.getPredecessorChildName(u.childName,u.snapshotNode,f.index_)),u}(f,Te,V);O.forEach(ft=>{ft.respondsTo(Te.type)&&u.push(ft.createEvent(je,f.query_))})})}function fl(f,u){return{eventCache:f,serverCache:u}}function Xn(f,u,c,y){return fl(new Do(u,c,y),f.serverCache)}function Ur(f,u,c,y){return fl(f.eventCache,new Do(u,c,y))}function Po(f){return f.eventCache.isFullyInitialized()?f.eventCache.getNode():null}function Zn(f){return f.serverCache.isFullyInitialized()?f.serverCache.getNode():null}let sn;class ii{constructor(u,c=(()=>(sn||(sn=new Z(tt)),sn))()){this.value=u,this.children=c}static fromObject(u){let c=new ii(null);return Gt(u,(y,O)=>{c=c.set(new ui(y),O)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,c){if(null!=this.value&&c(this.value))return{path:di(),value:this.value};if(jr(u))return null;{const y=$r(u),O=this.children.get(y);if(null!==O){const V=O.findRootMostMatchingPathAndValue(ti(u),c);return null!=V?{path:xi(new ui(y),V.path),value:V.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(jr(u))return this;{const c=$r(u),y=this.children.get(c);return null!==y?y.subtree(ti(u)):new ii(null)}}set(u,c){if(jr(u))return new ii(c,this.children);{const y=$r(u),V=(this.children.get(y)||new ii(null)).set(ti(u),c),ee=this.children.insert(y,V);return new ii(this.value,ee)}}remove(u){if(jr(u))return this.children.isEmpty()?new ii(null):new ii(null,this.children);{const c=$r(u),y=this.children.get(c);if(y){const O=y.remove(ti(u));let V;return V=O.isEmpty()?this.children.remove(c):this.children.insert(c,O),null===this.value&&V.isEmpty()?new ii(null):new ii(this.value,V)}return this}}get(u){if(jr(u))return this.value;{const c=$r(u),y=this.children.get(c);return y?y.get(ti(u)):null}}setTree(u,c){if(jr(u))return c;{const y=$r(u),V=(this.children.get(y)||new ii(null)).setTree(ti(u),c);let ee;return ee=V.isEmpty()?this.children.remove(y):this.children.insert(y,V),new ii(this.value,ee)}}fold(u){return this.fold_(di(),u)}fold_(u,c){const y={};return this.children.inorderTraversal((O,V)=>{y[O]=V.fold_(xi(u,O),c)}),c(u,this.value,y)}findOnPath(u,c){return this.findOnPath_(u,di(),c)}findOnPath_(u,c,y){const O=!!this.value&&y(c,this.value);if(O)return O;if(jr(u))return null;{const V=$r(u),ee=this.children.get(V);return ee?ee.findOnPath_(ti(u),xi(c,V),y):null}}foreachOnPath(u,c){return this.foreachOnPath_(u,di(),c)}foreachOnPath_(u,c,y){if(jr(u))return this;{this.value&&y(c,this.value);const O=$r(u),V=this.children.get(O);return V?V.foreachOnPath_(ti(u),xi(c,O),y):new ii(null)}}foreach(u){this.foreach_(di(),u)}foreach_(u,c){this.children.inorderTraversal((y,O)=>{O.foreach_(xi(u,y),c)}),this.value&&c(u,this.value)}foreachChild(u){this.children.inorderTraversal((c,y)=>{y.value&&u(c,y.value)})}}class Qo{constructor(u){this.writeTree_=u}static empty(){return new Qo(new ii(null))}}function rs(f,u,c){if(jr(u))return new Qo(new ii(c));{const y=f.writeTree_.findRootMostValueAndPath(u);if(null!=y){const O=y.path;let V=y.value;const ee=Jr(O,u);return V=V.updateChild(ee,c),new Qo(f.writeTree_.set(O,V))}{const O=new ii(c),V=f.writeTree_.setTree(u,O);return new Qo(V)}}}function pl(f,u,c){let y=f;return Gt(c,(O,V)=>{y=rs(y,xi(u,O),V)}),y}function el(f,u){if(jr(u))return Qo.empty();{const c=f.writeTree_.setTree(u,new ii(null));return new Qo(c)}}function El(f,u){return null!=Sa(f,u)}function Sa(f,u){const c=f.writeTree_.findRootMostValueAndPath(u);return null!=c?f.writeTree_.get(c.path).getChild(Jr(c.path,u)):null}function Ll(f){const u=[],c=f.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(Dn,(y,O)=>{u.push(new qr(y,O))}):f.writeTree_.children.inorderTraversal((y,O)=>{null!=O.value&&u.push(new qr(y,O.value))}),u}function ya(f,u){if(jr(u))return f;{const c=Sa(f,u);return new Qo(null!=c?new ii(c):f.writeTree_.subtree(u))}}function Va(f){return f.writeTree_.isEmpty()}function Qs(f,u){return Jo(di(),f.writeTree_,u)}function Jo(f,u,c){if(null!=u.value)return c.updateChild(f,u.value);{let y=null;return u.children.inorderTraversal((O,V)=>{".priority"===O?((0,we.hu)(null!==V.value,"Priority writes must always be leaf nodes"),y=V.value):c=Jo(xi(f,O),V,c)}),!c.getChild(f).isEmpty()&&null!==y&&(c=c.updateChild(xi(f,".priority"),y)),c}}function Vr(f,u){return io(u,f)}function ea(f,u){if(f.snap)return Ki(f.path,u);for(const c in f.children)if(f.children.hasOwnProperty(c)&&Ki(xi(f.path,c),u))return!0;return!1}function ds(f){return f.visible}function js(f,u,c){let y=Qo.empty();for(let O=0;O<f.length;++O){const V=f[O];if(u(V)){const ee=V.path;let Te;if(V.snap)Ki(c,ee)?(Te=Jr(c,ee),y=rs(y,Te,V.snap)):Ki(ee,c)&&(Te=Jr(ee,c),y=rs(y,di(),V.snap.getChild(Te)));else{if(!V.children)throw(0,we.g5)("WriteRecord should have .snap or .children");if(Ki(c,ee))Te=Jr(c,ee),y=pl(y,Te,V.children);else if(Ki(ee,c))if(Te=Jr(ee,c),jr(Te))y=pl(y,di(),V.children);else{const je=(0,we.DV)(V.children,$r(Te));if(je){const ft=je.getChild(ti(Te));y=rs(y,di(),ft)}}}}}return y}function nr(f,u,c,y,O){if(y||O){const V=ya(f.visibleWrites,u);return!O&&Va(V)?c:O||null!=c||El(V,di())?Qs(js(f.allWrites,function(ft){return(ft.visible||O)&&(!y||!~y.indexOf(ft.writeId))&&(Ki(ft.path,u)||Ki(u,ft.path))},u),c||Sr.EMPTY_NODE):null}{const V=Sa(f.visibleWrites,u);if(null!=V)return V;{const ee=ya(f.visibleWrites,u);return Va(ee)?c:null!=c||El(ee,di())?Qs(ee,c||Sr.EMPTY_NODE):null}}}function $l(f,u,c,y){return nr(f.writeTree,f.treePath,u,c,y)}function Wc(f,u){return function Bl(f,u,c){let y=Sr.EMPTY_NODE;const O=Sa(f.visibleWrites,u);if(O)return O.isLeafNode()||O.forEachChild(Dn,(V,ee)=>{y=y.updateImmediateChild(V,ee)}),y;if(c){const V=ya(f.visibleWrites,u);return c.forEachChild(Dn,(ee,Te)=>{const je=Qs(ya(V,new ui(ee)),Te);y=y.updateImmediateChild(ee,je)}),Ll(V).forEach(ee=>{y=y.updateImmediateChild(ee.name,ee.node)}),y}return Ll(ya(f.visibleWrites,u)).forEach(ee=>{y=y.updateImmediateChild(ee.name,ee.node)}),y}(f.writeTree,f.treePath,u)}function is(f,u,c,y){return function Xl(f,u,c,y,O){(0,we.hu)(y||O,"Either existingEventSnap or existingServerSnap must exist");const V=xi(u,c);if(El(f.visibleWrites,V))return null;{const ee=ya(f.visibleWrites,V);return Va(ee)?O.getChild(c):Qs(ee,O.getChild(c))}}(f.writeTree,f.treePath,u,c,y)}function Io(f,u){return function Ic(f,u){return Sa(f.visibleWrites,u)}(f.writeTree,xi(f.treePath,u))}function Dl(f,u,c){return function ec(f,u,c,y){const O=xi(u,c),V=Sa(f.visibleWrites,O);return null!=V?V:y.isCompleteForChild(c)?Qs(ya(f.visibleWrites,O),y.getNode().getImmediateChild(c)):null}(f.writeTree,f.treePath,u,c)}function Ul(f,u){return io(xi(f.treePath,u),f.writeTree)}function io(f,u){return{treePath:f,writeTree:u}}class oa{constructor(){this.changeMap=new Map}trackChildChange(u){const c=u.type,y=u.childName;(0,we.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,we.hu)(".priority"!==y,"Only non-priority child changes can be tracked.");const O=this.changeMap.get(y);if(O){const V=O.type;if("child_added"===c&&"child_removed"===V)this.changeMap.set(y,Ti(y,u.snapshotNode,O.snapshotNode));else if("child_removed"===c&&"child_added"===V)this.changeMap.delete(y);else if("child_removed"===c&&"child_changed"===V)this.changeMap.set(y,mi(y,O.oldSnap));else if("child_changed"===c&&"child_added"===V)this.changeMap.set(y,rr(y,u.snapshotNode));else{if("child_changed"!==c||"child_changed"!==V)throw(0,we.g5)("Illegal combination of changes: "+u+" occurred after "+O);this.changeMap.set(y,Ti(y,u.snapshotNode,O.oldSnap))}}else this.changeMap.set(y,u)}getChanges(){return Array.from(this.changeMap.values())}}const Aa=new class Qt{getCompleteChild(u){return null}getChildAfterChild(u,c,y){return null}};class Js{constructor(u,c,y=null){this.writes_=u,this.viewCache_=c,this.optCompleteServerCache_=y}getCompleteChild(u){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(u))return c.getNode().getImmediateChild(u);{const y=null!=this.optCompleteServerCache_?new Do(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dl(this.writes_,u,y)}}getChildAfterChild(u,c,y){const O=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zn(this.viewCache_),V=function va(f,u,c,y,O,V){return function lu(f,u,c,y,O,V,ee){let Te;const je=ya(f.visibleWrites,u),ft=Sa(je,di());if(null!=ft)Te=ft;else{if(null==c)return[];Te=Qs(je,c)}if(Te=Te.withIndex(ee),Te.isEmpty()||Te.isLeafNode())return[];{const ln=[],nn=ee.getCompare(),vn=V?Te.getReverseIteratorFrom(y,ee):Te.getIteratorFrom(y,ee);let fr=vn.getNext();for(;fr&&ln.length<O;)0!==nn(fr,y)&&ln.push(fr),fr=vn.getNext();return ln}}(f.writeTree,f.treePath,u,c,y,O,V)}(this.writes_,O,c,1,y,u);return 0===V.length?null:V[0]}}function R(f,u,c,y,O,V){const ee=u.eventCache;if(null!=Io(y,c))return u;{let Te,je;if(jr(c))if((0,we.hu)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const ft=Zn(u),nn=Wc(y,ft instanceof Sr?ft:Sr.EMPTY_NODE);Te=f.filter.updateFullNode(u.eventCache.getNode(),nn,V)}else{const ft=$l(y,Zn(u));Te=f.filter.updateFullNode(u.eventCache.getNode(),ft,V)}else{const ft=$r(c);if(".priority"===ft){(0,we.hu)(1===cs(c),"Can't have a priority with additional path components");const ln=ee.getNode();je=u.serverCache.getNode();const nn=is(y,c,ln,je);Te=null!=nn?f.filter.updatePriority(ln,nn):ee.getNode()}else{const ln=ti(c);let nn;if(ee.isCompleteForChild(ft)){je=u.serverCache.getNode();const vn=is(y,c,ee.getNode(),je);nn=null!=vn?ee.getNode().getImmediateChild(ft).updateChild(ln,vn):ee.getNode().getImmediateChild(ft)}else nn=Dl(y,ft,u.serverCache);Te=null!=nn?f.filter.updateChild(ee.getNode(),ft,nn,ln,O,V):ee.getNode()}}return Xn(u,Te,ee.isFullyInitialized()||jr(c),f.filter.filtersNodes())}}function k(f,u,c,y,O,V,ee,Te){const je=u.serverCache;let ft;const ln=ee?f.filter:f.filter.getIndexedFilter();if(jr(c))ft=ln.updateFullNode(je.getNode(),y,null);else if(ln.filtersNodes()&&!je.isFiltered()){const fr=je.getNode().updateChild(c,y);ft=ln.updateFullNode(je.getNode(),fr,null)}else{const fr=$r(c);if(!je.isCompleteForPath(c)&&cs(c)>1)return u;const Yr=ti(c),Bo=je.getNode().getImmediateChild(fr).updateChild(Yr,y);ft=".priority"===fr?ln.updatePriority(je.getNode(),Bo):ln.updateChild(je.getNode(),fr,Bo,Yr,Aa,null)}const nn=Ur(u,ft,je.isFullyInitialized()||jr(c),ln.filtersNodes());return R(f,nn,c,O,new Js(O,nn,V),Te)}function x(f,u,c,y,O,V,ee){const Te=u.eventCache;let je,ft;const ln=new Js(O,u,V);if(jr(c))ft=f.filter.updateFullNode(u.eventCache.getNode(),y,ee),je=Xn(u,ft,!0,f.filter.filtersNodes());else{const nn=$r(c);if(".priority"===nn)ft=f.filter.updatePriority(u.eventCache.getNode(),y),je=Xn(u,ft,Te.isFullyInitialized(),Te.isFiltered());else{const vn=ti(c),fr=Te.getNode().getImmediateChild(nn);let Yr;if(jr(vn))Yr=y;else{const as=ln.getCompleteChild(nn);Yr=null!=as?".priority"===xs(vn)&&as.getChild(ys(vn)).isEmpty()?as:as.updateChild(vn,y):Sr.EMPTY_NODE}je=fr.equals(Yr)?u:Xn(u,f.filter.updateChild(Te.getNode(),nn,Yr,vn,ln,ee),Te.isFullyInitialized(),f.filter.filtersNodes())}}return je}function G(f,u){return f.eventCache.isCompleteForChild(u)}function Ce(f,u,c){return c.foreach((y,O)=>{u=u.updateChild(y,O)}),u}function Je(f,u,c,y,O,V,ee,Te){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let ft,je=u;ft=jr(c)?y:new ii(null).setTree(c,y);const ln=u.serverCache.getNode();return ft.children.inorderTraversal((nn,vn)=>{if(ln.hasChild(nn)){const Yr=Ce(0,u.serverCache.getNode().getImmediateChild(nn),vn);je=k(f,je,new ui(nn),Yr,O,V,ee,Te)}}),ft.children.inorderTraversal((nn,vn)=>{const fr=!u.serverCache.isCompleteForChild(nn)&&null===vn.value;if(!ln.hasChild(nn)&&!fr){const as=Ce(0,u.serverCache.getNode().getImmediateChild(nn),vn);je=k(f,je,new ui(nn),as,O,V,ee,Te)}}),je}class li{constructor(u,c){this.query_=u,this.eventRegistrations_=[];const y=this.query_._queryParams,O=new bi(y.getIndex()),V=function Ra(f){return f.loadsAllData()?new bi(f.getIndex()):f.hasLimit()?new ts(f):new Vs(f)}(y);this.processor_=function ja(f){return{filter:f}}(V);const ee=c.serverCache,Te=c.eventCache,je=O.updateFullNode(Sr.EMPTY_NODE,ee.getNode(),null),ft=V.updateFullNode(Sr.EMPTY_NODE,Te.getNode(),null),ln=new Do(je,ee.isFullyInitialized(),O.filtersNodes()),nn=new Do(ft,Te.isFullyInitialized(),V.filtersNodes());this.viewCache_=fl(nn,ln),this.eventGenerator_=new Xa(this.query_)}get query(){return this.query_}}function To(f,u){const c=Zn(f.viewCache_);return c&&(f.query._queryParams.loadsAllData()||!jr(u)&&!c.getImmediateChild($r(u)).isEmpty())?c.getChild(u):null}function Ds(f){return 0===f.eventRegistrations_.length}function Rs(f,u,c){const y=[];if(c){(0,we.hu)(null==u,"A cancel should cancel all event registrations.");const O=f.query._path;f.eventRegistrations_.forEach(V=>{const ee=V.createCancelEvent(c,O);ee&&y.push(ee)})}if(u){let O=[];for(let V=0;V<f.eventRegistrations_.length;++V){const ee=f.eventRegistrations_[V];if(ee.matches(u)){if(u.hasAnyCallback()){O=O.concat(f.eventRegistrations_.slice(V+1));break}}else O.push(ee)}f.eventRegistrations_=O}else f.eventRegistrations_=[];return y}function Xs(f,u,c,y){u.type===qo.MERGE&&null!==u.source.queryId&&((0,we.hu)(Zn(f.viewCache_),"We should always have a full cache before handling merges"),(0,we.hu)(Po(f.viewCache_),"Missing event cache, even though we have a server cache"));const O=f.viewCache_,V=function ba(f,u,c,y,O){const V=new oa;let ee,Te;if(c.type===qo.OVERWRITE){const ft=c;ft.source.fromUser?ee=x(f,u,ft.path,ft.snap,y,O,V):((0,we.hu)(ft.source.fromServer,"Unknown source."),Te=ft.source.tagged||u.serverCache.isFiltered()&&!jr(ft.path),ee=k(f,u,ft.path,ft.snap,y,O,Te,V))}else if(c.type===qo.MERGE){const ft=c;ft.source.fromUser?ee=function q(f,u,c,y,O,V,ee){let Te=u;return y.foreach((je,ft)=>{const ln=xi(c,je);G(u,$r(ln))&&(Te=x(f,Te,ln,ft,O,V,ee))}),y.foreach((je,ft)=>{const ln=xi(c,je);G(u,$r(ln))||(Te=x(f,Te,ln,ft,O,V,ee))}),Te}(f,u,ft.path,ft.children,y,O,V):((0,we.hu)(ft.source.fromServer,"Unknown source."),Te=ft.source.tagged||u.serverCache.isFiltered(),ee=Je(f,u,ft.path,ft.children,y,O,Te,V))}else if(c.type===qo.ACK_USER_WRITE){const ft=c;ee=ft.revert?function Rn(f,u,c,y,O,V){let ee;if(null!=Io(y,c))return u;{const Te=new Js(y,u,O),je=u.eventCache.getNode();let ft;if(jr(c)||".priority"===$r(c)){let ln;if(u.serverCache.isFullyInitialized())ln=$l(y,Zn(u));else{const nn=u.serverCache.getNode();(0,we.hu)(nn instanceof Sr,"serverChildren would be complete if leaf node"),ln=Wc(y,nn)}ft=f.filter.updateFullNode(je,ln,V)}else{const ln=$r(c);let nn=Dl(y,ln,u.serverCache);null==nn&&u.serverCache.isCompleteForChild(ln)&&(nn=je.getImmediateChild(ln)),ft=null!=nn?f.filter.updateChild(je,ln,nn,ti(c),Te,V):u.eventCache.getNode().hasChild(ln)?f.filter.updateChild(je,ln,Sr.EMPTY_NODE,ti(c),Te,V):je,ft.isEmpty()&&u.serverCache.isFullyInitialized()&&(ee=$l(y,Zn(u)),ee.isLeafNode()&&(ft=f.filter.updateFullNode(ft,ee,V)))}return ee=u.serverCache.isFullyInitialized()||null!=Io(y,di()),Xn(u,ft,ee,f.filter.filtersNodes())}}(f,u,ft.path,y,O,V):function dt(f,u,c,y,O,V,ee){if(null!=Io(O,c))return u;const Te=u.serverCache.isFiltered(),je=u.serverCache;if(null!=y.value){if(jr(c)&&je.isFullyInitialized()||je.isCompleteForPath(c))return k(f,u,c,je.getNode().getChild(c),O,V,Te,ee);if(jr(c)){let ft=new ii(null);return je.getNode().forEachChild(es,(ln,nn)=>{ft=ft.set(new ui(ln),nn)}),Je(f,u,c,ft,O,V,Te,ee)}return u}{let ft=new ii(null);return y.foreach((ln,nn)=>{const vn=xi(c,ln);je.isCompleteForPath(vn)&&(ft=ft.set(ln,je.getNode().getChild(vn)))}),Je(f,u,c,ft,O,V,Te,ee)}}(f,u,ft.path,ft.affectedTree,y,O,V)}else{if(c.type!==qo.LISTEN_COMPLETE)throw(0,we.g5)("Unknown operation type: "+c.type);ee=function fn(f,u,c,y,O){const V=u.serverCache;return R(f,Ur(u,V.getNode(),V.isFullyInitialized()||jr(c),V.isFiltered()),c,y,Aa,O)}(f,u,c.path,y,V)}const je=V.getChanges();return function fc(f,u,c){const y=u.eventCache;if(y.isFullyInitialized()){const O=y.getNode().isLeafNode()||y.getNode().isEmpty(),V=Po(f);(c.length>0||!f.eventCache.isFullyInitialized()||O&&!y.getNode().equals(V)||!y.getNode().getPriority().equals(V.getPriority()))&&c.push(dn(Po(u)))}}(u,ee,je),{viewCache:ee,changes:je}}(f.processor_,O,u,c,y);return function tc(f,u){(0,we.hu)(u.eventCache.getNode().isIndexed(f.filter.getIndex()),"Event snap not indexed"),(0,we.hu)(u.serverCache.getNode().isIndexed(f.filter.getIndex()),"Server snap not indexed")}(f.processor_,V.viewCache),(0,we.hu)(V.viewCache.serverCache.isFullyInitialized()||!O.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),f.viewCache_=V.viewCache,ka(f,V.changes,V.viewCache.eventCache.getNode(),null)}function ka(f,u,c,y){return function Cl(f,u,c,y){const O=[],V=[];return u.forEach(ee=>{"child_changed"===ee.type&&f.index_.indexedValueChanged(ee.oldSnap,ee.snapshotNode)&&V.push(function Oi(f,u){return{type:"child_moved",snapshotNode:u,childName:f}}(ee.childName,ee.snapshotNode))}),xn(f,O,"child_removed",u,y,c),xn(f,O,"child_added",u,y,c),xn(f,O,"child_moved",V,y,c),xn(f,O,"child_changed",u,y,c),xn(f,O,"value",u,y,c),O}(f.eventGenerator_,u,c,y?[y]:f.eventRegistrations_)}let Ps,bs;class Il{constructor(){this.views=new Map}}function Ae(f,u,c,y){const O=u.source.queryId;if(null!==O){const V=f.views.get(O);return(0,we.hu)(null!=V,"SyncTree gave us an op for an invalid query."),Xs(V,u,c,y)}{let V=[];for(const ee of f.views.values())V=V.concat(Xs(ee,u,c,y));return V}}function We(f,u,c,y,O){const ee=f.views.get(u._queryIdentifier);if(!ee){let Te=$l(c,O?y:null),je=!1;Te?je=!0:y instanceof Sr?(Te=Wc(c,y),je=!1):(Te=Sr.EMPTY_NODE,je=!1);const ft=fl(new Do(Te,je,!1),new Do(y,O,!1));return new li(u,ft)}return ee}function Mn(f){const u=[];for(const c of f.views.values())c.query._queryParams.loadsAllData()||u.push(c);return u}function zn(f,u){let c=null;for(const y of f.views.values())c=c||To(y,u);return c}function zr(f,u){return u._queryParams.loadsAllData()?Or(f):f.views.get(u._queryIdentifier)}function hi(f,u){return null!=zr(f,u)}function hr(f){return null!=Or(f)}function Or(f){for(const u of f.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let Ha=1;class la{constructor(u){this.listenProvider_=u,this.syncPointTree_=new ii(null),this.pendingWriteTree_=function hc(){return{visibleWrites:Qo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tl(f,u,c,y,O){return function Xo(f,u,c,y,O){(0,we.hu)(y>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===O&&(O=!0),f.allWrites.push({path:u,snap:c,writeId:y,visible:O}),O&&(f.visibleWrites=rs(f.visibleWrites,u,c)),f.lastWriteId=y}(f.pendingWriteTree_,u,c,y,O),O?ws(f,new wi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,c)):[]}function Ca(f,u,c=!1){const y=function Zi(f,u){for(let c=0;c<f.allWrites.length;c++){const y=f.allWrites[c];if(y.writeId===u)return y}return null}(f.pendingWriteTree_,u);if(function Gr(f,u){const c=f.allWrites.findIndex(Te=>Te.writeId===u);(0,we.hu)(c>=0,"removeWrite called with nonexistent writeId.");const y=f.allWrites[c];f.allWrites.splice(c,1);let O=y.visible,V=!1,ee=f.allWrites.length-1;for(;O&&ee>=0;){const Te=f.allWrites[ee];Te.visible&&(ee>=c&&ea(Te,y.path)?O=!1:Ki(y.path,Te.path)&&(V=!0)),ee--}return!!O&&(V?(function _i(f){f.visibleWrites=js(f.allWrites,ds,di()),f.lastWriteId=f.allWrites.length>0?f.allWrites[f.allWrites.length-1].writeId:-1}(f),!0):(y.snap?f.visibleWrites=el(f.visibleWrites,y.path):Gt(y.children,je=>{f.visibleWrites=el(f.visibleWrites,xi(y.path,je))}),!0))}(f.pendingWriteTree_,u)){let V=new ii(null);return null!=y.snap?V=V.set(di(),!0):Gt(y.children,ee=>{V=V.set(new ui(ee),!0)}),ws(f,new Ua(y.path,V,c))}return[]}function Na(f,u,c){return ws(f,new wi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,c))}function zc(f,u,c,y,O=!1){const V=u._path,ee=f.syncPointTree_.get(V);let Te=[];if(ee&&("default"===u._queryIdentifier||hi(ee,u))){const je=function en(f,u,c,y){const O=u._queryIdentifier,V=[];let ee=[];const Te=hr(f);if("default"===O)for(const[je,ft]of f.views.entries())ee=ee.concat(Rs(ft,c,y)),Ds(ft)&&(f.views.delete(je),ft.query._queryParams.loadsAllData()||V.push(ft.query));else{const je=f.views.get(O);je&&(ee=ee.concat(Rs(je,c,y)),Ds(je)&&(f.views.delete(O),je.query._queryParams.loadsAllData()||V.push(je.query)))}return Te&&!hr(f)&&V.push(new(function W(){return(0,we.hu)(Ps,"Reference.ts has not been loaded"),Ps}())(u._repo,u._path)),{removed:V,events:ee}}(ee,u,c,y);(function X(f){return 0===f.views.size})(ee)&&(f.syncPointTree_=f.syncPointTree_.remove(V));const ft=je.removed;if(Te=je.events,!O){const ln=-1!==ft.findIndex(vn=>vn._queryParams.loadsAllData()),nn=f.syncPointTree_.findOnPath(V,(vn,fr)=>hr(fr));if(ln&&!nn){const vn=f.syncPointTree_.subtree(V);if(!vn.isEmpty()){const fr=function Ru(f){return f.fold((u,c,y)=>{if(c&&hr(c))return[Or(c)];{let O=[];return c&&(O=Mn(c)),Gt(y,(V,ee)=>{O=O.concat(ee)}),O}})}(vn);for(let Yr=0;Yr<fr.length;++Yr){const as=fr[Yr],Bo=as.query,Ts=il(f,as);f.listenProvider_.startListening(Fo(Bo),cu(f,Bo),Ts.hashFn,Ts.onComplete)}}}!nn&&ft.length>0&&!y&&(ln?f.listenProvider_.stopListening(Fo(u),null):ft.forEach(vn=>{const fr=f.queryToTagMap.get(pc(vn));f.listenProvider_.stopListening(Fo(vn),fr)}))}!function Jd(f,u){for(let c=0;c<u.length;++c){const y=u[c];if(!y._queryParams.loadsAllData()){const O=pc(y),V=f.queryToTagMap.get(O);f.queryToTagMap.delete(O),f.tagToQueryMap.delete(V)}}}(f,ft)}return Te}function Qd(f,u,c,y){const O=uu(f,y);if(null!=O){const V=Yc(O),ee=V.path,Te=V.queryId,je=Jr(ee,u);return Id(f,ee,new wi(Jl(Te),je,c))}return[]}function Ou(f,u,c,y=!1){const O=u._path;let V=null,ee=!1;f.syncPointTree_.foreachOnPath(O,(vn,fr)=>{const Yr=Jr(vn,O);V=V||zn(fr,Yr),ee=ee||hr(fr)});let je,Te=f.syncPointTree_.get(O);Te?(ee=ee||hr(Te),V=V||zn(Te,di())):(Te=new Il,f.syncPointTree_=f.syncPointTree_.set(O,Te)),null!=V?je=!0:(je=!1,V=Sr.EMPTY_NODE,f.syncPointTree_.subtree(O).foreachChild((fr,Yr)=>{const as=zn(Yr,di());as&&(V=V.updateImmediateChild(fr,as))}));const ft=hi(Te,u);if(!ft&&!u._queryParams.loadsAllData()){const vn=pc(u);(0,we.hu)(!f.queryToTagMap.has(vn),"View does not exist, but we have a tag");const fr=function du(){return Ha++}();f.queryToTagMap.set(vn,fr),f.tagToQueryMap.set(fr,vn)}let nn=function $t(f,u,c,y,O,V){const ee=We(f,u,y,O,V);return f.views.has(u._queryIdentifier)||f.views.set(u._queryIdentifier,ee),function So(f,u){f.eventRegistrations_.push(u)}(ee,c),function Vl(f,u){const c=f.viewCache_.eventCache,y=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(Dn,(V,ee)=>{y.push(rr(V,ee))}),c.isFullyInitialized()&&y.push(dn(c.getNode())),ka(f,y,c.getNode(),u)}(ee,c)}(Te,u,c,Vr(f.pendingWriteTree_,O),V,je);if(!ft&&!ee&&!y){const vn=zr(Te,u);nn=nn.concat(function Td(f,u,c){const y=u._path,O=cu(f,u),V=il(f,c),ee=f.listenProvider_.startListening(Fo(u),O,V.hashFn,V.onComplete),Te=f.syncPointTree_.subtree(y);if(O)(0,we.hu)(!hr(Te.value),"If we're adding a query, it shouldn't be shadowed");else{const je=Te.fold((ft,ln,nn)=>{if(!jr(ft)&&ln&&hr(ln))return[Or(ln).query];{let vn=[];return ln&&(vn=vn.concat(Mn(ln).map(fr=>fr.query))),Gt(nn,(fr,Yr)=>{vn=vn.concat(Yr)}),vn}});for(let ft=0;ft<je.length;++ft){const ln=je[ft];f.listenProvider_.stopListening(Fo(ln),cu(f,ln))}}return ee}(f,u,vn))}return nn}function ko(f,u,c){const O=f.pendingWriteTree_,V=f.syncPointTree_.findOnPath(u,(ee,Te)=>{const ft=zn(Te,Jr(ee,u));if(ft)return ft});return nr(O,u,V,c,!0)}function ws(f,u){return id(u,f.syncPointTree_,null,Vr(f.pendingWriteTree_,di()))}function id(f,u,c,y){if(jr(f.path))return Sc(f,u,c,y);{const O=u.get(di());null==c&&null!=O&&(c=zn(O,di()));let V=[];const ee=$r(f.path),Te=f.operationForChild(ee),je=u.children.get(ee);if(je&&Te){const ft=c?c.getImmediateChild(ee):null,ln=Ul(y,ee);V=V.concat(id(Te,je,ft,ln))}return O&&(V=V.concat(Ae(O,f,y,c))),V}}function Sc(f,u,c,y){const O=u.get(di());null==c&&null!=O&&(c=zn(O,di()));let V=[];return u.children.inorderTraversal((ee,Te)=>{const je=c?c.getImmediateChild(ee):null,ft=Ul(y,ee),ln=f.operationForChild(ee);ln&&(V=V.concat(Sc(ln,Te,je,ft)))}),O&&(V=V.concat(Ae(O,f,y,c))),V}function il(f,u){const c=u.query,y=cu(f,c);return{hashFn:()=>(function Qn(f){return f.viewCache_.serverCache.getNode()}(u)||Sr.EMPTY_NODE).hash(),onComplete:O=>{if("ok"===O)return y?function Tc(f,u,c){const y=uu(f,c);if(y){const O=Yc(y),V=O.path,ee=O.queryId,Te=Jr(V,u);return Id(f,V,new hl(Jl(ee),Te))}return[]}(f,c._path,y):function rl(f,u){return ws(f,new hl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(f,c._path);{const V=function Mr(f,u){let c="Unknown Error";"too_big"===f?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===f?c="Client doesn't have permission to access the desired data.":"unavailable"===f&&(c="The service is unavailable");const y=new Error(f+" at "+u._path.toString()+": "+c);return y.code=f.toUpperCase(),y}(O,c);return zc(f,c,null,V)}}}}function cu(f,u){const c=pc(u);return f.queryToTagMap.get(c)}function pc(f){return f._path.toString()+"$"+f._queryIdentifier}function uu(f,u){return f.tagToQueryMap.get(u)}function Yc(f){const u=f.indexOf("$");return(0,we.hu)(-1!==u&&u<f.length-1,"Bad queryKey."),{queryId:f.substr(u+1),path:new ui(f.substr(0,u))}}function Id(f,u,c){const y=f.syncPointTree_.get(u);return(0,we.hu)(y,"Missing sync point for query tag that we're tracking"),Ae(y,c,Vr(f.pendingWriteTree_,u),null)}function Fo(f){return f._queryParams.loadsAllData()&&!f._queryParams.isDefault()?new(function wa(){return(0,we.hu)(bs,"Reference.ts has not been loaded"),bs}())(f._repo,f._path):f}class gc{constructor(u){this.node_=u}getImmediateChild(u){const c=this.node_.getImmediateChild(u);return new gc(c)}node(){return this.node_}}class Sd{constructor(u,c){this.syncTree_=u,this.path_=c}getImmediateChild(u){const c=xi(this.path_,u);return new Sd(this.syncTree_,c)}node(){return ko(this.syncTree_,this.path_)}}const Eh=function(f,u,c){return f&&"object"==typeof f?((0,we.hu)(".sv"in f,"Unexpected leaf node or priority contents"),"string"==typeof f[".sv"]?Pu(f[".sv"],u,c):"object"==typeof f[".sv"]?nc(f[".sv"],u):void(0,we.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2))):f},Pu=function(f,u,c){if("timestamp"===f)return c.timestamp;(0,we.hu)(!1,"Unexpected server value: "+f)},nc=function(f,u,c){f.hasOwnProperty("increment")||(0,we.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2));const y=f.increment;"number"!=typeof y&&(0,we.hu)(!1,"Unexpected increment value: "+y);const O=u.node();if((0,we.hu)(null!==O&&typeof O<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!O.isLeafNode())return y;const ee=O.getValue();return"number"!=typeof ee?y:ee+y},Ac=function(f,u,c,y){return ku(u,new Sd(c,f),y)},sd=function(f,u,c){return ku(f,new gc(u),c)};function ku(f,u,c){const y=f.getPriority().val(),O=Eh(y,u.getImmediateChild(".priority"),c);let V;if(f.isLeafNode()){const ee=f,Te=Eh(ee.getValue(),u,c);return Te!==ee.getValue()||O!==ee.getPriority().val()?new C(Te,gi(O)):f}{const ee=f;return V=ee,O!==ee.getPriority().val()&&(V=V.updatePriority(new C(O))),ee.forEachChild(Dn,(Te,je)=>{const ft=ku(je,u.getImmediateChild(Te),c);ft!==je&&(V=V.updateImmediateChild(Te,ft))}),V}}class Kc{constructor(u="",c=null,y={children:{},childCount:0}){this.name=u,this.parent=c,this.node=y}}function Tl(f,u){let c=u instanceof ui?u:new ui(u),y=f,O=$r(c);for(;null!==O;){const V=(0,we.DV)(y.node.children,O)||{children:{},childCount:0};y=new Kc(O,y,V),c=ti(c),O=$r(c)}return y}function jl(f){return f.node.value}function Nc(f,u){f.node.value=u,Fu(f)}function od(f){return f.node.childCount>0}function Ga(f,u){Gt(f.node.children,(c,y)=>{u(new Kc(c,f,y))})}function xc(f,u,c,y){c&&!y&&u(f),Ga(f,O=>{xc(O,u,!0,y)}),c&&y&&u(f)}function ta(f){return new ui(null===f.parent?f.name:ta(f.parent)+"/"+f.name)}function Fu(f){null!==f.parent&&function Wa(f,u,c){const y=function Ad(f){return void 0===jl(f)&&!od(f)}(c),O=(0,we.r3)(f.node.children,u);y&&O?(delete f.node.children[u],f.node.childCount--,Fu(f)):!y&&!O&&(f.node.children[u]=c.node,f.node.childCount++,Fu(f))}(f.parent,f.name,f)}const ho=/[\[\].#$\/\u0000-\u001F\u007F]/,ad=/[\[\].#$\u0000-\u001F\u007F]/,sl=10485760,Mc=function(f){return"string"==typeof f&&0!==f.length&&!ho.test(f)},ld=function(f){return"string"==typeof f&&0!==f.length&&!ad.test(f)},mc=function(f){return null===f||"string"==typeof f||"number"==typeof f&&!ir(f)||f&&"object"==typeof f&&(0,we.r3)(f,".sv")},za=function(f,u,c,y){y&&void 0===u||ca((0,we.gK)(f,"value"),u,c)},ca=function(f,u,c){const y=c instanceof ui?new Ls(c,f):c;if(void 0===u)throw new Error(f+"contains undefined "+ai(y));if("function"==typeof u)throw new Error(f+"contains a function "+ai(y)+" with contents = "+u.toString());if(ir(u))throw new Error(f+"contains "+u.toString()+" "+ai(y));if("string"==typeof u&&u.length>sl/3&&(0,we.ug)(u)>sl)throw new Error(f+"contains a string greater than "+sl+" utf8 bytes "+ai(y)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let O=!1,V=!1;if(Gt(u,(ee,Te)=>{if(".value"===ee)O=!0;else if(".priority"!==ee&&".sv"!==ee&&(V=!0,!Mc(ee)))throw new Error(f+" contains an invalid key ("+ee+") "+ai(y)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ha(f,u){f.parts_.length>0&&(f.byteLength_+=1),f.parts_.push(u),f.byteLength_+=(0,we.ug)(u),us(f)})(y,ee),ca(f,Te,y),function no(f){const u=f.parts_.pop();f.byteLength_-=(0,we.ug)(u),f.parts_.length>0&&(f.byteLength_-=1)}(y)}),O&&V)throw new Error(f+' contains ".value" child '+ai(y)+" in addition to actual children.")}},Zc=function(f,u,c,y){if(y&&void 0===u)return;const O=(0,we.gK)(f,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(O+" must be an object containing the children to replace.");const V=[];Gt(u,(ee,Te)=>{const je=new ui(ee);if(ca(O,Te,xi(c,je)),".priority"===xs(je)&&!mc(Te))throw new Error(O+"contains an invalid value for '"+je.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");V.push(je)}),function(f,u){let c,y;for(c=0;c<u.length;c++){y=u[c];const V=Mo(y);for(let ee=0;ee<V.length;ee++)if((".priority"!==V[ee]||ee!==V.length-1)&&!Mc(V[ee]))throw new Error(f+"contains an invalid key ("+V[ee]+") in path "+y.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(bo);let O=null;for(c=0;c<u.length;c++){if(y=u[c],null!==O&&Ki(O,y))throw new Error(f+"contains a path "+O.toString()+" that is ancestor of another path "+y.toString());O=y}}(O,V)},Lu=function(f,u,c){if(!c||void 0!==u){if(ir(u))throw new Error((0,we.gK)(f,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mc(u))throw new Error((0,we.gK)(f,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Oc=function(f,u,c,y){if(!(y&&void 0===c||Mc(c)))throw new Error((0,we.gK)(f,u)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Al=function(f,u,c,y){if(!(y&&void 0===c||ld(c)))throw new Error((0,we.gK)(f,u)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ea=function(f,u){if(".info"===$r(u))throw new Error(f+" failed = Can't modify data under /.info/")},xa=function(f,u){const c=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!Mc(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==c.length&&!function(f){return f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),ld(f)}(c))throw new Error((0,we.gK)(f,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class _c{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nl(f,u){let c=null;for(let y=0;y<u.length;y++){const O=u[y],V=O.getPath();null!==c&&!go(V,c.path)&&(f.eventLists_.push(c),c=null),null===c&&(c={events:[],path:V}),c.events.push(O)}c&&f.eventLists_.push(c)}function Bu(f,u,c){Nl(f,c),ml(f,y=>go(y,u))}function Ho(f,u,c){Nl(f,c),ml(f,y=>Ki(y,u)||Ki(u,y))}function ml(f,u){f.recursionDepth_++;let c=!0;for(let y=0;y<f.eventLists_.length;y++){const O=f.eventLists_[y];O&&(u(O.path)?(Nd(f.eventLists_[y]),f.eventLists_[y]=null):c=!1)}c&&(f.eventLists_=[]),f.recursionDepth_--}function Nd(f){for(let u=0;u<f.events.length;u++){const c=f.events[u];if(null!==c){f.events[u]=null;const y=c.getEventRunner();Ht&&Et("event: "+c.toString()),Br(y)}}}const ud="repo_interrupt";class $u{constructor(u,c,y,O){this.repoInfo_=u,this.forceRestClient_=c,this.authTokenProvider_=y,this.appCheckProvider_=O,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _c,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fl(),this.transactionQueueTree_=new Kc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hu(f){const c=f.infoData_.getNode(new ui(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function Xc(f){return function(f){return(f=f||{}).timestamp=f.timestamp||(new Date).getTime(),f}({timestamp:hu(f)})}function fu(f,u,c,y,O){f.dataUpdateCount++;const V=new ui(u);c=f.interceptServerDataCallback_?f.interceptServerDataCallback_(u,c):c;let ee=[];if(O)if(y){const je=(0,we.UI)(c,ft=>gi(ft));ee=function rd(f,u,c,y){const O=uu(f,y);if(O){const V=Yc(O),ee=V.path,Te=V.queryId,je=Jr(ee,u),ft=ii.fromObject(c);return Id(f,ee,new ro(Jl(Te),je,ft))}return[]}(f.serverSyncTree_,V,je,O)}else{const je=gi(c);ee=Qd(f.serverSyncTree_,V,je,O)}else if(y){const je=(0,we.UI)(c,ft=>gi(ft));ee=function nl(f,u,c){const y=ii.fromObject(c);return ws(f,new ro({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,y))}(f.serverSyncTree_,V,je)}else{const je=gi(c);ee=Na(f.serverSyncTree_,V,je)}let Te=V;ee.length>0&&(Te=xl(f,V)),Ho(f.eventQueue_,Te,ee)}function Go(f,u){Rc(f,"connected",u),!1===u&&function gu(f){zo(f,"onDisconnectEvents");const u=Xc(f),c=Fl();$a(f.onDisconnect_,di(),(O,V)=>{const ee=Ac(O,V,f.serverSyncTree_,u);Ta(c,O,ee)});let y=[];$a(c,di(),(O,V)=>{y=y.concat(Na(f.serverSyncTree_,O,V));const ee=rc(f,O);xl(f,ee)}),f.onDisconnect_=Fl(),Ho(f.eventQueue_,di(),y)}(f)}function Rc(f,u,c){const y=new ui("/.info/"+u),O=gi(c);f.infoData_.updateSnapshot(y,O);const V=Na(f.infoSyncTree_,y,O);Ho(f.eventQueue_,y,V)}function ol(f){return f.nextWriteId_++}function dd(f,u,c,y,O){zo(f,"set",{path:u.toString(),value:c,priority:y});const V=Xc(f),ee=gi(c,y),Te=ko(f.serverSyncTree_,u),je=sd(ee,Te,V),ft=ol(f),ln=tl(f.serverSyncTree_,u,je,ft,!0);Nl(f.eventQueue_,ln),f.server_.put(u.toString(),ee.val(!0),(vn,fr)=>{const Yr="ok"===vn;Yr||Un("set at "+u+" failed: "+vn);const as=Ca(f.serverSyncTree_,ft,!Yr);Ho(f.eventQueue_,u,as),Gl(0,O,vn,fr)});const nn=rc(f,u);xl(f,nn),Ho(f.eventQueue_,nn,[])}function mu(f,u,c){f.server_.onDisconnectCancel(u.toString(),(y,O)=>{"ok"===y&&Eo(f.onDisconnect_,u),Gl(0,c,y,O)})}function Od(f,u,c,y){const O=gi(c);f.server_.onDisconnectPut(u.toString(),O.val(!0),(V,ee)=>{"ok"===V&&Ta(f.onDisconnect_,u,O),Gl(0,y,V,ee)})}function Hl(f,u,c){let y;y=".info"===$r(u._path)?zc(f.infoSyncTree_,u,c):zc(f.serverSyncTree_,u,c),Bu(f.eventQueue_,u._path,y)}function _l(f){f.persistentConnection_&&f.persistentConnection_.interrupt(ud)}function zo(f,...u){let c="";f.persistentConnection_&&(c=f.persistentConnection_.id+":"),Et(c,...u)}function Gl(f,u,c,y){u&&Br(()=>{if("ok"===c)u(null);else{const O=(c||"error").toUpperCase();let V=O;y&&(V+=": "+y);const ee=new Error(V);ee.code=O,u(ee)}})}function Uu(f,u,c){return ko(f.serverSyncTree_,u,c)||Sr.EMPTY_NODE}function Hs(f,u=f.transactionQueueTree_){if(u||vc(f,u),jl(u)){const c=Ci(f,u);(0,we.hu)(c.length>0,"Sending zero length transaction queue"),c.every(O=>0===O.status)&&function eu(f,u,c){const y=c.map(ft=>ft.currentWriteId),O=Uu(f,u,y);let V=O;const ee=O.hash();for(let ft=0;ft<c.length;ft++){const ln=c[ft];(0,we.hu)(0===ln.status,"tryToSendTransactionQueue_: items in queue should all be run."),ln.status=1,ln.retryCount++;const nn=Jr(u,ln.path);V=V.updateChild(nn,ln.currentOutputSnapshotRaw)}const Te=V.val(!0),je=u;f.server_.put(je.toString(),Te,ft=>{zo(f,"transaction put response",{path:je.toString(),status:ft});let ln=[];if("ok"===ft){const nn=[];for(let vn=0;vn<c.length;vn++)c[vn].status=2,ln=ln.concat(Ca(f.serverSyncTree_,c[vn].currentWriteId)),c[vn].onComplete&&nn.push(()=>c[vn].onComplete(null,!0,c[vn].currentOutputSnapshotResolved)),c[vn].unwatcher();vc(f,Tl(f.transactionQueueTree_,u)),Hs(f,f.transactionQueueTree_),Ho(f.eventQueue_,u,ln);for(let vn=0;vn<nn.length;vn++)Br(nn[vn])}else{if("datastale"===ft)for(let nn=0;nn<c.length;nn++)c[nn].status=3===c[nn].status?4:0;else{Un("transaction at "+je.toString()+" failed: "+ft);for(let nn=0;nn<c.length;nn++)c[nn].status=4,c[nn].abortReason=ft}xl(f,u)}},ee)}(f,ta(u),c)}else od(u)&&Ga(u,c=>{Hs(f,c)})}function xl(f,u){const c=_u(f,u),y=ta(c);return function Fc(f,u,c){if(0===u.length)return;const y=[];let O=[];const ee=u.filter(Te=>0===Te.status).map(Te=>Te.currentWriteId);for(let Te=0;Te<u.length;Te++){const je=u[Te],ft=Jr(c,je.path);let nn,ln=!1;if((0,we.hu)(null!==ft,"rerunTransactionsUnderNode_: relativePath should not be null."),4===je.status)ln=!0,nn=je.abortReason,O=O.concat(Ca(f.serverSyncTree_,je.currentWriteId,!0));else if(0===je.status)if(je.retryCount>=25)ln=!0,nn="maxretry",O=O.concat(Ca(f.serverSyncTree_,je.currentWriteId,!0));else{const vn=Uu(f,je.path,ee);je.currentInputSnapshot=vn;const fr=u[Te].update(vn.val());if(void 0!==fr){ca("transaction failed: Data returned ",fr,je.path);let Yr=gi(fr);"object"==typeof fr&&null!=fr&&(0,we.r3)(fr,".priority")||(Yr=Yr.updatePriority(vn.getPriority()));const Bo=je.currentWriteId,Ts=Xc(f),Ec=sd(Yr,vn,Ts);je.currentOutputSnapshotRaw=Yr,je.currentOutputSnapshotResolved=Ec,je.currentWriteId=ol(f),ee.splice(ee.indexOf(Bo),1),O=O.concat(tl(f.serverSyncTree_,je.path,Ec,je.currentWriteId,je.applyLocally)),O=O.concat(Ca(f.serverSyncTree_,Bo,!0))}else ln=!0,nn="nodata",O=O.concat(Ca(f.serverSyncTree_,je.currentWriteId,!0))}Ho(f.eventQueue_,c,O),O=[],ln&&(u[Te].status=2,setTimeout(u[Te].unwatcher,Math.floor(0)),u[Te].onComplete&&y.push("nodata"===nn?()=>u[Te].onComplete(null,!1,u[Te].currentInputSnapshot):()=>u[Te].onComplete(new Error(nn),!1,null)))}vc(f,f.transactionQueueTree_);for(let Te=0;Te<y.length;Te++)Br(y[Te]);Hs(f,f.transactionQueueTree_)}(f,Ci(f,c),y),y}function _u(f,u){let c,y=f.transactionQueueTree_;for(c=$r(u);null!==c&&void 0===jl(y);)y=Tl(y,c),c=$r(u=ti(u));return y}function Ci(f,u){const c=[];return yc(f,u,c),c.sort((y,O)=>y.order-O.order),c}function yc(f,u,c){const y=jl(u);if(y)for(let O=0;O<y.length;O++)c.push(y[O]);Ga(u,O=>{yc(f,O,c)})}function vc(f,u){const c=jl(u);if(c){let y=0;for(let O=0;O<c.length;O++)2!==c[O].status&&(c[y]=c[O],y++);c.length=y,Nc(u,c.length>0?c:void 0)}Ga(u,y=>{vc(f,y)})}function rc(f,u){const c=ta(_u(f,u)),y=Tl(f.transactionQueueTree_,u);return function qc(f,u,c){let y=c?f:f.parent;for(;null!==y;){if(u(y))return!0;y=y.parent}}(y,O=>{ua(f,O)}),ua(f,y),xc(y,O=>{ua(f,O)}),c}function ua(f,u){const c=jl(u);if(c){const y=[];let O=[],V=-1;for(let ee=0;ee<c.length;ee++)3===c[ee].status||(1===c[ee].status?((0,we.hu)(V===ee-1,"All SENT items should be at beginning of queue."),V=ee,c[ee].status=3,c[ee].abortReason="set"):((0,we.hu)(0===c[ee].status,"Unexpected transaction status in abort"),c[ee].unwatcher(),O=O.concat(Ca(f.serverSyncTree_,c[ee].currentWriteId,!0)),c[ee].onComplete&&y.push(c[ee].onComplete.bind(null,new Error("set"),!1,null))));-1===V?Nc(u,void 0):c.length=V+1,Ho(f.eventQueue_,ta(u),O);for(let ee=0;ee<y.length;ee++)Br(y[ee])}}const Lc=function(f,u){const c=ic(f),y=c.namespace;return"firebase.com"===c.domain&&Vn(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!y||"undefined"===y)&&"localhost"!==c.domain&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Un("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Tr(c.host,c.secure,y,"ws"===c.scheme||"wss"===c.scheme,u,"",y!==c.subdomain),path:new ui(c.pathString)}},ic=function(f){let u="",c="",y="",O="",V="",ee=!0,Te="https",je=443;if("string"==typeof f){let ft=f.indexOf("//");ft>=0&&(Te=f.substring(0,ft-1),f=f.substring(ft+2));let ln=f.indexOf("/");-1===ln&&(ln=f.length);let nn=f.indexOf("?");-1===nn&&(nn=f.length),u=f.substring(0,Math.min(ln,nn)),ln<nn&&(O=function yu(f){let u="";const c=f.split("/");for(let y=0;y<c.length;y++)if(c[y].length>0){let O=c[y];try{O=decodeURIComponent(O.replace(/\+/g," "))}catch{}u+="/"+O}return u}(f.substring(ln,nn)));const vn=function vu(f){const u={};"?"===f.charAt(0)&&(f=f.substring(1));for(const c of f.split("&")){if(0===c.length)continue;const y=c.split("=");2===y.length?u[decodeURIComponent(y[0])]=decodeURIComponent(y[1]):Un(`Invalid query segment '${c}' in query '${f}'`)}return u}(f.substring(Math.min(f.length,nn)));ft=u.indexOf(":"),ft>=0?(ee="https"===Te||"wss"===Te,je=parseInt(u.substring(ft+1),10)):ft=u.length;const fr=u.slice(0,ft);if("localhost"===fr.toLowerCase())c="localhost";else if(fr.split(".").length<=2)c=fr;else{const Yr=u.indexOf(".");y=u.substring(0,Yr).toLowerCase(),c=u.substring(Yr+1),V=y}"ns"in vn&&(V=vn.ns)}return{host:u,port:je,domain:c,subdomain:y,secure:ee,scheme:Te,pathString:O,namespace:V}};class tu{constructor(u,c,y,O){this.eventType=u,this.eventRegistration=c,this.snapshot=y,this.prevName=O}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,we.Pz)(this.snapshot.exportVal())}}class Yo{constructor(u,c,y){this.eventRegistration=u,this.error=c,this.path=y}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Bc{constructor(u,c){this.snapshotCallback=u,this.cancelCallback=c}onValue(u,c){this.snapshotCallback.call(null,u,c)}onCancel(u){return(0,we.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class Vu{constructor(u,c){this._repo=u,this._path=c}cancel(){const u=new we.BH;return mu(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){Ea("OnDisconnect.remove",this._path);const u=new we.BH;return Od(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){Ea("OnDisconnect.set",this._path),za("OnDisconnect.set",u,this._path,!1);const c=new we.BH;return Od(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}setWithPriority(u,c){Ea("OnDisconnect.setWithPriority",this._path),za("OnDisconnect.setWithPriority",u,this._path,!1),Lu("OnDisconnect.setWithPriority",c,!1);const y=new we.BH;return function Wo(f,u,c,y,O){const V=gi(c,y);f.server_.onDisconnectPut(u.toString(),V.val(!0),(ee,Te)=>{"ok"===ee&&Ta(f.onDisconnect_,u,V),Gl(0,O,ee,Te)})}(this._repo,this._path,u,c,y.wrapCallback(()=>{})),y.promise}update(u){Ea("OnDisconnect.update",this._path),Zc("OnDisconnect.update",u,this._path,!1);const c=new we.BH;return function ss(f,u,c,y){if((0,we.xb)(c))return Et("onDisconnect().update() called with empty data.  Don't do anything."),void Gl(0,y,"ok",void 0);f.server_.onDisconnectMerge(u.toString(),c,(O,V)=>{"ok"===O&&Gt(c,(ee,Te)=>{const je=gi(Te);Ta(f.onDisconnect_,xi(u,ee),je)}),Gl(0,y,O,V)})}(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}}class Fa{constructor(u,c,y,O){this._repo=u,this._path=c,this._queryParams=y,this._orderByCalled=O}get key(){return jr(this._path)?null:xs(this._path)}get ref(){return new Ka(this._repo,this._path)}get _queryIdentifier(){const u=kl(this._queryParams),c=lt(u);return"{}"===c?"default":c}get _queryObject(){return kl(this._queryParams)}isEqual(u){if(!((u=(0,we.m9)(u))instanceof Fa))return!1;const c=this._repo===u._repo,y=go(this._path,u._path);return c&&y&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function co(f){let u="";for(let c=f.pieceNum_;c<f.pieces_.length;c++)""!==f.pieces_[c]&&(u+="/"+encodeURIComponent(String(f.pieces_[c])));return u||"/"}(this._path)}}function na(f,u){if(!0===f._orderByCalled)throw new Error(u+": You can't combine multiple orderBy calls.")}function La(f){let u=null,c=null;if(f.hasStart()&&(u=f.getIndexStartValue()),f.hasEnd()&&(c=f.getIndexEndValue()),f.getIndex()===es){const y="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",O="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(f.hasStart()){if(f.getIndexStartName()!==Rr)throw new Error(y);if("string"!=typeof u)throw new Error(O)}if(f.hasEnd()){if(f.getIndexEndName()!==sr)throw new Error(y);if("string"!=typeof c)throw new Error(O)}}else if(f.getIndex()===Dn){if(null!=u&&!mc(u)||null!=c&&!mc(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,we.hu)(f.getIndex()instanceof gs||f.getIndex()===Oo,"unknown index type."),null!=u&&"object"==typeof u||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function bu(f){if(f.hasStart()&&f.hasEnd()&&f.hasLimit()&&!f.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ka extends Fa{constructor(u,c){super(u,c,new ns,!1)}get parent(){const u=ys(this._path);return null===u?null:new Ka(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class fo{constructor(u,c,y){this._node=u,this.ref=c,this._index=y}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const c=new ui(u),y=al(this.ref,u);return new fo(this._node.getChild(c),y,Dn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(y,O)=>u(new fo(O,al(this.ref,y),Dn)))}hasChild(u){const c=new ui(u);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sc(f,u){return(f=(0,we.m9)(f))._checkNotDeleted("ref"),void 0!==u?al(f._root,u):f._root}function ju(f,u){(f=(0,we.m9)(f))._checkNotDeleted("refFromURL");const c=Lc(u,f._repo.repoInfo_.nodeAdmin);xa("refFromURL",c);const y=c.repoInfo;return!f._repo.repoInfo_.isCustomHost()&&y.host!==f._repo.repoInfo_.host&&Vn("refFromURL: Host name does not match the current database: (found "+y.host+" but expected "+f._repo.repoInfo_.host+")"),sc(f,c.path.toString())}function al(f,u){return null===$r((f=(0,we.m9)(f))._path)?(c=u,c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Al("child","path",c,!1)):Al("child","path",u,!1),new Ka(f._repo,xi(f._path,u));var c}function m(f,u){f=(0,we.m9)(f),Ea("set",f._path),za("set",u,f._path,!1);const c=new we.BH;return dd(f._repo,f._path,u,null,c.wrapCallback(()=>{})),c.promise}function ie(f,u){Zc("update",u,f._path,!1);const c=new we.BH;return function pu(f,u,c,y){zo(f,"update",{path:u.toString(),value:c});let O=!0;const V=Xc(f),ee={};if(Gt(c,(Te,je)=>{O=!1,ee[Te]=Ac(xi(u,Te),gi(je),f.serverSyncTree_,V)}),O)Et("update() called with empty data.  Don't do anything."),Gl(0,y,"ok",void 0);else{const Te=ol(f),je=function gl(f,u,c,y){!function Pa(f,u,c,y){(0,we.hu)(y>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:u,children:c,writeId:y,visible:!0}),f.visibleWrites=pl(f.visibleWrites,u,c),f.lastWriteId=y}(f.pendingWriteTree_,u,c,y);const O=ii.fromObject(c);return ws(f,new ro({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,O))}(f.serverSyncTree_,u,ee,Te);Nl(f.eventQueue_,je),f.server_.merge(u.toString(),c,(ft,ln)=>{const nn="ok"===ft;nn||Un("update at "+u+" failed: "+ft);const vn=Ca(f.serverSyncTree_,Te,!nn),fr=vn.length>0?xl(f,u):u;Ho(f.eventQueue_,fr,vn),Gl(0,y,ft,ln)}),Gt(c,ft=>{const ln=rc(f,xi(u,ft));xl(f,ln)}),Ho(f.eventQueue_,u,[])}}(f._repo,f._path,u,c.wrapCallback(()=>{})),c.promise}function Oe(f){f=(0,we.m9)(f);const u=new Bc(()=>{}),c=new Pt(u);return function Md(f,u,c){const y=function Dd(f,u){const c=u._path;let y=null;f.syncPointTree_.foreachOnPath(c,(ft,ln)=>{const nn=Jr(ft,c);y=y||zn(ln,nn)});let O=f.syncPointTree_.get(c);O?y=y||zn(O,di()):(O=new Il,f.syncPointTree_=f.syncPointTree_.set(c,O));const V=null!=y,ee=V?new Do(y,!0,!1):null;return function Wr(f){return Po(f.viewCache_)}(We(O,u,Vr(f.pendingWriteTree_,u._path),V?ee.getNode():Sr.EMPTY_NODE,V))}(f.serverSyncTree_,u);return null!=y?Promise.resolve(y):f.server_.get(u).then(O=>{const V=gi(O).withIndex(u._queryParams.getIndex());let ee;if(Ou(f.serverSyncTree_,u,c,!0),u._queryParams.loadsAllData())ee=Na(f.serverSyncTree_,u._path,V);else{const Te=cu(f.serverSyncTree_,u);ee=Qd(f.serverSyncTree_,u._path,V,Te)}return Ho(f.eventQueue_,u._path,ee),zc(f.serverSyncTree_,u,c,null,!0),V},O=>(zo(f,"get for query "+(0,we.Pz)(u)+" failed: "+O),Promise.reject(new Error(O))))}(f._repo,f,c).then(y=>new fo(y,new Ka(f._repo,f._path),f._queryParams.getIndex()))}class Pt{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,c){const y=c._queryParams.getIndex();return new tu("value",this,new fo(u.snapshotNode,new Ka(c._repo,c._path),y))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Yo(this,u,c):null}matches(u){return u instanceof Pt&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class on{constructor(u,c){this.eventType=u,this.callbackContext=c}respondsTo(u){let c="children_added"===u?"child_added":u;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Yo(this,u,c):null}createEvent(u,c){(0,we.hu)(null!=u.childName,"Child events should have a childName.");const y=al(new Ka(c._repo,c._path),u.childName),O=c._queryParams.getIndex();return new tu(u.type,this,new fo(u.snapshotNode,y,O),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof on&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Yn(f,u,c,y,O){let V;if("object"==typeof y&&(V=void 0,O=y),"function"==typeof y&&(V=y),O&&O.onlyOnce){const je=c,ft=(ln,nn)=>{Hl(f._repo,f,Te),je(ln,nn)};ft.userCallback=c.userCallback,ft.context=c.context,c=ft}const ee=new Bc(c,V||void 0),Te="value"===u?new Pt(ee):new on(u,ee);return function Pc(f,u,c){let y;y=".info"===$r(u._path)?Ou(f.infoSyncTree_,u,c):Ou(f.serverSyncTree_,u,c),Bu(f.eventQueue_,u._path,y)}(f._repo,f,Te),()=>Hl(f._repo,f,Te)}function br(f,u,c,y){return Yn(f,"value",u,c,y)}function si(f,u,c,y){return Yn(f,"child_added",u,c,y)}function Xr(f,u,c,y){return Yn(f,"child_changed",u,c,y)}function Lo(f,u,c,y){return Yn(f,"child_moved",u,c,y)}function yl(f,u,c,y){return Yn(f,"child_removed",u,c,y)}function $c(f,u,c){let y=null;const O=c?new Bc(c):null;"value"===u?y=new Pt(O):u&&(y=new on(u,O)),Hl(f._repo,f,y)}class Ml{}class Cu extends Ml{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){za("endAt",this._value,u._path,!0);const c=jo(u._queryParams,this._value,this._key);if(bu(c),La(c),u._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fa(u._repo,u._path,c,u._orderByCalled)}}class Eu extends Ml{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){za("endBefore",this._value,u._path,!1);const c=function Ba(f,u,c){let y,O;return f.index_===es?("string"==typeof u&&(u=Wt(u)),O=jo(f,u,c)):(y=null==c?Rr:Wt(c),O=jo(f,u,y)),O.endBeforeSet_=!0,O}(u._queryParams,this._value,this._key);if(bu(c),La(c),u._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fa(u._repo,u._path,c,u._orderByCalled)}}class Hu extends Ml{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){za("startAt",this._value,u._path,!0);const c=ga(u._queryParams,this._value,this._key);if(bu(c),La(c),u._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fa(u._repo,u._path,c,u._orderByCalled)}}class Gu extends Ml{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){za("startAfter",this._value,u._path,!1);const c=function ma(f,u,c){let y;if(f.index_===es)"string"==typeof u&&(u=ut(u)),y=ga(f,u,c);else{let O;O=null==c?sr:ut(c),y=ga(f,u,O)}return y.startAfterSet_=!0,y}(u._queryParams,this._value,this._key);if(bu(c),La(c),u._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fa(u._repo,u._path,c,u._orderByCalled)}}class cf extends Ml{constructor(u){super(),this._limit=u}_apply(u){if(u._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fa(u._repo,u._path,function pa(f,u){const c=f.copy();return c.limitSet_=!0,c.limit_=u,c.viewFrom_="l",c}(u._queryParams,this._limit),u._orderByCalled)}}class oc extends Ml{constructor(u){super(),this._limit=u}_apply(u){if(u._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fa(u._repo,u._path,function Ro(f,u){const c=f.copy();return c.limitSet_=!0,c.limit_=u,c.viewFrom_="r",c}(u._queryParams,this._limit),u._orderByCalled)}}class fd extends Ml{constructor(u){super(),this._path=u}_apply(u){na(u,"orderByChild");const c=new ui(this._path);if(jr(c))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const y=new gs(c),O=wl(u._queryParams,y);return La(O),new Fa(u._repo,u._path,O,!0)}}class Th extends Ml{_apply(u){na(u,"orderByKey");const c=wl(u._queryParams,es);return La(c),new Fa(u._repo,u._path,c,!0)}}class Sh extends Ml{_apply(u){na(u,"orderByPriority");const c=wl(u._queryParams,Dn);return La(c),new Fa(u._repo,u._path,c,!0)}}class Nh extends Ml{_apply(u){na(u,"orderByValue");const c=wl(u._queryParams,Oo);return La(c),new Fa(u._repo,u._path,c,!0)}}class Jf extends Ml{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){if(za("equalTo",this._value,u._path,!1),u._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(u._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Cu(this._value,this._key)._apply(new Hu(this._value,this._key)._apply(u))}}function wc(f,...u){let c=(0,we.m9)(f);for(const y of u)c=y._apply(c);return c}(function Mu(f){(0,we.hu)(!Ps,"__referenceConstructor has already been defined"),Ps=f})(Ka),function aa(f){(0,we.hu)(!bs,"__referenceConstructor has already been defined"),bs=f}(Ka);const xh={};function hf(f,u,c,y,O){let V=y||f.options.databaseURL;void 0===V&&(f.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Et("Using default host for project ",f.options.projectId),V=`${f.options.projectId}-default-rtdb.firebaseio.com`);let je,ft,ee=Lc(V,O),Te=ee.repoInfo;typeof process<"u"&&process.env&&(ft=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ft?(je=!0,V=`http://${ft}?ns=${Te.namespace}`,ee=Lc(V,O),Te=ee.repoInfo):je=!ee.repoInfo.secure;const ln=O&&je?new Ke(Ke.OWNER):new ot(f.name,f.options,u);xa("Invalid Firebase Database URL",ee),jr(ee.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const nn=function ff(f,u,c,y){let O=xh[u.name];O||(O={},xh[u.name]=O);let V=O[f.toURLString()];return V&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),V=new $u(f,false,c,y),O[f.toURLString()]=V,V}(Te,f,ln,new ci(f.name,c));return new pf(nn,f)}class pf{constructor(u,c){this._repoInternal=u,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Jc(f,u,c){if(f.stats_=oi(f.repoInfo_),f.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)f.server_=new Zl(f.repoInfo_,(y,O,V,ee)=>{fu(f,y,O,V,ee)},f.authTokenProvider_,f.appCheckProvider_),setTimeout(()=>Go(f,!0),0);else{if(typeof c<"u"&&null!==c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,we.Pz)(c)}catch(y){throw new Error("Invalid authOverride provided: "+y)}}f.persistentConnection_=new ia(f.repoInfo_,u,(y,O,V,ee)=>{fu(f,y,O,V,ee)},y=>{Go(f,y)},y=>{!function xd(f,u){Gt(u,(c,y)=>{Rc(f,c,y)})}(f,y)},f.authTokenProvider_,f.appCheckProvider_,c),f.server_=f.persistentConnection_}f.authTokenProvider_.addTokenChangeListener(y=>{f.server_.refreshAuthToken(y)}),f.appCheckProvider_.addTokenChangeListener(y=>{f.server_.refreshAppCheckToken(y.token)}),f.statsReporter_=function Xi(f,u){const c=f.toString();return Ai[c]||(Ai[c]=u()),Ai[c]}(f.repoInfo_,()=>new dc(f.stats_,f.server_)),f.infoData_=new ou,f.infoSyncTree_=new la({startListening:(y,O,V,ee)=>{let Te=[];const je=f.infoData_.getNode(y._path);return je.isEmpty()||(Te=Na(f.infoSyncTree_,y._path,je),setTimeout(()=>{ee("ok")},0)),Te},stopListening:()=>{}}),Rc(f,"connected",!1),f.serverSyncTree_=new la({startListening:(y,O,V,ee)=>(f.server_.listen(y,V,O,(Te,je)=>{const ft=ee(Te,je);Ho(f.eventQueue_,y._path,ft)}),[]),stopListening:(y,O)=>{f.server_.unlisten(y,O)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ka(this._repo,di())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kd(f,u){const c=xh[u];(!c||c[f.key]!==f)&&Vn(`Database ${u}(${f.repoInfo_}) has already been deleted.`),_l(f),delete c[f.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&Vn("Cannot call "+u+" on a deleted database.")}}function th(){jt.IS_TRANSPORT_INITIALIZED&&Un("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gf(){th(),or.forceDisallow()}function Mh(){th(),Dt.forceDisallow(),or.forceAllow()}function Ko(f,u){He(f,u)}const mf={".sv":"timestamp"};class Du{constructor(u,c){this.committed=u,this.snapshot=c}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ia.prototype.simpleListen=function(f,u){this.sendRequest("q",{p:f},u)},ia.prototype.echo=function(f,u){this.sendRequest("echo",{d:f},u)},function pd(f){Ln(Sn.SDK_VERSION),(0,Sn._registerComponent)(new Bt.wA("database",(u,{instanceIdentifier:c})=>hf(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,Sn.registerVersion)(qn,"0.13.6",f),(0,Sn.registerVersion)(qn,"0.13.6","esm2017")}();const g=new Kn.Yd("@firebase/database-compat"),w=function(f){g.warn("FIREBASE WARNING: "+f)};class B{constructor(u){this._delegate=u}cancel(u){(0,we.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,we.Wj)("OnDisconnect.cancel","onComplete",u,!0);const c=this._delegate.cancel();return u&&c.then(()=>u(null),y=>u(y)),c}remove(u){(0,we.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,we.Wj)("OnDisconnect.remove","onComplete",u,!0);const c=this._delegate.remove();return u&&c.then(()=>u(null),y=>u(y)),c}set(u,c){(0,we.Dv)("OnDisconnect.set",1,2,arguments.length),(0,we.Wj)("OnDisconnect.set","onComplete",c,!0);const y=this._delegate.set(u);return c&&y.then(()=>c(null),O=>c(O)),y}setWithPriority(u,c,y){(0,we.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,we.Wj)("OnDisconnect.setWithPriority","onComplete",y,!0);const O=this._delegate.setWithPriority(u,c);return y&&O.then(()=>y(null),V=>y(V)),O}update(u,c){if((0,we.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(u)){const O={};for(let V=0;V<u.length;++V)O[""+V]=u[V];u=O,w("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,we.Wj)("OnDisconnect.update","onComplete",c,!0);const y=this._delegate.update(u);return c&&y.then(()=>c(null),O=>c(O)),y}}class te{constructor(u,c){this.committed=u,this.snapshot=c}toJSON(){return(0,we.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ye{constructor(u,c){this._database=u,this._delegate=c}val(){return(0,we.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,we.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,we.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,we.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(u){return(0,we.Dv)("DataSnapshot.child",0,1,arguments.length),u=String(u),Al("DataSnapshot.child","path",u,!1),new Ye(this._database,this._delegate.child(u))}hasChild(u){return(0,we.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Al("DataSnapshot.hasChild","path",u,!1),this._delegate.hasChild(u)}getPriority(){return(0,we.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(u){return(0,we.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,we.Wj)("DataSnapshot.forEach","action",u,!1),this._delegate.forEach(c=>u(new Ye(this._database,c)))}hasChildren(){return(0,we.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,we.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,we.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ot(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ct{constructor(u,c){this.database=u,this._delegate=c}on(u,c,y,O){var V;(0,we.Dv)("Query.on",2,4,arguments.length),(0,we.Wj)("Query.on","callback",c,!1);const ee=Ct.getCancelAndContextArgs_("Query.on",y,O),Te=(ft,ln)=>{c.call(ee.context,new Ye(this.database,ft),ln)};Te.userCallback=c,Te.context=ee.context;const je=null===(V=ee.cancel)||void 0===V?void 0:V.bind(ee.context);switch(u){case"value":return br(this._delegate,Te,je),c;case"child_added":return si(this._delegate,Te,je),c;case"child_removed":return yl(this._delegate,Te,je),c;case"child_changed":return Xr(this._delegate,Te,je),c;case"child_moved":return Lo(this._delegate,Te,je),c;default:throw new Error((0,we.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(u,c,y){if((0,we.Dv)("Query.off",0,3,arguments.length),function(f,u,c){if(void 0!==u)switch(u){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,we.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,u),(0,we.Wj)("Query.off","callback",c,!0),(0,we.lb)("Query.off","context",y,!0),c){const O=()=>{};O.userCallback=c,O.context=y,$c(this._delegate,u,O)}else $c(this._delegate,u)}get(){return Oe(this._delegate).then(u=>new Ye(this.database,u))}once(u,c,y,O){(0,we.Dv)("Query.once",1,4,arguments.length),(0,we.Wj)("Query.once","callback",c,!0);const V=Ct.getCancelAndContextArgs_("Query.once",y,O),ee=new we.BH,Te=(ft,ln)=>{const nn=new Ye(this.database,ft);c&&c.call(V.context,nn,ln),ee.resolve(nn)};Te.userCallback=c,Te.context=V.context;const je=ft=>{V.cancel&&V.cancel.call(V.context,ft),ee.reject(ft)};switch(u){case"value":br(this._delegate,Te,je,{onlyOnce:!0});break;case"child_added":si(this._delegate,Te,je,{onlyOnce:!0});break;case"child_removed":yl(this._delegate,Te,je,{onlyOnce:!0});break;case"child_changed":Xr(this._delegate,Te,je,{onlyOnce:!0});break;case"child_moved":Lo(this._delegate,Te,je,{onlyOnce:!0});break;default:throw new Error((0,we.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return ee.promise}limitToFirst(u){return(0,we.Dv)("Query.limitToFirst",1,1,arguments.length),new Ct(this.database,wc(this._delegate,function Rd(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cf(f)}(u)))}limitToLast(u){return(0,we.Dv)("Query.limitToLast",1,1,arguments.length),new Ct(this.database,wc(this._delegate,function Xd(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new oc(f)}(u)))}orderByChild(u){return(0,we.Dv)("Query.orderByChild",1,1,arguments.length),new Ct(this.database,wc(this._delegate,function Ih(f){if("$key"===f)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===f)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===f)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Al("orderByChild","path",f,!1),new fd(f)}(u)))}orderByKey(){return(0,we.Dv)("Query.orderByKey",0,0,arguments.length),new Ct(this.database,wc(this._delegate,function uf(){return new Th}()))}orderByPriority(){return(0,we.Dv)("Query.orderByPriority",0,0,arguments.length),new Ct(this.database,wc(this._delegate,function Ah(){return new Sh}()))}orderByValue(){return(0,we.Dv)("Query.orderByValue",0,0,arguments.length),new Ct(this.database,wc(this._delegate,function Pd(){return new Nh}()))}startAt(u=null,c){return(0,we.Dv)("Query.startAt",0,2,arguments.length),new Ct(this.database,wc(this._delegate,function Dh(f=null,u){return Oc("startAt","key",u,!0),new Hu(f,u)}(u,c)))}startAfter(u=null,c){return(0,we.Dv)("Query.startAfter",0,2,arguments.length),new Ct(this.database,wc(this._delegate,function qa(f,u){return Oc("startAfter","key",u,!0),new Gu(f,u)}(u,c)))}endAt(u=null,c){return(0,we.Dv)("Query.endAt",0,2,arguments.length),new Ct(this.database,wc(this._delegate,function bc(f,u){return Oc("endAt","key",u,!0),new Cu(f,u)}(u,c)))}endBefore(u=null,c){return(0,we.Dv)("Query.endBefore",0,2,arguments.length),new Ct(this.database,wc(this._delegate,function hd(f,u){return Oc("endBefore","key",u,!0),new Eu(f,u)}(u,c)))}equalTo(u,c){return(0,we.Dv)("Query.equalTo",1,2,arguments.length),new Ct(this.database,wc(this._delegate,function Xf(f,u){return Oc("equalTo","key",u,!0),new Jf(f,u)}(u,c)))}toString(){return(0,we.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,we.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(u){if((0,we.Dv)("Query.isEqual",1,1,arguments.length),!(u instanceof Ct))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(u._delegate)}static getCancelAndContextArgs_(u,c,y){const O={cancel:void 0,context:void 0};if(c&&y)O.cancel=c,(0,we.Wj)(u,"cancel",O.cancel,!0),O.context=y,(0,we.lb)(u,"context",O.context,!0);else if(c)if("object"==typeof c&&null!==c)O.context=c;else{if("function"!=typeof c)throw new Error((0,we.gK)(u,"cancelOrContext")+" must either be a cancel callback or a context object.");O.cancel=c}return O}get ref(){return new Ot(this.database,new Ka(this._delegate._repo,this._delegate._path))}}class Ot extends Ct{constructor(u,c){super(u,new Fa(c._repo,c._path,new ns,!1)),this.database=u,this._delegate=c}getKey(){return(0,we.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(u){return(0,we.Dv)("Reference.child",1,1,arguments.length),"number"==typeof u&&(u=String(u)),new Ot(this.database,al(this._delegate,u))}getParent(){(0,we.Dv)("Reference.parent",0,0,arguments.length);const u=this._delegate.parent;return u?new Ot(this.database,u):null}getRoot(){return(0,we.Dv)("Reference.root",0,0,arguments.length),new Ot(this.database,this._delegate.root)}set(u,c){(0,we.Dv)("Reference.set",1,2,arguments.length),(0,we.Wj)("Reference.set","onComplete",c,!0);const y=m(this._delegate,u);return c&&y.then(()=>c(null),O=>c(O)),y}update(u,c){if((0,we.Dv)("Reference.update",1,2,arguments.length),Array.isArray(u)){const O={};for(let V=0;V<u.length;++V)O[""+V]=u[V];u=O,w("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ea("Reference.update",this._delegate._path),(0,we.Wj)("Reference.update","onComplete",c,!0);const y=ie(this._delegate,u);return c&&y.then(()=>c(null),O=>c(O)),y}setWithPriority(u,c,y){(0,we.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,we.Wj)("Reference.setWithPriority","onComplete",y,!0);const O=function P(f,u,c){if(Ea("setWithPriority",f._path),za("setWithPriority",u,f._path,!1),Lu("setWithPriority",c,!1),".length"===f.key||".keys"===f.key)throw"setWithPriority failed: "+f.key+" is a read-only object.";const y=new we.BH;return dd(f._repo,f._path,u,c,y.wrapCallback(()=>{})),y.promise}(this._delegate,u,c);return y&&O.then(()=>y(null),V=>y(V)),O}remove(u){(0,we.Dv)("Reference.remove",0,1,arguments.length),(0,we.Wj)("Reference.remove","onComplete",u,!0);const c=function N(f){return Ea("remove",f._path),m(f,null)}(this._delegate);return u&&c.then(()=>u(null),y=>u(y)),c}transaction(u,c,y){(0,we.Dv)("Reference.transaction",1,3,arguments.length),(0,we.Wj)("Reference.transaction","transactionUpdate",u,!1),(0,we.Wj)("Reference.transaction","onComplete",c,!0),function(f,u,c,y){if(void 0!==c&&"boolean"!=typeof c)throw new Error((0,we.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,y);const O=function zu(f,u,c){var y;if(f=(0,we.m9)(f),Ea("Reference.transaction",f._path),".length"===f.key||".keys"===f.key)throw"Reference.transaction failed: "+f.key+" is a read-only object.";const O=null===(y=c?.applyLocally)||void 0===y||y,V=new we.BH,Te=br(f,()=>{});return function Ya(f,u,c,y,O,V){zo(f,"transaction on "+u);const ee={path:u,update:c,onComplete:y,status:null,order:gr(),applyLocally:V,retryCount:0,unwatcher:O,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Te=Uu(f,u,void 0);ee.currentInputSnapshot=Te;const je=ee.update(Te.val());if(void 0===je)ee.unwatcher(),ee.currentOutputSnapshotRaw=null,ee.currentOutputSnapshotResolved=null,ee.onComplete&&ee.onComplete(null,!1,ee.currentInputSnapshot);else{ca("transaction failed: Data returned ",je,ee.path),ee.status=0;const ft=Tl(f.transactionQueueTree_,u),ln=jl(ft)||[];let nn;ln.push(ee),Nc(ft,ln),"object"==typeof je&&null!==je&&(0,we.r3)(je,".priority")?(nn=(0,we.DV)(je,".priority"),(0,we.hu)(mc(nn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):nn=(ko(f.serverSyncTree_,u)||Sr.EMPTY_NODE).getPriority().val();const vn=Xc(f),fr=gi(je,nn),Yr=sd(fr,Te,vn);ee.currentOutputSnapshotRaw=fr,ee.currentOutputSnapshotResolved=Yr,ee.currentWriteId=ol(f);const as=tl(f.serverSyncTree_,u,Yr,ee.currentWriteId,ee.applyLocally);Ho(f.eventQueue_,u,as),Hs(f,f.transactionQueueTree_)}}(f._repo,f._path,u,(je,ft,ln)=>{let nn=null;je?V.reject(je):(nn=new fo(ln,new Ka(f._repo,f._path),Dn),V.resolve(new Du(ft,nn)))},Te,O),V.promise}(this._delegate,u,{applyLocally:y}).then(V=>new te(V.committed,new Ye(this.database,V.snapshot)));return c&&O.then(V=>c(null,V.committed,V.snapshot),V=>c(V,!1,null)),O}setPriority(u,c){(0,we.Dv)("Reference.setPriority",1,2,arguments.length),(0,we.Wj)("Reference.setPriority","onComplete",c,!0);const y=function b(f,u){f=(0,we.m9)(f),Ea("setPriority",f._path),Lu("setPriority",u,!1);const c=new we.BH;return dd(f._repo,xi(f._path,".priority"),u,null,c.wrapCallback(()=>{})),c.promise}(this._delegate,u);return c&&y.then(()=>c(null),O=>c(O)),y}push(u,c){(0,we.Dv)("Reference.push",0,2,arguments.length),(0,we.Wj)("Reference.push","onComplete",c,!0);const y=function wu(f,u){f=(0,we.m9)(f),Ea("push",f._path),za("push",u,f._path,!0);const c=hu(f._repo),y=Se(c),O=al(f,y),V=al(f,y);let ee;return ee=null!=u?m(V,u).then(()=>V):Promise.resolve(V),O.then=ee.then.bind(ee),O.catch=ee.then.bind(ee,void 0),O}(this._delegate,u),O=y.then(ee=>new Ot(this.database,ee));c&&O.then(()=>c(null),ee=>c(ee));const V=new Ot(this.database,y);return V.then=O.then.bind(O),V.catch=O.catch.bind(O,void 0),V}onDisconnect(){return Ea("Reference.onDisconnect",this._delegate._path),new B(new Vu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class un{constructor(u,c){this._delegate=u,this.app=c,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gf,forceLongPolling:Mh}}useEmulator(u,c,y={}){!function Fd(f,u,c,y={}){(f=(0,we.m9)(f))._checkNotDeleted("useEmulator"),f._instanceStarted&&Vn("Cannot call useEmulator() after instance has already been initialized.");const O=f._repoInternal;let V;if(O.repoInfo_.nodeAdmin)y.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),V=new Ke(Ke.OWNER);else if(y.mockUserToken){const ee="string"==typeof y.mockUserToken?y.mockUserToken:(0,we.Sg)(y.mockUserToken,f.app.options.projectId);V=new Ke(ee)}!function ep(f,u,c,y){f.repoInfo_=new Tr(`${u}:${c}`,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams),y&&(f.authTokenProvider_=y)}(O,u,c,V)}(this._delegate,u,c,y)}ref(u){if((0,we.Dv)("database.ref",0,1,arguments.length),u instanceof Ot){const c=ju(this._delegate,u.toString());return new Ot(this,c)}{const c=sc(this._delegate,u);return new Ot(this,c)}}refFromURL(u){(0,we.Dv)("database.refFromURL",1,1,arguments.length);const y=ju(this._delegate,u);return new Ot(this,y)}goOffline(){return(0,we.Dv)("database.goOffline",0,0,arguments.length),function nh(f){(f=(0,we.m9)(f))._checkNotDeleted("goOffline"),_l(f._repo)}(this._delegate)}goOnline(){return(0,we.Dv)("database.goOnline",0,0,arguments.length),function Wu(f){(f=(0,we.m9)(f))._checkNotDeleted("goOnline"),function kc(f){f.persistentConnection_&&f.persistentConnection_.resume(ud)}(f._repo)}(this._delegate)}}un.ServerValue={TIMESTAMP:function _f(){return mf}(),increment:f=>function rh(f){return{".sv":{increment:f}}}(f)};var wr=Object.freeze({__proto__:null,initStandalone:function yn({app:f,url:u,version:c,customAuthImpl:y,namespace:O,nodeAdmin:V=!1}){Ln(c);const ee=new Bt.zt("auth-internal",new Bt.H0("database-standalone"));return ee.setComponent(new Bt.wA("auth-internal",()=>y,"PRIVATE")),{instance:new un(hf(f,ee,void 0,u,V),f),namespace:O}}});const cr=un.ServerValue;!function Cr(f){f.INTERNAL.registerComponent(new Bt.wA("database-compat",(u,{instanceIdentifier:c})=>{const y=u.getProvider("app-compat").getImmediate(),O=u.getProvider("database").getImmediate({identifier:c});return new un(O,y)},"PUBLIC").setServiceProps({Reference:Ot,Query:Ct,Database:un,DataSnapshot:Ye,enableLogging:Ko,INTERNAL:wr,ServerValue:cr}).setMultipleInstances(!0)),f.registerVersion("@firebase/database-compat","0.2.6")}(Cn.Z);var $i=F(440),Zr=F(127);function Li(f){return null==f}function po(f){return"function"==typeof f.set}function Qi(f,u){return po(u)?u:f.ref(u)}function Ui(f,u){if(function Ei(f){return"string"==typeof f}(f))return u.stringCase();if(po(f))return u.firebaseCase();if(function os(f){return"function"==typeof f.exportVal}(f))return u.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof f)}function Wi(f,u,c="on",y=Ee.z){return new ye.y(O=>{let V=null;return V=f[c](u,(ee,Te)=>{y.schedule(()=>{O.next({snapshot:ee,prevKey:Te})}),"once"===c&&y.schedule(()=>O.complete())},ee=>{y.schedule(()=>O.error(ee))}),"on"===c?{unsubscribe(){null!=V&&f.off(u,V)}}:{unsubscribe(){}}}).pipe((0,_e.U)(O=>{const{snapshot:V,prevKey:ee}=O;let Te=null;return V.exists()&&(Te=V.key),{type:u,payload:V,prevKey:ee,key:Te}}),(0,fe.B)())}function Is(f,u){const c=f.length;for(let y=0;y<c;y++)if(f[y].payload.key===u)return y;return-1}function _o(f,u){const{payload:c,prevKey:y,key:O}=u,V=Is(f,O),ee=function oo(f,u){if(Li(u))return 0;{const c=Is(f,u);return-1===c?f.length:c+1}}(f,y);switch(u.type){case"value":if(u.payload&&u.payload.exists()){let Te=null;u.payload.forEach(je=>{const ft={payload:je,type:"value",prevKey:Te,key:je.key};return Te=je.key,f=[...f,ft],!1})}return f;case"child_added":if(V>-1){const Te=f[V-1];(Te&&Te.key||null)!==y&&(f=f.filter(je=>je.payload.key!==c.key)).splice(ee,0,u)}else{if(null==y)return[u,...f];(f=f.slice()).splice(ee,0,u)}return f;case"child_removed":return f.filter(Te=>Te.payload.key!==c.key);case"child_changed":return f.map(Te=>Te.payload.key===O?u:Te);case"child_moved":if(V>-1){const Te=f.splice(V,1)[0];return(f=f.slice()).splice(ee,0,Te),f}return f;default:return f}}function Ao(f){return(Li(f)||0===f.length)&&(f=["child_added","child_removed","child_changed","child_moved"]),f}function Ol(f,u,c){return function eo(f,u,c){return Wi(f,"value","once",c).pipe((0,Nt.w)(y=>{const O=[(0,Ie.of)(y)];return u.forEach(V=>O.push(Wi(f,V,"on",c))),(0,he.T)(...O).pipe((0,It.R)(_o,[]))}),(0,xt.x)())}(f,u=Ao(u),c)}function ks(f,u,c){const y=(u=Ao(u)).map(O=>Wi(f,O,"on",c));return(0,he.T)(...y)}function Rl(f,u){return function(y,O){return Ui(y,{stringCase:()=>f.child(y)[u](O),firebaseCase:()=>y[u](O),snapshotCase:()=>y.ref[u](O)})}}function ac(f){return function(c){return c?Ui(c,{stringCase:()=>f.child(c).remove(),firebaseCase:()=>c.remove(),snapshotCase:()=>c.ref.remove()}):f.remove()}}function Iu(f,u){return function(){return Wi(f,"value","on",u)}}const Ku=new Q.OlP("angularfire2.realtimeDatabaseURL"),cc=new Q.OlP("angularfire2.database.use-emulator");let Tu=(()=>{class f{constructor(c,y,O,V,ee,Te,je,ft,ln,nn,vn,fr,Yr,as,Bo){this.schedulers=Te;const Ts=je,Ec=(0,St.on)(c,ee,y);ft&&(0,Pe.nw)(Ec,ee,ln,vn,fr,Yr,nn,as),this.database=(0,St.cc)(`${Ec.name}.database.${O}`,"AngularFireDatabase",Ec.name,()=>{const ru=ee.runOutsideAngular(()=>Ec.database(O||void 0));return Ts&&ru.useEmulator(...Ts),ru},[Ts])}list(c,y){const O=this.schedulers.ngZone.runOutsideAngular(()=>Qi(this.database,c));let V=O;return y&&(V=y(O)),function zl(f,u){const c=u.schedulers.outsideAngular,y=u.schedulers.ngZone.run(()=>f.ref);return{query:f,update:Rl(y,"update"),set:Rl(y,"set"),push:O=>y.push(O),remove:ac(y),snapshotChanges:O=>Ol(f,O,c).pipe(Tt.iC),stateChanges:O=>ks(f,O,c).pipe(Tt.iC),auditTrail:O=>function nu(f,u,c){return function Za(f,u,c){return function Cc(f,u){return Wi(f,"value","on",u).pipe((0,_e.U)(c=>{let y;return c.payload.forEach(O=>(y=O.key,!1)),{data:c,lastKeyToLoad:y}}))}(f,c).pipe((0,gt.M)(u),(0,_e.U)(([O,V])=>{const ee=O.lastKeyToLoad,Te=V.map(je=>je.key);return{actions:V,lastKeyToLoad:ee,loadedKeys:Te}}),function ze(f){return u=>u.lift(new st(f))}(O=>-1===O.loadedKeys.indexOf(O.lastKeyToLoad)),(0,_e.U)(O=>O.actions))}(f,ks(f,u).pipe((0,It.R)((O,V)=>[...O,V],[])),c)}(f,O,c).pipe(Tt.iC),valueChanges:(O,V)=>Ol(f,O,c).pipe((0,_e.U)(Te=>Te.map(je=>V&&V.idField?Object.assign(Object.assign({},je.payload.val()),{[V.idField]:je.key}):je.payload.val())),Tt.iC)}}(V,this)}object(c){return function lc(f,u){return{query:f,snapshotChanges:()=>Iu(f,u.schedulers.outsideAngular)().pipe(Tt.iC),update:c=>f.ref.update(c),set:c=>f.ref.set(c),remove:()=>f.ref.remove(),valueChanges:()=>Iu(f,u.schedulers.outsideAngular)().pipe(Tt.iC,(0,_e.U)(y=>y.payload.exists()?y.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Qi(this.database,c)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return f.\u0275fac=function(c){return new(c||f)(Q.LFG(St.Dh),Q.LFG(St.xv,8),Q.LFG(Ku,8),Q.LFG(Q.Lbi),Q.LFG(Q.R0b),Q.LFG(Tt.HU),Q.LFG(cc,8),Q.LFG(Pe.zQ,8),Q.LFG(Pe.Qv,8),Q.LFG(Pe.L6,8),Q.LFG(Pe._Q,8),Q.LFG(Pe.rT,8),Q.LFG(Pe.lh,8),Q.LFG(Pe.f7,8),Q.LFG($i.nm,8))},f.\u0275prov=Q.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"}),f})(),ll=(()=>{class f{constructor(){Zr.Z.registerVersion("angularfire",Tt.q4.full,"rtdb-compat")}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=Q.oAB({type:f}),f.\u0275inj=Q.cJS({providers:[Tu]}),f})();var Su=F(5867),md=F(4719);(0,Su.ZF)(nt.N.firebase);let Pl=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=Q.oAB({type:f,bootstrap:[Mt]}),f.\u0275inj=Q.cJS({providers:[{provide:K.wN,useClass:ue.r4},De],imports:[s.b2,ue.Pc.forRoot(),le,Re.ez,St.hO.initializeApp(nt.N.firebase),Xe.TE,ll,Pe.ww,md.u5,oe.IJ,me.JF]}),f})();nt.N.production&&(0,Q.G48)(),s.q6().bootstrapModule(Pl).catch(f=>console.log(f))},3682:(En,vt,F)=>{"use strict";F.d(vt,{lq:()=>Q});const Q="userid"},5867:(En,vt,F)=>{"use strict";F.d(vt,{C6:()=>s.getApps,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=F(9681);(0,s.registerVersion)("firebase","9.10.0","app")},127:(En,vt,F)=>{"use strict";F.d(vt,{Z:()=>s.Z});var s=F(3942);s.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(En,vt,F)=>{"use strict";F.r(vt);var s=F(5861),Q=F(3942),K=F(2090),Re=F(9681),oe=F(655),ue=F(1877),me=F(4859);const ct=function ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ft=new ue.Yd("@firebase/auth");function yt(N,...m){Ft.logLevel<=ue.in.ERROR&&Ft.error(`Auth (${Re.SDK_VERSION}): ${N}`,...m)}function Mt(N,...m){throw Xe(N,...m)}function nt(N,...m){return Xe(N,...m)}function St(N,m,b){const P=Object.assign(Object.assign({},Be()),{[m]:b});return new K.LL("auth","Firebase",P).create(m,{appName:N.name})}function Pe(N,m,b){if(!(m instanceof b))throw b.name!==m.constructor.name&&Mt(N,"argument-error"),St(N,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(N,...m){if("string"!=typeof N){const b=m[0],P=[...m.slice(1)];return P[0]&&(P[0].appName=N.name),N._errorFactory.create(b,...P)}return Le.create(N,...m)}function Ee(N,m,...b){if(!N)throw Xe(m,...b)}function ye(N){const m="INTERNAL ASSERTION FAILED: "+N;throw yt(m),new Error(m)}function Ie(N,m){N||ye(m)}const he=new Map;function _e(N){Ie(N instanceof Function,"Expected a class definition");let m=he.get(N);return m?(Ie(m instanceof N,"Instance stored in cache mismatched with class"),m):(m=new N,he.set(N,m),m)}function It(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.href)||""}function xt(){return"http:"===gt()||"https:"===gt()}function gt(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.protocol)||null}class st{constructor(m,b){this.shortDelay=m,this.longDelay=b,Ie(b>m,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function Ze(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pt(N,m){Ie(N.emulator,"Emulator should always be set here");const{url:b}=N.emulator;return m?`${b}${m.startsWith("/")?m.slice(1):m}`:b}class Tt{static initialize(m,b,P){this.fetchImpl=m,b&&(this.headersImpl=b),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Cn=new st(3e4,6e4);function Bt(N,m){return N.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:N.tenantId}):m}function bn(N,m,b,P){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(N,m,b,P,ie={}){return we(N,ie,(0,s.Z)(function*(){let Oe={},Pt={};P&&("GET"===m?Pt=P:Oe={body:JSON.stringify(P)});const on=(0,K.xO)(Object.assign({key:N.config.apiKey},Pt)).slice(1),Yn=yield N._getAdditionalHeaders();return Yn["Content-Type"]="application/json",N.languageCode&&(Yn["X-Firebase-Locale"]=N.languageCode),Tt.fetch()(fi(N,N.config.apiHost,b,on),Object.assign({method:m,headers:Yn,referrerPolicy:"no-referrer"},Oe))}))})).apply(this,arguments)}function we(N,m,b){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,s.Z)(function*(N,m,b){N._canInitEmulator=!1;const P=Object.assign(Object.assign({},Lt),m);try{const ie=new Ln(N),Oe=yield Promise.race([b(),ie.promise]);ie.clearNetworkTimeout();const Pt=yield Oe.json();if("needConfirmation"in Pt)throw er(N,"account-exists-with-different-credential",Pt);if(Oe.ok&&!("errorMessage"in Pt))return Pt;{const on=Oe.ok?Pt.errorMessage:Pt.error.message,[Yn,br]=on.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Yn)throw er(N,"credential-already-in-use",Pt);if("EMAIL_EXISTS"===Yn)throw er(N,"email-already-in-use",Pt);if("USER_DISABLED"===Yn)throw er(N,"user-disabled",Pt);const si=P[Yn]||Yn.toLowerCase().replace(/[_\s]+/g,"-");if(br)throw St(N,si,br);Mt(N,si)}}catch(ie){if(ie instanceof K.ZR)throw ie;Mt(N,"network-request-failed")}})).apply(this,arguments)}function qn(N,m,b,P){return _r.apply(this,arguments)}function _r(){return(_r=(0,s.Z)(function*(N,m,b,P,ie={}){const Oe=yield bn(N,m,b,P,ie);return"mfaPendingCredential"in Oe&&Mt(N,"multi-factor-auth-required",{_serverResponse:Oe}),Oe})).apply(this,arguments)}function fi(N,m,b,P){const ie=`${m}${b}?${P}`;return N.config.emulator?pt(N.config,ie):`${N.config.apiScheme}://${ie}`}class Ln{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((b,P)=>{this.timer=setTimeout(()=>P(nt(this.auth,"network-request-failed")),Cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(N,m,b){const P={appName:N.name};b.email&&(P.email=b.email),b.phoneNumber&&(P.phoneNumber=b.phoneNumber);const ie=nt(N,m,P);return ie.customData._tokenResponse=b,ie}function hn(){return(hn=(0,s.Z)(function*(N,m){return bn(N,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function yr(N,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,s.Z)(function*(N,m){return bn(N,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Hn(N,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,s.Z)(function*(N,m){return bn(N,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Er(N){if(N)try{const m=new Date(Number(N));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function rt(){return(rt=(0,s.Z)(function*(N,m=!1){const b=(0,K.m9)(N),P=yield b.getIdToken(m),ie=Et(P);Ee(ie&&ie.exp&&ie.auth_time&&ie.iat,b.auth,"internal-error");const Oe="object"==typeof ie.firebase?ie.firebase:void 0,Pt=Oe?.sign_in_provider;return{claims:ie,token:P,authTime:Er(He(ie.auth_time)),issuedAtTime:Er(He(ie.iat)),expirationTime:Er(He(ie.exp)),signInProvider:Pt||null,signInSecondFactor:Oe?.sign_in_second_factor||null}})).apply(this,arguments)}function He(N){return 1e3*Number(N)}function Et(N){var m;const[b,P,ie]=N.split(".");if(void 0===b||void 0===P||void 0===ie)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const Oe=(0,K.tV)(P);return Oe?JSON.parse(Oe):(yt("Failed to decode base64 JWT payload"),null)}catch(Oe){return yt("Caught error parsing JWT payload as JSON",null===(m=Oe)||void 0===m?void 0:m.toString()),null}}function An(N,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,s.Z)(function*(N,m,b=!1){if(b)return m;try{return yield m}catch(P){throw P instanceof K.ZR&&Un(P)&&N.auth.currentUser===N&&(yield N.auth.signOut()),P}})).apply(this,arguments)}function Un({code:N}){return"auth/user-disabled"===N||"auth/user-token-expired"===N}class _n{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var b;if(m){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const ie=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(m=!1){var b=this;if(!this.isRunning)return;const P=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield b.iteration()}),P)}iteration(){var m=this;return(0,s.Z)(function*(){var b;try{yield m.user.getIdToken(!0)}catch(P){return void("auth/network-request-failed"===(null===(b=P)||void 0===b?void 0:b.code)&&m.schedule(!0))}m.schedule()})()}}class ir{constructor(m,b){this.createdAt=m,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Er(this.lastLoginAt),this.creationTime=Er(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function On(N){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,s.Z)(function*(N){var m;const b=N.auth,P=yield N.getIdToken(),ie=yield An(N,Hn(b,{idToken:P}));Ee(ie?.users.length,b,"internal-error");const Oe=ie.users[0];N._notifyReloadListener(Oe);const Pt=null!==(m=Oe.providerUserInfo)&&void 0!==m&&m.length?qe(Oe.providerUserInfo):[],on=tt(N.providerData,Pt),si=!!N.isAnonymous&&!(N.email&&Oe.passwordHash||on?.length),Xr={uid:Oe.localId,displayName:Oe.displayName||null,photoURL:Oe.photoUrl||null,email:Oe.email||null,emailVerified:Oe.emailVerified||!1,phoneNumber:Oe.phoneNumber||null,tenantId:Oe.tenantId||null,providerData:on,metadata:new ir(Oe.createdAt,Oe.lastLoginAt),isAnonymous:si};Object.assign(N,Xr)})).apply(this,arguments)}function it(){return(it=(0,s.Z)(function*(N){const m=(0,K.m9)(N);yield On(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function tt(N,m){return[...N.filter(P=>!m.some(ie=>ie.providerId===P.providerId)),...m]}function qe(N){return N.map(m=>{var{providerId:b}=m,P=(0,oe._T)(m,["providerId"]);return{providerId:b,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}function at(){return(at=(0,s.Z)(function*(N,m){const b=yield we(N,{},(0,s.Z)(function*(){const P=(0,K.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:ie,apiKey:Oe}=N.config,Pt=fi(N,ie,"/v1/token",`key=${Oe}`),on=yield N._getAdditionalHeaders();return on["Content-Type"]="application/x-www-form-urlencoded",Tt.fetch()(Pt,{method:"POST",headers:on,body:P})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Ee(m.idToken,"internal-error"),Ee(typeof m.idToken<"u","internal-error"),Ee(typeof m.refreshToken<"u","internal-error");const b="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Ut(N){const m=Et(N);return Ee(m,"internal-error"),Ee(typeof m.exp<"u","internal-error"),Ee(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,b)}getToken(m,b=!1){var P=this;return(0,s.Z)(function*(){return Ee(!P.accessToken||P.refreshToken,m,"user-token-expired"),b||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(m,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,b){var P=this;return(0,s.Z)(function*(){const{accessToken:ie,refreshToken:Oe,expiresIn:Pt}=yield function lt(N,m){return at.apply(this,arguments)}(m,b);P.updateTokensAndExpiration(ie,Oe,Number(Pt))})()}updateTokensAndExpiration(m,b,P){this.refreshToken=b||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(m,b){const{refreshToken:P,accessToken:ie,expirationTime:Oe}=b,Pt=new Gt;return P&&(Ee("string"==typeof P,"internal-error",{appName:m}),Pt.refreshToken=P),ie&&(Ee("string"==typeof ie,"internal-error",{appName:m}),Pt.accessToken=ie),Oe&&(Ee("number"==typeof Oe,"internal-error",{appName:m}),Pt.expirationTime=Oe),Pt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return ye("not implemented")}}function gn(N,m){Ee("string"==typeof N||typeof N>"u","internal-error",{appName:m})}class Bn{constructor(m){var{uid:b,auth:P,stsTokenManager:ie}=m,Oe=(0,oe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=P,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=Oe.displayName||null,this.email=Oe.email||null,this.emailVerified=Oe.emailVerified||!1,this.phoneNumber=Oe.phoneNumber||null,this.photoURL=Oe.photoURL||null,this.isAnonymous=Oe.isAnonymous||!1,this.tenantId=Oe.tenantId||null,this.providerData=Oe.providerData?[...Oe.providerData]:[],this.metadata=new ir(Oe.createdAt||void 0,Oe.lastLoginAt||void 0)}getIdToken(m){var b=this;return(0,s.Z)(function*(){const P=yield An(b,b.stsTokenManager.getToken(b.auth,m));return Ee(P,b.auth,"internal-error"),b.accessToken!==P&&(b.accessToken=P,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),P})()}getIdTokenResult(m){return function Ht(N){return rt.apply(this,arguments)}(this,m)}reload(){return function sr(N){return it.apply(this,arguments)}(this)}_assign(m){this!==m&&(Ee(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(b=>Object.assign({},b)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Bn(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,b=!1){var P=this;return(0,s.Z)(function*(){let ie=!1;m.idToken&&m.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(m),ie=!0),b&&(yield On(P)),yield P.auth._persistUserIfCurrent(P),ie&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var m=this;return(0,s.Z)(function*(){const b=yield m.getIdToken();return yield An(m,function tn(N,m){return hn.apply(this,arguments)}(m.auth,{idToken:b})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,b){var P,ie,Oe,Pt,on,Yn,br,si;const Xr=null!==(P=b.displayName)&&void 0!==P?P:void 0,Lo=null!==(ie=b.email)&&void 0!==ie?ie:void 0,yl=null!==(Oe=b.phoneNumber)&&void 0!==Oe?Oe:void 0,$c=null!==(Pt=b.photoURL)&&void 0!==Pt?Pt:void 0,Ml=null!==(on=b.tenantId)&&void 0!==on?on:void 0,Cu=null!==(Yn=b._redirectEventId)&&void 0!==Yn?Yn:void 0,bc=null!==(br=b.createdAt)&&void 0!==br?br:void 0,Eu=null!==(si=b.lastLoginAt)&&void 0!==si?si:void 0,{uid:hd,emailVerified:Hu,isAnonymous:Dh,providerData:Gu,stsTokenManager:qa}=b;Ee(hd&&qa,m,"internal-error");const cf=Gt.fromJSON(this.name,qa);Ee("string"==typeof hd,m,"internal-error"),gn(Xr,m.name),gn(Lo,m.name),Ee("boolean"==typeof Hu,m,"internal-error"),Ee("boolean"==typeof Dh,m,"internal-error"),gn(yl,m.name),gn($c,m.name),gn(Ml,m.name),gn(Cu,m.name),gn(bc,m.name),gn(Eu,m.name);const Rd=new Bn({uid:hd,auth:m,email:Lo,emailVerified:Hu,displayName:Xr,isAnonymous:Dh,photoURL:$c,phoneNumber:yl,tenantId:Ml,stsTokenManager:cf,createdAt:bc,lastLoginAt:Eu});return Gu&&Array.isArray(Gu)&&(Rd.providerData=Gu.map(oc=>Object.assign({},oc))),Cu&&(Rd._redirectEventId=Cu),Rd}static _fromIdTokenResponse(m,b,P=!1){return(0,s.Z)(function*(){const ie=new Gt;ie.updateFromServerResponse(b);const Oe=new Bn({uid:b.localId,auth:m,stsTokenManager:ie,isAnonymous:P});return yield On(Oe),Oe})()}}const Mr=(()=>{class N{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(b,P){var ie=this;return(0,s.Z)(function*(){ie.storage[b]=P})()}_get(b){var P=this;return(0,s.Z)(function*(){const ie=P.storage[b];return void 0===ie?null:ie})()}_remove(b){var P=this;return(0,s.Z)(function*(){delete P.storage[b]})()}_addListener(b,P){}_removeListener(b,P){}}return N.type="NONE",N})();function Pr(N,m,b){return`firebase:${N}:${m}:${b}`}class pr{constructor(m,b,P){this.persistence=m,this.auth=b,this.userKey=P;const{config:ie,name:Oe}=this.auth;this.fullUserKey=Pr(this.userKey,ie.apiKey,Oe),this.fullPersistenceKey=Pr("persistence",ie.apiKey,Oe),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const b=yield m.persistence._get(m.fullUserKey);return b?Bn._fromJSON(m.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var b=this;return(0,s.Z)(function*(){if(b.persistence===m)return;const P=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=m,P?b.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,b,P="authUser"){return(0,s.Z)(function*(){if(!b.length)return new pr(_e(Mr),m,P);const ie=(yield Promise.all(b.map(function(){var br=(0,s.Z)(function*(si){if(yield si._isAvailable())return si});return function(si){return br.apply(this,arguments)}}()))).filter(br=>br);let Oe=ie[0]||_e(Mr);const Pt=Pr(P,m.config.apiKey,m.name);let on=null;for(const br of b)try{const si=yield br._get(Pt);if(si){const Xr=Bn._fromJSON(m,si);br!==Oe&&(on=Xr),Oe=br;break}}catch{}const Yn=ie.filter(br=>br._shouldAllowMigration);return Oe._shouldAllowMigration&&Yn.length?(Oe=Yn[0],on&&(yield Oe._set(Pt,on.toJSON())),yield Promise.all(b.map(function(){var br=(0,s.Z)(function*(si){if(si!==Oe)try{yield si._remove(Pt)}catch{}});return function(si){return br.apply(this,arguments)}}())),new pr(Oe,m,P)):new pr(Oe,m,P)})()}}function Wn(N){const m=N.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ni(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Lr(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ot(m))return"Blackberry";if(Ke(m))return"Webos";if(Br(m))return"Safari";if((m.includes("chrome/")||Ii(m))&&!m.includes("edge/"))return"Chrome";if(ci(m))return"Android";{const P=N.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===P?.length)return P[1]}return"Other"}function Lr(N=(0,K.z$)()){return/firefox\//i.test(N)}function Br(N=(0,K.z$)()){const m=N.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ii(N=(0,K.z$)()){return/crios\//i.test(N)}function ni(N=(0,K.z$)()){return/iemobile/i.test(N)}function ci(N=(0,K.z$)()){return/android/i.test(N)}function ot(N=(0,K.z$)()){return/blackberry/i.test(N)}function Ke(N=(0,K.z$)()){return/webos/i.test(N)}function J(N=(0,K.z$)()){return/iphone|ipad|ipod/i.test(N)||/macintosh/i.test(N)&&/mobile/i.test(N)}function Vt(N=(0,K.z$)()){return J(N)||ci(N)||Ke(N)||ot(N)||/windows phone/i.test(N)||ni(N)}function qt(N,m=[]){let b;switch(N){case"Browser":b=Wn((0,K.z$)());break;case"Worker":b=`${Wn((0,K.z$)())}-${N}`;break;default:b=N}const P=m.length?m.join(","):"FirebaseCore-web";return`${b}/JsCore/${Re.SDK_VERSION}/${P}`}class Fn{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,b){const P=Oe=>new Promise((Pt,on)=>{try{Pt(m(Oe))}catch(Yn){on(Yn)}});P.onAbort=b,this.queue.push(P);const ie=this.queue.length-1;return()=>{this.queue[ie]=()=>Promise.resolve()}}runMiddleware(m){var b=this;return(0,s.Z)(function*(){var P;if(b.auth.currentUser===m)return;const ie=[];try{for(const Oe of b.queue)yield Oe(m),Oe.onAbort&&ie.push(Oe.onAbort)}catch(Oe){ie.reverse();for(const Pt of ie)try{Pt()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:null===(P=Oe)||void 0===P?void 0:P.message})}})()}}class Jt{constructor(m,b,P){this.app=m,this.heartbeatServiceProvider=b,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ur(this),this.idTokenSubscription=new ur(this),this.beforeStateQueue=new Fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(m,b){var P=this;return b&&(this._popupRedirectResolver=_e(b)),this._initializationPromise=this.queue((0,s.Z)(function*(){var ie,Oe;if(!P._deleted&&(P.persistenceManager=yield pr.create(P,m),!P._deleted)){if(null!==(ie=P._popupRedirectResolver)&&void 0!==ie&&ie._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(b),P.lastNotifiedUid=(null===(Oe=P.currentUser)||void 0===Oe?void 0:Oe.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const b=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||b){if(m.currentUser&&b&&m.currentUser.uid===b.uid)return m._currentUser._assign(b),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(b,!0)}})()}initializeCurrentUser(m){var b=this;return(0,s.Z)(function*(){var P;const ie=yield b.assertedPersistence.getCurrentUser();let Oe=ie,Pt=!1;if(m&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const on=null===(P=b.redirectUser)||void 0===P?void 0:P._redirectEventId,Yn=Oe?._redirectEventId,br=yield b.tryRedirectSignIn(m);(!on||on===Yn)&&br?.user&&(Oe=br.user,Pt=!0)}if(!Oe)return b.directlySetCurrentUser(null);if(!Oe._redirectEventId){if(Pt)try{yield b.beforeStateQueue.runMiddleware(Oe)}catch(on){Oe=ie,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(on))}return Oe?b.reloadAndSetCurrentUserOrClear(Oe):b.directlySetCurrentUser(null)}return Ee(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===Oe._redirectEventId?b.directlySetCurrentUser(Oe):b.reloadAndSetCurrentUserOrClear(Oe)})()}tryRedirectSignIn(m){var b=this;return(0,s.Z)(function*(){let P=null;try{P=yield b._popupRedirectResolver._completeRedirectFn(b,m,!0)}catch{yield b._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(m){var b=this;return(0,s.Z)(function*(){var P;try{yield On(m)}catch(ie){if("auth/network-request-failed"!==(null===(P=ie)||void 0===P?void 0:P.code))return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const N=navigator;return N.languages&&N.languages[0]||N.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var b=this;return(0,s.Z)(function*(){const P=m?(0,K.m9)(m):null;return P&&Ee(P.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(P&&P._clone(b))})()}_updateCurrentUser(m,b=!1){var P=this;return(0,s.Z)(function*(){if(!P._deleted)return m&&Ee(P.tenantId===m.tenantId,P,"tenant-id-mismatch"),b||(yield P.beforeStateQueue.runMiddleware(m)),P.queue((0,s.Z)(function*(){yield P.directlySetCurrentUser(m),P.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var b=this;return this.queue((0,s.Z)(function*(){yield b.assertedPersistence.setPersistence(_e(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new K.LL("auth","Firebase",m())}onAuthStateChanged(m,b,P){return this.registerStateListener(this.authStateSubscription,m,b,P)}beforeAuthStateChanged(m,b){return this.beforeStateQueue.pushCallback(m,b)}onIdTokenChanged(m,b,P){return this.registerStateListener(this.idTokenSubscription,m,b,P)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,b){var P=this;return(0,s.Z)(function*(){const ie=yield P.getOrInitRedirectPersistenceManager(b);return null===m?ie.removeCurrentUser():ie.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var b=this;return(0,s.Z)(function*(){if(!b.redirectPersistenceManager){const P=m&&_e(m)||b._popupRedirectResolver;Ee(P,b,"argument-error"),b.redirectPersistenceManager=yield pr.create(b,[_e(P._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(m){var b=this;return(0,s.Z)(function*(){var P,ie;return b._isInitialized&&(yield b.queue((0,s.Z)(function*(){}))),(null===(P=b._currentUser)||void 0===P?void 0:P._redirectEventId)===m?b._currentUser:(null===(ie=b.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===m?b.redirectUser:null})()}_persistUserIfCurrent(m){var b=this;return(0,s.Z)(function*(){if(m===b.currentUser)return b.queue((0,s.Z)(function*(){return b.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(b=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,b,P,ie){if(this._deleted)return()=>{};const Oe="function"==typeof b?b:b.next.bind(b),Pt=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(Pt,this,"internal-error"),Pt.then(()=>Oe(this.currentUser)),"function"==typeof b?m.addObserver(b,P,ie):m.addObserver(b)}directlySetCurrentUser(m){var b=this;return(0,s.Z)(function*(){b.currentUser&&b.currentUser!==m&&b._currentUser._stopProactiveRefresh(),m&&b.isProactiveRefreshEnabled&&m._startProactiveRefresh(),b.currentUser=m,m?yield b.assertedPersistence.setCurrentUser(m):yield b.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=qt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var b;const P={"X-Client-Version":m.clientVersion};m.app.options.appId&&(P["X-Firebase-gmpid"]=m.app.options.appId);const ie=yield null===(b=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return ie&&(P["X-Firebase-Client"]=ie),P})()}}function Gn(N){return(0,K.m9)(N)}class ur{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,K.ne)(b=>this.observer=b)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vr(N){const m=N.indexOf(":");return m<0?"":N.substr(0,m+1)}function Si(N){if(!N)return null;const m=Number(N);return isNaN(m)?null:m}class Ai{constructor(m,b){this.providerId=m,this.signInMethod=b}toJSON(){return ye("not implemented")}_getIdTokenResponse(m){return ye("not implemented")}_linkToIdToken(m,b){return ye("not implemented")}_getReauthenticationResolver(m){return ye("not implemented")}}function oi(N,m){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,s.Z)(function*(N,m){return bn(N,"POST","/v1/accounts:resetPassword",Bt(N,m))})).apply(this,arguments)}function vi(N,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,s.Z)(function*(N,m){return bn(N,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ls(N,m){return ms.apply(this,arguments)}function ms(){return(ms=(0,s.Z)(function*(N,m){return bn(N,"POST","/v1/accounts:update",Bt(N,m))})).apply(this,arguments)}function zi(){return(zi=(0,s.Z)(function*(N,m){return qn(N,"POST","/v1/accounts:signInWithPassword",Bt(N,m))})).apply(this,arguments)}function Yi(N,m){return be.apply(this,arguments)}function be(){return(be=(0,s.Z)(function*(N,m){return bn(N,"POST","/v1/accounts:sendOobCode",Bt(N,m))})).apply(this,arguments)}function Fe(N,m){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(N,m){return Yi(N,m)})).apply(this,arguments)}function At(N,m){return $e.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(N,m){return Yi(N,m)})).apply(this,arguments)}function Qe(N,m){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(N,m){return Yi(N,m)})).apply(this,arguments)}function an(N,m){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(N,m){return Yi(N,m)})).apply(this,arguments)}function Jn(){return(Jn=(0,s.Z)(function*(N,m){return qn(N,"POST","/v1/accounts:signInWithEmailLink",Bt(N,m))})).apply(this,arguments)}function Nr(){return(Nr=(0,s.Z)(function*(N,m){return qn(N,"POST","/v1/accounts:signInWithEmailLink",Bt(N,m))})).apply(this,arguments)}class Fi extends Ai{constructor(m,b,P,ie=null){super("password",P),this._email=m,this._password=b,this._tenantId=ie}static _fromEmailAndPassword(m,b){return new Fi(m,b,"password")}static _fromEmailAndCode(m,b,P=null){return new Fi(m,b,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const b="string"==typeof m?JSON.parse(m):m;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(m){var b=this;return(0,s.Z)(function*(){switch(b.signInMethod){case"password":return function hs(N,m){return zi.apply(this,arguments)}(m,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function cn(N,m){return Jn.apply(this,arguments)}(m,{email:b._email,oobCode:b._password});default:Mt(m,"internal-error")}})()}_linkToIdToken(m,b){var P=this;return(0,s.Z)(function*(){switch(P.signInMethod){case"password":return vi(m,{idToken:b,returnSecureToken:!0,email:P._email,password:P._password});case"emailLink":return function or(N,m){return Nr.apply(this,arguments)}(m,{idToken:b,email:P._email,oobCode:P._password});default:Mt(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ni(N,m){return wt.apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(N,m){return qn(N,"POST","/v1/accounts:signInWithIdp",Bt(N,m))})).apply(this,arguments)}class jt extends Ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const b=new jt(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(b.idToken=m.idToken),m.accessToken&&(b.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(b.nonce=m.nonce),m.pendingToken&&(b.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(b.accessToken=m.oauthToken,b.secret=m.oauthTokenSecret):Mt("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const b="string"==typeof m?JSON.parse(m):m,{providerId:P,signInMethod:ie}=b,Oe=(0,oe._T)(b,["providerId","signInMethod"]);if(!P||!ie)return null;const Pt=new jt(P,ie);return Pt.idToken=Oe.idToken||void 0,Pt.accessToken=Oe.accessToken||void 0,Pt.secret=Oe.secret,Pt.nonce=Oe.nonce,Pt.pendingToken=Oe.pendingToken||null,Pt}_getIdTokenResponse(m){return Ni(m,this.buildRequest())}_linkToIdToken(m,b){const P=this.buildRequest();return P.idToken=b,Ni(m,P)}_getReauthenticationResolver(m){const b=this.buildRequest();return b.autoCreate=!1,Ni(m,b)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),m.postBody=(0,K.xO)(b)}return m}}function mn(N,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,s.Z)(function*(N,m){return bn(N,"POST","/v1/accounts:sendVerificationCode",Bt(N,m))})).apply(this,arguments)}function Dr(){return(Dr=(0,s.Z)(function*(N,m){return qn(N,"POST","/v1/accounts:signInWithPhoneNumber",Bt(N,m))})).apply(this,arguments)}function Qr(){return(Qr=(0,s.Z)(function*(N,m){const b=yield qn(N,"POST","/v1/accounts:signInWithPhoneNumber",Bt(N,m));if(b.temporaryProof)throw er(N,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const As={USER_NOT_FOUND:"user-not-found"};function to(){return(to=(0,s.Z)(function*(N,m){return qn(N,"POST","/v1/accounts:signInWithPhoneNumber",Bt(N,Object.assign(Object.assign({},m),{operation:"REAUTH"})),As)})).apply(this,arguments)}class Ws extends Ai{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,b){return new Ws({verificationId:m,verificationCode:b})}static _fromTokenResponse(m,b){return new Ws({phoneNumber:m,temporaryProof:b})}_getIdTokenResponse(m){return function ar(N,m){return Dr.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,b){return function fs(N,m){return Qr.apply(this,arguments)}(m,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Ns(N,m){return to.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:b,verificationId:P,verificationCode:ie}=this.params;return m&&b?{temporaryProof:m,phoneNumber:b}:{sessionInfo:P,code:ie}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:b,verificationCode:P,phoneNumber:ie,temporaryProof:Oe}=m;return P||b||ie||Oe?new Ws({verificationId:b,verificationCode:P,phoneNumber:ie,temporaryProof:Oe}):null}}class Cs{constructor(m){var b,P,ie,Oe,Pt,on;const Yn=(0,K.zd)((0,K.pd)(m)),br=null!==(b=Yn.apiKey)&&void 0!==b?b:null,si=null!==(P=Yn.oobCode)&&void 0!==P?P:null,Xr=function zs(N){switch(N){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ie=Yn.mode)&&void 0!==ie?ie:null);Ee(br&&si&&Xr,"argument-error"),this.apiKey=br,this.operation=Xr,this.code=si,this.continueUrl=null!==(Oe=Yn.continueUrl)&&void 0!==Oe?Oe:null,this.languageCode=null!==(Pt=Yn.languageCode)&&void 0!==Pt?Pt:null,this.tenantId=null!==(on=Yn.tenantId)&&void 0!==on?on:null}static parseLink(m){const b=function xo(N){const m=(0,K.zd)((0,K.pd)(N)).link,b=m?(0,K.zd)((0,K.pd)(m)).deep_link_id:null,P=(0,K.zd)((0,K.pd)(N)).deep_link_id;return(P?(0,K.zd)((0,K.pd)(P)).link:null)||P||b||m||N}(m);try{return new Cs(b)}catch{return null}}}let ps=(()=>{class N{constructor(){this.providerId=N.PROVIDER_ID}static credential(b,P){return Fi._fromEmailAndPassword(b,P)}static credentialWithLink(b,P){const ie=Cs.parseLink(P);return Ee(ie,"argument-error"),Fi._fromEmailAndCode(b,ie.code,ie.tenantId)}}return N.PROVIDER_ID="password",N.EMAIL_PASSWORD_SIGN_IN_METHOD="password",N.EMAIL_LINK_SIGN_IN_METHOD="emailLink",N})();class Es{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class _s extends Es{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Us extends _s{static credentialFromJSON(m){const b="string"==typeof m?JSON.parse(m):m;return Ee("providerId"in b&&"signInMethod"in b,"argument-error"),jt._fromParams(b)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Ee(m.idToken||m.accessToken,"argument-error"),jt._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Us.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Us.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:P,oauthTokenSecret:ie,pendingToken:Oe,nonce:Pt,providerId:on}=m;if(!P&&!ie&&!b&&!Oe||!on)return null;try{return new Us(on)._credential({idToken:b,accessToken:P,nonce:Pt,pendingToken:Oe})}catch{return null}}}let Ys=(()=>{class N extends _s{constructor(){super("facebook.com")}static credential(b){return jt._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return N.credentialFromTaggedObject(b)}static credentialFromError(b){return N.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return N.credential(b.oauthAccessToken)}catch{return null}}}return N.FACEBOOK_SIGN_IN_METHOD="facebook.com",N.PROVIDER_ID="facebook.com",N})(),Fs=(()=>{class N extends _s{constructor(){super("google.com"),this.addScope("profile")}static credential(b,P){return jt._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:P})}static credentialFromResult(b){return N.credentialFromTaggedObject(b)}static credentialFromError(b){return N.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:P,oauthAccessToken:ie}=b;if(!P&&!ie)return null;try{return N.credential(P,ie)}catch{return null}}}return N.GOOGLE_SIGN_IN_METHOD="google.com",N.PROVIDER_ID="google.com",N})(),ui=(()=>{class N extends _s{constructor(){super("github.com")}static credential(b){return jt._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return N.credentialFromTaggedObject(b)}static credentialFromError(b){return N.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return N.credential(b.oauthAccessToken)}catch{return null}}}return N.GITHUB_SIGN_IN_METHOD="github.com",N.PROVIDER_ID="github.com",N})();class $r extends Ai{constructor(m,b){super(m,m),this.pendingToken=b}_getIdTokenResponse(m){return Ni(m,this.buildRequest())}_linkToIdToken(m,b){const P=this.buildRequest();return P.idToken=b,Ni(m,P)}_getReauthenticationResolver(m){const b=this.buildRequest();return b.autoCreate=!1,Ni(m,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const b="string"==typeof m?JSON.parse(m):m,{providerId:P,signInMethod:ie,pendingToken:Oe}=b;return P&&ie&&Oe&&P===ie?new $r(P,Oe):null}static _create(m,b){return new $r(m,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ti extends Es{constructor(m){Ee(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ti.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ti.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const b=$r.fromJSON(m);return Ee(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:b,providerId:P}=m;if(!b||!P)return null;try{return $r._create(P,b)}catch{return null}}}let xs=(()=>{class N extends _s{constructor(){super("twitter.com")}static credential(b,P){return jt._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:P})}static credentialFromResult(b){return N.credentialFromTaggedObject(b)}static credentialFromError(b){return N.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:P,oauthTokenSecret:ie}=b;if(!P||!ie)return null;try{return N.credential(P,ie)}catch{return null}}}return N.TWITTER_SIGN_IN_METHOD="twitter.com",N.PROVIDER_ID="twitter.com",N})();function co(N,m){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,s.Z)(function*(N,m){return qn(N,"POST","/v1/accounts:signUp",Bt(N,m))})).apply(this,arguments)}class ys{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,b,P,ie=!1){return(0,s.Z)(function*(){const Oe=yield Bn._fromIdTokenResponse(m,P,ie),Pt=xi(P);return new ys({user:Oe,providerId:Pt,_tokenResponse:P,operationType:b})})()}static _forOperation(m,b,P){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(P,!0);const ie=xi(P);return new ys({user:m,providerId:ie,_tokenResponse:P,operationType:b})})()}}function xi(N){return N.providerId?N.providerId:"phoneNumber"in N?"phone":null}function Jr(){return(Jr=(0,s.Z)(function*(N){var m;const b=Gn(N);if(yield b._initializationPromise,null!==(m=b.currentUser)&&void 0!==m&&m.isAnonymous)return new ys({user:b.currentUser,providerId:null,operationType:"signIn"});const P=yield co(b,{returnSecureToken:!0}),ie=yield ys._fromIdTokenResponse(b,"signIn",P,!0);return yield b._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class bo extends K.ZR{constructor(m,b,P,ie){var Oe;super(b.code,b.message),this.operationType=P,this.user=ie,Object.setPrototypeOf(this,bo.prototype),this.customData={appName:m.name,tenantId:null!==(Oe=m.tenantId)&&void 0!==Oe?Oe:void 0,_serverResponse:b.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(m,b,P,ie){return new bo(m,b,P,ie)}}function go(N,m,b,P){return("reauthenticate"===m?b._getReauthenticationResolver(N):b._getIdTokenResponse(N)).catch(Oe=>{throw"auth/multi-factor-auth-required"===Oe.code?bo._fromErrorAndOperation(N,Oe,m,P):Oe})}function Ki(N){return new Set(N.map(({providerId:m})=>m).filter(m=>!!m))}function ha(){return(ha=(0,s.Z)(function*(N,m){const b=(0,K.m9)(N);yield ai(!0,b,m);const{providerUserInfo:P}=yield yr(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[m]}),ie=Ki(P||[]);return b.providerData=b.providerData.filter(Oe=>ie.has(Oe.providerId)),ie.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function no(N,m){return us.apply(this,arguments)}function us(){return(us=(0,s.Z)(function*(N,m,b=!1){const P=yield An(N,m._linkToIdToken(N.auth,yield N.getIdToken()),b);return ys._forOperation(N,"link",P)})).apply(this,arguments)}function ai(N,m,b){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,s.Z)(function*(N,m,b){yield On(m);const ie=!1===N?"provider-already-linked":"no-such-provider";Ee(Ki(m.providerData).has(b)===N,m.auth,ie)})).apply(this,arguments)}function uo(N,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,s.Z)(function*(N,m,b=!1){var P;const{auth:ie}=N,Oe="reauthenticate";try{const Pt=yield An(N,go(ie,Oe,m,N),b);Ee(Pt.idToken,ie,"internal-error");const on=Et(Pt.idToken);Ee(on,ie,"internal-error");const{sub:Yn}=on;return Ee(N.uid===Yn,ie,"user-mismatch"),ys._forOperation(N,Oe,Pt)}catch(Pt){throw"auth/user-not-found"===(null===(P=Pt)||void 0===P?void 0:P.code)&&Mt(ie,"user-mismatch"),Pt}})).apply(this,arguments)}function qi(N,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,s.Z)(function*(N,m,b=!1){const P="signIn",ie=yield go(N,P,m),Oe=yield ys._fromIdTokenResponse(N,P,ie);return b||(yield N._updateCurrentUser(Oe.user)),Oe})).apply(this,arguments)}function Pi(N,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,s.Z)(function*(N,m){return qi(Gn(N),m)})).apply(this,arguments)}function Ms(N,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,s.Z)(function*(N,m){const b=(0,K.m9)(N);return yield ai(!1,b,m.providerId),no(b,m)})).apply(this,arguments)}function qr(N,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,s.Z)(function*(N,m){return uo((0,K.m9)(N),m)})).apply(this,arguments)}function fa(N,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(N,m){return qn(N,"POST","/v1/accounts:signInWithCustomToken",Bt(N,m))})).apply(this,arguments)}function Uo(){return(Uo=(0,s.Z)(function*(N,m){const b=Gn(N),P=yield fa(b,{token:m,returnSecureToken:!0}),ie=yield ys._fromIdTokenResponse(b,"signIn",P);return yield b._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class pn{constructor(m,b){this.factorId=m,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(m,b){return"phoneInfo"in b?T._fromServerResponse(m,b):Mt(m,"internal-error")}}class T extends pn{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,b){return new T(b)}}function Z(N,m,b){var P;Ee((null===(P=b.url)||void 0===P?void 0:P.length)>0,N,"invalid-continue-uri"),Ee(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,N,"invalid-dynamic-link-domain"),m.continueUrl=b.url,m.dynamicLinkDomain=b.dynamicLinkDomain,m.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Ee(b.iOS.bundleId.length>0,N,"missing-ios-bundle-id"),m.iOSBundleId=b.iOS.bundleId),b.android&&(Ee(b.android.packageName.length>0,N,"missing-android-pkg-name"),m.androidInstallApp=b.android.installApp,m.androidMinimumVersionCode=b.android.minimumVersion,m.androidPackageName=b.android.packageName)}function Y(){return(Y=(0,s.Z)(function*(N,m,b){const P=(0,K.m9)(N),ie={requestType:"PASSWORD_RESET",email:m};b&&Z(P,ie,b),yield At(P,ie)})).apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(N,m,b){yield oi((0,K.m9)(N),{oobCode:m,newPassword:b})})).apply(this,arguments)}function dr(){return(dr=(0,s.Z)(function*(N,m){yield ls((0,K.m9)(N),{oobCode:m})})).apply(this,arguments)}function E(N,m){return C.apply(this,arguments)}function C(){return(C=(0,s.Z)(function*(N,m){const b=(0,K.m9)(N),P=yield oi(b,{oobCode:m}),ie=P.requestType;switch(Ee(ie,b,"internal-error"),ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(P.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(P.mfaInfo,b,"internal-error");default:Ee(P.email,b,"internal-error")}let Oe=null;return P.mfaInfo&&(Oe=pn._fromServerResponse(Gn(b),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:Oe},operation:ie}})).apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(N,m){const{data:b}=yield E((0,K.m9)(N),m);return b.email})).apply(this,arguments)}function ht(){return(ht=(0,s.Z)(function*(N,m,b){const P=Gn(N),ie=yield co(P,{returnSecureToken:!0,email:m,password:b}),Oe=yield ys._fromIdTokenResponse(P,"signIn",ie);return yield P._updateCurrentUser(Oe.user),Oe})).apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(N,m,b){const P=(0,K.m9)(N),ie={requestType:"EMAIL_SIGNIN",email:m};Ee(b.handleCodeInApp,P,"argument-error"),b&&Z(P,ie,b),yield Qe(P,ie)})).apply(this,arguments)}function Bi(){return(Bi=(0,s.Z)(function*(N,m,b){const P=(0,K.m9)(N),ie=ps.credentialWithLink(m,b||It());return Ee(ie._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),Pi(P,ie)})).apply(this,arguments)}function Vi(N,m){return ki.apply(this,arguments)}function ki(){return(ki=(0,s.Z)(function*(N,m){return bn(N,"POST","/v1/accounts:createAuthUri",Bt(N,m))})).apply(this,arguments)}function Sr(){return(Sr=(0,s.Z)(function*(N,m){const P={identifier:m,continueUri:xt()?It():"http://localhost"},{signinMethods:ie}=yield Vi((0,K.m9)(N),P);return ie||[]})).apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(N,m){const b=(0,K.m9)(N),ie={requestType:"VERIFY_EMAIL",idToken:yield N.getIdToken()};m&&Z(b.auth,ie,m);const{email:Oe}=yield Fe(b.auth,ie);Oe!==N.email&&(yield N.reload())})).apply(this,arguments)}function gi(){return(gi=(0,s.Z)(function*(N,m,b){const P=(0,K.m9)(N),Oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield N.getIdToken(),newEmail:m};b&&Z(P.auth,Oe,b);const{email:Pt}=yield an(P.auth,Oe);Pt!==N.email&&(yield N.reload())})).apply(this,arguments)}function gs(N,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,s.Z)(function*(N,m){return bn(N,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(N,{displayName:m,photoURL:b}){if(void 0===m&&void 0===b)return;const P=(0,K.m9)(N),Oe={idToken:yield P.getIdToken(),displayName:m,photoUrl:b,returnSecureToken:!0},Pt=yield An(P,gs(P.auth,Oe));P.displayName=Pt.displayName||null,P.photoURL=Pt.photoUrl||null;const on=P.providerData.find(({providerId:Yn})=>"password"===Yn);on&&(on.displayName=P.displayName,on.photoURL=P.photoURL),yield P._updateTokensIfNecessary(Pt)})).apply(this,arguments)}function z(N,m,b){return Se.apply(this,arguments)}function Se(){return(Se=(0,s.Z)(function*(N,m,b){const{auth:P}=N,Oe={idToken:yield N.getIdToken(),returnSecureToken:!0};m&&(Oe.email=m),b&&(Oe.password=b);const Pt=yield An(N,vi(P,Oe));yield N._updateTokensIfNecessary(Pt,!0)})).apply(this,arguments)}class Wt{constructor(m,b,P={}){this.isNewUser=m,this.providerId=b,this.profile=P}}class dn extends Wt{constructor(m,b,P,ie){super(m,b,P),this.username=ie}}class rr extends Wt{constructor(m,b){super(m,"facebook.com",b)}}class mi extends dn{constructor(m,b){super(m,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class Ti extends Wt{constructor(m,b){super(m,"google.com",b)}}class Oi extends dn{constructor(m,b,P){super(m,"twitter.com",b,P)}}function bi(N){const{user:m,_tokenResponse:b}=N;return m.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function ut(N){var m,b;if(!N)return null;const{providerId:P}=N,ie=N.rawUserInfo?JSON.parse(N.rawUserInfo):{},Oe=N.isNewUser||"identitytoolkit#SignupNewUserResponse"===N.kind;if(!P&&N?.idToken){const Pt=null===(b=null===(m=Et(N.idToken))||void 0===m?void 0:m.firebase)||void 0===b?void 0:b.sign_in_provider;if(Pt)return new Wt(Oe,"anonymous"!==Pt&&"custom"!==Pt?Pt:null)}if(!P)return null;switch(P){case"facebook.com":return new rr(Oe,ie);case"github.com":return new mi(Oe,ie);case"google.com":return new Ti(Oe,ie);case"twitter.com":return new Oi(Oe,ie,N.screenName||null);case"custom":case"anonymous":return new Wt(Oe,null);default:return new Wt(Oe,P,ie)}}(b)}class Ba{constructor(m,b,P){this.type=m,this.credential=b,this.auth=P}static _fromIdtoken(m,b){return new Ba("enroll",m,b)}static _fromMfaPendingCredential(m){return new Ba("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var b,P;if(m?.multiFactorSession){if(null!==(b=m.multiFactorSession)&&void 0!==b&&b.pendingCredential)return Ba._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(P=m.multiFactorSession)&&void 0!==P&&P.idToken)return Ba._fromIdtoken(m.multiFactorSession.idToken)}return null}}class wl{constructor(m,b,P){this.session=m,this.hints=b,this.signInResolver=P}static _fromError(m,b){const P=Gn(m),ie=b.customData._serverResponse,Oe=(ie.mfaInfo||[]).map(on=>pn._fromServerResponse(P,on));Ee(ie.mfaPendingCredential,P,"internal-error");const Pt=Ba._fromMfaPendingCredential(ie.mfaPendingCredential);return new wl(Pt,Oe,function(){var on=(0,s.Z)(function*(Yn){const br=yield Yn._process(P,Pt);delete ie.mfaInfo,delete ie.mfaPendingCredential;const si=Object.assign(Object.assign({},ie),{idToken:br.idToken,refreshToken:br.refreshToken});switch(b.operationType){case"signIn":const Xr=yield ys._fromIdTokenResponse(P,b.operationType,si);return yield P._updateCurrentUser(Xr.user),Xr;case"reauthenticate":return Ee(b.user,P,"internal-error"),ys._forOperation(b.user,b.operationType,si);default:Mt(P,"internal-error")}});return function(Yn){return on.apply(this,arguments)}}())}resolveSignIn(m){var b=this;return(0,s.Z)(function*(){return b.signInResolver(m)})()}}function kl(N,m){return bn(N,"POST","/v2/accounts/mfaEnrollment:start",Bt(N,m))}class Fl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(P=>pn._fromServerResponse(m.auth,P)))})}static _fromUser(m){return new Fl(m)}getSession(){var m=this;return(0,s.Z)(function*(){return Ba._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,b){var P=this;return(0,s.Z)(function*(){const ie=m,Oe=yield P.getSession(),Pt=yield An(P.user,ie._process(P.user.auth,Oe,b));return yield P.user._updateTokensIfNecessary(Pt),P.user.reload()})()}unenroll(m){var b=this;return(0,s.Z)(function*(){var P;const ie="string"==typeof m?m:m.uid,Oe=yield b.user.getIdToken(),Pt=yield An(b.user,function ou(N,m){return bn(N,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(N,m))}(b.user.auth,{idToken:Oe,mfaEnrollmentId:ie}));b.enrolledFactors=b.enrolledFactors.filter(({uid:on})=>on!==ie),yield b.user._updateTokensIfNecessary(Pt);try{yield b.user.reload()}catch(on){if("auth/user-token-expired"!==(null===(P=on)||void 0===P?void 0:P.code))throw on}})()}}const Ta=new WeakMap,$a="__sak";class Ql{constructor(m,b){this.storageRetriever=m,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem($a,"1"),this.storage.removeItem($a),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,b){return this.storage.setItem(m,JSON.stringify(b)),Promise.resolve()}_get(m){const b=this.storage.getItem(m);return Promise.resolve(b?JSON.parse(b):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const dc=(()=>{class N extends Ql{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,P)=>this.onStorageEvent(b,P),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qa(){const N=(0,K.z$)();return Br(N)||J(N)}()&&function Kt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vt(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const P of Object.keys(this.listeners)){const ie=this.storage.getItem(P),Oe=this.localCache[P];ie!==Oe&&b(P,Oe,ie)}}onStorageEvent(b,P=!1){if(!b.key)return void this.forAllChangedKeys((on,Yn,br)=>{this.notifyListeners(on,br)});const ie=b.key;if(P?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const on=this.storage.getItem(ie);if(b.newValue!==on)null!==b.newValue?this.storage.setItem(ie,b.newValue):this.storage.removeItem(ie);else if(this.localCache[ie]===b.newValue&&!P)return}const Oe=()=>{const on=this.storage.getItem(ie);!P&&this.localCache[ie]===on||this.notifyListeners(ie,on)},Pt=this.storage.getItem(ie);!function mt(){return(0,K.w1)()&&10===document.documentMode}()||Pt===b.newValue||b.newValue===b.oldValue?Oe():setTimeout(Oe,10)}notifyListeners(b,P){this.localCache[b]=P;const ie=this.listeners[b];if(ie)for(const Oe of Array.from(ie))Oe(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,P,ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:P,newValue:ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(P)}_removeListener(b,P){this.listeners[b]&&(this.listeners[b].delete(P),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,P){var ie=()=>super._set,Oe=this;return(0,s.Z)(function*(){yield ie().call(Oe,b,P),Oe.localCache[b]=JSON.stringify(P)})()}_get(b){var P=()=>super._get,ie=this;return(0,s.Z)(function*(){const Oe=yield P().call(ie,b);return ie.localCache[b]=JSON.stringify(Oe),Oe})()}_remove(b){var P=()=>super._remove,ie=this;return(0,s.Z)(function*(){yield P().call(ie,b),delete ie.localCache[b]})()}}return N.type="LOCAL",N})(),_a=(()=>{class N extends Ql{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,P){}_removeListener(b,P){}}return N.type="SESSION",N})();let Jl=(()=>{class N{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const P=this.receivers.find(Oe=>Oe.isListeningto(b));if(P)return P;const ie=new N(b);return this.receivers.push(ie),ie}isListeningto(b){return this.eventTarget===b}handleEvent(b){var P=this;return(0,s.Z)(function*(){const ie=b,{eventId:Oe,eventType:Pt,data:on}=ie.data,Yn=P.handlersMap[Pt];if(!Yn?.size)return;ie.ports[0].postMessage({status:"ack",eventId:Oe,eventType:Pt});const br=Array.from(Yn).map(function(){var Xr=(0,s.Z)(function*(Lo){return Lo(ie.origin,on)});return function(Lo){return Xr.apply(this,arguments)}}()),si=yield function Ja(N){return Promise.all(N.map(function(){var m=(0,s.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(P){return{fulfilled:!1,reason:P}}});return function(b){return m.apply(this,arguments)}}()))}(br);ie.ports[0].postMessage({status:"done",eventId:Oe,eventType:Pt,response:si})})()}_subscribe(b,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(P)}_unsubscribe(b,P){this.handlersMap[b]&&P&&this.handlersMap[b].delete(P),(!P||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return N.receivers=[],N})();function Ua(N="",m=10){let b="";for(let P=0;P<m;P++)b+=Math.floor(10*Math.random());return N+b}class hl{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,b,P=50){var ie=this;return(0,s.Z)(function*(){const Oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!Oe)throw new Error("connection_unavailable");let Pt,on;return new Promise((Yn,br)=>{const si=Ua("",20);Oe.port1.start();const Xr=setTimeout(()=>{br(new Error("unsupported_event"))},P);on={messageChannel:Oe,onMessage(Lo){const yl=Lo;if(yl.data.eventId===si)switch(yl.data.status){case"ack":clearTimeout(Xr),Pt=setTimeout(()=>{br(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pt),Yn(yl.data.response);break;default:clearTimeout(Xr),clearTimeout(Pt),br(new Error("invalid_response"))}}},ie.handlers.add(on),Oe.port1.addEventListener("message",on.onMessage),ie.target.postMessage({eventType:m,eventId:si,data:b},[Oe.port2])}).finally(()=>{on&&ie.removeMessageHandler(on)})})()}}function wi(){return window}function Do(){return typeof wi().WorkerGlobalScope<"u"&&"function"==typeof wi().importScripts}function Cl(){return(Cl=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zo="firebaseLocalStorageDb",Xn="firebaseLocalStorage",Ur="fbase_key";class Po{constructor(m){this.request=m}toPromise(){return new Promise((m,b)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Zn(N,m){return N.transaction([Xn],m?"readwrite":"readonly").objectStore(Xn)}function Nn(){const N=indexedDB.open(Zo,1);return new Promise((m,b)=>{N.addEventListener("error",()=>{b(N.error)}),N.addEventListener("upgradeneeded",()=>{const P=N.result;try{P.createObjectStore(Xn,{keyPath:Ur})}catch(ie){b(ie)}}),N.addEventListener("success",(0,s.Z)(function*(){const P=N.result;P.objectStoreNames.contains(Xn)?m(P):(P.close(),yield function sn(){const N=indexedDB.deleteDatabase(Zo);return new Po(N).toPromise()}(),m(yield Nn()))}))})}function ii(N,m,b){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,s.Z)(function*(N,m,b){const P=Zn(N,!0).put({[Ur]:m,value:b});return new Po(P).toPromise()})).apply(this,arguments)}function pl(){return(pl=(0,s.Z)(function*(N,m){const b=Zn(N,!1).get(m),P=yield new Po(b).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function el(N,m){const b=Zn(N,!0).delete(m);return new Po(b).toPromise()}const ya=(()=>{class N{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,s.Z)(function*(){return b.db||(b.db=yield Nn()),b.db})()}_withRetries(b){var P=this;return(0,s.Z)(function*(){let ie=0;for(;;)try{const Oe=yield P._openDb();return yield b(Oe)}catch(Oe){if(ie++>3)throw Oe;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,s.Z)(function*(){return Do()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,s.Z)(function*(){b.receiver=Jl._getInstance(function Os(){return Do()?self:null}()),b.receiver._subscribe("keyChanged",function(){var P=(0,s.Z)(function*(ie,Oe){return{keyProcessed:(yield b._poll()).includes(Oe.key)}});return function(ie,Oe){return P.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var P=(0,s.Z)(function*(ie,Oe){return["keyChanged"]});return function(ie,Oe){return P.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,s.Z)(function*(){var P,ie;if(b.activeServiceWorker=yield function Xa(){return Cl.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new hl(b.activeServiceWorker);const Oe=yield b.sender._send("ping",{},800);!Oe||(null===(P=Oe[0])||void 0===P?void 0:P.fulfilled)&&(null===(ie=Oe[0])||void 0===ie?void 0:ie.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var P=this;return(0,s.Z)(function*(){if(P.sender&&P.activeServiceWorker&&function xn(){var N;return(null===(N=navigator?.serviceWorker)||void 0===N?void 0:N.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:b},P.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Nn();return yield ii(b,$a,"1"),yield el(b,$a),!0}catch{}return!1})()}_withPendingWrite(b){var P=this;return(0,s.Z)(function*(){P.pendingWrites++;try{yield b()}finally{P.pendingWrites--}})()}_set(b,P){var ie=this;return(0,s.Z)(function*(){return ie._withPendingWrite((0,s.Z)(function*(){return yield ie._withRetries(Oe=>ii(Oe,b,P)),ie.localCache[b]=P,ie.notifyServiceWorker(b)}))})()}_get(b){var P=this;return(0,s.Z)(function*(){const ie=yield P._withRetries(Oe=>function rs(N,m){return pl.apply(this,arguments)}(Oe,b));return P.localCache[b]=ie,ie})()}_remove(b){var P=this;return(0,s.Z)(function*(){return P._withPendingWrite((0,s.Z)(function*(){return yield P._withRetries(ie=>el(ie,b)),delete P.localCache[b],P.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,s.Z)(function*(){const P=yield b._withRetries(Pt=>{const on=Zn(Pt,!1).getAll();return new Po(on).toPromise()});if(!P)return[];if(0!==b.pendingWrites)return[];const ie=[],Oe=new Set;for(const{fbase_key:Pt,value:on}of P)Oe.add(Pt),JSON.stringify(b.localCache[Pt])!==JSON.stringify(on)&&(b.notifyListeners(Pt,on),ie.push(Pt));for(const Pt of Object.keys(b.localCache))b.localCache[Pt]&&!Oe.has(Pt)&&(b.notifyListeners(Pt,null),ie.push(Pt));return ie})()}notifyListeners(b,P){this.localCache[b]=P;const ie=this.listeners[b];if(ie)for(const Oe of Array.from(ie))Oe(P)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(P)}_removeListener(b,P){this.listeners[b]&&(this.listeners[b].delete(P),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return N.type="LOCAL",N})();function Va(N,m){return bn(N,"POST","/v2/accounts/mfaSignIn:start",Bt(N,m))}function Vr(){return(Vr=(0,s.Z)(function*(N){return(yield bn(N,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pa(N){return new Promise((m,b)=>{const P=document.createElement("script");P.setAttribute("src",N),P.onload=m,P.onerror=ie=>{const Oe=nt("internal-error");Oe.customData=ie,b(Oe)},P.type="text/javascript",P.charset="UTF-8",function Xo(){var N,m;return null!==(m=null===(N=document.getElementsByTagName("head"))||void 0===N?void 0:N[0])&&void 0!==m?m:document}().appendChild(P)})}function Zi(N){return`__${N}${Math.floor(1e6*Math.random())}`}const _i=1e12;class ds{constructor(m){this.auth=m,this.counter=_i,this._widgets=new Map}render(m,b){const P=this.counter;return this._widgets.set(P,new js(m,this.auth.name,b||{})),this.counter++,P}reset(m){var b;const P=m||_i;null===(b=this._widgets.get(P))||void 0===b||b.delete(),this._widgets.delete(P)}getResponse(m){var b;return(null===(b=this._widgets.get(m||_i))||void 0===b?void 0:b.getResponse())||""}execute(m){var b=this;return(0,s.Z)(function*(){var P;return null===(P=b._widgets.get(m||_i))||void 0===P||P.execute(),""})()}}class js{constructor(m,b,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ie="string"==typeof m?document.getElementById(m):m;Ee(ie,"argument-error",{appName:b}),this.container=ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function nr(N){const m=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<N;P++)m.push(b.charAt(Math.floor(Math.random()*b.length)));return m.join("")}(50);const{callback:m,"expired-callback":b}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bl=Zi("rcb"),Xl=new st(3e4,6e4);class Ic{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=wi().grecaptcha)||void 0===m||!m.render)}load(m,b=""){return Ee(function lu(N){return N.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(N)}(b),m,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(wi().grecaptcha):new Promise((P,ie)=>{const Oe=wi().setTimeout(()=>{ie(nt(m,"network-request-failed"))},Xl.get());wi()[Bl]=()=>{wi().clearTimeout(Oe),delete wi()[Bl];const on=wi().grecaptcha;if(!on)return void ie(nt(m,"internal-error"));const Yn=on.render;on.render=(br,si)=>{const Xr=Yn(br,si);return this.counter++,Xr},this.hostLanguage=b,P(on)},Pa(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:Bl,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(Oe),ie(nt(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var b;return!(null===(b=wi().grecaptcha)||void 0===b||!b.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hc{load(m){return(0,s.Z)(function*(){return new ds(m)})()}clearedOneInstance(){}}const $l="recaptcha",Wc={theme:"light",type:"image"};class is{constructor(m,b=Object.assign({},Wc),P){this.parameters=b,this.type=$l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gn(P),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ie="string"==typeof m?document.getElementById(m):m;Ee(ie,this.auth,"argument-error"),this.container=ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hc:new Ic,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const b=yield m.render(),P=m.getAssertedRecaptcha();return P.getResponse(b)||new Promise(Oe=>{const Pt=on=>{!on||(m.tokenChangeListeners.delete(Pt),Oe(on))};m.tokenChangeListeners.add(Pt),m.isInvisible&&P.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return b=>{if(this.tokenChangeListeners.forEach(P=>P(b)),"function"==typeof m)m(b);else if("string"==typeof m){const P=wi()[m];"function"==typeof P&&P(b)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let b=m.container;if(!m.isInvisible){const P=document.createElement("div");b.appendChild(P),b=P}m.widgetId=m.getAssertedRecaptcha().render(b,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){Ee(xt()&&!Do(),m.auth,"internal-error"),yield function Io(){let N=null;return new Promise(m=>{"complete"!==document.readyState?(N=()=>m(),window.addEventListener("load",N)):m()}).catch(m=>{throw N&&window.removeEventListener("load",N),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const b=yield function Jo(N){return Vr.apply(this,arguments)}(m.auth);Ee(b,m.auth,"internal-error"),m.parameters.sitekey=b})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class va{constructor(m,b){this.verificationId=m,this.onConfirmation=b}confirm(m){const b=Ws._fromVerification(this.verificationId,m);return this.onConfirmation(b)}}function Ul(){return(Ul=(0,s.Z)(function*(N,m,b){const P=Gn(N),ie=yield Js(P,m,(0,K.m9)(b));return new va(ie,Oe=>Pi(P,Oe))})).apply(this,arguments)}function oa(){return(oa=(0,s.Z)(function*(N,m,b){const P=(0,K.m9)(N);yield ai(!1,P,"phone");const ie=yield Js(P.auth,m,(0,K.m9)(b));return new va(ie,Oe=>Ms(P,Oe))})).apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(N,m,b){const P=(0,K.m9)(N),ie=yield Js(P.auth,m,(0,K.m9)(b));return new va(ie,Oe=>qr(P,Oe))})).apply(this,arguments)}function Js(N,m,b){return ja.apply(this,arguments)}function ja(){return(ja=(0,s.Z)(function*(N,m,b){var P;const ie=yield b.verify();try{let Oe;if(Ee("string"==typeof ie,N,"argument-error"),Ee(b.type===$l,N,"argument-error"),Oe="string"==typeof m?{phoneNumber:m}:m,"session"in Oe){const Pt=Oe.session;if("phoneNumber"in Oe)return Ee("enroll"===Pt.type,N,"internal-error"),(yield kl(N,{idToken:Pt.credential,phoneEnrollmentInfo:{phoneNumber:Oe.phoneNumber,recaptchaToken:ie}})).phoneSessionInfo.sessionInfo;{Ee("signin"===Pt.type,N,"internal-error");const on=(null===(P=Oe.multiFactorHint)||void 0===P?void 0:P.uid)||Oe.multiFactorUid;return Ee(on,N,"missing-multi-factor-info"),(yield Va(N,{mfaPendingCredential:Pt.credential,mfaEnrollmentId:on,phoneSignInInfo:{recaptchaToken:ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pt}=yield mn(N,{phoneNumber:Oe.phoneNumber,recaptchaToken:ie});return Pt}}finally{b._reset()}})).apply(this,arguments)}function ba(){return(ba=(0,s.Z)(function*(N,m){yield no((0,K.m9)(N),m)})).apply(this,arguments)}let fc=(()=>{class N{constructor(b){this.providerId=N.PROVIDER_ID,this.auth=Gn(b)}verifyPhoneNumber(b,P){return Js(this.auth,b,(0,K.m9)(P))}static credential(b,P){return Ws._fromVerification(b,P)}static credentialFromResult(b){return N.credentialFromTaggedObject(b)}static credentialFromError(b){return N.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:P,temporaryProof:ie}=b;return P&&ie?Ws._fromTokenResponse(P,ie):null}}return N.PROVIDER_ID="phone",N.PHONE_SIGN_IN_METHOD="phone",N})();function R(N,m){return m?_e(m):(Ee(N._popupRedirectResolver,N,"argument-error"),N._popupRedirectResolver)}class k extends Ai{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ni(m,this._buildIdpRequest())}_linkToIdToken(m,b){return Ni(m,this._buildIdpRequest(b))}_getReauthenticationResolver(m){return Ni(m,this._buildIdpRequest())}_buildIdpRequest(m){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(b.idToken=m),b}}function x(N){return qi(N.auth,new k(N),N.bypassAuthState)}function G(N){const{auth:m,user:b}=N;return Ee(b,m,"internal-error"),uo(b,new k(N),N.bypassAuthState)}function q(N){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,s.Z)(function*(N){const{auth:m,user:b}=N;return Ee(b,m,"internal-error"),no(b,new k(N),N.bypassAuthState)})).apply(this,arguments)}class Je{constructor(m,b,P,ie,Oe=!1){this.auth=m,this.resolver=P,this.user=ie,this.bypassAuthState=Oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var m=this;return new Promise(function(){var b=(0,s.Z)(function*(P,ie){m.pendingPromise={resolve:P,reject:ie};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(Oe){m.reject(Oe)}});return function(P,ie){return b.apply(this,arguments)}}())}onAuthEvent(m){var b=this;return(0,s.Z)(function*(){const{urlResponse:P,sessionId:ie,postBody:Oe,tenantId:Pt,error:on,type:Yn}=m;if(on)return void b.reject(on);const br={auth:b.auth,requestUri:P,sessionId:ie,tenantId:Pt||void 0,postBody:Oe||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Yn)(br))}catch(si){b.reject(si)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return x;case"linkViaPopup":case"linkViaRedirect":return q;case"reauthViaPopup":case"reauthViaRedirect":return G;default:Mt(this.auth,"internal-error")}}resolve(m){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dt=new st(2e3,1e4);function Rn(){return(Rn=(0,s.Z)(function*(N,m,b){const P=Gn(N);Pe(N,m,Es);const ie=R(P,b);return new Ds(P,"signInViaPopup",m,ie).executeNotNull()})).apply(this,arguments)}function Qn(){return(Qn=(0,s.Z)(function*(N,m,b){const P=(0,K.m9)(N);Pe(P.auth,m,Es);const ie=R(P.auth,b);return new Ds(P.auth,"reauthViaPopup",m,ie,P).executeNotNull()})).apply(this,arguments)}function To(){return(To=(0,s.Z)(function*(N,m,b){const P=(0,K.m9)(N);Pe(P.auth,m,Es);const ie=R(P.auth,b);return new Ds(P.auth,"linkViaPopup",m,ie,P).executeNotNull()})).apply(this,arguments)}let Ds=(()=>{class N extends Je{constructor(b,P,ie,Oe,Pt){super(b,P,Oe,Pt),this.provider=ie,this.authWindow=null,this.pollId=null,N.currentPopupAction&&N.currentPopupAction.cancel(),N.currentPopupAction=this}executeNotNull(){var b=this;return(0,s.Z)(function*(){const P=yield b.execute();return Ee(P,b.auth,"internal-error"),P})()}onExecution(){var b=this;return(0,s.Z)(function*(){Ie(1===b.filter.length,"Popup operations only handle one event");const P=Ua();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],P),b.authWindow.associatedEvent=P,b.resolver._originValidation(b.auth).catch(ie=>{b.reject(ie)}),b.resolver._isIframeWebStorageSupported(b.auth,ie=>{ie||b.reject(nt(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,N.currentPopupAction=null}pollUserCancellation(){const b=()=>{var P,ie;this.pollId=null!==(ie=null===(P=this.authWindow)||void 0===P?void 0:P.window)&&void 0!==ie&&ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,dt.get())};b()}}return N.currentPopupAction=null,N})();const Rs=new Map;class Xs extends Je{constructor(m,b,P=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,P),this.eventId=null}execute(){var m=()=>super.execute,b=this;return(0,s.Z)(function*(){let P=Rs.get(b.auth._key());if(!P){try{const Oe=(yield function Vl(N,m){return ka.apply(this,arguments)}(b.resolver,b.auth))?yield m().call(b):null;P=()=>Promise.resolve(Oe)}catch(ie){P=()=>Promise.reject(ie)}Rs.set(b.auth._key(),P)}return b.bypassAuthState||Rs.set(b.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(m){var b=()=>super.onAuthEvent,P=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return b().call(P,m);if("unknown"!==m.type){if(m.eventId){const ie=yield P.auth._redirectUserForId(m.eventId);if(ie)return P.user=ie,b().call(P,m);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function ka(){return(ka=(0,s.Z)(function*(N,m){const b=Ae(m),P=X(N);if(!(yield P._isAvailable()))return!1;const ie="true"===(yield P._get(b));return yield P._remove(b),ie})).apply(this,arguments)}function Ps(N,m){return Il.apply(this,arguments)}function Il(){return(Il=(0,s.Z)(function*(N,m){return X(N)._set(Ae(m),"true")})).apply(this,arguments)}function W(N,m){Rs.set(N._key(),m)}function X(N){return _e(N._redirectPersistence)}function Ae(N){return Pr("pendingRedirect",N.config.apiKey,N.name)}function en(){return(en=(0,s.Z)(function*(N,m,b){const P=Gn(N);Pe(N,m,Es);const ie=R(P,b);return yield Ps(ie,P),ie._openRedirect(P,m,"signInViaRedirect")})).apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(N,m,b){const P=(0,K.m9)(N);Pe(P.auth,m,Es);const ie=R(P.auth,b);yield Ps(ie,P.auth);const Oe=yield la(P);return ie._openRedirect(P.auth,m,"reauthViaRedirect",Oe)})).apply(this,arguments)}function Or(){return(Or=(0,s.Z)(function*(N,m,b){const P=(0,K.m9)(N);Pe(P.auth,m,Es);const ie=R(P.auth,b);yield ai(!1,P,m.providerId),yield Ps(ie,P.auth);const Oe=yield la(P);return ie._openRedirect(P.auth,m,"linkViaRedirect",Oe)})).apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(N,m){return yield Gn(N)._initializationPromise,wa(N,m,!1)})).apply(this,arguments)}function wa(N,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,s.Z)(function*(N,m,b=!1){const P=Gn(N),ie=R(P,m),Pt=yield new Xs(P,ie,b).execute();return Pt&&!b&&(delete Pt.user._redirectEventId,yield P._persistUserIfCurrent(Pt.user),yield P._setRedirectUser(null,m)),Pt})).apply(this,arguments)}function la(N){return tl.apply(this,arguments)}function tl(){return(tl=(0,s.Z)(function*(N){const m=Ua(`${N.uid}:::`);return N._redirectEventId=m,yield N.auth._setRedirectUser(N),yield N.auth._persistUserIfCurrent(N),m})).apply(this,arguments)}class Ca{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let b=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(m,P)&&(b=!0,this.sendToConsumer(m,P),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function rl(N){switch(N.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nl(N);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=m,b=!0)),b}sendToConsumer(m,b){var P;if(m.error&&!nl(m)){const ie=(null===(P=m.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";b.onError(nt(this.auth,ie))}else b.onAuthEvent(m)}isEventForConsumer(m,b){const P=null===b.eventId||!!m.eventId&&m.eventId===b.eventId;return b.filter.includes(m.type)&&P}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Na(m))}saveEventToCache(m){this.cachedEventUids.add(Na(m)),this.lastProcessedEventTime=Date.now()}}function Na(N){return[N.type,N.eventId,N.sessionId,N.tenantId].filter(m=>m).join("-")}function nl({type:N,error:m}){return"unknown"===N&&"auth/no-auth-event"===m?.code}function Tc(N){return zc.apply(this,arguments)}function zc(){return(zc=(0,s.Z)(function*(N,m={}){return bn(N,"GET","/v1/projects",m)})).apply(this,arguments)}const Qd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rd=/^https?/;function ko(){return(ko=(0,s.Z)(function*(N){if(N.config.emulator)return;const{authorizedDomains:m}=yield Tc(N);for(const b of m)try{if(Dd(b))return}catch{}Mt(N,"unauthorized-domain")})).apply(this,arguments)}function Dd(N){const m=It(),{protocol:b,hostname:P}=new URL(m);if(N.startsWith("chrome-extension://")){const Pt=new URL(N);return""===Pt.hostname&&""===P?"chrome-extension:"===b&&N.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===b&&Pt.hostname===P}if(!rd.test(b))return!1;if(Qd.test(N))return P===N;const ie=N.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ie+"|"+ie+")$","i").test(P)}const ws=new st(3e4,6e4);function id(){const N=wi().___jsl;if(N?.H)for(const m of Object.keys(N.H))if(N.H[m].r=N.H[m].r||[],N.H[m].L=N.H[m].L||[],N.H[m].r=[...N.H[m].L],N.CP)for(let b=0;b<N.CP.length;b++)N.CP[b]=null}let il=null;function cu(N){return il=il||function Sc(N){return new Promise((m,b)=>{var P,ie,Oe;function Pt(){id(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{id(),b(nt(N,"network-request-failed"))},timeout:ws.get()})}if(null!==(ie=null===(P=wi().gapi)||void 0===P?void 0:P.iframes)&&void 0!==ie&&ie.Iframe)m(gapi.iframes.getContext());else{if(null===(Oe=wi().gapi)||void 0===Oe||!Oe.load){const on=Zi("iframefcb");return wi()[on]=()=>{gapi.load?Pt():b(nt(N,"network-request-failed"))},Pa(`https://apis.google.com/js/api.js?onload=${on}`).catch(Yn=>b(Yn))}Pt()}}).catch(m=>{throw il=null,m})}(N),il}const pc=new st(5e3,15e3),Id={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ru=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fo(N){const m=N.config;Ee(m.authDomain,N,"auth-domain-config-required");const b=m.emulator?pt(m,"emulator/auth/iframe"):`https://${N.config.authDomain}/__/auth/iframe`,P={apiKey:m.apiKey,appName:N.name,v:Re.SDK_VERSION},ie=Ru.get(N.config.apiHost);ie&&(P.eid=ie);const Oe=N._getFrameworks();return Oe.length&&(P.fw=Oe.join(",")),`${b}?${(0,K.xO)(P).slice(1)}`}function du(){return du=(0,s.Z)(function*(N){const m=yield cu(N),b=wi().gapi;return Ee(b,N,"internal-error"),m.open({where:document.body,url:Fo(N),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Id,dontclear:!0},P=>new Promise(function(){var ie=(0,s.Z)(function*(Oe,Pt){yield P.restyle({setHideOnLeave:!1});const on=nt(N,"network-request-failed"),Yn=wi().setTimeout(()=>{Pt(on)},pc.get());function br(){wi().clearTimeout(Yn),Oe(P)}P.ping(br).then(br,()=>{Pt(on)})});return function(Oe,Pt){return ie.apply(this,arguments)}}()))}),du.apply(this,arguments)}const Td={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kc(N,m,b,P,ie,Oe){Ee(N.config.authDomain,N,"auth-domain-config-required"),Ee(N.config.apiKey,N,"invalid-api-key");const Pt={apiKey:N.config.apiKey,appName:N.name,authType:b,redirectUrl:P,v:Re.SDK_VERSION,eventId:ie};if(m instanceof Es){m.setDefaultLanguage(N.languageCode),Pt.providerId=m.providerId||"",(0,K.xb)(m.getCustomParameters())||(Pt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Yn,br]of Object.entries(Oe||{}))Pt[Yn]=br}if(m instanceof _s){const Yn=m.getScopes().filter(br=>""!==br);Yn.length>0&&(Pt.scopes=Yn.join(","))}N.tenantId&&(Pt.tid=N.tenantId);const on=Pt;for(const Yn of Object.keys(on))void 0===on[Yn]&&delete on[Yn];return`${function Tl({config:N}){return N.emulator?pt(N,"emulator/auth/handler"):`https://${N.authDomain}/__/auth/handler`}(N)}?${(0,K.xO)(on).slice(1)}`}const jl="webStorageSupport";class Ga extends class Ad{constructor(m){this.factorId=m}_process(m,b,P){switch(b.type){case"enroll":return this._finalizeEnroll(m,b.credential,P);case"signin":return this._finalizeSignIn(m,b.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ga(m)}_finalizeEnroll(m,b,P){return function Zl(N,m){return bn(N,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(N,m))}(m,{idToken:b,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,b){return function Qs(N,m){return bn(N,"POST","/v2/accounts/mfaSignIn:finalize",Bt(N,m))}(m,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xc=(()=>{class N{constructor(){}static assertion(b){return Ga._fromCredential(b)}}return N.FACTOR_ID="phone",N})();var qc="@firebase/auth";class Fu{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var b=this;return(0,s.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const b=this.auth.onIdTokenChanged(P=>{var ie;m((null===(ie=P)||void 0===ie?void 0:ie.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,b),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const b=this.internalListeners.get(m);!b||(this.internalListeners.delete(m),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sl(){return window}function cd(){return(cd=(0,s.Z)(function*(N,m,b){var P;const{BuildInfo:ie}=sl();Ie(m.sessionId,"AuthEvent did not contain a session ID");const Oe=yield Oc(m.sessionId),Pt={};return J()?Pt.ibi=ie.packageName:ci()?Pt.apn=ie.packageName:Mt(N,"operation-not-supported-in-this-environment"),ie.displayName&&(Pt.appDisplayName=ie.displayName),Pt.sessionId=Oe,Kc(N,b,m.type,void 0,null!==(P=m.eventId)&&void 0!==P?P:void 0,Pt)})).apply(this,arguments)}function za(){return(za=(0,s.Z)(function*(N){const{BuildInfo:m}=sl(),b={};J()?b.iosBundleId=m.packageName:ci()?b.androidPackageName=m.packageName:Mt(N,"operation-not-supported-in-this-environment"),yield Tc(N,b)})).apply(this,arguments)}function Zc(){return(Zc=(0,s.Z)(function*(N,m,b){const{cordova:P}=sl();let ie=()=>{};try{yield new Promise((Oe,Pt)=>{let on=null;function Yn(){var Xr;Oe();const Lo=null===(Xr=P.plugins.browsertab)||void 0===Xr?void 0:Xr.close;"function"==typeof Lo&&Lo(),"function"==typeof b?.close&&b.close()}function br(){on||(on=window.setTimeout(()=>{Pt(nt(N,"redirect-cancelled-by-user"))},2e3))}function si(){"visible"===document?.visibilityState&&br()}m.addPassiveListener(Yn),document.addEventListener("resume",br,!1),ci()&&document.addEventListener("visibilitychange",si,!1),ie=()=>{m.removePassiveListener(Yn),document.removeEventListener("resume",br,!1),document.removeEventListener("visibilitychange",si,!1),on&&window.clearTimeout(on)}})}finally{ie()}})).apply(this,arguments)}function Oc(N){return Al.apply(this,arguments)}function Al(){return(Al=(0,s.Z)(function*(N){const m=Qc(N),b=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(b)).map(ie=>ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qc(N){if(Ie(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const m=new ArrayBuffer(N.length),b=new Uint8Array(m);for(let P=0;P<N.length;P++)b[P]=N.charCodeAt(P);return b}!function ho(N){(0,Re._registerComponent)(new me.wA("auth",(m,{options:b})=>{const P=m.getProvider("app").getImmediate(),ie=m.getProvider("heartbeat"),{apiKey:Oe,authDomain:Pt}=P.options;return((on,Yn)=>{Ee(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:on.name}),Ee(!Pt?.includes(":"),"argument-error",{appName:on.name});const br={apiKey:Oe,authDomain:Pt,clientPlatform:N,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qt(N)},si=new Jt(on,Yn,br);return function Nt(N,m){const b=m?.persistence||[],P=(Array.isArray(b)?b:[b]).map(_e);m?.errorMap&&N._updateErrorMap(m.errorMap),N._initializeWithPersistence(P,m?.popupRedirectResolver)}(si,b),si})(P,ie)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,b,P)=>{m.getProvider("auth-internal").initialize()})),(0,Re._registerComponent)(new me.wA("auth-internal",m=>{const b=Gn(m.getProvider("auth").getImmediate());return new Fu(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Re.registerVersion)(qc,"0.20.7",function Wa(N){switch(N){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(N)),(0,Re.registerVersion)(qc,"0.20.7","esm2017")}("Browser");class xa extends Ca{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(m)),super.onEvent(m)}initialized(){var m=this;return(0,s.Z)(function*(){yield m.initPromise})()}}function Bu(N){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,s.Z)(function*(N){const m=yield ud()._get(so(N));return m&&(yield ud()._remove(so(N))),m})).apply(this,arguments)}function Nd(){const N=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<20;b++){const P=Math.floor(Math.random()*m.length);N.push(m.charAt(P))}return N.join("")}function ud(){return _e(dc)}function so(N){return Pr("authEvent",N.config.apiKey,N.name)}function hu(N){if(!N?.includes("?"))return{};const[m,...b]=N.split("?");return(0,K.zd)(b.join("?"))}function xd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:nt("no-auth-event")}}function pu(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function mu(N=(0,K.z$)()){return!("file:"!==pu()&&"ionic:"!==pu()&&"capacitor:"!==pu()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hl(){try{const N=self.localStorage,m=Ua();if(N)return N.setItem(m,"1"),N.removeItem(m),!function Pc(N=(0,K.z$)()){return function Wo(){return(0,K.w1)()&&11===document?.documentMode}()||function ss(N=(0,K.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,K.hl)()}catch{return _l()&&(0,K.hl)()}return!1}function _l(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kc(){return(function gu(){return"http:"===pu()||"https:"===pu()}()||(0,K.ru)()||mu())&&!function Od(){return(0,K.b$)()||(0,K.UG)()}()&&Hl()&&!_l()}function zo(){return mu()&&typeof document<"u"}function Ya(){return(Ya=(0,s.Z)(function*(){return!!zo()&&new Promise(N=>{const m=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),N(!0)})})})).apply(this,arguments)}const Hs={LOCAL:"local",NONE:"none",SESSION:"session"},eu=Ee,xl="persistence";function _u(N){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,s.Z)(function*(N){yield N._initializationPromise;const m=vc(),b=Pr(xl,N.config.apiKey,N.name);m&&m.setItem(b,N._getPersistence())})).apply(this,arguments)}function vc(){var N;try{return(null===(N=function Uu(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const rc=Ee;class ua{constructor(){this.browserResolver=_e(class Nc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_a,this._completeRedirectFn=wa,this._overrideRedirectResult=W}_openPopup(m,b,P,ie){var Oe=this;return(0,s.Z)(function*(){var Pt;Ie(null===(Pt=Oe.eventManagers[m._key()])||void 0===Pt?void 0:Pt.manager,"_initialize() not called before _openPopup()");const on=Kc(m,b,P,It(),ie);return function nc(N,m,b,P=500,ie=600){const Oe=Math.max((window.screen.availHeight-ie)/2,0).toString(),Pt=Math.max((window.screen.availWidth-P)/2,0).toString();let on="";const Yn=Object.assign(Object.assign({},Td),{width:P.toString(),height:ie.toString(),top:Oe,left:Pt}),br=(0,K.z$)().toLowerCase();b&&(on=Ii(br)?"_blank":b),Lr(br)&&(m=m||"http://localhost",Yn.scrollbars="yes");const si=Object.entries(Yn).reduce((Lo,[yl,$c])=>`${Lo}${yl}=${$c},`,"");if(function et(N=(0,K.z$)()){var m;return J(N)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(br)&&"_self"!==on)return function Ac(N,m){const b=document.createElement("a");b.href=N,b.target=m;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(P)}(m||"",on),new Pu(null);const Xr=window.open(m||"",on,si);Ee(Xr,N,"popup-blocked");try{Xr.focus()}catch{}return new Pu(Xr)}(m,on,Ua())})()}_openRedirect(m,b,P,ie){var Oe=this;return(0,s.Z)(function*(){return yield Oe._originValidation(m),function ro(N){wi().location.href=N}(Kc(m,b,P,It(),ie)),new Promise(()=>{})})()}_initialize(m){const b=m._key();if(this.eventManagers[b]){const{manager:ie,promise:Oe}=this.eventManagers[b];return ie?Promise.resolve(ie):(Ie(Oe,"If manager is not set, promise should be"),Oe)}const P=this.initAndGetManager(m);return this.eventManagers[b]={promise:P},P.catch(()=>{delete this.eventManagers[b]}),P}initAndGetManager(m){var b=this;return(0,s.Z)(function*(){const P=yield function Jd(N){return du.apply(this,arguments)}(m),ie=new Ca(m);return P.register("authEvent",Oe=>(Ee(Oe?.authEvent,m,"invalid-auth-event"),{status:ie.onEvent(Oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[m._key()]={manager:ie},b.iframes[m._key()]=P,ie})()}_isIframeWebStorageSupported(m,b){this.iframes[m._key()].send(jl,{type:jl},ie=>{var Oe;const Pt=null===(Oe=ie?.[0])||void 0===Oe?void 0:Oe[jl];void 0!==Pt&&b(!!Pt),Mt(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const b=m._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Ou(N){return ko.apply(this,arguments)}(m)),this.originValidationPromises[b]}get _shouldInitProactively(){return Vt()||Br()||J()}}),this.cordovaResolver=_e(class fu{constructor(){this._redirectPersistence=_a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wa,this._overrideRedirectResult=W}_initialize(m){var b=this;return(0,s.Z)(function*(){const P=m._key();let ie=b.eventManagers.get(P);return ie||(ie=new xa(m),b.eventManagers.set(P,ie),b.attachCallbackListeners(m,ie)),ie})()}_openPopup(m){Mt(m,"operation-not-supported-in-this-environment")}_openRedirect(m,b,P,ie){var Oe=this;return(0,s.Z)(function*(){!function Lu(N){var m,b,P,ie,Oe,Pt,on,Yn,br,si;const Xr=sl();Ee("function"==typeof(null===(m=Xr?.universalLinks)||void 0===m?void 0:m.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(typeof(null===(b=Xr?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(Oe=null===(ie=null===(P=Xr?.cordova)||void 0===P?void 0:P.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===Oe?void 0:Oe.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(Yn=null===(on=null===(Pt=Xr?.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===on?void 0:on.browsertab)||void 0===Yn?void 0:Yn.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(si=null===(br=Xr?.cordova)||void 0===br?void 0:br.InAppBrowser)||void 0===si?void 0:si.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Pt=yield Oe._initialize(m);yield Pt.initialized(),Pt.resetRedirect(),function Mu(){Rs.clear()}(),yield Oe._originValidation(m);const on=function _c(N,m,b=null){return{type:m,eventId:b,urlResponse:null,sessionId:Nd(),postBody:null,tenantId:N.tenantId,error:nt(N,"no-auth-event")}}(m,P,ie);yield function Nl(N,m){return ud()._set(so(N),m)}(m,on);const Yn=yield function ld(N,m,b){return cd.apply(this,arguments)}(m,on,b),br=yield function ca(N){const{cordova:m}=sl();return new Promise(b=>{m.plugins.browsertab.isAvailable(P=>{let ie=null;P?m.plugins.browsertab.openUrl(N):ie=m.InAppBrowser.open(N,function ve(N=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(N)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(N)}()?"_blank":"_system","location=yes"),b(ie)})})}(Yn);return function Sl(N,m,b){return Zc.apply(this,arguments)}(m,Pt,br)})()}_isIframeWebStorageSupported(m,b){throw new Error("Method not implemented.")}_originValidation(m){const b=m._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function mc(N){return za.apply(this,arguments)}(m)),this.originValidationPromises[b]}attachCallbackListeners(m,b){const{universalLinks:P,handleOpenURL:ie,BuildInfo:Oe}=sl(),Pt=setTimeout((0,s.Z)(function*(){yield Bu(m),b.onEvent(xd())}),500),on=function(){var si=(0,s.Z)(function*(Xr){clearTimeout(Pt);const Lo=yield Bu(m);let yl=null;Lo&&Xr?.url&&(yl=function ml(N,m){var b,P;const ie=function Jc(N){const m=hu(N),b=m.link?decodeURIComponent(m.link):void 0,P=hu(b).link,ie=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return hu(ie).link||ie||P||b||N}(m);if(ie.includes("/__/auth/callback")){const Oe=hu(ie),Pt=Oe.firebaseError?function $u(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(Oe.firebaseError)):null,on=null===(P=null===(b=Pt?.code)||void 0===b?void 0:b.split("auth/"))||void 0===P?void 0:P[1],Yn=on?nt(on):null;return Yn?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:Yn,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:ie,postBody:null}}return null}(Lo,Xr.url)),b.onEvent(yl||xd())});return function(Lo){return si.apply(this,arguments)}}();typeof P<"u"&&"function"==typeof P.subscribe&&P.subscribe(null,on);const Yn=ie,br=`${Oe.packageName.toLowerCase()}://`;sl().handleOpenURL=function(){var si=(0,s.Z)(function*(Xr){if(Xr.toLowerCase().startsWith(br)&&on({url:Xr}),"function"==typeof Yn)try{Yn(Xr)}catch(Lo){console.error(Lo)}});return function(Xr){return si.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_a,this._completeRedirectFn=wa,this._overrideRedirectResult=W}_initialize(m){var b=this;return(0,s.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,b,P,ie){var Oe=this;return(0,s.Z)(function*(){return yield Oe.selectUnderlyingResolver(),Oe.assertedUnderlyingResolver._openPopup(m,b,P,ie)})()}_openRedirect(m,b,P,ie){var Oe=this;return(0,s.Z)(function*(){return yield Oe.selectUnderlyingResolver(),Oe.assertedUnderlyingResolver._openRedirect(m,b,P,ie)})()}_isIframeWebStorageSupported(m,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,b)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return zo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,s.Z)(function*(){if(m.underlyingResolver)return;const b=yield function Gl(){return Ya.apply(this,arguments)}();m.underlyingResolver=b?m.cordovaResolver:m.browserResolver})()}}function yu(N){return N.unwrap()}function Lc(N){return tu(N)}function tu(N){const{_tokenResponse:m}=N instanceof K.ZR?N.customData:N;if(!m)return null;if(!(N instanceof K.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return fc.credentialFromResult(N);const b=m.providerId;if(!b||"password"===b)return null;let P;switch(b){case"google.com":P=Fs;break;case"facebook.com":P=Ys;break;case"github.com":P=ui;break;case"twitter.com":P=xs;break;default:const{oauthIdToken:ie,oauthAccessToken:Oe,oauthTokenSecret:Pt,pendingToken:on,nonce:Yn}=m;return Oe||Pt||ie||on?on?b.startsWith("saml.")?$r._create(b,on):jt._fromParams({providerId:b,signInMethod:b,pendingToken:on,idToken:ie,accessToken:Oe}):new Us(b).credential({idToken:ie,accessToken:Oe,rawNonce:Yn}):null}return N instanceof K.ZR?P.credentialFromError(N):P.credentialFromResult(N)}function Yo(N,m){return m.catch(b=>{throw b instanceof K.ZR&&function ic(N,m){var b,P;const ie=null===(b=m.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===(null===(P=m)||void 0===P?void 0:P.code))m.resolver=new Fa(N,function vs(N,m){var b;const P=(0,K.m9)(N),ie=m;return Ee(m.customData.operationType,P,"argument-error"),Ee(null===(b=ie.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,P,"argument-error"),wl._fromError(P,ie)}(N,m));else if(ie){const Oe=tu(m),Pt=m;Oe&&(Pt.credential=Oe,Pt.tenantId=ie.tenantId||void 0,Pt.email=ie.email||void 0,Pt.phoneNumber=ie.phoneNumber||void 0)}}(N,b),b}).then(b=>{const ie=b.user;return{operationType:b.operationType,credential:Lc(b),additionalUserInfo:bi(b),user:na.getOrCreate(ie)}})}function Bc(N,m){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,s.Z)(function*(N,m){const b=yield m;return{verificationId:b.verificationId,confirm:P=>Yo(N,b.confirm(P))}})).apply(this,arguments)}class Fa{constructor(m,b){this.resolver=b,this.auth=function vu(N){return N.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Yo(yu(this.auth),this.resolver.resolveSignIn(m))}}class na{constructor(m){this._delegate=m,this.multiFactor=function Eo(N){const m=(0,K.m9)(N);return Ta.has(m)||Ta.set(m,Fl._fromUser(m)),Ta.get(m)}(m)}static getOrCreate(m){return na.USER_MAP.has(m)||na.USER_MAP.set(m,new na(m)),na.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var b=this;return(0,s.Z)(function*(){return Yo(b.auth,Ms(b._delegate,m))})()}linkWithPhoneNumber(m,b){var P=this;return(0,s.Z)(function*(){return Bc(P.auth,function io(N,m,b){return oa.apply(this,arguments)}(P._delegate,m,b))})()}linkWithPopup(m){var b=this;return(0,s.Z)(function*(){return Yo(b.auth,function Wr(N,m,b){return To.apply(this,arguments)}(b._delegate,m,ua))})()}linkWithRedirect(m){var b=this;return(0,s.Z)(function*(){return yield _u(Gn(b.auth)),function hi(N,m,b){return function hr(N,m,b){return Or.apply(this,arguments)}(N,m,b)}(b._delegate,m,ua)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var b=this;return(0,s.Z)(function*(){return Yo(b.auth,qr(b._delegate,m))})()}reauthenticateWithPhoneNumber(m,b){return Bc(this.auth,function Qt(N,m,b){return Aa.apply(this,arguments)}(this._delegate,m,b))}reauthenticateWithPopup(m){return Yo(this.auth,function li(N,m,b){return Qn.apply(this,arguments)}(this._delegate,m,ua))}reauthenticateWithRedirect(m){var b=this;return(0,s.Z)(function*(){return yield _u(Gn(b.auth)),function Mn(N,m,b){return function zn(N,m,b){return zr.apply(this,arguments)}(N,m,b)}(b._delegate,m,ua)})()}sendEmailVerification(m){return function pi(N,m){return Zs.apply(this,arguments)}(this._delegate,m)}unlink(m){var b=this;return(0,s.Z)(function*(){return yield function Ls(N,m){return ha.apply(this,arguments)}(b._delegate,m),b})()}updateEmail(m){return function U(N,m){return z((0,K.m9)(N),m,null)}(this._delegate,m)}updatePassword(m){return function ae(N,m){return z((0,K.m9)(N),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function tc(N,m){return ba.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Oo(N,m){return Co.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,b){return function Vo(N,m,b){return gi.apply(this,arguments)}(this._delegate,m,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}na.USER_MAP=new WeakMap;const La=Ee;let bu=(()=>{class N{constructor(b,P){if(this.app=b,P.isInitialized())return this._delegate=P.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ie}=b.options;La(ie,"invalid-api-key",{appName:b.name}),La(ie,"invalid-api-key",{appName:b.name});const Oe=typeof window<"u"?ua:void 0;this._delegate=P.initialize({options:{persistence:fo(ie,b.name),popupRedirectResolver:Oe}}),this._delegate._updateErrorMap(ct),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?na.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,P){!function Tr(N,m,b){const P=Gn(N);Ee(P._canInitEmulator,P,"emulator-config-failed"),Ee(/^https?:\/\//.test(m),P,"invalid-emulator-scheme");const ie=!!b?.disableWarnings,Oe=vr(m),{host:Pt,port:on}=function Ar(N){const m=vr(N),b=/(\/\/)?([^?#/]+)/.exec(N.substr(m.length));if(!b)return{host:"",port:null};const P=b[2].split("@").pop()||"",ie=/^(\[[^\]]+\])(:|$)/.exec(P);if(ie){const Oe=ie[1];return{host:Oe,port:Si(P.substr(Oe.length+1))}}{const[Oe,Pt]=P.split(":");return{host:Oe,port:Si(Pt)}}}(m);P.config.emulator={url:`${Oe}//${Pt}${null===on?"":`:${on}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:Pt,port:on,protocol:Oe.replace(":",""),options:Object.freeze({disableWarnings:ie})}),ie||function Gi(){function N(){const m=document.createElement("p"),b=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",N):N())}()}(this._delegate,b,P)}applyActionCode(b){return function jn(N,m){return dr.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return E(this._delegate,b)}confirmPasswordReset(b,P){return function xe(N,m,b){return zt.apply(this,arguments)}(this._delegate,b,P)}createUserWithEmailAndPassword(b,P){var ie=this;return(0,s.Z)(function*(){return Yo(ie._delegate,function Me(N,m,b){return ht.apply(this,arguments)}(ie._delegate,b,P))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function ji(N,m){return Sr.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function xr(N,m){return"EMAIL_SIGNIN"===Cs.parseLink(m)?.operation}(0,b)}getRedirectResult(){var b=this;return(0,s.Z)(function*(){La(kc(),b._delegate,"operation-not-supported-in-this-environment");const P=yield function bs(N,m){return aa.apply(this,arguments)}(b._delegate,ua);return P?Yo(b._delegate,Promise.resolve(P)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function Rc(N,m){Gn(N)._logFramework(m)}(this._delegate,b)}onAuthStateChanged(b,P,ie){const{next:Oe,error:Pt,complete:on}=Ka(b,P,ie);return this._delegate.onAuthStateChanged(Oe,Pt,on)}onIdTokenChanged(b,P,ie){const{next:Oe,error:Pt,complete:on}=Ka(b,P,ie);return this._delegate.onIdTokenChanged(Oe,Pt,on)}sendSignInLinkToEmail(b,P){return function Dn(N,m,b){return kn.apply(this,arguments)}(this._delegate,b,P)}sendPasswordResetEmail(b,P){return function A(N,m,b){return Y.apply(this,arguments)}(this._delegate,b,P||void 0)}setPersistence(b){var P=this;return(0,s.Z)(function*(){let ie;switch(function Fc(N,m){eu(Object.values(Hs).includes(m),N,"invalid-persistence-type"),(0,K.b$)()?eu(m!==Hs.SESSION,N,"unsupported-persistence-type"):(0,K.UG)()?eu(m===Hs.NONE,N,"unsupported-persistence-type"):_l()?eu(m===Hs.NONE||m===Hs.LOCAL&&(0,K.hl)(),N,"unsupported-persistence-type"):eu(m===Hs.NONE||Hl(),N,"unsupported-persistence-type")}(P._delegate,b),b){case Hs.SESSION:ie=_a;break;case Hs.LOCAL:ie=(yield _e(ya)._isAvailable())?ya:dc;break;case Hs.NONE:ie=Mr;break;default:return Mt("argument-error",{appName:P._delegate.name})}return P._delegate.setPersistence(ie)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Yo(this._delegate,function jr(N){return Jr.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return Yo(this._delegate,Pi(this._delegate,b))}signInWithCustomToken(b){return Yo(this._delegate,function es(N,m){return Uo.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,P){return Yo(this._delegate,function rn(N,m,b){return Pi((0,K.m9)(N),ps.credential(m,b))}(this._delegate,b,P))}signInWithEmailLink(b,P){return Yo(this._delegate,function ri(N,m,b){return Bi.apply(this,arguments)}(this._delegate,b,P))}signInWithPhoneNumber(b,P){return Bc(this._delegate,function Dl(N,m,b){return Ul.apply(this,arguments)}(this._delegate,b,P))}signInWithPopup(b){var P=this;return(0,s.Z)(function*(){return La(kc(),P._delegate,"operation-not-supported-in-this-environment"),Yo(P._delegate,function fn(N,m,b){return Rn.apply(this,arguments)}(P._delegate,b,ua))})()}signInWithRedirect(b){var P=this;return(0,s.Z)(function*(){return La(kc(),P._delegate,"operation-not-supported-in-this-environment"),yield _u(P._delegate),function We(N,m,b){return function $t(N,m,b){return en.apply(this,arguments)}(N,m,b)}(P._delegate,b,ua)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function S(N,m){return j.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=Hs,N})();function Ka(N,m,b){let P=N;"function"!=typeof N&&({next:P,error:m,complete:b}=N);const ie=P;return{next:Pt=>ie(Pt&&na.getOrCreate(Pt)),error:m,complete:b}}function fo(N,m){const b=function yc(N,m){const b=vc();if(!b)return[];const P=Pr(xl,N,m);switch(b.getItem(P)){case Hs.NONE:return[Mr];case Hs.LOCAL:return[ya,_a];case Hs.SESSION:return[_a];default:return[]}}(N,m);if(typeof self<"u"&&!b.includes(ya)&&b.push(ya),typeof window<"u")for(const P of[dc,_a])b.includes(P)||b.push(P);return b.includes(Mr)||b.push(Mr),b}class sc{constructor(){this.providerId="phone",this._delegate=new fc(yu(Q.Z.auth()))}static credential(m,b){return fc.credential(m,b)}verifyPhoneNumber(m,b){return this._delegate.verifyPhoneNumber(m,b)}unwrap(){return this._delegate}}sc.PHONE_SIGN_IN_METHOD=fc.PHONE_SIGN_IN_METHOD,sc.PROVIDER_ID=fc.PROVIDER_ID;const ju=Ee;class al{constructor(m,b,P=Q.Z.app()){var ie;ju(null===(ie=P.options)||void 0===ie?void 0:ie.apiKey,"invalid-api-key",{appName:P.name}),this._delegate=new is(m,b,P.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function wu(N){N.INTERNAL.registerComponent(new me.wA("auth-compat",m=>{const b=m.getProvider("app-compat").getImmediate(),P=m.getProvider("auth");return new bu(b,P)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ps,FacebookAuthProvider:Ys,GithubAuthProvider:ui,GoogleAuthProvider:Fs,OAuthProvider:Us,SAMLAuthProvider:ti,PhoneAuthProvider:sc,PhoneMultiFactorGenerator:xc,RecaptchaVerifier:al,TwitterAuthProvider:xs,Auth:bu,AuthCredential:Ai,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.2.20")}(Q.Z)},591:(En,vt,F)=>{"use strict";F.d(vt,{X:()=>K});var s=F(8929),Q=F(5279);class K extends s.xQ{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const ue=super._subscribe(oe);return ue&&!ue.closed&&oe.next(this._value),ue}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Q.N;return this._value}next(oe){super.next(this._value=oe)}}},9312:(En,vt,F)=>{"use strict";F.d(vt,{P:()=>oe});var s=F(8896),Q=F(1086),K=F(1737);class oe{constructor(me,pe,De){this.kind=me,this.value=pe,this.error=De,this.hasValue="N"===me}observe(me){switch(this.kind){case"N":return me.next&&me.next(this.value);case"E":return me.error&&me.error(this.error);case"C":return me.complete&&me.complete()}}do(me,pe,De){switch(this.kind){case"N":return me&&me(this.value);case"E":return pe&&pe(this.error);case"C":return De&&De()}}accept(me,pe,De){return me&&"function"==typeof me.next?this.observe(me):this.do(me,pe,De)}toObservable(){switch(this.kind){case"N":return(0,Q.of)(this.value);case"E":return(0,K._)(this.error);case"C":return(0,s.c)()}throw new Error("unexpected notification kind value")}static createNext(me){return typeof me<"u"?new oe("N",me):oe.undefinedValueNotification}static createError(me){return new oe("E",void 0,me)}static createComplete(){return oe.completeNotification}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0)},6498:(En,vt,F)=>{"use strict";F.d(vt,{y:()=>De});var s=F(3489),K=F(7668),Re=F(3292),ue=F(3821),me=F(4843),pe=F(2830);let De=(()=>{class se{constructor(ge){this._isScalar=!1,ge&&(this._subscribe=ge)}lift(ge){const Ue=new se;return Ue.source=this,Ue.operator=ge,Ue}subscribe(ge,Ue,ct){const{operator:Be}=this,Le=function oe(se,le,ge){if(se){if(se instanceof s.L)return se;if(se[K.b])return se[K.b]()}return se||le||ge?new s.L(se,le,ge):new s.L(Re.c)}(ge,Ue,ct);if(Le.add(Be?Be.call(Le,this.source):this.source||pe.v.useDeprecatedSynchronousErrorHandling&&!Le.syncErrorThrowable?this._subscribe(Le):this._trySubscribe(Le)),pe.v.useDeprecatedSynchronousErrorHandling&&Le.syncErrorThrowable&&(Le.syncErrorThrowable=!1,Le.syncErrorThrown))throw Le.syncErrorValue;return Le}_trySubscribe(ge){try{return this._subscribe(ge)}catch(Ue){pe.v.useDeprecatedSynchronousErrorHandling&&(ge.syncErrorThrown=!0,ge.syncErrorValue=Ue),function Q(se){for(;se;){const{closed:le,destination:ge,isStopped:Ue}=se;if(le||Ue)return!1;se=ge&&ge instanceof s.L?ge:null}return!0}(ge)?ge.error(Ue):console.warn(Ue)}}forEach(ge,Ue){return new(Ue=ce(Ue))((ct,Be)=>{let Le;Le=this.subscribe(Ve=>{try{ge(Ve)}catch(Ft){Be(Ft),Le&&Le.unsubscribe()}},Be,ct)})}_subscribe(ge){const{source:Ue}=this;return Ue&&Ue.subscribe(ge)}[ue.L](){return this}pipe(...ge){return 0===ge.length?this:(0,me.U)(ge)(this)}toPromise(ge){return new(ge=ce(ge))((Ue,ct)=>{let Be;this.subscribe(Le=>Be=Le,Le=>ct(Le),()=>Ue(Be))})}}return se.create=le=>new se(le),se})();function ce(se){if(se||(se=pe.v.Promise||Promise),!se)throw new Error("no Promise impl found");return se}},3292:(En,vt,F)=>{"use strict";F.d(vt,{c:()=>K});var s=F(2830),Q=F(2782);const K={closed:!0,next(Re){},error(Re){if(s.v.useDeprecatedSynchronousErrorHandling)throw Re;(0,Q.z)(Re)},complete(){}}},826:(En,vt,F)=>{"use strict";F.d(vt,{L:()=>Q});var s=F(3489);class Q extends s.L{notifyNext(Re,oe,ue,me,pe){this.destination.next(oe)}notifyError(Re,oe){this.destination.error(Re)}notifyComplete(Re){this.destination.complete()}}},8929:(En,vt,F)=>{"use strict";F.d(vt,{Yc:()=>me,xQ:()=>pe});var s=F(6498),Q=F(3489),K=F(2654),Re=F(5279),oe=F(5283),ue=F(7668);class me extends Q.L{constructor(se){super(se),this.destination=se}}let pe=(()=>{class ce extends s.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ue.b](){return new me(this)}lift(le){const ge=new De(this,this);return ge.operator=le,ge}next(le){if(this.closed)throw new Re.N;if(!this.isStopped){const{observers:ge}=this,Ue=ge.length,ct=ge.slice();for(let Be=0;Be<Ue;Be++)ct[Be].next(le)}}error(le){if(this.closed)throw new Re.N;this.hasError=!0,this.thrownError=le,this.isStopped=!0;const{observers:ge}=this,Ue=ge.length,ct=ge.slice();for(let Be=0;Be<Ue;Be++)ct[Be].error(le);this.observers.length=0}complete(){if(this.closed)throw new Re.N;this.isStopped=!0;const{observers:le}=this,ge=le.length,Ue=le.slice();for(let ct=0;ct<ge;ct++)Ue[ct].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(le){if(this.closed)throw new Re.N;return super._trySubscribe(le)}_subscribe(le){if(this.closed)throw new Re.N;return this.hasError?(le.error(this.thrownError),K.w.EMPTY):this.isStopped?(le.complete(),K.w.EMPTY):(this.observers.push(le),new oe.W(this,le))}asObservable(){const le=new s.y;return le.source=this,le}}return ce.create=(se,le)=>new De(se,le),ce})();class De extends pe{constructor(se,le){super(),this.destination=se,this.source=le}next(se){const{destination:le}=this;le&&le.next&&le.next(se)}error(se){const{destination:le}=this;le&&le.error&&this.destination.error(se)}complete(){const{destination:se}=this;se&&se.complete&&this.destination.complete()}_subscribe(se){const{source:le}=this;return le?this.source.subscribe(se):K.w.EMPTY}}},5283:(En,vt,F)=>{"use strict";F.d(vt,{W:()=>Q});var s=F(2654);class Q extends s.w{constructor(Re,oe){super(),this.subject=Re,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Re=this.subject,oe=Re.observers;if(this.subject=null,!oe||0===oe.length||Re.isStopped||Re.closed)return;const ue=oe.indexOf(this.subscriber);-1!==ue&&oe.splice(ue,1)}}},3489:(En,vt,F)=>{"use strict";F.d(vt,{L:()=>me});var s=F(7043),Q=F(3292),K=F(2654),Re=F(7668),oe=F(2830),ue=F(2782);class me extends K.w{constructor(ce,se,le){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Q.c;break;case 1:if(!ce){this.destination=Q.c;break}if("object"==typeof ce){ce instanceof me?(this.syncErrorThrowable=ce.syncErrorThrowable,this.destination=ce,ce.add(this)):(this.syncErrorThrowable=!0,this.destination=new pe(this,ce));break}default:this.syncErrorThrowable=!0,this.destination=new pe(this,ce,se,le)}}[Re.b](){return this}static create(ce,se,le){const ge=new me(ce,se,le);return ge.syncErrorThrowable=!1,ge}next(ce){this.isStopped||this._next(ce)}error(ce){this.isStopped||(this.isStopped=!0,this._error(ce))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ce){this.destination.next(ce)}_error(ce){this.destination.error(ce),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ce}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ce,this}}class pe extends me{constructor(ce,se,le,ge){super(),this._parentSubscriber=ce;let Ue,ct=this;(0,s.m)(se)?Ue=se:se&&(Ue=se.next,le=se.error,ge=se.complete,se!==Q.c&&(ct=Object.create(se),(0,s.m)(ct.unsubscribe)&&this.add(ct.unsubscribe.bind(ct)),ct.unsubscribe=this.unsubscribe.bind(this))),this._context=ct,this._next=Ue,this._error=le,this._complete=ge}next(ce){if(!this.isStopped&&this._next){const{_parentSubscriber:se}=this;oe.v.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable?this.__tryOrSetError(se,this._next,ce)&&this.unsubscribe():this.__tryOrUnsub(this._next,ce)}}error(ce){if(!this.isStopped){const{_parentSubscriber:se}=this,{useDeprecatedSynchronousErrorHandling:le}=oe.v;if(this._error)le&&se.syncErrorThrowable?(this.__tryOrSetError(se,this._error,ce),this.unsubscribe()):(this.__tryOrUnsub(this._error,ce),this.unsubscribe());else if(se.syncErrorThrowable)le?(se.syncErrorValue=ce,se.syncErrorThrown=!0):(0,ue.z)(ce),this.unsubscribe();else{if(this.unsubscribe(),le)throw ce;(0,ue.z)(ce)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ce}=this;if(this._complete){const se=()=>this._complete.call(this._context);oe.v.useDeprecatedSynchronousErrorHandling&&ce.syncErrorThrowable?(this.__tryOrSetError(ce,se),this.unsubscribe()):(this.__tryOrUnsub(se),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ce,se){try{ce.call(this._context,se)}catch(le){if(this.unsubscribe(),oe.v.useDeprecatedSynchronousErrorHandling)throw le;(0,ue.z)(le)}}__tryOrSetError(ce,se,le){if(!oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{se.call(this._context,le)}catch(ge){return oe.v.useDeprecatedSynchronousErrorHandling?(ce.syncErrorValue=ge,ce.syncErrorThrown=!0,!0):((0,ue.z)(ge),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ce}=this;this._context=null,this._parentSubscriber=null,ce.unsubscribe()}}},2654:(En,vt,F)=>{"use strict";F.d(vt,{w:()=>ue});var s=F(6688),Q=F(7830),K=F(7043);const oe=(()=>{function pe(De){return Error.call(this),this.message=De?`${De.length} errors occurred during unsubscription:\n${De.map((ce,se)=>`${se+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=De,this}return pe.prototype=Object.create(Error.prototype),pe})();class ue{constructor(De){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,De&&(this._ctorUnsubscribe=!0,this._unsubscribe=De)}unsubscribe(){let De;if(this.closed)return;let{_parentOrParents:ce,_ctorUnsubscribe:se,_unsubscribe:le,_subscriptions:ge}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ce instanceof ue)ce.remove(this);else if(null!==ce)for(let Ue=0;Ue<ce.length;++Ue)ce[Ue].remove(this);if((0,K.m)(le)){se&&(this._unsubscribe=void 0);try{le.call(this)}catch(Ue){De=Ue instanceof oe?me(Ue.errors):[Ue]}}if((0,s.k)(ge)){let Ue=-1,ct=ge.length;for(;++Ue<ct;){const Be=ge[Ue];if((0,Q.K)(Be))try{Be.unsubscribe()}catch(Le){De=De||[],Le instanceof oe?De=De.concat(me(Le.errors)):De.push(Le)}}}if(De)throw new oe(De)}add(De){let ce=De;if(!De)return ue.EMPTY;switch(typeof De){case"function":ce=new ue(De);case"object":if(ce===this||ce.closed||"function"!=typeof ce.unsubscribe)return ce;if(this.closed)return ce.unsubscribe(),ce;if(!(ce instanceof ue)){const ge=ce;ce=new ue,ce._subscriptions=[ge]}break;default:throw new Error("unrecognized teardown "+De+" added to Subscription.")}let{_parentOrParents:se}=ce;if(null===se)ce._parentOrParents=this;else if(se instanceof ue){if(se===this)return ce;ce._parentOrParents=[se,this]}else{if(-1!==se.indexOf(this))return ce;se.push(this)}const le=this._subscriptions;return null===le?this._subscriptions=[ce]:le.push(ce),ce}remove(De){const ce=this._subscriptions;if(ce){const se=ce.indexOf(De);-1!==se&&ce.splice(se,1)}}}var pe;function me(pe){return pe.reduce((De,ce)=>De.concat(ce instanceof oe?ce.errors:ce),[])}ue.EMPTY=((pe=new ue).closed=!0,pe)},2830:(En,vt,F)=>{"use strict";F.d(vt,{v:()=>Q});let s=!1;const Q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(K){if(K){const Re=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Re.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=K},get useDeprecatedSynchronousErrorHandling(){return s}}},1177:(En,vt,F)=>{"use strict";F.d(vt,{Ds:()=>ue,IY:()=>Re,ft:()=>pe});var s=F(3489),Q=F(6498),K=F(9249);class Re extends s.L{constructor(ce){super(),this.parent=ce}_next(ce){this.parent.notifyNext(ce)}_error(ce){this.parent.notifyError(ce),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ue extends s.L{notifyNext(ce){this.destination.next(ce)}notifyError(ce){this.destination.error(ce)}notifyComplete(){this.destination.complete()}}function pe(De,ce){if(ce.closed)return;if(De instanceof Q.y)return De.subscribe(ce);let se;try{se=(0,K.s)(De)(ce)}catch(le){ce.error(le)}return se}},1762:(En,vt,F)=>{"use strict";F.d(vt,{N:()=>ue,c:()=>oe});var s=F(8929),Q=F(6498),K=F(2654),Re=F(4327);class oe extends Q.y{constructor(se,le){super(),this.source=se,this.subjectFactory=le,this._refCount=0,this._isComplete=!1}_subscribe(se){return this.getSubject().subscribe(se)}getSubject(){const se=this._subject;return(!se||se.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let se=this._connection;return se||(this._isComplete=!1,se=this._connection=new K.w,se.add(this.source.subscribe(new me(this.getSubject(),this))),se.closed&&(this._connection=null,se=K.w.EMPTY)),se}refCount(){return(0,Re.x)()(this)}}const ue=(()=>{const ce=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ce._subscribe},_isComplete:{value:ce._isComplete,writable:!0},getSubject:{value:ce.getSubject},connect:{value:ce.connect},refCount:{value:ce.refCount}}})();class me extends s.Yc{constructor(se,le){super(se),this.connectable=le}_error(se){this._unsubscribe(),super._error(se)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const se=this.connectable;if(se){this.connectable=null;const le=se._connection;se._refCount=0,se._subject=null,se._connection=null,le&&le.unsubscribe()}}}},6053:(En,vt,F)=>{"use strict";F.d(vt,{aj:()=>me});var s=F(2866),Q=F(6688),K=F(826),Re=F(448),oe=F(3009);const ue={};function me(...ce){let se,le;return(0,s.K)(ce[ce.length-1])&&(le=ce.pop()),"function"==typeof ce[ce.length-1]&&(se=ce.pop()),1===ce.length&&(0,Q.k)(ce[0])&&(ce=ce[0]),(0,oe.n)(ce,le).lift(new pe(se))}class pe{constructor(se){this.resultSelector=se}call(se,le){return le.subscribe(new De(se,this.resultSelector))}}class De extends K.L{constructor(se,le){super(se),this.resultSelector=le,this.active=0,this.values=[],this.observables=[]}_next(se){this.values.push(ue),this.observables.push(se)}_complete(){const se=this.observables,le=se.length;if(0===le)this.destination.complete();else{this.active=le,this.toRespond=le;for(let ge=0;ge<le;ge++)this.add((0,Re.D)(this,se[ge],void 0,ge))}}notifyComplete(se){0==(this.active-=1)&&this.destination.complete()}notifyNext(se,le,ge){const Ue=this.values,Be=this.toRespond?Ue[ge]===ue?--this.toRespond:this.toRespond:0;Ue[ge]=le,0===Be&&(this.resultSelector?this._tryResultSelector(Ue):this.destination.next(Ue.slice()))}_tryResultSelector(se){let le;try{le=this.resultSelector.apply(this,se)}catch(ge){return void this.destination.error(ge)}this.destination.next(le)}}},1221:(En,vt,F)=>{"use strict";F.d(vt,{z:()=>Re});var s=F(1086),Q=F(9146);function Re(...oe){return function K(){return(0,Q.J)(1)}()((0,s.of)(...oe))}},8896:(En,vt,F)=>{"use strict";F.d(vt,{E:()=>Q,c:()=>K});var s=F(6498);const Q=new s.y(oe=>oe.complete());function K(oe){return oe?function Re(oe){return new s.y(ue=>oe.schedule(()=>ue.complete()))}(oe):Q}},5254:(En,vt,F)=>{"use strict";F.d(vt,{D:()=>ct});var s=F(6498),Q=F(9249),K=F(2654),Re=F(3821),me=F(6454),pe=F(5430),se=F(8955),le=F(8515);function ct(Be,Le){return Le?function Ue(Be,Le){if(null!=Be){if(function ce(Be){return Be&&"function"==typeof Be[Re.L]}(Be))return function oe(Be,Le){return new s.y(Ve=>{const Ft=new K.w;return Ft.add(Le.schedule(()=>{const yt=Be[Re.L]();Ft.add(yt.subscribe({next(Mt){Ft.add(Le.schedule(()=>Ve.next(Mt)))},error(Mt){Ft.add(Le.schedule(()=>Ve.error(Mt)))},complete(){Ft.add(Le.schedule(()=>Ve.complete()))}}))})),Ft})}(Be,Le);if((0,se.t)(Be))return function ue(Be,Le){return new s.y(Ve=>{const Ft=new K.w;return Ft.add(Le.schedule(()=>Be.then(yt=>{Ft.add(Le.schedule(()=>{Ve.next(yt),Ft.add(Le.schedule(()=>Ve.complete()))}))},yt=>{Ft.add(Le.schedule(()=>Ve.error(yt)))}))),Ft})}(Be,Le);if((0,le.z)(Be))return(0,me.r)(Be,Le);if(function ge(Be){return Be&&"function"==typeof Be[pe.hZ]}(Be)||"string"==typeof Be)return function De(Be,Le){if(!Be)throw new Error("Iterable cannot be null");return new s.y(Ve=>{const Ft=new K.w;let yt;return Ft.add(()=>{yt&&"function"==typeof yt.return&&yt.return()}),Ft.add(Le.schedule(()=>{yt=Be[pe.hZ](),Ft.add(Le.schedule(function(){if(Ve.closed)return;let Mt,nt;try{const St=yt.next();Mt=St.value,nt=St.done}catch(St){return void Ve.error(St)}nt?Ve.complete():(Ve.next(Mt),this.schedule())}))})),Ft})}(Be,Le)}throw new TypeError((null!==Be&&typeof Be||Be)+" is not observable")}(Be,Le):Be instanceof s.y?Be:new s.y((0,Q.s)(Be))}},3009:(En,vt,F)=>{"use strict";F.d(vt,{n:()=>Re});var s=F(6498),Q=F(3650),K=F(6454);function Re(oe,ue){return ue?(0,K.r)(oe,ue):new s.y((0,Q.V)(oe))}},3753:(En,vt,F)=>{"use strict";F.d(vt,{R:()=>ue});var s=F(6498),Q=F(6688),K=F(7043),Re=F(4850);function ue(se,le,ge,Ue){return(0,K.m)(ge)&&(Ue=ge,ge=void 0),Ue?ue(se,le,ge).pipe((0,Re.U)(ct=>(0,Q.k)(ct)?Ue(...ct):Ue(ct))):new s.y(ct=>{me(se,le,function Be(Le){ct.next(arguments.length>1?Array.prototype.slice.call(arguments):Le)},ct,ge)})}function me(se,le,ge,Ue,ct){let Be;if(function ce(se){return se&&"function"==typeof se.addEventListener&&"function"==typeof se.removeEventListener}(se)){const Le=se;se.addEventListener(le,ge,ct),Be=()=>Le.removeEventListener(le,ge,ct)}else if(function De(se){return se&&"function"==typeof se.on&&"function"==typeof se.off}(se)){const Le=se;se.on(le,ge),Be=()=>Le.off(le,ge)}else if(function pe(se){return se&&"function"==typeof se.addListener&&"function"==typeof se.removeListener}(se)){const Le=se;se.addListener(le,ge),Be=()=>Le.removeListener(le,ge)}else{if(!se||!se.length)throw new TypeError("Invalid event target");for(let Le=0,Ve=se.length;Le<Ve;Le++)me(se[Le],le,ge,Ue,ct)}Ue.add(Be)}},6787:(En,vt,F)=>{"use strict";F.d(vt,{T:()=>oe});var s=F(6498),Q=F(2866),K=F(9146),Re=F(3009);function oe(...ue){let me=Number.POSITIVE_INFINITY,pe=null,De=ue[ue.length-1];return(0,Q.K)(De)?(pe=ue.pop(),ue.length>1&&"number"==typeof ue[ue.length-1]&&(me=ue.pop())):"number"==typeof De&&(me=ue.pop()),null===pe&&1===ue.length&&ue[0]instanceof s.y?ue[0]:(0,K.J)(me)((0,Re.n)(ue,pe))}},1086:(En,vt,F)=>{"use strict";F.d(vt,{of:()=>Re});var s=F(2866),Q=F(3009),K=F(6454);function Re(...oe){let ue=oe[oe.length-1];return(0,s.K)(ue)?(oe.pop(),(0,K.r)(oe,ue)):(0,Q.n)(oe)}},1737:(En,vt,F)=>{"use strict";F.d(vt,{_:()=>Q});var s=F(6498);function Q(Re,oe){return new s.y(oe?ue=>oe.schedule(K,0,{error:Re,subscriber:ue}):ue=>ue.error(Re))}function K({error:Re,subscriber:oe}){oe.error(Re)}},7221:(En,vt,F)=>{"use strict";F.d(vt,{K:()=>Q});var s=F(1177);function Q(oe){return function(me){const pe=new K(oe),De=me.lift(pe);return pe.caught=De}}class K{constructor(ue){this.selector=ue}call(ue,me){return me.subscribe(new Re(ue,this.selector,this.caught))}}class Re extends s.Ds{constructor(ue,me,pe){super(ue),this.selector=me,this.caught=pe}error(ue){if(!this.isStopped){let me;try{me=this.selector(ue,this.caught)}catch(ce){return void super.error(ce)}this._unsubscribeAndRecycle();const pe=new s.IY(this);this.add(pe);const De=(0,s.ft)(me,pe);De!==pe&&this.add(De)}}}},1406:(En,vt,F)=>{"use strict";F.d(vt,{b:()=>Q});var s=F(1709);function Q(K,Re){return(0,s.zg)(K,Re,1)}},7314:(En,vt,F)=>{"use strict";F.d(vt,{d:()=>Q});var s=F(3489);function Q(oe=null){return ue=>ue.lift(new K(oe))}class K{constructor(ue){this.defaultValue=ue}call(ue,me){return me.subscribe(new Re(ue,this.defaultValue))}}class Re extends s.L{constructor(ue,me){super(ue),this.defaultValue=me,this.isEmpty=!0}_next(ue){this.isEmpty=!1,this.destination.next(ue)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(En,vt,F)=>{"use strict";F.d(vt,{x:()=>Q});var s=F(3489);function Q(oe,ue){return me=>me.lift(new K(oe,ue))}class K{constructor(ue,me){this.compare=ue,this.keySelector=me}call(ue,me){return me.subscribe(new Re(ue,this.compare,this.keySelector))}}class Re extends s.L{constructor(ue,me,pe){super(ue),this.keySelector=pe,this.hasKey=!1,"function"==typeof me&&(this.compare=me)}compare(ue,me){return ue===me}_next(ue){let me;try{const{keySelector:De}=this;me=De?De(ue):ue}catch(De){return this.destination.error(De)}let pe=!1;if(this.hasKey)try{const{compare:De}=this;pe=De(this.key,me)}catch(De){return this.destination.error(De)}else this.hasKey=!0;pe||(this.key=me,this.destination.next(ue))}}},2198:(En,vt,F)=>{"use strict";F.d(vt,{h:()=>Q});var s=F(3489);function Q(oe,ue){return function(pe){return pe.lift(new K(oe,ue))}}class K{constructor(ue,me){this.predicate=ue,this.thisArg=me}call(ue,me){return me.subscribe(new Re(ue,this.predicate,this.thisArg))}}class Re extends s.L{constructor(ue,me,pe){super(ue),this.predicate=me,this.thisArg=pe,this.count=0}_next(ue){let me;try{me=this.predicate.call(this.thisArg,ue,this.count++)}catch(pe){return void this.destination.error(pe)}me&&this.destination.next(ue)}}},537:(En,vt,F)=>{"use strict";F.d(vt,{x:()=>K});var s=F(3489),Q=F(2654);function K(ue){return me=>me.lift(new Re(ue))}class Re{constructor(me){this.callback=me}call(me,pe){return pe.subscribe(new oe(me,this.callback))}}class oe extends s.L{constructor(me,pe){super(me),this.add(new Q.w(pe))}}},7224:(En,vt,F)=>{"use strict";F.d(vt,{P:()=>me});var s=F(4450),Q=F(2198),K=F(2986),Re=F(7314),oe=F(4907),ue=F(5379);function me(pe,De){const ce=arguments.length>=2;return se=>se.pipe(pe?(0,Q.h)((le,ge)=>pe(le,ge,se)):ue.y,(0,K.q)(1),ce?(0,Re.d)(De):(0,oe.T)(()=>new s.K))}},4850:(En,vt,F)=>{"use strict";F.d(vt,{U:()=>Q});var s=F(3489);function Q(oe,ue){return function(pe){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return pe.lift(new K(oe,ue))}}class K{constructor(ue,me){this.project=ue,this.thisArg=me}call(ue,me){return me.subscribe(new Re(ue,this.project,this.thisArg))}}class Re extends s.L{constructor(ue,me,pe){super(ue),this.project=me,this.count=0,this.thisArg=pe||this}_next(ue){let me;try{me=this.project.call(this.thisArg,ue,this.count++)}catch(pe){return void this.destination.error(pe)}this.destination.next(me)}}},9146:(En,vt,F)=>{"use strict";F.d(vt,{J:()=>K});var s=F(1709),Q=F(5379);function K(Re=Number.POSITIVE_INFINITY){return(0,s.zg)(Q.y,Re)}},1709:(En,vt,F)=>{"use strict";F.d(vt,{zg:()=>Re});var s=F(4850),Q=F(5254),K=F(1177);function Re(pe,De,ce=Number.POSITIVE_INFINITY){return"function"==typeof De?se=>se.pipe(Re((le,ge)=>(0,Q.D)(pe(le,ge)).pipe((0,s.U)((Ue,ct)=>De(le,Ue,ge,ct))),ce)):("number"==typeof De&&(ce=De),se=>se.lift(new oe(pe,ce)))}class oe{constructor(De,ce=Number.POSITIVE_INFINITY){this.project=De,this.concurrent=ce}call(De,ce){return ce.subscribe(new ue(De,this.project,this.concurrent))}}class ue extends K.Ds{constructor(De,ce,se=Number.POSITIVE_INFINITY){super(De),this.project=ce,this.concurrent=se,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(De){this.active<this.concurrent?this._tryNext(De):this.buffer.push(De)}_tryNext(De){let ce;const se=this.index++;try{ce=this.project(De,se)}catch(le){return void this.destination.error(le)}this.active++,this._innerSub(ce)}_innerSub(De){const ce=new K.IY(this),se=this.destination;se.add(ce);const le=(0,K.ft)(De,ce);le!==ce&&se.add(le)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(De){this.destination.next(De)}notifyComplete(){const De=this.buffer;this.active--,De.length>0?this._next(De.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(En,vt,F)=>{"use strict";F.d(vt,{QV:()=>K,ht:()=>oe});var s=F(3489),Q=F(9312);function K(me,pe=0){return function(ce){return ce.lift(new Re(me,pe))}}class Re{constructor(pe,De=0){this.scheduler=pe,this.delay=De}call(pe,De){return De.subscribe(new oe(pe,this.scheduler,this.delay))}}class oe extends s.L{constructor(pe,De,ce=0){super(pe),this.scheduler=De,this.delay=ce}static dispatch(pe){const{notification:De,destination:ce}=pe;De.observe(ce),this.unsubscribe()}scheduleMessage(pe){this.destination.add(this.scheduler.schedule(oe.dispatch,this.delay,new ue(pe,this.destination)))}_next(pe){this.scheduleMessage(Q.P.createNext(pe))}_error(pe){this.scheduleMessage(Q.P.createError(pe)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.P.createComplete()),this.unsubscribe()}}class ue{constructor(pe,De){this.notification=pe,this.destination=De}}},4327:(En,vt,F)=>{"use strict";F.d(vt,{x:()=>Q});var s=F(3489);function Q(){return function(ue){return ue.lift(new K(ue))}}class K{constructor(ue){this.connectable=ue}call(ue,me){const{connectable:pe}=this;pe._refCount++;const De=new Re(ue,pe),ce=me.subscribe(De);return De.closed||(De.connection=pe.connect()),ce}}class Re extends s.L{constructor(ue,me){super(ue),this.connectable=me}_unsubscribe(){const{connectable:ue}=this;if(!ue)return void(this.connection=null);this.connectable=null;const me=ue._refCount;if(me<=0)return void(this.connection=null);if(ue._refCount=me-1,me>1)return void(this.connection=null);const{connection:pe}=this,De=ue._connection;this.connection=null,De&&(!pe||De===pe)&&De.unsubscribe()}}},2014:(En,vt,F)=>{"use strict";F.d(vt,{R:()=>Q});var s=F(3489);function Q(oe,ue){let me=!1;return arguments.length>=2&&(me=!0),function(De){return De.lift(new K(oe,ue,me))}}class K{constructor(ue,me,pe=!1){this.accumulator=ue,this.seed=me,this.hasSeed=pe}call(ue,me){return me.subscribe(new Re(ue,this.accumulator,this.seed,this.hasSeed))}}class Re extends s.L{constructor(ue,me,pe,De){super(ue),this.accumulator=me,this._seed=pe,this.hasSeed=De,this.index=0}get seed(){return this._seed}set seed(ue){this.hasSeed=!0,this._seed=ue}_next(ue){if(this.hasSeed)return this._tryNext(ue);this.seed=ue,this.destination.next(ue)}_tryNext(ue){const me=this.index++;let pe;try{pe=this.accumulator(this.seed,ue,me)}catch(De){this.destination.error(De)}this.seed=pe,this.destination.next(pe)}}},2474:(En,vt,F)=>{"use strict";F.d(vt,{B:()=>me});var s=F(1762);class K{constructor(De,ce){this.subjectFactory=De,this.selector=ce}call(De,ce){const{selector:se}=this,le=this.subjectFactory(),ge=se(le).subscribe(De);return ge.add(ce.subscribe(le)),ge}}var Re=F(4327),oe=F(8929);function ue(){return new oe.xQ}function me(){return pe=>(0,Re.x)()(function Q(pe,De){return function(se){let le;if(le="function"==typeof pe?pe:function(){return pe},"function"==typeof De)return se.lift(new K(le,De));const ge=Object.create(se,s.N);return ge.source=se,ge.subjectFactory=le,ge}}(ue)(pe))}},1059:(En,vt,F)=>{"use strict";F.d(vt,{O:()=>K});var s=F(1221),Q=F(2866);function K(...Re){const oe=Re[Re.length-1];return(0,Q.K)(oe)?(Re.pop(),ue=>(0,s.z)(Re,ue,oe)):ue=>(0,s.z)(Re,ue)}},2899:(En,vt,F)=>{"use strict";F.d(vt,{R:()=>Be});var s=F(6498);let Q=1;const K=Promise.resolve(),Re={};function oe(Ve){return Ve in Re&&(delete Re[Ve],!0)}const ue={setImmediate(Ve){const Ft=Q++;return Re[Ft]=!0,K.then(()=>oe(Ft)&&Ve()),Ft},clearImmediate(Ve){oe(Ve)}};var pe=F(6686),ce=F(2268);const ge=new class se extends ce.v{flush(Ft){this.active=!0,this.scheduled=void 0;const{actions:yt}=this;let Mt,nt=-1,St=yt.length;Ft=Ft||yt.shift();do{if(Mt=Ft.execute(Ft.state,Ft.delay))break}while(++nt<St&&(Ft=yt.shift()));if(this.active=!1,Mt){for(;++nt<St&&(Ft=yt.shift());)Ft.unsubscribe();throw Mt}}}(class De extends pe.o{constructor(Ft,yt){super(Ft,yt),this.scheduler=Ft,this.work=yt}requestAsyncId(Ft,yt,Mt=0){return null!==Mt&&Mt>0?super.requestAsyncId(Ft,yt,Mt):(Ft.actions.push(this),Ft.scheduled||(Ft.scheduled=ue.setImmediate(Ft.flush.bind(Ft,null))))}recycleAsyncId(Ft,yt,Mt=0){if(null!==Mt&&Mt>0||null===Mt&&this.delay>0)return super.recycleAsyncId(Ft,yt,Mt);0===Ft.actions.length&&(ue.clearImmediate(yt),Ft.scheduled=void 0)}});var Ue=F(4241);class ct extends s.y{constructor(Ft,yt=0,Mt=ge){super(),this.source=Ft,this.delayTime=yt,this.scheduler=Mt,(!(0,Ue.k)(yt)||yt<0)&&(this.delayTime=0),(!Mt||"function"!=typeof Mt.schedule)&&(this.scheduler=ge)}static create(Ft,yt=0,Mt=ge){return new ct(Ft,yt,Mt)}static dispatch(Ft){const{source:yt,subscriber:Mt}=Ft;return this.add(yt.subscribe(Mt))}_subscribe(Ft){return this.scheduler.schedule(ct.dispatch,this.delayTime,{source:this.source,subscriber:Ft})}}function Be(Ve,Ft=0){return function(Mt){return Mt.lift(new Le(Ve,Ft))}}class Le{constructor(Ft,yt){this.scheduler=Ft,this.delay=yt}call(Ft,yt){return new ct(yt,this.delay,this.scheduler).subscribe(Ft)}}},7545:(En,vt,F)=>{"use strict";F.d(vt,{w:()=>Re});var s=F(4850),Q=F(5254),K=F(1177);function Re(me,pe){return"function"==typeof pe?De=>De.pipe(Re((ce,se)=>(0,Q.D)(me(ce,se)).pipe((0,s.U)((le,ge)=>pe(ce,le,se,ge))))):De=>De.lift(new oe(me))}class oe{constructor(pe){this.project=pe}call(pe,De){return De.subscribe(new ue(pe,this.project))}}class ue extends K.Ds{constructor(pe,De){super(pe),this.project=De,this.index=0}_next(pe){let De;const ce=this.index++;try{De=this.project(pe,ce)}catch(se){return void this.destination.error(se)}this._innerSub(De)}_innerSub(pe){const De=this.innerSubscription;De&&De.unsubscribe();const ce=new K.IY(this),se=this.destination;se.add(ce),this.innerSubscription=(0,K.ft)(pe,ce),this.innerSubscription!==ce&&se.add(this.innerSubscription)}_complete(){const{innerSubscription:pe}=this;(!pe||pe.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(pe){this.destination.next(pe)}}},2986:(En,vt,F)=>{"use strict";F.d(vt,{q:()=>Re});var s=F(3489),Q=F(4231),K=F(8896);function Re(me){return pe=>0===me?(0,K.c)():pe.lift(new oe(me))}class oe{constructor(pe){if(this.total=pe,this.total<0)throw new Q.W}call(pe,De){return De.subscribe(new ue(pe,this.total))}}class ue extends s.L{constructor(pe,De){super(pe),this.total=De,this.count=0}_next(pe){const De=this.total,ce=++this.count;ce<=De&&(this.destination.next(pe),ce===De&&(this.destination.complete(),this.unsubscribe()))}}},2994:(En,vt,F)=>{"use strict";F.d(vt,{b:()=>Re});var s=F(3489),Q=F(7876),K=F(7043);function Re(me,pe,De){return function(se){return se.lift(new oe(me,pe,De))}}class oe{constructor(pe,De,ce){this.nextOrObserver=pe,this.error=De,this.complete=ce}call(pe,De){return De.subscribe(new ue(pe,this.nextOrObserver,this.error,this.complete))}}class ue extends s.L{constructor(pe,De,ce,se){super(pe),this._tapNext=Q.Z,this._tapError=Q.Z,this._tapComplete=Q.Z,this._tapError=ce||Q.Z,this._tapComplete=se||Q.Z,(0,K.m)(De)?(this._context=this,this._tapNext=De):De&&(this._context=De,this._tapNext=De.next||Q.Z,this._tapError=De.error||Q.Z,this._tapComplete=De.complete||Q.Z)}_next(pe){try{this._tapNext.call(this._context,pe)}catch(De){return void this.destination.error(De)}this.destination.next(pe)}_error(pe){try{this._tapError.call(this._context,pe)}catch(De){return void this.destination.error(De)}this.destination.error(pe)}_complete(){try{this._tapComplete.call(this._context)}catch(pe){return void this.destination.error(pe)}return this.destination.complete()}}},4907:(En,vt,F)=>{"use strict";F.d(vt,{T:()=>K});var s=F(4450),Q=F(3489);function K(me=ue){return pe=>pe.lift(new Re(me))}class Re{constructor(pe){this.errorFactory=pe}call(pe,De){return De.subscribe(new oe(pe,this.errorFactory))}}class oe extends Q.L{constructor(pe,De){super(pe),this.errorFactory=De,this.hasValue=!1}_next(pe){this.hasValue=!0,this.destination.next(pe)}_complete(){if(this.hasValue)return this.destination.complete();{let pe;try{pe=this.errorFactory()}catch(De){pe=De}this.destination.error(pe)}}}function ue(){return new s.K}},7168:(En,vt,F)=>{"use strict";F.d(vt,{M:()=>K});var s=F(826),Q=F(448);function K(...ue){return me=>{let pe;return"function"==typeof ue[ue.length-1]&&(pe=ue.pop()),me.lift(new Re(ue,pe))}}class Re{constructor(me,pe){this.observables=me,this.project=pe}call(me,pe){return pe.subscribe(new oe(me,this.observables,this.project))}}class oe extends s.L{constructor(me,pe,De){super(me),this.observables=pe,this.project=De,this.toRespond=[];const ce=pe.length;this.values=new Array(ce);for(let se=0;se<ce;se++)this.toRespond.push(se);for(let se=0;se<ce;se++)this.add((0,Q.D)(this,pe[se],void 0,se))}notifyNext(me,pe,De){this.values[De]=pe;const ce=this.toRespond;if(ce.length>0){const se=ce.indexOf(De);-1!==se&&ce.splice(se,1)}}notifyComplete(){}_next(me){if(0===this.toRespond.length){const pe=[me,...this.values];this.project?this._tryProject(pe):this.destination.next(pe)}}_tryProject(me){let pe;try{pe=this.project.apply(this,me)}catch(De){return void this.destination.error(De)}this.destination.next(pe)}}},6454:(En,vt,F)=>{"use strict";F.d(vt,{r:()=>K});var s=F(6498),Q=F(2654);function K(Re,oe){return new s.y(ue=>{const me=new Q.w;let pe=0;return me.add(oe.schedule(function(){pe!==Re.length?(ue.next(Re[pe++]),ue.closed||me.add(this.schedule())):ue.complete()})),me})}},6686:(En,vt,F)=>{"use strict";F.d(vt,{o:()=>K});var s=F(2654);class Q extends s.w{constructor(oe,ue){super()}schedule(oe,ue=0){return this}}class K extends Q{constructor(oe,ue){super(oe,ue),this.scheduler=oe,this.work=ue,this.pending=!1}schedule(oe,ue=0){if(this.closed)return this;this.state=oe;const me=this.id,pe=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(pe,me,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(pe,this.id,ue),this}requestAsyncId(oe,ue,me=0){return setInterval(oe.flush.bind(oe,this),me)}recycleAsyncId(oe,ue,me=0){if(null!==me&&this.delay===me&&!1===this.pending)return ue;clearInterval(ue)}execute(oe,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(oe,ue);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,ue){let pe,me=!1;try{this.work(oe)}catch(De){me=!0,pe=!!De&&De||new Error(De)}if(me)return this.unsubscribe(),pe}_unsubscribe(){const oe=this.id,ue=this.scheduler,me=ue.actions,pe=me.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==pe&&me.splice(pe,1),null!=oe&&(this.id=this.recycleAsyncId(ue,oe,null)),this.delay=null}}},2268:(En,vt,F)=>{"use strict";F.d(vt,{v:()=>Q});let s=(()=>{class K{constructor(oe,ue=K.now){this.SchedulerAction=oe,this.now=ue}schedule(oe,ue=0,me){return new this.SchedulerAction(this,oe).schedule(me,ue)}}return K.now=()=>Date.now(),K})();class Q extends s{constructor(Re,oe=s.now){super(Re,()=>Q.delegate&&Q.delegate!==this?Q.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Re,oe=0,ue){return Q.delegate&&Q.delegate!==this?Q.delegate.schedule(Re,oe,ue):super.schedule(Re,oe,ue)}flush(Re){const{actions:oe}=this;if(this.active)return void oe.push(Re);let ue;this.active=!0;do{if(ue=Re.execute(Re.state,Re.delay))break}while(Re=oe.shift());if(this.active=!1,ue){for(;Re=oe.shift();)Re.unsubscribe();throw ue}}}},353:(En,vt,F)=>{"use strict";F.d(vt,{P:()=>Re,z:()=>K});var s=F(6686);const K=new(F(2268).v)(s.o),Re=K},341:(En,vt,F)=>{"use strict";F.d(vt,{c:()=>ue,N:()=>oe});var s=F(6686),K=F(2268);const oe=new class Re extends K.v{}(class Q extends s.o{constructor(pe,De){super(pe,De),this.scheduler=pe,this.work=De}schedule(pe,De=0){return De>0?super.schedule(pe,De):(this.delay=De,this.state=pe,this.scheduler.flush(this),this)}execute(pe,De){return De>0||this.closed?super.execute(pe,De):this._execute(pe,De)}requestAsyncId(pe,De,ce=0){return null!==ce&&ce>0||null===ce&&this.delay>0?super.requestAsyncId(pe,De,ce):pe.flush(this)}}),ue=oe},5430:(En,vt,F)=>{"use strict";F.d(vt,{hZ:()=>Q});const Q=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(En,vt,F)=>{"use strict";F.d(vt,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(En,vt,F)=>{"use strict";F.d(vt,{b:()=>s});const s="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(En,vt,F)=>{"use strict";F.d(vt,{W:()=>Q});const Q=(()=>{function K(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return K.prototype=Object.create(Error.prototype),K})()},4450:(En,vt,F)=>{"use strict";F.d(vt,{K:()=>Q});const Q=(()=>{function K(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return K.prototype=Object.create(Error.prototype),K})()},5279:(En,vt,F)=>{"use strict";F.d(vt,{N:()=>Q});const Q=(()=>{function K(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return K.prototype=Object.create(Error.prototype),K})()},2782:(En,vt,F)=>{"use strict";function s(Q){setTimeout(()=>{throw Q},0)}F.d(vt,{z:()=>s})},5379:(En,vt,F)=>{"use strict";function s(Q){return Q}F.d(vt,{y:()=>s})},6688:(En,vt,F)=>{"use strict";F.d(vt,{k:()=>s});const s=Array.isArray||(Q=>Q&&"number"==typeof Q.length)},8515:(En,vt,F)=>{"use strict";F.d(vt,{z:()=>s});const s=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},7043:(En,vt,F)=>{"use strict";function s(Q){return"function"==typeof Q}F.d(vt,{m:()=>s})},4241:(En,vt,F)=>{"use strict";F.d(vt,{k:()=>Q});var s=F(6688);function Q(K){return!(0,s.k)(K)&&K-parseFloat(K)+1>=0}},7830:(En,vt,F)=>{"use strict";function s(Q){return null!==Q&&"object"==typeof Q}F.d(vt,{K:()=>s})},8955:(En,vt,F)=>{"use strict";function s(Q){return!!Q&&"function"!=typeof Q.subscribe&&"function"==typeof Q.then}F.d(vt,{t:()=>s})},2866:(En,vt,F)=>{"use strict";function s(Q){return Q&&"function"==typeof Q.schedule}F.d(vt,{K:()=>s})},7876:(En,vt,F)=>{"use strict";function s(){}F.d(vt,{Z:()=>s})},4843:(En,vt,F)=>{"use strict";F.d(vt,{U:()=>K,z:()=>Q});var s=F(5379);function Q(...Re){return K(Re)}function K(Re){return 0===Re.length?s.y:1===Re.length?Re[0]:function(ue){return Re.reduce((me,pe)=>pe(me),ue)}}},9249:(En,vt,F)=>{"use strict";F.d(vt,{s:()=>se});var s=F(3650),Q=F(2782),Re=F(5430),ue=F(3821),pe=F(8515),De=F(8955),ce=F(7830);const se=le=>{if(le&&"function"==typeof le[ue.L])return(le=>ge=>{const Ue=le[ue.L]();if("function"!=typeof Ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ue.subscribe(ge)})(le);if((0,pe.z)(le))return(0,s.V)(le);if((0,De.t)(le))return(le=>ge=>(le.then(Ue=>{ge.closed||(ge.next(Ue),ge.complete())},Ue=>ge.error(Ue)).then(null,Q.z),ge))(le);if(le&&"function"==typeof le[Re.hZ])return(le=>ge=>{const Ue=le[Re.hZ]();for(;;){let ct;try{ct=Ue.next()}catch(Be){return ge.error(Be),ge}if(ct.done){ge.complete();break}if(ge.next(ct.value),ge.closed)break}return"function"==typeof Ue.return&&ge.add(()=>{Ue.return&&Ue.return()}),ge})(le);{const Ue=`You provided ${(0,ce.K)(le)?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ue)}}},3650:(En,vt,F)=>{"use strict";F.d(vt,{V:()=>s});const s=Q=>K=>{for(let Re=0,oe=Q.length;Re<oe&&!K.closed;Re++)K.next(Q[Re]);K.complete()}},448:(En,vt,F)=>{"use strict";F.d(vt,{D:()=>oe});var s=F(3489);class Q extends s.L{constructor(me,pe,De){super(),this.parent=me,this.outerValue=pe,this.outerIndex=De,this.index=0}_next(me){this.parent.notifyNext(this.outerValue,me,this.outerIndex,this.index++,this)}_error(me){this.parent.notifyError(me,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var K=F(9249),Re=F(6498);function oe(ue,me,pe,De,ce=new Q(ue,pe,De)){if(!ce.closed)return me instanceof Re.y?me.subscribe(ce):(0,K.s)(me)(ce)}},863:(En,vt,F)=>{var s={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,3368,9230],"./ion-datetime_3.entry.js":[4959,3368,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function Q(K){if(!F.o(s,K))return Promise.resolve().then(()=>{var ue=new Error("Cannot find module '"+K+"'");throw ue.code="MODULE_NOT_FOUND",ue});var Re=s[K],oe=Re[0];return Promise.all(Re.slice(1).map(F.e)).then(()=>F(oe))}Q.keys=()=>Object.keys(s),Q.id=863,En.exports=Q},5899:(En,vt,F)=>{var s={"./pwa-action-sheet.entry.js":[2987,2987],"./pwa-camera-modal-instance.entry.js":[3527,3527],"./pwa-camera-modal.entry.js":[7839,7839],"./pwa-camera.entry.js":[7943,7943],"./pwa-toast.entry.js":[3822,3822]};function Q(K){if(!F.o(s,K))return Promise.resolve().then(()=>{var ue=new Error("Cannot find module '"+K+"'");throw ue.code="MODULE_NOT_FOUND",ue});var Re=s[K],oe=Re[0];return F.e(Re[1]).then(()=>F(oe))}Q.keys=()=>Object.keys(s),Q.id=5899,En.exports=Q},655:(En,vt,F)=>{"use strict";function Re(Ie,he){var _e={};for(var fe in Ie)Object.prototype.hasOwnProperty.call(Ie,fe)&&he.indexOf(fe)<0&&(_e[fe]=Ie[fe]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Nt=0;for(fe=Object.getOwnPropertySymbols(Ie);Nt<fe.length;Nt++)he.indexOf(fe[Nt])<0&&Object.prototype.propertyIsEnumerable.call(Ie,fe[Nt])&&(_e[fe[Nt]]=Ie[fe[Nt]])}return _e}function oe(Ie,he,_e,fe){var xt,Nt=arguments.length,It=Nt<3?he:null===fe?fe=Object.getOwnPropertyDescriptor(he,_e):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)It=Reflect.decorate(Ie,he,_e,fe);else for(var gt=Ie.length-1;gt>=0;gt--)(xt=Ie[gt])&&(It=(Nt<3?xt(It):Nt>3?xt(he,_e,It):xt(he,_e))||It);return Nt>3&&It&&Object.defineProperty(he,_e,It),It}function pe(Ie,he,_e,fe){return new(_e||(_e=Promise))(function(It,xt){function gt(st){try{ze(fe.next(st))}catch(pt){xt(pt)}}function Ze(st){try{ze(fe.throw(st))}catch(pt){xt(pt)}}function ze(st){st.done?It(st.value):function Nt(It){return It instanceof _e?It:new _e(function(xt){xt(It)})}(st.value).then(gt,Ze)}ze((fe=fe.apply(Ie,he||[])).next())})}F.d(vt,{_T:()=>Re,gn:()=>oe,mG:()=>pe})},6895:(En,vt,F)=>{"use strict";F.d(vt,{Do:()=>yt,EM:()=>bo,H9:()=>Us,HT:()=>oe,JF:()=>no,K0:()=>me,Mx:()=>Xi,NF:()=>Mo,O5:()=>Fe,PM:()=>ys,S$:()=>Le,V_:()=>ce,Ye:()=>Mt,b0:()=>Ft,bD:()=>cs,ez:()=>$r,mk:()=>vi,q:()=>K,sg:()=>zi,tP:()=>Nr,uU:()=>Ns,w_:()=>ue});var s=F(4650);let Q=null;function K(){return Q}function oe(U){Q||(Q=U)}class ue{}const me=new s.OlP("DocumentToken");let pe=(()=>{class U{historyGo(z){throw new Error("Not implemented")}}return U.\u0275fac=function(z){return new(z||U)},U.\u0275prov=s.Yz7({token:U,factory:function(){return function De(){return(0,s.LFG)(se)}()},providedIn:"platform"}),U})();const ce=new s.OlP("Location Initialized");let se=(()=>{class U extends pe{constructor(z){super(),this._doc=z,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(z){const Se=K().getGlobalEventTarget(this._doc,"window");return Se.addEventListener("popstate",z,!1),()=>Se.removeEventListener("popstate",z)}onHashChange(z){const Se=K().getGlobalEventTarget(this._doc,"window");return Se.addEventListener("hashchange",z,!1),()=>Se.removeEventListener("hashchange",z)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(z){this.location.pathname=z}pushState(z,Se,ut){le()?this._history.pushState(z,Se,ut):this.location.hash=ut}replaceState(z,Se,ut){le()?this._history.replaceState(z,Se,ut):this.location.hash=ut}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}}return U.\u0275fac=function(z){return new(z||U)(s.LFG(me))},U.\u0275prov=s.Yz7({token:U,factory:function(){return function ge(){return new se((0,s.LFG)(me))}()},providedIn:"platform"}),U})();function le(){return!!window.history.pushState}function Ue(U,ae){if(0==U.length)return ae;if(0==ae.length)return U;let z=0;return U.endsWith("/")&&z++,ae.startsWith("/")&&z++,2==z?U+ae.substring(1):1==z?U+ae:U+"/"+ae}function ct(U){const ae=U.match(/#|\?|$/),z=ae&&ae.index||U.length;return U.slice(0,z-("/"===U[z-1]?1:0))+U.slice(z)}function Be(U){return U&&"?"!==U[0]?"?"+U:U}let Le=(()=>{class U{historyGo(z){throw new Error("Not implemented")}}return U.\u0275fac=function(z){return new(z||U)},U.\u0275prov=s.Yz7({token:U,factory:function(){return(0,s.f3M)(Ft)},providedIn:"root"}),U})();const Ve=new s.OlP("appBaseHref");let Ft=(()=>{class U extends Le{constructor(z,Se){super(),this._platformLocation=z,this._removeListenerFns=[],this._baseHref=Se??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return Ue(this._baseHref,z)}path(z=!1){const Se=this._platformLocation.pathname+Be(this._platformLocation.search),ut=this._platformLocation.hash;return ut&&z?`${Se}${ut}`:Se}pushState(z,Se,ut,Wt){const dn=this.prepareExternalUrl(ut+Be(Wt));this._platformLocation.pushState(z,Se,dn)}replaceState(z,Se,ut,Wt){const dn=this.prepareExternalUrl(ut+Be(Wt));this._platformLocation.replaceState(z,Se,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}}return U.\u0275fac=function(z){return new(z||U)(s.LFG(pe),s.LFG(Ve,8))},U.\u0275prov=s.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),yt=(()=>{class U extends Le{constructor(z,Se){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=Se&&(this._baseHref=Se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){let Se=this._platformLocation.hash;return null==Se&&(Se="#"),Se.length>0?Se.substring(1):Se}prepareExternalUrl(z){const Se=Ue(this._baseHref,z);return Se.length>0?"#"+Se:Se}pushState(z,Se,ut,Wt){let dn=this.prepareExternalUrl(ut+Be(Wt));0==dn.length&&(dn=this._platformLocation.pathname),this._platformLocation.pushState(z,Se,dn)}replaceState(z,Se,ut,Wt){let dn=this.prepareExternalUrl(ut+Be(Wt));0==dn.length&&(dn=this._platformLocation.pathname),this._platformLocation.replaceState(z,Se,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}}return U.\u0275fac=function(z){return new(z||U)(s.LFG(pe),s.LFG(Ve,8))},U.\u0275prov=s.Yz7({token:U,factory:U.\u0275fac}),U})(),Mt=(()=>{class U{constructor(z){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=z;const Se=this._locationStrategy.getBaseHref();this._baseHref=ct(Pe(Se)),this._locationStrategy.onPopState(ut=>{this._subject.emit({url:this.path(!0),pop:!0,state:ut.state,type:ut.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(z=!1){return this.normalize(this._locationStrategy.path(z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(z,Se=""){return this.path()==this.normalize(z+Be(Se))}normalize(z){return U.stripTrailingSlash(function St(U,ae){return U&&ae.startsWith(U)?ae.substring(U.length):ae}(this._baseHref,Pe(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._locationStrategy.prepareExternalUrl(z)}go(z,Se="",ut=null){this._locationStrategy.pushState(ut,"",z,Se),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Be(Se)),ut)}replaceState(z,Se="",ut=null){this._locationStrategy.replaceState(ut,"",z,Se),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Be(Se)),ut)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(z=0){this._locationStrategy.historyGo?.(z)}onUrlChange(z){return this._urlChangeListeners.push(z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Se=>{this._notifyUrlChangeListeners(Se.url,Se.state)})),()=>{const Se=this._urlChangeListeners.indexOf(z);this._urlChangeListeners.splice(Se,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(z="",Se){this._urlChangeListeners.forEach(ut=>ut(z,Se))}subscribe(z,Se,ut){return this._subject.subscribe({next:z,error:Se,complete:ut})}}return U.normalizeQueryParams=Be,U.joinWithSlash=Ue,U.stripTrailingSlash=ct,U.\u0275fac=function(z){return new(z||U)(s.LFG(Le))},U.\u0275prov=s.Yz7({token:U,factory:function(){return function nt(){return new Mt((0,s.LFG)(Le))}()},providedIn:"root"}),U})();function Pe(U){return U.replace(/\/index.html$/,"")}const Xe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Percent=1]="Percent",Ee[Ee.Currency=2]="Currency",Ee[Ee.Scientific=3]="Scientific",Ee))(),Ie=(()=>((Ie=Ie||{})[Ie.Format=0]="Format",Ie[Ie.Standalone=1]="Standalone",Ie))(),he=(()=>((he=he||{})[he.Narrow=0]="Narrow",he[he.Abbreviated=1]="Abbreviated",he[he.Wide=2]="Wide",he[he.Short=3]="Short",he))(),_e=(()=>((_e=_e||{})[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e))(),fe=(()=>((fe=fe||{})[fe.Decimal=0]="Decimal",fe[fe.Group=1]="Group",fe[fe.List=2]="List",fe[fe.PercentSign=3]="PercentSign",fe[fe.PlusSign=4]="PlusSign",fe[fe.MinusSign=5]="MinusSign",fe[fe.Exponential=6]="Exponential",fe[fe.SuperscriptingExponent=7]="SuperscriptingExponent",fe[fe.PerMille=8]="PerMille",fe[fe.Infinity=9]="Infinity",fe[fe.NaN=10]="NaN",fe[fe.TimeSeparator=11]="TimeSeparator",fe[fe.CurrencyDecimal=12]="CurrencyDecimal",fe[fe.CurrencyGroup=13]="CurrencyGroup",fe))();function Tt(U,ae){return hn((0,s.cg1)(U)[s.wAp.DateFormat],ae)}function Lt(U,ae){return hn((0,s.cg1)(U)[s.wAp.TimeFormat],ae)}function Cn(U,ae){return hn((0,s.cg1)(U)[s.wAp.DateTimeFormat],ae)}function Bt(U,ae){const z=(0,s.cg1)(U),Se=z[s.wAp.NumberSymbols][ae];if(typeof Se>"u"){if(ae===fe.CurrencyDecimal)return z[s.wAp.NumberSymbols][fe.Decimal];if(ae===fe.CurrencyGroup)return z[s.wAp.NumberSymbols][fe.Group]}return Se}function fi(U){if(!U[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hn(U,ae){for(let z=ae;z>-1;z--)if(typeof U[z]<"u")return U[z];throw new Error("Locale data API: locale data undefined")}function yr(U){const[ae,z]=U.split(":");return{hours:+ae,minutes:+z}}const Er=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ir={},Ht=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var rt=(()=>((rt=rt||{})[rt.Short=0]="Short",rt[rt.ShortGMT=1]="ShortGMT",rt[rt.Long=2]="Long",rt[rt.Extended=3]="Extended",rt))(),He=(()=>((He=He||{})[He.FullYear=0]="FullYear",He[He.Month=1]="Month",He[He.Date=2]="Date",He[He.Hours=3]="Hours",He[He.Minutes=4]="Minutes",He[He.Seconds=5]="Seconds",He[He.FractionalSeconds=6]="FractionalSeconds",He[He.Day=7]="Day",He))(),Et=(()=>((Et=Et||{})[Et.DayPeriods=0]="DayPeriods",Et[Et.Days=1]="Days",Et[Et.Months=2]="Months",Et[Et.Eras=3]="Eras",Et))();function Ut(U,ae,z,Se){let ut=function Lr(U){if(Ii(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[ut,Wt=1,dn=1]=U.split("-").map(rr=>+rr);return An(ut,Wt-1,dn)}const z=parseFloat(U);if(!isNaN(U-z))return new Date(z);let Se;if(Se=U.match(Er))return function Br(U){const ae=new Date(0);let z=0,Se=0;const ut=U[8]?ae.setUTCFullYear:ae.setFullYear,Wt=U[8]?ae.setUTCHours:ae.setHours;U[9]&&(z=Number(U[9]+U[10]),Se=Number(U[9]+U[11])),ut.call(ae,Number(U[1]),Number(U[2])-1,Number(U[3]));const dn=Number(U[4]||0)-z,rr=Number(U[5]||0)-Se,mi=Number(U[6]||0),Ti=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return Wt.call(ae,dn,rr,mi,Ti),ae}(Se)}const ae=new Date(U);if(!Ii(ae))throw new Error(`Unable to convert "${U}" into a date`);return ae}(U);ae=Vn(z,ae)||ae;let rr,dn=[];for(;ae;){if(rr=Ht.exec(ae),!rr){dn.push(ae);break}{dn=dn.concat(rr.slice(1));const Oi=dn.pop();if(!Oi)break;ae=Oi}}let mi=ut.getTimezoneOffset();Se&&(mi=Pr(Se,mi),ut=function Wn(U,ae,z){const Se=z?-1:1,ut=U.getTimezoneOffset();return function pr(U,ae){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+ae),U}(U,Se*(Pr(ae,ut)-ut))}(ut,Se,!0));let Ti="";return dn.forEach(Oi=>{const bi=function Mr(U){if(Kr[U])return Kr[U];let ae;switch(U){case"G":case"GG":case"GGG":ae=sr(Et.Eras,he.Abbreviated);break;case"GGGG":ae=sr(Et.Eras,he.Wide);break;case"GGGGG":ae=sr(Et.Eras,he.Narrow);break;case"y":ae=On(He.FullYear,1,0,!1,!0);break;case"yy":ae=On(He.FullYear,2,0,!0,!0);break;case"yyy":ae=On(He.FullYear,3,0,!1,!0);break;case"yyyy":ae=On(He.FullYear,4,0,!1,!0);break;case"Y":ae=Bn(1);break;case"YY":ae=Bn(2,!0);break;case"YYY":ae=Bn(3);break;case"YYYY":ae=Bn(4);break;case"M":case"L":ae=On(He.Month,1,1);break;case"MM":case"LL":ae=On(He.Month,2,1);break;case"MMM":ae=sr(Et.Months,he.Abbreviated);break;case"MMMM":ae=sr(Et.Months,he.Wide);break;case"MMMMM":ae=sr(Et.Months,he.Narrow);break;case"LLL":ae=sr(Et.Months,he.Abbreviated,Ie.Standalone);break;case"LLLL":ae=sr(Et.Months,he.Wide,Ie.Standalone);break;case"LLLLL":ae=sr(Et.Months,he.Narrow,Ie.Standalone);break;case"w":ae=gn(1);break;case"ww":ae=gn(2);break;case"W":ae=gn(1,!0);break;case"d":ae=On(He.Date,1);break;case"dd":ae=On(He.Date,2);break;case"c":case"cc":ae=On(He.Day,1);break;case"ccc":ae=sr(Et.Days,he.Abbreviated,Ie.Standalone);break;case"cccc":ae=sr(Et.Days,he.Wide,Ie.Standalone);break;case"ccccc":ae=sr(Et.Days,he.Narrow,Ie.Standalone);break;case"cccccc":ae=sr(Et.Days,he.Short,Ie.Standalone);break;case"E":case"EE":case"EEE":ae=sr(Et.Days,he.Abbreviated);break;case"EEEE":ae=sr(Et.Days,he.Wide);break;case"EEEEE":ae=sr(Et.Days,he.Narrow);break;case"EEEEEE":ae=sr(Et.Days,he.Short);break;case"a":case"aa":case"aaa":ae=sr(Et.DayPeriods,he.Abbreviated);break;case"aaaa":ae=sr(Et.DayPeriods,he.Wide);break;case"aaaaa":ae=sr(Et.DayPeriods,he.Narrow);break;case"b":case"bb":case"bbb":ae=sr(Et.DayPeriods,he.Abbreviated,Ie.Standalone,!0);break;case"bbbb":ae=sr(Et.DayPeriods,he.Wide,Ie.Standalone,!0);break;case"bbbbb":ae=sr(Et.DayPeriods,he.Narrow,Ie.Standalone,!0);break;case"B":case"BB":case"BBB":ae=sr(Et.DayPeriods,he.Abbreviated,Ie.Format,!0);break;case"BBBB":ae=sr(Et.DayPeriods,he.Wide,Ie.Format,!0);break;case"BBBBB":ae=sr(Et.DayPeriods,he.Narrow,Ie.Format,!0);break;case"h":ae=On(He.Hours,1,-12);break;case"hh":ae=On(He.Hours,2,-12);break;case"H":ae=On(He.Hours,1);break;case"HH":ae=On(He.Hours,2);break;case"m":ae=On(He.Minutes,1);break;case"mm":ae=On(He.Minutes,2);break;case"s":ae=On(He.Seconds,1);break;case"ss":ae=On(He.Seconds,2);break;case"S":ae=On(He.FractionalSeconds,1);break;case"SS":ae=On(He.FractionalSeconds,2);break;case"SSS":ae=On(He.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ae=tt(rt.Short);break;case"ZZZZZ":ae=tt(rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ae=tt(rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ae=tt(rt.Long);break;default:return null}return Kr[U]=ae,ae}(Oi);Ti+=bi?bi(ut,z,mi):"''"===Oi?"'":Oi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ti}function An(U,ae,z){const Se=new Date(0);return Se.setFullYear(U,ae,z),Se.setHours(0,0,0),Se}function Vn(U,ae){const z=function It(U){return(0,s.cg1)(U)[s.wAp.LocaleId]}(U);if(Ir[z]=Ir[z]||{},Ir[z][ae])return Ir[z][ae];let Se="";switch(ae){case"shortDate":Se=Tt(U,_e.Short);break;case"mediumDate":Se=Tt(U,_e.Medium);break;case"longDate":Se=Tt(U,_e.Long);break;case"fullDate":Se=Tt(U,_e.Full);break;case"shortTime":Se=Lt(U,_e.Short);break;case"mediumTime":Se=Lt(U,_e.Medium);break;case"longTime":Se=Lt(U,_e.Long);break;case"fullTime":Se=Lt(U,_e.Full);break;case"short":const ut=Vn(U,"shortTime"),Wt=Vn(U,"shortDate");Se=Un(Cn(U,_e.Short),[ut,Wt]);break;case"medium":const dn=Vn(U,"mediumTime"),rr=Vn(U,"mediumDate");Se=Un(Cn(U,_e.Medium),[dn,rr]);break;case"long":const mi=Vn(U,"longTime"),Ti=Vn(U,"longDate");Se=Un(Cn(U,_e.Long),[mi,Ti]);break;case"full":const Oi=Vn(U,"fullTime"),bi=Vn(U,"fullDate");Se=Un(Cn(U,_e.Full),[Oi,bi])}return Se&&(Ir[z][ae]=Se),Se}function Un(U,ae){return ae&&(U=U.replace(/\{([^}]+)}/g,function(z,Se){return null!=ae&&Se in ae?ae[Se]:z})),U}function _n(U,ae,z="-",Se,ut){let Wt="";(U<0||ut&&U<=0)&&(ut?U=1-U:(U=-U,Wt=z));let dn=String(U);for(;dn.length<ae;)dn="0"+dn;return Se&&(dn=dn.slice(dn.length-ae)),Wt+dn}function On(U,ae,z=0,Se=!1,ut=!1){return function(Wt,dn){let rr=function Rr(U,ae){switch(U){case He.FullYear:return ae.getFullYear();case He.Month:return ae.getMonth();case He.Date:return ae.getDate();case He.Hours:return ae.getHours();case He.Minutes:return ae.getMinutes();case He.Seconds:return ae.getSeconds();case He.FractionalSeconds:return ae.getMilliseconds();case He.Day:return ae.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,Wt);if((z>0||rr>-z)&&(rr+=z),U===He.Hours)0===rr&&-12===z&&(rr=12);else if(U===He.FractionalSeconds)return function ir(U,ae){return _n(U,3).substring(0,ae)}(rr,ae);const mi=Bt(dn,fe.MinusSign);return _n(rr,ae,mi,Se,ut)}}function sr(U,ae,z=Ie.Format,Se=!1){return function(ut,Wt){return function it(U,ae,z,Se,ut,Wt){switch(z){case Et.Months:return function Ze(U,ae,z){const Se=(0,s.cg1)(U),Wt=hn([Se[s.wAp.MonthsFormat],Se[s.wAp.MonthsStandalone]],ae);return hn(Wt,z)}(ae,ut,Se)[U.getMonth()];case Et.Days:return function gt(U,ae,z){const Se=(0,s.cg1)(U),Wt=hn([Se[s.wAp.DaysFormat],Se[s.wAp.DaysStandalone]],ae);return hn(Wt,z)}(ae,ut,Se)[U.getDay()];case Et.DayPeriods:const dn=U.getHours(),rr=U.getMinutes();if(Wt){const Ti=function Ln(U){const ae=(0,s.cg1)(U);return fi(ae),(ae[s.wAp.ExtraData][2]||[]).map(Se=>"string"==typeof Se?yr(Se):[yr(Se[0]),yr(Se[1])])}(ae),Oi=function er(U,ae,z){const Se=(0,s.cg1)(U);fi(Se);const Wt=hn([Se[s.wAp.ExtraData][0],Se[s.wAp.ExtraData][1]],ae)||[];return hn(Wt,z)||[]}(ae,ut,Se),bi=Ti.findIndex(Vs=>{if(Array.isArray(Vs)){const[ts,ns]=Vs,Ra=dn>=ts.hours&&rr>=ts.minutes,pa=dn<ns.hours||dn===ns.hours&&rr<ns.minutes;if(ts.hours<ns.hours){if(Ra&&pa)return!0}else if(Ra||pa)return!0}else if(Vs.hours===dn&&Vs.minutes===rr)return!0;return!1});if(-1!==bi)return Oi[bi]}return function xt(U,ae,z){const Se=(0,s.cg1)(U),Wt=hn([Se[s.wAp.DayPeriodsFormat],Se[s.wAp.DayPeriodsStandalone]],ae);return hn(Wt,z)}(ae,ut,Se)[dn<12?0:1];case Et.Eras:return function ze(U,ae){return hn((0,s.cg1)(U)[s.wAp.Eras],ae)}(ae,Se)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${z}`)}}(ut,Wt,U,ae,z,Se)}}function tt(U){return function(ae,z,Se){const ut=-1*Se,Wt=Bt(z,fe.MinusSign),dn=ut>0?Math.floor(ut/60):Math.ceil(ut/60);switch(U){case rt.Short:return(ut>=0?"+":"")+_n(dn,2,Wt)+_n(Math.abs(ut%60),2,Wt);case rt.ShortGMT:return"GMT"+(ut>=0?"+":"")+_n(dn,1,Wt);case rt.Long:return"GMT"+(ut>=0?"+":"")+_n(dn,2,Wt)+":"+_n(Math.abs(ut%60),2,Wt);case rt.Extended:return 0===Se?"Z":(ut>=0?"+":"")+_n(dn,2,Wt)+":"+_n(Math.abs(ut%60),2,Wt);default:throw new Error(`Unknown zone width "${U}"`)}}}function Gt(U){return An(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function gn(U,ae=!1){return function(z,Se){let ut;if(ae){const Wt=new Date(z.getFullYear(),z.getMonth(),1).getDay()-1,dn=z.getDate();ut=1+Math.floor((dn+Wt)/7)}else{const Wt=Gt(z),dn=function at(U){const ae=An(U,0,1).getDay();return An(U,0,1+(ae<=4?4:11)-ae)}(Wt.getFullYear()),rr=Wt.getTime()-dn.getTime();ut=1+Math.round(rr/6048e5)}return _n(ut,U,Bt(Se,fe.MinusSign))}}function Bn(U,ae=!1){return function(z,Se){return _n(Gt(z).getFullYear(),U,Bt(Se,fe.MinusSign),ae)}}const Kr={};function Pr(U,ae){U=U.replace(/:/g,"");const z=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(z)?ae:z}function Ii(U){return U instanceof Date&&!isNaN(U.valueOf())}const ni=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function qt(U,ae,z,Se,ut){const dn=function Gn(U,ae="-"){const z={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Se=U.split(";"),ut=Se[0],Wt=Se[1],dn=-1!==ut.indexOf(".")?ut.split("."):[ut.substring(0,ut.lastIndexOf("0")+1),ut.substring(ut.lastIndexOf("0")+1)],rr=dn[0],mi=dn[1]||"";z.posPre=rr.substring(0,rr.indexOf("#"));for(let Oi=0;Oi<mi.length;Oi++){const bi=mi.charAt(Oi);"0"===bi?z.minFrac=z.maxFrac=Oi+1:"#"===bi?z.maxFrac=Oi+1:z.posSuf+=bi}const Ti=rr.split(",");if(z.gSize=Ti[1]?Ti[1].length:0,z.lgSize=Ti[2]||Ti[1]?(Ti[2]||Ti[1]).length:0,Wt){const Oi=ut.length-z.posPre.length-z.posSuf.length,bi=Wt.indexOf("#");z.negPre=Wt.substring(0,bi).replace(/'/g,""),z.negSuf=Wt.slice(bi+Oi).replace(/'/g,"")}else z.negPre=ae+z.posPre,z.negSuf=z.posSuf;return z}(function bn(U,ae){return(0,s.cg1)(U)[s.wAp.NumberFormats][ae]}(ae,Ee.Currency),Bt(ae,fe.MinusSign));return dn.minFrac=function gr(U){let ae;const z=Xe[U];return z&&(ae=z[2]),"number"==typeof ae?ae:2}(Se),dn.maxFrac=dn.minFrac,function Kt(U,ae,z,Se,ut,Wt,dn=!1){let rr="",mi=!1;if(isFinite(U)){let Ti=function Tr(U){let Se,ut,Wt,dn,rr,ae=Math.abs(U)+"",z=0;for((ut=ae.indexOf("."))>-1&&(ae=ae.replace(".","")),(Wt=ae.search(/e/i))>0?(ut<0&&(ut=Wt),ut+=+ae.slice(Wt+1),ae=ae.substring(0,Wt)):ut<0&&(ut=ae.length),Wt=0;"0"===ae.charAt(Wt);Wt++);if(Wt===(rr=ae.length))Se=[0],ut=1;else{for(rr--;"0"===ae.charAt(rr);)rr--;for(ut-=Wt,Se=[],dn=0;Wt<=rr;Wt++,dn++)Se[dn]=Number(ae.charAt(Wt))}return ut>22&&(Se=Se.splice(0,21),z=ut-1,ut=1),{digits:Se,exponent:z,integerLen:ut}}(U);dn&&(Ti=function ur(U){if(0===U.digits[0])return U;const ae=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===ae?U.digits.push(0,0):1===ae&&U.digits.push(0),U.integerLen+=2),U}(Ti));let Oi=ae.minInt,bi=ae.minFrac,Vs=ae.maxFrac;if(Wt){const ga=Wt.match(ni);if(null===ga)throw new Error(`${Wt} is not a valid digit info`);const ma=ga[1],jo=ga[3],Ba=ga[5];null!=ma&&(Oi=Ar(ma)),null!=jo&&(bi=Ar(jo)),null!=Ba?Vs=Ar(Ba):null!=jo&&bi>Vs&&(Vs=bi)}!function vr(U,ae,z){if(ae>z)throw new Error(`The minimum number of digits after fraction (${ae}) is higher than the maximum (${z}).`);let Se=U.digits,ut=Se.length-U.integerLen;const Wt=Math.min(Math.max(ae,ut),z);let dn=Wt+U.integerLen,rr=Se[dn];if(dn>0){Se.splice(Math.max(U.integerLen,dn));for(let bi=dn;bi<Se.length;bi++)Se[bi]=0}else{ut=Math.max(0,ut),U.integerLen=1,Se.length=Math.max(1,dn=Wt+1),Se[0]=0;for(let bi=1;bi<dn;bi++)Se[bi]=0}if(rr>=5)if(dn-1<0){for(let bi=0;bi>dn;bi--)Se.unshift(0),U.integerLen++;Se.unshift(1),U.integerLen++}else Se[dn-1]++;for(;ut<Math.max(0,Wt);ut++)Se.push(0);let mi=0!==Wt;const Ti=ae+U.integerLen,Oi=Se.reduceRight(function(bi,Vs,ts,ns){return ns[ts]=(Vs+=bi)<10?Vs:Vs-10,mi&&(0===ns[ts]&&ts>=Ti?ns.pop():mi=!1),Vs>=10?1:0},0);Oi&&(Se.unshift(Oi),U.integerLen++)}(Ti,bi,Vs);let ts=Ti.digits,ns=Ti.integerLen;const Ra=Ti.exponent;let pa=[];for(mi=ts.every(ga=>!ga);ns<Oi;ns++)ts.unshift(0);for(;ns<0;ns++)ts.unshift(0);ns>0?pa=ts.splice(ns,ts.length):(pa=ts,ts=[0]);const Ro=[];for(ts.length>=ae.lgSize&&Ro.unshift(ts.splice(-ae.lgSize,ts.length).join(""));ts.length>ae.gSize;)Ro.unshift(ts.splice(-ae.gSize,ts.length).join(""));ts.length&&Ro.unshift(ts.join("")),rr=Ro.join(Bt(z,Se)),pa.length&&(rr+=Bt(z,ut)+pa.join("")),Ra&&(rr+=Bt(z,fe.Exponential)+"+"+Ra)}else rr=Bt(z,fe.Infinity);return rr=U<0&&!mi?ae.negPre+rr+ae.negSuf:ae.posPre+rr+ae.posSuf,rr}(U,dn,ae,fe.CurrencyGroup,fe.CurrencyDecimal,ut).replace("\xa4",z).replace("\xa4","").trim()}function Ar(U){const ae=parseInt(U);if(isNaN(ae))throw new Error("Invalid integer literal when parsing "+U);return ae}function Xi(U,ae){ae=encodeURIComponent(ae);for(const z of U.split(";")){const Se=z.indexOf("="),[ut,Wt]=-1==Se?[z,""]:[z.slice(0,Se),z.slice(Se+1)];if(ut.trim()===ae)return decodeURIComponent(Wt)}return null}let vi=(()=>{class U{constructor(z,Se,ut,Wt){this._iterableDiffers=z,this._keyValueDiffers=Se,this._ngEl=ut,this._renderer=Wt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(z){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof z?z.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(z){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof z?z.split(/\s+/):z,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const z=this._iterableDiffer.diff(this._rawClass);z&&this._applyIterableChanges(z)}else if(this._keyValueDiffer){const z=this._keyValueDiffer.diff(this._rawClass);z&&this._applyKeyValueChanges(z)}}_applyKeyValueChanges(z){z.forEachAddedItem(Se=>this._toggleClass(Se.key,Se.currentValue)),z.forEachChangedItem(Se=>this._toggleClass(Se.key,Se.currentValue)),z.forEachRemovedItem(Se=>{Se.previousValue&&this._toggleClass(Se.key,!1)})}_applyIterableChanges(z){z.forEachAddedItem(Se=>{if("string"!=typeof Se.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(Se.item)}`);this._toggleClass(Se.item,!0)}),z.forEachRemovedItem(Se=>this._toggleClass(Se.item,!1))}_applyClasses(z){z&&(Array.isArray(z)||z instanceof Set?z.forEach(Se=>this._toggleClass(Se,!0)):Object.keys(z).forEach(Se=>this._toggleClass(Se,!!z[Se])))}_removeClasses(z){z&&(Array.isArray(z)||z instanceof Set?z.forEach(Se=>this._toggleClass(Se,!1)):Object.keys(z).forEach(Se=>this._toggleClass(Se,!1)))}_toggleClass(z,Se){(z=z.trim())&&z.split(/\s+/g).forEach(ut=>{Se?this._renderer.addClass(this._ngEl.nativeElement,ut):this._renderer.removeClass(this._ngEl.nativeElement,ut)})}}return U.\u0275fac=function(z){return new(z||U)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},U.\u0275dir=s.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),U})();class hs{constructor(ae,z,Se,ut){this.$implicit=ae,this.ngForOf=z,this.index=Se,this.count=ut}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zi=(()=>{class U{constructor(z,Se,ut){this._viewContainer=z,this._template=Se,this._differs=ut,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;!this._differ&&z&&(this._differ=this._differs.find(z).create(this.ngForTrackBy))}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const Se=this._viewContainer;z.forEachOperation((ut,Wt,dn)=>{if(null==ut.previousIndex)Se.createEmbeddedView(this._template,new hs(ut.item,this._ngForOf,-1,-1),null===dn?void 0:dn);else if(null==dn)Se.remove(null===Wt?void 0:Wt);else if(null!==Wt){const rr=Se.get(Wt);Se.move(rr,dn),Yi(rr,ut)}});for(let ut=0,Wt=Se.length;ut<Wt;ut++){const rr=Se.get(ut).context;rr.index=ut,rr.count=Wt,rr.ngForOf=this._ngForOf}z.forEachIdentityChange(ut=>{Yi(Se.get(ut.currentIndex),ut)})}static ngTemplateContextGuard(z,Se){return!0}}return U.\u0275fac=function(z){return new(z||U)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},U.\u0275dir=s.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),U})();function Yi(U,ae){U.context.$implicit=ae.item}let Fe=(()=>{class U{constructor(z,Se){this._viewContainer=z,this._context=new bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Se}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){At("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){At("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,Se){return!0}}return U.\u0275fac=function(z){return new(z||U)(s.Y36(s.s_b),s.Y36(s.Rgc))},U.\u0275dir=s.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),U})();class bt{constructor(){this.$implicit=null,this.ngIf=null}}function At(U,ae){if(ae&&!ae.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,s.AaK)(ae)}'.`)}let Nr=(()=>{class U{constructor(z){this._viewContainerRef=z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(z){if(z.ngTemplateOutlet||z.ngTemplateOutletInjector){const Se=this._viewContainerRef;if(this._viewRef&&Se.remove(Se.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ut,ngTemplateOutletContext:Wt,ngTemplateOutletInjector:dn}=this;this._viewRef=Se.createEmbeddedView(ut,Wt,dn?{injector:dn}:void 0)}else this._viewRef=null}else this._viewRef&&z.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(z){return new(z||U)(s.Y36(s.s_b))},U.\u0275dir=s.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),U})();function Ni(U,ae){return new s.vHH(2100,!1)}const As=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ns=(()=>{class U{constructor(z,Se){this.locale=z,this.defaultTimezone=Se}transform(z,Se="mediumDate",ut,Wt){if(null==z||""===z||z!=z)return null;try{return Ut(z,Se,Wt||this.locale,ut??this.defaultTimezone??void 0)}catch(dn){throw Ni()}}}return U.\u0275fac=function(z){return new(z||U)(s.Y36(s.soG,16),s.Y36(As,24))},U.\u0275pipe=s.Yjl({name:"date",type:U,pure:!0,standalone:!0}),U})(),Us=(()=>{class U{constructor(z,Se="USD"){this._locale=z,this._defaultCurrencyCode=Se}transform(z,Se=this._defaultCurrencyCode,ut="symbol",Wt,dn){if(!function Ys(U){return!(null==U||""===U||U!=U)}(z))return null;dn=dn||this._locale,"boolean"==typeof ut&&(ut=ut?"symbol":"code");let rr=Se||this._defaultCurrencyCode;"code"!==ut&&(rr="symbol"===ut||"symbol-narrow"===ut?function kr(U,ae,z="en"){const Se=function qn(U){return(0,s.cg1)(U)[s.wAp.Currencies]}(z)[U]||Xe[U]||[],ut=Se[1];return"narrow"===ae&&"string"==typeof ut?ut:Se[0]||U}(rr,"symbol"===ut?"wide":"narrow",dn):ut);try{return qt(function Fs(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}(z),dn,rr,Se,Wt)}catch(mi){throw Ni()}}}return U.\u0275fac=function(z){return new(z||U)(s.Y36(s.soG,16),s.Y36(s.EJc,16))},U.\u0275pipe=s.Yjl({name:"currency",type:U,pure:!0,standalone:!0}),U})();let $r=(()=>{class U{}return U.\u0275fac=function(z){return new(z||U)},U.\u0275mod=s.oAB({type:U}),U.\u0275inj=s.cJS({}),U})();const cs="browser";function Mo(U){return U===cs}function ys(U){return"server"===U}let bo=(()=>{class U{}return U.\u0275prov=(0,s.Yz7)({token:U,providedIn:"root",factory:()=>new go((0,s.LFG)(me),window)}),U})();class go{constructor(ae,z){this.document=ae,this.window=z,this.offset=()=>[0,0]}setOffset(ae){this.offset=Array.isArray(ae)?()=>ae:ae}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ae){this.supportsScrolling()&&this.window.scrollTo(ae[0],ae[1])}scrollToAnchor(ae){if(!this.supportsScrolling())return;const z=function Ls(U,ae){const z=U.getElementById(ae)||U.getElementsByName(ae)[0];if(z)return z;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const Se=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let ut=Se.currentNode;for(;ut;){const Wt=ut.shadowRoot;if(Wt){const dn=Wt.getElementById(ae)||Wt.querySelector(`[name="${ae}"]`);if(dn)return dn}ut=Se.nextNode()}}return null}(this.document,ae);z&&(this.scrollToElement(z),z.focus())}setHistoryScrollRestoration(ae){if(this.supportScrollRestoration()){const z=this.window.history;z&&z.scrollRestoration&&(z.scrollRestoration=ae)}}scrollToElement(ae){const z=ae.getBoundingClientRect(),Se=z.left+this.window.pageXOffset,ut=z.top+this.window.pageYOffset,Wt=this.offset();this.window.scrollTo(Se-Wt[0],ut-Wt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ae=Ki(this.window.history)||Ki(Object.getPrototypeOf(this.window.history));return!(!ae||!ae.writable&&!ae.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ki(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class no{}},529:(En,vt,F)=>{"use strict";F.d(vt,{JF:()=>gr,LE:()=>Ve,WM:()=>ce,eN:()=>It});var s=F(6895),Q=F(4650),K=F(1086),Re=F(6498),oe=F(1406),ue=F(2198),me=F(4850);class pe{}class De{}class ce{constructor(rt){this.normalizedNames=new Map,this.lazyUpdate=null,rt?this.lazyInit="string"==typeof rt?()=>{this.headers=new Map,rt.split("\n").forEach(He=>{const Et=He.indexOf(":");if(Et>0){const Ut=He.slice(0,Et),An=Ut.toLowerCase(),Vn=He.slice(Et+1).trim();this.maybeSetNormalizedName(Ut,An),this.headers.has(An)?this.headers.get(An).push(Vn):this.headers.set(An,[Vn])}})}:()=>{this.headers=new Map,Object.keys(rt).forEach(He=>{let Et=rt[He];const Ut=He.toLowerCase();"string"==typeof Et&&(Et=[Et]),Et.length>0&&(this.headers.set(Ut,Et),this.maybeSetNormalizedName(He,Ut))})}:this.headers=new Map}has(rt){return this.init(),this.headers.has(rt.toLowerCase())}get(rt){this.init();const He=this.headers.get(rt.toLowerCase());return He&&He.length>0?He[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(rt){return this.init(),this.headers.get(rt.toLowerCase())||null}append(rt,He){return this.clone({name:rt,value:He,op:"a"})}set(rt,He){return this.clone({name:rt,value:He,op:"s"})}delete(rt,He){return this.clone({name:rt,value:He,op:"d"})}maybeSetNormalizedName(rt,He){this.normalizedNames.has(He)||this.normalizedNames.set(He,rt)}init(){this.lazyInit&&(this.lazyInit instanceof ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(rt=>this.applyUpdate(rt)),this.lazyUpdate=null))}copyFrom(rt){rt.init(),Array.from(rt.headers.keys()).forEach(He=>{this.headers.set(He,rt.headers.get(He)),this.normalizedNames.set(He,rt.normalizedNames.get(He))})}clone(rt){const He=new ce;return He.lazyInit=this.lazyInit&&this.lazyInit instanceof ce?this.lazyInit:this,He.lazyUpdate=(this.lazyUpdate||[]).concat([rt]),He}applyUpdate(rt){const He=rt.name.toLowerCase();switch(rt.op){case"a":case"s":let Et=rt.value;if("string"==typeof Et&&(Et=[Et]),0===Et.length)return;this.maybeSetNormalizedName(rt.name,He);const Ut=("a"===rt.op?this.headers.get(He):void 0)||[];Ut.push(...Et),this.headers.set(He,Ut);break;case"d":const An=rt.value;if(An){let Vn=this.headers.get(He);if(!Vn)return;Vn=Vn.filter(Un=>-1===An.indexOf(Un)),0===Vn.length?(this.headers.delete(He),this.normalizedNames.delete(He)):this.headers.set(He,Vn)}else this.headers.delete(He),this.normalizedNames.delete(He)}}forEach(rt){this.init(),Array.from(this.normalizedNames.keys()).forEach(He=>rt(this.normalizedNames.get(He),this.headers.get(He)))}}class le{encodeKey(rt){return Be(rt)}encodeValue(rt){return Be(rt)}decodeKey(rt){return decodeURIComponent(rt)}decodeValue(rt){return decodeURIComponent(rt)}}const Ue=/%(\d[a-f0-9])/gi,ct={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Be(Ht){return encodeURIComponent(Ht).replace(Ue,(rt,He)=>ct[He]??rt)}function Le(Ht){return`${Ht}`}class Ve{constructor(rt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=rt.encoder||new le,rt.fromString){if(rt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ge(Ht,rt){const He=new Map;return Ht.length>0&&Ht.replace(/^\?/,"").split("&").forEach(Ut=>{const An=Ut.indexOf("="),[Vn,Un]=-1==An?[rt.decodeKey(Ut),""]:[rt.decodeKey(Ut.slice(0,An)),rt.decodeValue(Ut.slice(An+1))],_n=He.get(Vn)||[];_n.push(Un),He.set(Vn,_n)}),He}(rt.fromString,this.encoder)}else rt.fromObject?(this.map=new Map,Object.keys(rt.fromObject).forEach(He=>{const Et=rt.fromObject[He],Ut=Array.isArray(Et)?Et.map(Le):[Le(Et)];this.map.set(He,Ut)})):this.map=null}has(rt){return this.init(),this.map.has(rt)}get(rt){this.init();const He=this.map.get(rt);return He?He[0]:null}getAll(rt){return this.init(),this.map.get(rt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(rt,He){return this.clone({param:rt,value:He,op:"a"})}appendAll(rt){const He=[];return Object.keys(rt).forEach(Et=>{const Ut=rt[Et];Array.isArray(Ut)?Ut.forEach(An=>{He.push({param:Et,value:An,op:"a"})}):He.push({param:Et,value:Ut,op:"a"})}),this.clone(He)}set(rt,He){return this.clone({param:rt,value:He,op:"s"})}delete(rt,He){return this.clone({param:rt,value:He,op:"d"})}toString(){return this.init(),this.keys().map(rt=>{const He=this.encoder.encodeKey(rt);return this.map.get(rt).map(Et=>He+"="+this.encoder.encodeValue(Et)).join("&")}).filter(rt=>""!==rt).join("&")}clone(rt){const He=new Ve({encoder:this.encoder});return He.cloneFrom=this.cloneFrom||this,He.updates=(this.updates||[]).concat(rt),He}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(rt=>this.map.set(rt,this.cloneFrom.map.get(rt))),this.updates.forEach(rt=>{switch(rt.op){case"a":case"s":const He=("a"===rt.op?this.map.get(rt.param):void 0)||[];He.push(Le(rt.value)),this.map.set(rt.param,He);break;case"d":if(void 0===rt.value){this.map.delete(rt.param);break}{let Et=this.map.get(rt.param)||[];const Ut=Et.indexOf(Le(rt.value));-1!==Ut&&Et.splice(Ut,1),Et.length>0?this.map.set(rt.param,Et):this.map.delete(rt.param)}}}),this.cloneFrom=this.updates=null)}}class yt{constructor(){this.map=new Map}set(rt,He){return this.map.set(rt,He),this}get(rt){return this.map.has(rt)||this.map.set(rt,rt.defaultValue()),this.map.get(rt)}delete(rt){return this.map.delete(rt),this}has(rt){return this.map.has(rt)}keys(){return this.map.keys()}}function nt(Ht){return typeof ArrayBuffer<"u"&&Ht instanceof ArrayBuffer}function St(Ht){return typeof Blob<"u"&&Ht instanceof Blob}function Pe(Ht){return typeof FormData<"u"&&Ht instanceof FormData}class Ee{constructor(rt,He,Et,Ut){let An;if(this.url=He,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=rt.toUpperCase(),function Mt(Ht){switch(Ht){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ut?(this.body=void 0!==Et?Et:null,An=Ut):An=Et,An&&(this.reportProgress=!!An.reportProgress,this.withCredentials=!!An.withCredentials,An.responseType&&(this.responseType=An.responseType),An.headers&&(this.headers=An.headers),An.context&&(this.context=An.context),An.params&&(this.params=An.params)),this.headers||(this.headers=new ce),this.context||(this.context=new yt),this.params){const Vn=this.params.toString();if(0===Vn.length)this.urlWithParams=He;else{const Un=He.indexOf("?");this.urlWithParams=He+(-1===Un?"?":Un<He.length-1?"&":"")+Vn}}else this.params=new Ve,this.urlWithParams=He}serializeBody(){return null===this.body?null:nt(this.body)||St(this.body)||Pe(this.body)||function Xe(Ht){return typeof URLSearchParams<"u"&&Ht instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pe(this.body)?null:St(this.body)?this.body.type||null:nt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(rt={}){const He=rt.method||this.method,Et=rt.url||this.url,Ut=rt.responseType||this.responseType,An=void 0!==rt.body?rt.body:this.body,Vn=void 0!==rt.withCredentials?rt.withCredentials:this.withCredentials,Un=void 0!==rt.reportProgress?rt.reportProgress:this.reportProgress;let _n=rt.headers||this.headers,ir=rt.params||this.params;const On=rt.context??this.context;return void 0!==rt.setHeaders&&(_n=Object.keys(rt.setHeaders).reduce((Rr,sr)=>Rr.set(sr,rt.setHeaders[sr]),_n)),rt.setParams&&(ir=Object.keys(rt.setParams).reduce((Rr,sr)=>Rr.set(sr,rt.setParams[sr]),ir)),new Ee(He,Et,An,{params:ir,headers:_n,context:On,reportProgress:Un,responseType:Ut,withCredentials:Vn})}}var ye=(()=>((ye=ye||{})[ye.Sent=0]="Sent",ye[ye.UploadProgress=1]="UploadProgress",ye[ye.ResponseHeader=2]="ResponseHeader",ye[ye.DownloadProgress=3]="DownloadProgress",ye[ye.Response=4]="Response",ye[ye.User=5]="User",ye))();class Ie{constructor(rt,He=200,Et="OK"){this.headers=rt.headers||new ce,this.status=void 0!==rt.status?rt.status:He,this.statusText=rt.statusText||Et,this.url=rt.url||null,this.ok=this.status>=200&&this.status<300}}class he extends Ie{constructor(rt={}){super(rt),this.type=ye.ResponseHeader}clone(rt={}){return new he({headers:rt.headers||this.headers,status:void 0!==rt.status?rt.status:this.status,statusText:rt.statusText||this.statusText,url:rt.url||this.url||void 0})}}class _e extends Ie{constructor(rt={}){super(rt),this.type=ye.Response,this.body=void 0!==rt.body?rt.body:null}clone(rt={}){return new _e({body:void 0!==rt.body?rt.body:this.body,headers:rt.headers||this.headers,status:void 0!==rt.status?rt.status:this.status,statusText:rt.statusText||this.statusText,url:rt.url||this.url||void 0})}}class fe extends Ie{constructor(rt){super(rt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${rt.url||"(unknown url)"}`:`Http failure response for ${rt.url||"(unknown url)"}: ${rt.status} ${rt.statusText}`,this.error=rt.error||null}}function Nt(Ht,rt){return{body:rt,headers:Ht.headers,context:Ht.context,observe:Ht.observe,params:Ht.params,reportProgress:Ht.reportProgress,responseType:Ht.responseType,withCredentials:Ht.withCredentials}}let It=(()=>{class Ht{constructor(He){this.handler=He}request(He,Et,Ut={}){let An;if(He instanceof Ee)An=He;else{let _n,ir;_n=Ut.headers instanceof ce?Ut.headers:new ce(Ut.headers),Ut.params&&(ir=Ut.params instanceof Ve?Ut.params:new Ve({fromObject:Ut.params})),An=new Ee(He,Et,void 0!==Ut.body?Ut.body:null,{headers:_n,context:Ut.context,params:ir,reportProgress:Ut.reportProgress,responseType:Ut.responseType||"json",withCredentials:Ut.withCredentials})}const Vn=(0,K.of)(An).pipe((0,oe.b)(_n=>this.handler.handle(_n)));if(He instanceof Ee||"events"===Ut.observe)return Vn;const Un=Vn.pipe((0,ue.h)(_n=>_n instanceof _e));switch(Ut.observe||"body"){case"body":switch(An.responseType){case"arraybuffer":return Un.pipe((0,me.U)(_n=>{if(null!==_n.body&&!(_n.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _n.body}));case"blob":return Un.pipe((0,me.U)(_n=>{if(null!==_n.body&&!(_n.body instanceof Blob))throw new Error("Response is not a Blob.");return _n.body}));case"text":return Un.pipe((0,me.U)(_n=>{if(null!==_n.body&&"string"!=typeof _n.body)throw new Error("Response is not a string.");return _n.body}));default:return Un.pipe((0,me.U)(_n=>_n.body))}case"response":return Un;default:throw new Error(`Unreachable: unhandled observe type ${Ut.observe}}`)}}delete(He,Et={}){return this.request("DELETE",He,Et)}get(He,Et={}){return this.request("GET",He,Et)}head(He,Et={}){return this.request("HEAD",He,Et)}jsonp(He,Et){return this.request("JSONP",He,{params:(new Ve).append(Et,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(He,Et={}){return this.request("OPTIONS",He,Et)}patch(He,Et,Ut={}){return this.request("PATCH",He,Nt(Ut,Et))}post(He,Et,Ut={}){return this.request("POST",He,Nt(Ut,Et))}put(He,Et,Ut={}){return this.request("PUT",He,Nt(Ut,Et))}}return Ht.\u0275fac=function(He){return new(He||Ht)(Q.LFG(pe))},Ht.\u0275prov=Q.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();class xt{constructor(rt,He){this.next=rt,this.interceptor=He}handle(rt){return this.interceptor.intercept(rt,this.next)}}const gt=new Q.OlP("HTTP_INTERCEPTORS");let Ze=(()=>{class Ht{intercept(He,Et){return Et.handle(He)}}return Ht.\u0275fac=function(He){return new(He||Ht)},Ht.\u0275prov=Q.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();const we=/^\)\]\}',?\n/;let qn=(()=>{class Ht{constructor(He){this.xhrFactory=He}handle(He){if("JSONP"===He.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Re.y(Et=>{const Ut=this.xhrFactory.build();if(Ut.open(He.method,He.urlWithParams),He.withCredentials&&(Ut.withCredentials=!0),He.headers.forEach((it,tt)=>Ut.setRequestHeader(it,tt.join(","))),He.headers.has("Accept")||Ut.setRequestHeader("Accept","application/json, text/plain, */*"),!He.headers.has("Content-Type")){const it=He.detectContentTypeHeader();null!==it&&Ut.setRequestHeader("Content-Type",it)}if(He.responseType){const it=He.responseType.toLowerCase();Ut.responseType="json"!==it?it:"text"}const An=He.serializeBody();let Vn=null;const Un=()=>{if(null!==Vn)return Vn;const it=Ut.statusText||"OK",tt=new ce(Ut.getAllResponseHeaders()),qe=function Kn(Ht){return"responseURL"in Ht&&Ht.responseURL?Ht.responseURL:/^X-Request-URL:/m.test(Ht.getAllResponseHeaders())?Ht.getResponseHeader("X-Request-URL"):null}(Ut)||He.url;return Vn=new he({headers:tt,status:Ut.status,statusText:it,url:qe}),Vn},_n=()=>{let{headers:it,status:tt,statusText:qe,url:lt}=Un(),at=null;204!==tt&&(at=typeof Ut.response>"u"?Ut.responseText:Ut.response),0===tt&&(tt=at?200:0);let Gt=tt>=200&&tt<300;if("json"===He.responseType&&"string"==typeof at){const gn=at;at=at.replace(we,"");try{at=""!==at?JSON.parse(at):null}catch(Bn){at=gn,Gt&&(Gt=!1,at={error:Bn,text:at})}}Gt?(Et.next(new _e({body:at,headers:it,status:tt,statusText:qe,url:lt||void 0})),Et.complete()):Et.error(new fe({error:at,headers:it,status:tt,statusText:qe,url:lt||void 0}))},ir=it=>{const{url:tt}=Un(),qe=new fe({error:it,status:Ut.status||0,statusText:Ut.statusText||"Unknown Error",url:tt||void 0});Et.error(qe)};let On=!1;const Rr=it=>{On||(Et.next(Un()),On=!0);let tt={type:ye.DownloadProgress,loaded:it.loaded};it.lengthComputable&&(tt.total=it.total),"text"===He.responseType&&!!Ut.responseText&&(tt.partialText=Ut.responseText),Et.next(tt)},sr=it=>{let tt={type:ye.UploadProgress,loaded:it.loaded};it.lengthComputable&&(tt.total=it.total),Et.next(tt)};return Ut.addEventListener("load",_n),Ut.addEventListener("error",ir),Ut.addEventListener("timeout",ir),Ut.addEventListener("abort",ir),He.reportProgress&&(Ut.addEventListener("progress",Rr),null!==An&&Ut.upload&&Ut.upload.addEventListener("progress",sr)),Ut.send(An),Et.next({type:ye.Sent}),()=>{Ut.removeEventListener("error",ir),Ut.removeEventListener("abort",ir),Ut.removeEventListener("load",_n),Ut.removeEventListener("timeout",ir),He.reportProgress&&(Ut.removeEventListener("progress",Rr),null!==An&&Ut.upload&&Ut.upload.removeEventListener("progress",sr)),Ut.readyState!==Ut.DONE&&Ut.abort()}})}}return Ht.\u0275fac=function(He){return new(He||Ht)(Q.LFG(s.JF))},Ht.\u0275prov=Q.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();const _r=new Q.OlP("XSRF_COOKIE_NAME"),fi=new Q.OlP("XSRF_HEADER_NAME");class Ln{}let er=(()=>{class Ht{constructor(He,Et,Ut){this.doc=He,this.platform=Et,this.cookieName=Ut,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const He=this.doc.cookie||"";return He!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,s.Mx)(He,this.cookieName),this.lastCookieString=He),this.lastToken}}return Ht.\u0275fac=function(He){return new(He||Ht)(Q.LFG(s.K0),Q.LFG(Q.Lbi),Q.LFG(_r))},Ht.\u0275prov=Q.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})(),tn=(()=>{class Ht{constructor(He,Et){this.tokenService=He,this.headerName=Et}intercept(He,Et){const Ut=He.url.toLowerCase();if("GET"===He.method||"HEAD"===He.method||Ut.startsWith("http://")||Ut.startsWith("https://"))return Et.handle(He);const An=this.tokenService.getToken();return null!==An&&!He.headers.has(this.headerName)&&(He=He.clone({headers:He.headers.set(this.headerName,An)})),Et.handle(He)}}return Ht.\u0275fac=function(He){return new(He||Ht)(Q.LFG(Ln),Q.LFG(fi))},Ht.\u0275prov=Q.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})(),hn=(()=>{class Ht{constructor(He,Et){this.backend=He,this.injector=Et,this.chain=null}handle(He){if(null===this.chain){const Et=this.injector.get(gt,[]);this.chain=Et.reduceRight((Ut,An)=>new xt(Ut,An),this.backend)}return this.chain.handle(He)}}return Ht.\u0275fac=function(He){return new(He||Ht)(Q.LFG(De),Q.LFG(Q.zs3))},Ht.\u0275prov=Q.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})(),Hn=(()=>{class Ht{static disable(){return{ngModule:Ht,providers:[{provide:tn,useClass:Ze}]}}static withOptions(He={}){return{ngModule:Ht,providers:[He.cookieName?{provide:_r,useValue:He.cookieName}:[],He.headerName?{provide:fi,useValue:He.headerName}:[]]}}}return Ht.\u0275fac=function(He){return new(He||Ht)},Ht.\u0275mod=Q.oAB({type:Ht}),Ht.\u0275inj=Q.cJS({providers:[tn,{provide:gt,useExisting:tn,multi:!0},{provide:Ln,useClass:er},{provide:_r,useValue:"XSRF-TOKEN"},{provide:fi,useValue:"X-XSRF-TOKEN"}]}),Ht})(),gr=(()=>{class Ht{}return Ht.\u0275fac=function(He){return new(He||Ht)},Ht.\u0275mod=Q.oAB({type:Ht}),Ht.\u0275inj=Q.cJS({providers:[It,{provide:pe,useClass:hn},qn,{provide:De,useExisting:qn}],imports:[Hn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ht})()},4650:(En,vt,F)=>{"use strict";F.d(vt,{$8M:()=>Qs,$Z:()=>yd,AFp:()=>Sb,ALo:()=>z0,AaK:()=>pe,AsE:()=>tm,BQk:()=>gh,CHM:()=>Z,CRH:()=>rb,CZH:()=>q_,CqO:()=>d_,D6c:()=>AE,DdM:()=>L0,Dn7:()=>K0,EJc:()=>HC,EpF:()=>$g,F$t:()=>xp,F4k:()=>u_,FYo:()=>Yn,FiY:()=>bs,G48:()=>uE,Gf:()=>tb,GfV:()=>Lo,GkF:()=>mh,Gpc:()=>se,Hsn:()=>h_,Ikx:()=>om,JOm:()=>cr,Jf7:()=>w,KtG:()=>A,LFG:()=>We,LMc:()=>xE,LSH:()=>ol,Lbi:()=>UC,Lck:()=>$w,MAs:()=>Hd,MGl:()=>_h,MMx:()=>gv,NdJ:()=>Ug,O4$:()=>rr,OlP:()=>ds,Oqu:()=>em,PXZ:()=>iE,Q6J:()=>qh,QGY:()=>Gf,QP$:()=>Ii,Qsj:()=>br,QtT:()=>I0,R0b:()=>nd,RDi:()=>Fo,Rgc:()=>pm,SBq:()=>Oe,SDv:()=>D0,Sil:()=>WC,Suo:()=>nb,TTD:()=>_s,TgZ:()=>jf,Tol:()=>zf,Udp:()=>Mp,VKq:()=>B0,W1O:()=>ab,WLB:()=>$0,X6Q:()=>cE,XFs:()=>hn,Xpm:()=>lt,Xts:()=>Hl,Y36:()=>Bd,YKP:()=>A0,YNc:()=>By,Yjl:()=>pr,Yz7:()=>Lt,Z0I:()=>Sn,ZZ4:()=>Uv,_Bn:()=>S0,_UZ:()=>Zh,_Vd:()=>b,_c5:()=>TE,_uU:()=>I_,aQg:()=>Vv,c2e:()=>VC,cJS:()=>Bt,cg1:()=>am,dDg:()=>eE,dqk:()=>Ut,eFA:()=>Ub,ekj:()=>Op,eoX:()=>Lb,f3M:()=>en,g9A:()=>Nb,h0i:()=>$p,hGG:()=>SE,hij:()=>Rp,iGM:()=>eb,ifc:()=>Et,ip1:()=>Tb,jDz:()=>x0,kEZ:()=>U0,kL8:()=>qf,kcU:()=>Ti,lG2:()=>Pr,lcZ:()=>Y0,lnq:()=>nm,lqb:()=>ic,lri:()=>kb,n5z:()=>Sa,oAB:()=>Bn,oxw:()=>Gg,pQV:()=>cv,q4F:()=>yl,qLn:()=>Pd,qOj:()=>Rg,qZA:()=>Hf,rWj:()=>Fb,s9C:()=>Qh,sBO:()=>dE,sIi:()=>Gh,s_b:()=>z_,soG:()=>Z_,tb:()=>xb,tp0:()=>wa,uIk:()=>Fg,vHH:()=>ct,vpe:()=>Zd,wAp:()=>yi,xp6:()=>oh,ynx:()=>Ju,z2F:()=>Q_,zSh:()=>rc,zs3:()=>_d});var s=F(8929),Q=F(2654),K=F(6498),Re=F(6787),oe=F(2474);function ue(n){for(let r in n)if(n[r]===ue)return r;throw Error("Could not find renamed property on target object.")}function me(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function De(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ce=ue({__forward_ref__:ue});function se(n){return n.__forward_ref__=se,n.toString=function(){return pe(this())},n}function le(n){return ge(n)?n():n}function ge(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===se}class ct extends Error{constructor(r,o){super(function Be(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,o)),this.code=r}}function Le(n){return"string"==typeof n?n:null==n?"":String(n)}function nt(n,r){throw new ct(-201,!1)}function ze(n,r,o,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${o} ${l} ${r} <=Actual]`))}function Lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bt(n){return{providers:n.providers||[],imports:n.imports||[]}}function bn(n){return we(n,fi)||we(n,er)}function Sn(n){return null!==bn(n)}function we(n,r){return n.hasOwnProperty(r)?n[r]:null}function _r(n){return n&&(n.hasOwnProperty(Ln)||n.hasOwnProperty(tn))?n[Ln]:null}const fi=ue({\u0275prov:ue}),Ln=ue({\u0275inj:ue}),er=ue({ngInjectableDef:ue}),tn=ue({ngInjectorDef:ue});var hn=(()=>((hn=hn||{})[hn.Default=0]="Default",hn[hn.Host=1]="Host",hn[hn.Self=2]="Self",hn[hn.SkipSelf=4]="SkipSelf",hn[hn.Optional=8]="Optional",hn))();let yr;function Hn(n){const r=yr;return yr=n,r}function gr(n,r,o){const l=bn(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&hn.Optional?null:void 0!==r?r:void nt(pe(n))}function Ir(n){return{toString:n}.toString()}var Ht=(()=>((Ht=Ht||{})[Ht.OnPush=0]="OnPush",Ht[Ht.Default=1]="Default",Ht))(),Et=(()=>{return(n=Et||(Et={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Et;var n})();const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Un={},_n=[],ir=ue({\u0275cmp:ue}),On=ue({\u0275dir:ue}),Rr=ue({\u0275pipe:ue}),sr=ue({\u0275mod:ue}),it=ue({\u0275fac:ue}),tt=ue({__NG_ELEMENT_ID__:ue});let qe=0;function lt(n){return Ir(()=>{const o=!0===n.standalone,l={},p={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ht.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||_n,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Et.Emulated,id:"c"+qe++,styles:n.styles||_n,_:null,setInput:null,schemas:n.schemas||null,tView:null},v=n.dependencies,M=n.features;return p.inputs=Mr(n.inputs,l),p.outputs=Mr(n.outputs),M&&M.forEach(L=>L(p)),p.directiveDefs=v?()=>("function"==typeof v?v():v).map(Gt).filter(gn):null,p.pipeDefs=v?()=>("function"==typeof v?v():v).map(Br).filter(gn):null,p})}function Gt(n){return Wn(n)||Lr(n)}function gn(n){return null!==n}function Bn(n){return Ir(()=>({type:n.type,bootstrap:n.bootstrap||_n,declarations:n.declarations||_n,imports:n.imports||_n,exports:n.exports||_n,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Mr(n,r){if(null==n)return Un;const o={};for(const l in n)if(n.hasOwnProperty(l)){let p=n[l],v=p;Array.isArray(p)&&(v=p[1],p=p[0]),o[p]=l,r&&(r[p]=v)}return o}const Pr=lt;function pr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Wn(n){return n[ir]||null}function Lr(n){return n[On]||null}function Br(n){return n[Rr]||null}function Ii(n){const r=Wn(n)||Lr(n)||Br(n);return null!==r&&r.standalone}function ni(n,r){const o=n[sr]||null;if(!o&&!0===r)throw new Error(`Type ${pe(n)} does not have '\u0275mod' property.`);return o}function At(n){return Array.isArray(n)&&"object"==typeof n[1]}function $e(n){return Array.isArray(n)&&!0===n[1]}function Qe(n){return 0!=(8&n.flags)}function Rt(n){return 2==(2&n.flags)}function an(n){return 1==(1&n.flags)}function Xt(n){return null!==n.template}function cn(n){return 0!=(256&n[2])}function ps(n,r){return n.hasOwnProperty(it)?n[it]:null}class Es{constructor(r,o,l){this.previousValue=r,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function _s(){return Us}function Us(n){return n.type.prototype.ngOnChanges&&(n.setInput=Fs),Ys}function Ys(){const n=di(this),r=n?.current;if(r){const o=n.previous;if(o===Un)n.previous=r;else for(let l in r)o[l]=r[l];n.current=null,this.ngOnChanges(r)}}function Fs(n,r,o,l){const p=di(n)||function $r(n,r){return n[ui]=r}(n,{previous:Un,current:null}),v=p.current||(p.current={}),M=p.previous,L=this.declaredInputs[o],H=M[L];v[L]=new Es(H&&H.currentValue,r,M===Un),n[l]=r}_s.ngInherit=!0;const ui="__ngSimpleChanges__";function di(n){return n[ui]||null}function Jr(n){for(;Array.isArray(n);)n=n[0];return n}function Ki(n,r){return Jr(r[n])}function Ls(n,r){return Jr(r[n.index])}function no(n,r){return n.data[r]}function us(n,r){return n[r]}function ai(n,r){const o=r[n];return At(o)?o:o[0]}function uo(n){return 64==(64&n[2])}function qi(n,r){return null==r?null:n[r]}function wo(n){n[18]=0}function Pi(n,r){n[5]+=r;let o=n,l=n[3];for(;null!==l&&(1===r&&1===o[5]||-1===r&&0===o[5]);)l[5]+=r,o=l,l=l[3]}const Hr={lFrame:Oo(null),bindingsEnabled:!0};function qs(){return Hr.bindingsEnabled}function pn(){return Hr.lFrame.lView}function T(){return Hr.lFrame.tView}function Z(n){return Hr.lFrame.contextLView=n,n[8]}function A(n){return Hr.lFrame.contextLView=null,n}function Y(){let n=xe();for(;null!==n&&64===n.type;)n=n.parent;return n}function xe(){return Hr.lFrame.currentTNode}function zt(){const n=Hr.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function jn(n,r){const o=Hr.lFrame;o.currentTNode=n,o.isParent=r}function dr(){return Hr.lFrame.isParent}function E(){Hr.lFrame.isParent=!1}function ht(){const n=Hr.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function rn(){return Hr.lFrame.bindingIndex}function kn(){return Hr.lFrame.bindingIndex++}function xr(n){const r=Hr.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function Bi(n){Hr.lFrame.inI18n=n}function Vi(n,r){const o=Hr.lFrame;o.bindingIndex=o.bindingRootIndex=n,ji(r)}function ji(n){Hr.lFrame.currentDirectiveIndex=n}function pi(){return Hr.lFrame.currentQueryIndex}function Zs(n){Hr.lFrame.currentQueryIndex=n}function Vo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function gi(n,r,o){if(o&hn.SkipSelf){let p=r,v=n;for(;!(p=p.parent,null!==p||o&hn.Host||(p=Vo(v),null===p||(v=v[15],10&p.type))););if(null===p)return!1;r=p,n=v}const l=Hr.lFrame=sa();return l.currentTNode=r,l.lView=n,!0}function gs(n){const r=sa(),o=n[1];Hr.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function sa(){const n=Hr.lFrame,r=null===n?null:n.child;return null===r?Oo(n):r}function Oo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Co(){const n=Hr.lFrame;return Hr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const U=Co;function ae(){const n=Co();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ut(){return Hr.lFrame.selectedIndex}function Wt(n){Hr.lFrame.selectedIndex=n}function dn(){const n=Hr.lFrame;return no(n.tView,n.selectedIndex)}function rr(){Hr.lFrame.currentNamespace="svg"}function Ti(){!function Oi(){Hr.lFrame.currentNamespace=null}()}function ts(n,r){for(let o=r.directiveStart,l=r.directiveEnd;o<l;o++){const v=n.data[o].type.prototype,{ngAfterContentInit:M,ngAfterContentChecked:L,ngAfterViewInit:H,ngAfterViewChecked:re,ngOnDestroy:Ne}=v;M&&(n.contentHooks||(n.contentHooks=[])).push(-o,M),L&&((n.contentHooks||(n.contentHooks=[])).push(o,L),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,L)),H&&(n.viewHooks||(n.viewHooks=[])).push(-o,H),re&&((n.viewHooks||(n.viewHooks=[])).push(o,re),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,re)),null!=Ne&&(n.destroyHooks||(n.destroyHooks=[])).push(o,Ne)}}function ns(n,r,o){Ro(n,r,3,o)}function Ra(n,r,o,l){(3&n[2])===o&&Ro(n,r,o,l)}function pa(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function Ro(n,r,o,l){const v=l??-1,M=r.length-1;let L=0;for(let H=void 0!==l?65535&n[18]:0;H<M;H++)if("number"==typeof r[H+1]){if(L=r[H],null!=l&&L>=l)break}else r[H]<0&&(n[18]+=65536),(L<v||-1==v)&&(ga(n,o,r,H),n[18]=(4294901760&n[18])+H+2),H++}function ga(n,r,o,l){const p=o[l]<0,v=o[l+1],L=n[p?-o[l]:o[l]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{v.call(L)}finally{}}}else try{v.call(L)}finally{}}class jo{constructor(r,o,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Eo(n,r,o){let l=0;for(;l<o.length;){const p=o[l];if("number"==typeof p){if(0!==p)break;l++;const v=o[l++],M=o[l++],L=o[l++];n.setAttribute(r,M,L,v)}else{const v=p,M=o[++l];Ql(v)?n.setProperty(r,v,M):n.setAttribute(r,v,M),l++}}return l}function $a(n){return 3===n||4===n||6===n}function Ql(n){return 64===n.charCodeAt(0)}function Qa(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let l=0;l<r.length;l++){const p=r[l];"number"==typeof p?o=p:0===o||Gc(n,o,p,null,-1===o||2===o?r[++l]:null)}}return n}function Gc(n,r,o,l,p){let v=0,M=n.length;if(-1===r)M=-1;else for(;v<n.length;){const L=n[v++];if("number"==typeof L){if(L===r){M=-1;break}if(L>r){M=v-1;break}}}for(;v<n.length;){const L=n[v];if("number"==typeof L)break;if(L===o){if(null===l)return void(null!==p&&(n[v+1]=p));if(l===n[v+1])return void(n[v+2]=p)}v++,null!==l&&v++,null!==p&&v++}-1!==M&&(n.splice(M,0,r),v=M+1),n.splice(v++,0,o),null!==l&&n.splice(v++,0,l),null!==p&&n.splice(v++,0,p)}function au(n){return-1!==n}function mo(n){return 32767&n}function qo(n,r){let o=function dc(n){return n>>16}(n),l=r;for(;o>0;)l=l[15],o--;return l}let _a=!0;function Ja(n){const r=_a;return _a=n,r}let wi=0;const ro={};function Xa(n,r){const o=xn(n,r);if(-1!==o)return o;const l=r[1];l.firstCreatePass&&(n.injectorIndex=r.length,Cl(l.data,n),Cl(r,null),Cl(l.blueprint,null));const p=Os(n,r),v=n.injectorIndex;if(au(p)){const M=mo(p),L=qo(p,r),H=L[1].data;for(let re=0;re<8;re++)r[v+re]=L[M+re]|H[M+re]}return r[v+8]=p,v}function Cl(n,r){n.push(0,0,0,0,0,0,0,0,r)}function xn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Os(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,l=null,p=r;for(;null!==p;){if(l=Va(p),null===l)return-1;if(o++,p=p[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Zo(n,r,o){!function Do(n,r,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(tt)&&(l=o[tt]),null==l&&(l=o[tt]=wi++);const p=255&l;r.data[n+(p>>5)]|=1<<p}(n,r,o)}function Xn(n,r,o){if(o&hn.Optional||void 0!==n)return n;nt()}function Ur(n,r,o,l){if(o&hn.Optional&&void 0===l&&(l=null),0==(o&(hn.Self|hn.Host))){const p=n[9],v=Hn(void 0);try{return p?p.get(r,l,o&hn.Optional):gr(r,l,o&hn.Optional)}finally{Hn(v)}}return Xn(l,0,o)}function Po(n,r,o,l=hn.Default,p){if(null!==n){if(1024&r[2]){const M=function ya(n,r,o,l,p){let v=n,M=r;for(;null!==v&&null!==M&&1024&M[2]&&!(256&M[2]);){const L=Zn(v,M,o,l|hn.Self,ro);if(L!==ro)return L;let H=v.parent;if(!H){const re=M[21];if(re){const Ne=re.get(o,ro,l);if(Ne!==ro)return Ne}H=Va(M),M=M[15]}v=H}return p}(n,r,o,l,ro);if(M!==ro)return M}const v=Zn(n,r,o,l,ro);if(v!==ro)return v}return Ur(r,o,l,p)}function Zn(n,r,o,l,p){const v=function Qo(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(tt)?n[tt]:void 0;return"number"==typeof r?r>=0?255&r:El:r}(o);if("function"==typeof v){if(!gi(r,n,l))return l&hn.Host?Xn(p,0,l):Ur(r,o,l,p);try{const M=v(l);if(null!=M||l&hn.Optional)return M;nt()}finally{U()}}else if("number"==typeof v){let M=null,L=xn(n,r),H=-1,re=l&hn.Host?r[16][6]:null;for((-1===L||l&hn.SkipSelf)&&(H=-1===L?Os(n,r):r[L+8],-1!==H&&pl(l,!1)?(M=r[1],L=mo(H),r=qo(H,r)):L=-1);-1!==L;){const Ne=r[1];if(rs(v,L,Ne.data)){const Ge=sn(L,r,o,M,l,re);if(Ge!==ro)return Ge}H=r[L+8],-1!==H&&pl(l,r[1].data[L+8]===re)&&rs(v,L,r)?(M=Ne,L=mo(H),r=qo(H,r)):L=-1}}return p}function sn(n,r,o,l,p,v){const M=r[1],L=M.data[n+8],Ne=Nn(L,M,o,null==l?Rt(L)&&_a:l!=M&&0!=(3&L.type),p&hn.Host&&v===L);return null!==Ne?ii(r,M,Ne,L):ro}function Nn(n,r,o,l,p){const v=n.providerIndexes,M=r.data,L=1048575&v,H=n.directiveStart,Ne=v>>20,kt=p?L+Ne:n.directiveEnd;for(let Yt=l?L:L+Ne;Yt<kt;Yt++){const In=M[Yt];if(Yt<H&&o===In||Yt>=H&&In.type===o)return Yt}if(p){const Yt=M[H];if(Yt&&Xt(Yt)&&Yt.type===o)return H}return null}function ii(n,r,o,l){let p=n[o];const v=r.data;if(function Ba(n){return n instanceof jo}(p)){const M=p;M.resolving&&function Ft(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ct(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Ve(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Le(n)}(v[o]));const L=Ja(M.canSeeViewProviders);M.resolving=!0;const H=M.injectImpl?Hn(M.injectImpl):null;gi(n,l,hn.Default);try{p=n[o]=M.factory(void 0,v,n,l),r.firstCreatePass&&o>=l.directiveStart&&function Vs(n,r,o){const{ngOnChanges:l,ngOnInit:p,ngDoCheck:v}=r.type.prototype;if(l){const M=Us(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,M),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,M)}p&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,p),v&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,v))}(o,v[o],r)}finally{null!==H&&Hn(H),Ja(L),M.resolving=!1,U()}}return p}function rs(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function pl(n,r){return!(n&hn.Self||n&hn.Host&&r)}class el{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,l){return Po(this._tNode,this._lView,r,l,o)}}function El(){return new el(Y(),pn())}function Sa(n){return Ir(()=>{const r=n.prototype.constructor,o=r[it]||Ll(r),l=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==l;){const v=p[it]||Ll(p);if(v&&v!==o)return v;p=Object.getPrototypeOf(p)}return v=>new v})}function Ll(n){return ge(n)?()=>{const r=Ll(le(n));return r&&r()}:ps(n)}function Va(n){const r=n[1],o=r.type;return 2===o?r.declTNode:1===o?n[6]:null}function Qs(n){return function fl(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const l=o.length;let p=0;for(;p<l;){const v=o[p];if($a(v))break;if(0===v)p+=2;else if("number"==typeof v)for(p++;p<l&&"string"==typeof o[p];)p++;else{if(v===r)return o[p+1];p+=2}}}return null}(Y(),n)}const Vr="__parameters__";function Gr(n,r,o){return Ir(()=>{const l=function Zi(n){return function(...o){if(n){const l=n(...o);for(const p in l)this[p]=l[p]}}}(r);function p(...v){if(this instanceof p)return l.apply(this,v),this;const M=new p(...v);return L.annotation=M,L;function L(H,re,Ne){const Ge=H.hasOwnProperty(Vr)?H[Vr]:Object.defineProperty(H,Vr,{value:[]})[Vr];for(;Ge.length<=Ne;)Ge.push(null);return(Ge[Ne]=Ge[Ne]||[]).push(M),H}}return o&&(p.prototype=Object.create(o.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class ds{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Lt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function io(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let l=n[o];Array.isArray(l)?(r===n&&(r=n.slice(0,o)),io(l,r)):r!==n&&r.push(l)}return r}function oa(n,r){n.forEach(o=>Array.isArray(o)?oa(o,r):r(o))}function Qt(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function Aa(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Js(n,r){const o=[];for(let l=0;l<n;l++)o.push(r);return o}function x(n,r,o){let l=q(n,r);return l>=0?n[1|l]=o:(l=~l,function ba(n,r,o,l){let p=n.length;if(p==r)n.push(o,l);else if(1===p)n.push(l,n[0]),n[0]=o;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=o,n[r+1]=l}}(n,l,r,o)),l}function G(n,r){const o=q(n,r);if(o>=0)return n[1|o]}function q(n,r){return function Je(n,r,o){let l=0,p=n.length>>o;for(;p!==l;){const v=l+(p-l>>1),M=n[v<<o];if(r===M)return v<<o;M>r?p=v:l=v+1}return~(p<<o)}(n,r,1)}const Rs={},Xs="__NG_DI_FLAG__",Vl="ngTempTokenPath",Ps=/\n/gm,Mu="__source";let W;function X(n){const r=W;return W=n,r}function Ae(n,r=hn.Default){if(void 0===W)throw new ct(-203,!1);return null===W?gr(n,void 0,r):W.get(n,r&hn.Optional?null:void 0,r)}function We(n,r=hn.Default){return(function kr(){return yr}()||Ae)(le(n),r)}function en(n,r=hn.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),We(n,r)}function Mn(n){const r=[];for(let o=0;o<n.length;o++){const l=le(n[o]);if(Array.isArray(l)){if(0===l.length)throw new ct(900,!1);let p,v=hn.Default;for(let M=0;M<l.length;M++){const L=l[M],H=zr(L);"number"==typeof H?-1===H?p=L.token:v|=H:p=L}r.push(We(p,v))}else r.push(We(l))}return r}function zn(n,r){return n[Xs]=r,n.prototype[Xs]=r,n}function zr(n){return n[Xs]}const bs=zn(Gr("Optional"),8),wa=zn(Gr("SkipSelf"),4);let Ru,du;function Fo(n){Ru=n}function gc(n){return function Td(){if(void 0===du&&(du=null,Ut.trustedTypes))try{du=Ut.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return du}()?.createHTML(n)||n}class Kc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ga(n){return n instanceof Kc?n.changingThisBreaksApplicationSecurity:n}class Mc{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(gc(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class ld{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=gc(r),o;const l=this.inertDocument.createElement("body");return l.innerHTML=gc(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(r){const o=r.attributes;for(let p=o.length-1;0<p;p--){const M=o.item(p).name;("xmlns:ns1"===M||0===M.indexOf("ns1:"))&&r.removeAttribute(M)}let l=r.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const mc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function za(n){return(n=String(n)).match(mc)?n:"unsafe:"+n}function ca(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function Sl(...n){const r={};for(const o of n)for(const l in o)o.hasOwnProperty(l)&&(r[l]=!0);return r}const Zc=ca("area,br,col,hr,img,wbr"),Lu=ca("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oc=ca("rp,rt"),xa=Sl(Zc,Sl(Lu,ca("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sl(Oc,ca("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sl(Oc,Lu)),_c=ca("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ho=Sl(_c,ca("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ca("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Go=(()=>((Go=Go||{})[Go.NONE=0]="NONE",Go[Go.HTML=1]="HTML",Go[Go.STYLE=2]="STYLE",Go[Go.SCRIPT=3]="SCRIPT",Go[Go.URL=4]="URL",Go[Go.RESOURCE_URL=5]="RESOURCE_URL",Go))();function ol(n){const r=function Pc(){const n=pn();return n&&n[12]}();return r?r.sanitize(Go.URL,n)||"":function xc(n,r){const o=function qc(n){return n instanceof Kc&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(n,"URL")?Ga(n):za(Le(n))}const Hl=new ds("ENVIRONMENT_INITIALIZER"),_l=new ds("INJECTOR",-1),kc=new ds("INJECTOR_DEF_TYPES");class zo{get(r,o=Rs){if(o===Rs){const l=new Error(`NullInjectorError: No provider for ${pe(r)}!`);throw l.name="NullInjectorError",l}return o}}function Gl(...n){return{\u0275providers:Ya(0,n)}}function Ya(n,...r){const o=[],l=new Set;let p;return oa(r,v=>{const M=v;Hs(M,o,[],l)&&(p||(p=[]),p.push(M))}),void 0!==p&&Uu(p,o),o}function Uu(n,r){for(let o=0;o<n.length;o++){const{providers:p}=n[o];oa(p,v=>{r.push(v)})}}function Hs(n,r,o,l){if(!(n=le(n)))return!1;let p=null,v=_r(n);const M=!v&&Wn(n);if(v||M){if(M&&!M.standalone)return!1;p=n}else{const H=n.ngModule;if(v=_r(H),!v)return!1;p=H}const L=l.has(p);if(M){if(L)return!1;if(l.add(p),M.dependencies){const H="function"==typeof M.dependencies?M.dependencies():M.dependencies;for(const re of H)Hs(re,r,o,l)}}else{if(!v)return!1;{if(null!=v.imports&&!L){let re;l.add(p);try{oa(v.imports,Ne=>{Hs(Ne,r,o,l)&&(re||(re=[]),re.push(Ne))})}finally{}void 0!==re&&Uu(re,r)}if(!L){const re=ps(p)||(()=>new p);r.push({provide:p,useFactory:re,deps:_n},{provide:kc,useValue:p,multi:!0},{provide:Hl,useValue:()=>We(p),multi:!0})}const H=v.providers;null==H||L||oa(H,Ne=>{r.push(Ne)})}}return p!==n&&void 0!==n.providers}const xl=ue({provide:String,useValue:ue});function Fc(n){return null!==n&&"object"==typeof n&&xl in n}function yc(n){return"function"==typeof n}const rc=new ds("Set Injector scope."),ua={},yu={};let vu;function Lc(){return void 0===vu&&(vu=new zo),vu}class ic{}class tu extends ic{constructor(r,o,l,p){super(),this.parent=o,this.source=l,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sc(r,M=>this.processProvider(M)),this.records.set(_l,na(void 0,this)),p.has("environment")&&this.records.set(ic,na(void 0,this));const v=this.records.get(rc);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(kc.multi,_n,hn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=X(this),l=Hn(void 0);try{return r()}finally{X(o),Hn(l)}}get(r,o=Rs,l=hn.Default){this.assertNotDestroyed();const p=X(this),v=Hn(void 0);try{if(!(l&hn.SkipSelf)){let L=this.records.get(r);if(void 0===L){const H=function Ka(n){return"function"==typeof n||"object"==typeof n&&n instanceof ds}(r)&&bn(r);L=H&&this.injectableDefInScope(H)?na(Yo(r),ua):null,this.records.set(r,L)}if(null!=L)return this.hydrate(r,L)}return(l&hn.Self?Lc():this.parent).get(r,o=l&hn.Optional&&o===Rs?null:o)}catch(M){if("NullInjectorError"===M.name){if((M[Vl]=M[Vl]||[]).unshift(pe(r)),p)throw M;return function hi(n,r,o,l){const p=n[Vl];throw r[Mu]&&p.unshift(r[Mu]),n.message=function hr(n,r,o,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let p=pe(r);if(Array.isArray(r))p=r.map(pe).join(" -> ");else if("object"==typeof r){let v=[];for(let M in r)if(r.hasOwnProperty(M)){let L=r[M];v.push(M+":"+("string"==typeof L?JSON.stringify(L):pe(L)))}p=`{${v.join(", ")}}`}return`${o}${l?"("+l+")":""}[${p}]: ${n.replace(Ps,"\n  ")}`}("\n"+n.message,p,o,l),n.ngTokenPath=p,n[Vl]=null,n}(M,r,"R3InjectorError",this.source)}throw M}finally{Hn(v),X(p)}}resolveInjectorInitializers(){const r=X(this),o=Hn(void 0);try{const l=this.get(Hl.multi,_n,hn.Self);for(const p of l)p()}finally{X(r),Hn(o)}}toString(){const r=[],o=this.records;for(const l of o.keys())r.push(pe(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(r){let o=yc(r=le(r))?r:le(r&&r.provide);const l=function Vu(n){return Fc(n)?na(void 0,n.useValue):na(Fa(n),ua)}(r);if(yc(r)||!0!==r.multi)this.records.get(o);else{let p=this.records.get(o);p||(p=na(void 0,ua,!0),p.factory=()=>Mn(p.multi),this.records.set(o,p)),o=r,p.multi.push(r)}this.records.set(o,l)}hydrate(r,o){return o.value===ua&&(o.value=yu,o.value=o.factory()),"object"==typeof o.value&&o.value&&function bu(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=le(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Yo(n){const r=bn(n),o=null!==r?r.factory:ps(n);if(null!==o)return o;if(n instanceof ds)throw new ct(204,!1);if(n instanceof Function)return function Bc(n){const r=n.length;if(r>0)throw Js(r,"?"),new ct(204,!1);const o=function Kn(n){const r=n&&(n[fi]||n[er]);if(r){const o=function qn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ct(204,!1)}function Fa(n,r,o){let l;if(yc(n)){const p=le(n);return ps(p)||Yo(p)}if(Fc(n))l=()=>le(n.useValue);else if(function Ci(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...Mn(n.deps||[]));else if(function _u(n){return!(!n||!n.useExisting)}(n))l=()=>We(le(n.useExisting));else{const p=le(n&&(n.useClass||n.provide));if(!function La(n){return!!n.deps}(n))return ps(p)||Yo(p);l=()=>new p(...Mn(n.deps))}return l}function na(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function fo(n){return!!n.\u0275providers}function sc(n,r){for(const o of n)Array.isArray(o)?sc(o,r):fo(o)?sc(o.\u0275providers,r):r(o)}class al{}class m{resolveComponentFactory(r){throw function Wl(n){const r=Error(`No component factory found for ${pe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let b=(()=>{class n{}return n.NULL=new m,n})();function P(){return ie(Y(),pn())}function ie(n,r){return new Oe(Ls(n,r))}let Oe=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=P,n})();function Pt(n){return n instanceof Oe?n.nativeElement:n}class Yn{}let br=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function si(){const n=pn(),o=ai(Y().index,n);return(At(o)?o:n)[11]}(),n})(),Xr=(()=>{class n{}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:()=>null}),n})();class Lo{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const yl=new Lo("14.2.2"),$c={};function Nh(n){return n.ngOriginalError}class Pd{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Nh(r);for(;o&&Nh(o);)o=Nh(o);return o||null}}const Jf=/^>|^->|<!--|-->|--!>|<!-$/g,Xf=/(<|>)/;const kd=new Map;let ff=0;const Wu="__ngContext__";function Ko(n,r){At(r)?(n[Wu]=r[20],function pf(n){kd.set(n[20],n)}(r)):n[Wu]=r}function w(n){return n.ownerDocument.defaultView}function te(n){return n instanceof Function?n():n}var cr=(()=>((cr=cr||{})[cr.Important=1]="Important",cr[cr.DashCase=2]="DashCase",cr))();let Cr;function $i(n,r){return Cr(n,r)}function Li(n){const r=n[3];return $e(r)?r[3]:r}function Ui(n){return eo(n[13])}function Wi(n){return eo(n[4])}function eo(n){for(;null!==n&&!$e(n);)n=n[4];return n}function oo(n,r,o,l,p){if(null!=l){let v,M=!1;$e(l)?v=l:At(l)&&(M=!0,l=l[0]);const L=Jr(l);0===n&&null!==o?null==p?f(r,o,L):Pl(r,o,L,p||null,!0):1===n&&null!==o?Pl(r,o,L,p||null,!0):2===n?as(r,L,M):3===n&&r.destroyNode(L),null!=v&&function jp(n,r,o,l,p){const v=o[7];v!==Jr(o)&&oo(r,n,l,v,p);for(let L=10;L<o.length;L++){const H=o[L];Ts(H[1],H,n,r,l,v)}}(r,n,v,o,p)}}function _o(n,r){return n.createText(r)}function Ao(n,r,o){n.setValue(r,o)}function Ol(n,r){return n.createComment(function eh(n){return n.replace(Jf,r=>r.replace(Xf,"\u200b$1\u200b"))}(r))}function ks(n,r,o){return n.createElement(r,o)}function Iu(n,r){const o=n[9],l=o.indexOf(r),p=r[3];512&r[2]&&(r[2]&=-513,Pi(p,-1)),o.splice(l,1)}function lc(n,r){if(n.length<=10)return;const o=10+r,l=n[o];if(l){const p=l[17];null!==p&&p!==n&&Iu(p,l),r>0&&(n[o-1][4]=l[4]);const v=Aa(n,10+r);!function nu(n,r){Ts(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(l[1],l);const M=v[19];null!==M&&M.detachView(v[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Ku(n,r){if(!(128&r[2])){const o=r[11];o.destroyNode&&Ts(n,r,o,3,null,null),function Rl(n){let r=n[13];if(!r)return cc(n[1],n);for(;r;){let o=null;if(At(r))o=r[13];else{const l=r[10];l&&(o=l)}if(!o){for(;r&&!r[4]&&r!==n;)At(r)&&cc(r[1],r),r=r[3];null===r&&(r=n),At(r)&&cc(r[1],r),o=r&&r[4]}r=o}}(r)}}function cc(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function ll(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let l=0;l<o.length;l+=2){const p=r[o[l]];if(!(p instanceof jo)){const v=o[l+1];if(Array.isArray(v))for(let M=0;M<v.length;M+=2){const L=p[v[M]],H=v[M+1];try{H.call(L)}finally{}}else try{v.call(p)}finally{}}}}(n,r),function Tu(n,r){const o=n.cleanup,l=r[7];let p=-1;if(null!==o)for(let v=0;v<o.length-1;v+=2)if("string"==typeof o[v]){const M=o[v+1],L="function"==typeof M?M(r):Jr(r[M]),H=l[p=o[v+2]],re=o[v+3];"boolean"==typeof re?L.removeEventListener(o[v],H,re):re>=0?l[p=re]():l[p=-re].unsubscribe(),v+=2}else{const M=l[p=o[v+1]];o[v].call(M)}if(null!==l){for(let v=p+1;v<l.length;v++)(0,l[v])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const o=r[17];if(null!==o&&$e(r[3])){o!==r[3]&&Iu(o,r);const l=r[19];null!==l&&l.detachView(n)}!function gf(n){kd.delete(n[20])}(r)}}function Su(n,r,o){return md(n,r.parent,o)}function md(n,r,o){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return o[0];if(2&l.flags){const p=n.data[l.directiveStart].encapsulation;if(p===Et.None||p===Et.Emulated)return null}return Ls(l,o)}function Pl(n,r,o,l,p){n.insertBefore(r,o,l,p)}function f(n,r,o){n.appendChild(r,o)}function u(n,r,o,l,p){null!==l?Pl(n,r,o,l,p):f(n,r,o)}function O(n,r){return n.parentNode(r)}function ee(n,r,o){return je(n,r,o)}function Te(n,r,o){return 40&n.type?Ls(n,o):null}let ft,je=Te;function ln(n,r){je=n,ft=r}function nn(n,r,o,l){const p=Su(n,l,r),v=r[11],L=ee(l.parent||r[6],l,r);if(null!=p)if(Array.isArray(o))for(let H=0;H<o.length;H++)u(v,p,o[H],L,!1);else u(v,p,o,L,!1);void 0!==ft&&ft(v,l,r,o,p)}function vn(n,r){if(null!==r){const o=r.type;if(3&o)return Ls(r,n);if(4&o)return Yr(-1,n[r.index]);if(8&o){const l=r.child;if(null!==l)return vn(n,l);{const p=n[r.index];return $e(p)?Yr(-1,p):Jr(p)}}if(32&o)return $i(r,n)()||Jr(n[r.index]);{const l=fr(n,r);return null!==l?Array.isArray(l)?l[0]:vn(Li(n[16]),l):vn(n,r.next)}}return null}function fr(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Yr(n,r){const o=10+n+1;if(o<r.length){const l=r[o],p=l[1].firstChild;if(null!==p)return vn(l,p)}return r[7]}function as(n,r,o){const l=O(n,r);l&&function c(n,r,o,l){n.removeChild(r,o,l)}(n,l,r,o)}function Bo(n,r,o,l,p,v,M){for(;null!=o;){const L=l[o.index],H=o.type;if(M&&0===r&&(L&&Ko(Jr(L),l),o.flags|=4),64!=(64&o.flags))if(8&H)Bo(n,r,o.child,l,p,v,!1),oo(r,n,p,L,v);else if(32&H){const re=$i(o,l);let Ne;for(;Ne=re();)oo(r,n,p,Ne,v);oo(r,n,p,L,v)}else 16&H?ru(n,r,l,o,p,v):oo(r,n,p,L,v);o=M?o.projectionNext:o.next}}function Ts(n,r,o,l,p,v){Bo(o,l,n.firstChild,r,p,v,!1)}function ru(n,r,o,l,p,v){const M=o[16],H=M[6].projection[l.projection];if(Array.isArray(H))for(let re=0;re<H.length;re++)oo(r,n,p,H[re],v);else Bo(n,r,H,M[3],p,v,!0)}function Hp(n,r,o){n.setAttribute(r,"style",o)}function Gp(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function yf(n,r,o){let l=n.length;for(;;){const p=n.indexOf(r,o);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const v=r.length;if(p+v===l||n.charCodeAt(p+v)<=32)return p}o=p+1}}const Wp="ng-template";function zp(n,r,o){let l=0;for(;l<n.length;){let p=n[l++];if(o&&"class"===p){if(p=n[l],-1!==yf(p.toLowerCase(),r,0))return!0}else if(1===p){for(;l<n.length&&"string"==typeof(p=n[l++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function np(n){return 4===n.type&&n.value!==Wp}function vf(n,r,o){return r===(4!==n.type||o?n.value:Wp)}function rp(n,r,o){let l=4;const p=n.attrs||[],v=function mm(n){for(let r=0;r<n.length;r++)if($a(n[r]))return r;return n.length}(p);let M=!1;for(let L=0;L<r.length;L++){const H=r[L];if("number"!=typeof H){if(!M)if(4&l){if(l=2|1&l,""!==H&&!vf(n,H,o)||""===H&&1===r.length){if(Uc(l))return!1;M=!0}}else{const re=8&l?H:r[++L];if(8&l&&null!==n.attrs){if(!zp(n.attrs,re,o)){if(Uc(l))return!1;M=!0}continue}const Ge=Yp(8&l?"class":H,p,np(n),o);if(-1===Ge){if(Uc(l))return!1;M=!0;continue}if(""!==re){let kt;kt=Ge>v?"":p[Ge+1].toLowerCase();const Yt=8&l?kt:null;if(Yt&&-1!==yf(Yt,re,0)||2&l&&re!==kt){if(Uc(l))return!1;M=!0}}}}else{if(!M&&!Uc(l)&&!Uc(H))return!1;if(M&&Uc(H))continue;M=!1,l=H|1&l}}return Uc(l)||M}function Uc(n){return 0==(1&n)}function Yp(n,r,o,l){if(null===r)return-1;let p=0;if(l||!o){let v=!1;for(;p<r.length;){const M=r[p];if(M===n)return p;if(3===M||6===M)v=!0;else{if(1===M||2===M){let L=r[++p];for(;"string"==typeof L;)L=r[++p];continue}if(4===M)break;if(0===M){p+=4;continue}}p+=v?1:2}return-1}return function _m(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const l=n[o];if("number"==typeof l)return-1;if(l===r)return o;o++}return-1}(r,n)}function Kp(n,r,o=!1){for(let l=0;l<r.length;l++)if(rp(n,r[l],o))return!0;return!1}function qp(n,r){e:for(let o=0;o<r.length;o++){const l=r[o];if(n.length===l.length){for(let p=0;p<n.length;p++)if(n[p]!==l[p])continue e;return!0}}return!1}function ym(n,r){return n?":not("+r.trim()+")":r}function vm(n){let r=n[0],o=1,l=2,p="",v=!1;for(;o<n.length;){let M=n[o];if("string"==typeof M)if(2&l){const L=n[++o];p+="["+M+(L.length>0?'="'+L+'"':"")+"]"}else 8&l?p+="."+M:4&l&&(p+=" "+M);else""!==p&&!Uc(M)&&(r+=ym(v,p),p=""),l=M,v=v||!Uc(l);o++}return""!==p&&(r+=ym(v,p)),r}const Hi={};function oh(n){ah(T(),pn(),ut()+n,!1)}function ah(n,r,o,l){if(!l)if(3==(3&r[2])){const v=n.preOrderCheckHooks;null!==v&&ns(r,v,o)}else{const v=n.preOrderHooks;null!==v&&Ra(r,v,0,o)}Wt(o)}function Jp(n,r=null,o=null,l){const p=Xp(n,r,o,l);return p.resolveInjectorInitializers(),p}function Xp(n,r=null,o=null,l,p=new Set){const v=[o||_n,Gl(n)];return l=l||("object"==typeof n?void 0:pe(n)),new tu(v,r||Lc(),l||null,p)}let _d=(()=>{class n{static create(o,l){if(Array.isArray(o))return Jp({name:""},l,o,"");{const p=o.name??"";return Jp({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=Rs,n.NULL=new zo,n.\u0275prov=Lt({token:n,providedIn:"any",factory:()=>We(_l)}),n.__NG_ELEMENT_ID__=-1,n})();function Bd(n,r=hn.Default){const o=pn();return null===o?We(n,r):Po(Y(),o,le(n),r)}function yd(){throw new Error("invalid")}function cp(n,r){return n<<17|r<<2}function Vc(n){return n>>17&32767}function ag(n){return 2|n}function Au(n){return(131068&n)>>2}function Fh(n,r){return-131069&n|r<<2}function dp(n){return 1|n}function Bm(n,r){const o=n.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const p=o[l],v=o[l+1];if(-1!==v){const M=n.data[v];Zs(p),M.contentQueries(2,r[v],v)}}}function Lh(n,r,o,l,p,v,M,L,H,re,Ne){const Ge=r.blueprint.slice();return Ge[0]=p,Ge[2]=76|l,(null!==Ne||n&&1024&n[2])&&(Ge[2]|=1024),wo(Ge),Ge[3]=Ge[15]=n,Ge[8]=o,Ge[10]=M||n&&n[10],Ge[11]=L||n&&n[11],Ge[12]=H||n&&n[12]||null,Ge[9]=re||n&&n[9]||null,Ge[6]=v,Ge[20]=function tp(){return ff++}(),Ge[21]=Ne,Ge[16]=2==r.type?n[16]:Ge,Ge}function Vd(n,r,o,l,p){let v=n.data[r];if(null===v)v=Nf(n,r,o,l,p),function ri(){return Hr.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=o,v.value=l,v.attrs=p;const M=zt();v.injectorIndex=null===M?-1:M.injectorIndex}return jn(v,!0),v}function Nf(n,r,o,l,p){const v=xe(),M=dr(),H=n.data[r]=function Cy(n,r,o,l,p,v){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,M?v:v&&v.parent,o,r,l,p);return null===n.firstChild&&(n.firstChild=H),null!==v&&(M?null==v.child&&null!==H.parent&&(v.child=H):null===v.next&&(v.next=H)),H}function Bh(n,r,o,l){if(0===o)return-1;const p=r.length;for(let v=0;v<o;v++)r.push(l),n.blueprint.push(l),n.data.push(null);return p}function xf(n,r,o){gs(r);try{const l=n.viewQuery;null!==l&&Uh(1,l,o);const p=n.template;null!==p&&vp(n,r,p,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Bm(n,r),n.staticViewQueries&&Uh(2,n.viewQuery,o);const v=n.components;null!==v&&function vy(n,r){for(let o=0;o<r.length;o++)Ay(n,r[o])}(r,v)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[2]&=-5,ae()}}function yp(n,r,o,l){const p=r[2];if(128!=(128&p)){gs(r);try{wo(r),function Dn(n){return Hr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&vp(n,r,o,2,l);const M=3==(3&p);if(M){const re=n.preOrderCheckHooks;null!==re&&ns(r,re,null)}else{const re=n.preOrderHooks;null!==re&&Ra(r,re,0,null),pa(r,0)}if(function Sg(n){for(let r=Ui(n);null!==r;r=Wi(r)){if(!r[2])continue;const o=r[9];for(let l=0;l<o.length;l++){const p=o[l],v=p[3];0==(512&p[2])&&Pi(v,1),p[2]|=512}}}(r),function Sy(n){for(let r=Ui(n);null!==r;r=Wi(r))for(let o=10;o<r.length;o++){const l=r[o],p=l[1];uo(l)&&yp(p,l,p.template,l[8])}}(r),null!==n.contentQueries&&Bm(n,r),M){const re=n.contentCheckHooks;null!==re&&ns(r,re)}else{const re=n.contentHooks;null!==re&&Ra(r,re,1),pa(r,1)}!function _y(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const p=o[l];if(p<0)Wt(~p);else{const v=p,M=o[++l],L=o[++l];Vi(M,v),L(2,r[v])}}}finally{Wt(-1)}}(n,r);const L=n.components;null!==L&&function yy(n,r){for(let o=0;o<r.length;o++)Ag(n,r[o])}(r,L);const H=n.viewQuery;if(null!==H&&Uh(2,H,l),M){const re=n.viewCheckHooks;null!==re&&ns(r,re)}else{const re=n.viewHooks;null!==re&&Ra(r,re,2),pa(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Pi(r[3],-1))}finally{ae()}}}function vp(n,r,o,l,p){const v=ut(),M=2&l;try{Wt(-1),M&&r.length>22&&ah(n,r,22,!1),o(l,p)}finally{Wt(v)}}function yg(n,r,o){if(Qe(r)){const p=r.directiveEnd;for(let v=r.directiveStart;v<p;v++){const M=n.data[v];M.contentQueries&&M.contentQueries(1,o[v],v)}}}function Mf(n,r,o){!qs()||(function Eg(n,r,o,l){const p=o.directiveStart,v=o.directiveEnd;n.firstCreatePass||Xa(o,r),Ko(l,r);const M=o.initialInputs;for(let L=p;L<v;L++){const H=n.data[L],re=Xt(H);re&&Tg(r,o,H);const Ne=ii(r,n,L,o);Ko(Ne,r),null!==M&&Gm(0,L-p,Ne,H,0,M),re&&(ai(o.index,r)[8]=Ne)}}(n,r,o,Ls(o,r)),128==(128&o.flags)&&function Dy(n,r,o){const l=o.directiveStart,p=o.directiveEnd,v=o.index,M=function ki(){return Hr.lFrame.currentDirectiveIndex}();try{Wt(v);for(let L=l;L<p;L++){const H=n.data[L],re=r[L];ji(L),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Vm(H,re)}}finally{Wt(-1),ji(M)}}(n,r,o))}function bp(n,r,o=Ls){const l=r.localNames;if(null!==l){let p=r.index+1;for(let v=0;v<l.length;v+=2){const M=l[v+1],L=-1===M?o(r,n):n[M];n[p++]=L}}}function $m(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Of(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Of(n,r,o,l,p,v,M,L,H,re){const Ne=22+l,Ge=Ne+p,kt=function by(n,r){const o=[];for(let l=0;l<r;l++)o.push(l<n?null:Hi);return o}(Ne,Ge),Yt="function"==typeof re?re():re;return kt[1]={type:n,blueprint:kt,template:o,queries:null,viewQuery:L,declTNode:r,data:kt.slice().fill(null,Ne),bindingStartIndex:Ne,expandoStartIndex:Ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof M?M():M,firstChild:null,schemas:H,consts:Yt,incompleteFirstPass:!1}}function wp(n,r,o,l){const p=zm(r);null===o?p.push(l):(p.push(o),n.firstCreatePass&&Ym(n).push(l,p.length-1))}function Cp(n,r,o){for(let l in n)if(n.hasOwnProperty(l)){const p=n[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(r,p):o[l]=[r,p]}return o}function Ep(n,r){const l=r.directiveEnd,p=n.data,v=r.attrs,M=[];let L=null,H=null;for(let re=r.directiveStart;re<l;re++){const Ne=p[re],Ge=Ne.inputs,kt=null===v||np(r)?null:Ty(Ge,v);M.push(kt),L=Cp(Ge,re,L),H=Cp(Ne.outputs,re,H)}null!==L&&(L.hasOwnProperty("class")&&(r.flags|=16),L.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=M,r.inputs=L,r.outputs=H}function vl(n,r,o,l,p,v,M,L){const H=Ls(r,o);let Ne,re=r.inputs;!L&&null!=re&&(Ne=re[l])?(Ff(n,o,Ne,l,p),Rt(r)&&bg(o,r.index)):3&r.type&&(l=function vg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),p=null!=M?M(p,r.value||"",l):p,v.setProperty(H,l,p))}function bg(n,r){const o=ai(r,n);16&o[2]||(o[2]|=32)}function Nu(n,r,o,l){let p=!1;if(qs()){const v=function Dg(n,r,o){const l=n.directiveRegistry;let p=null;if(l)for(let v=0;v<l.length;v++){const M=l[v];Kp(o,M.selectors,!1)&&(p||(p=[]),Zo(Xa(o,r),n,M.type),Xt(M)?(jm(n,o),p.unshift(M)):p.push(M))}return p}(n,r,o),M=null===l?null:{"":-1};if(null!==v){p=!0,Ip(o,n.data.length,v.length);for(let Ne=0;Ne<v.length;Ne++){const Ge=v[Ne];Ge.providersResolver&&Ge.providersResolver(Ge)}let L=!1,H=!1,re=Bh(n,r,v.length,null);for(let Ne=0;Ne<v.length;Ne++){const Ge=v[Ne];o.mergedAttrs=Qa(o.mergedAttrs,Ge.hostAttrs),Hm(n,o,r,re,Ge),Iy(re,Ge,M),null!==Ge.contentQueries&&(o.flags|=8),(null!==Ge.hostBindings||null!==Ge.hostAttrs||0!==Ge.hostVars)&&(o.flags|=128);const kt=Ge.type.prototype;!L&&(kt.ngOnChanges||kt.ngOnInit||kt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),L=!0),!H&&(kt.ngOnChanges||kt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),H=!0),re++}Ep(n,o)}M&&function Ig(n,r,o){if(r){const l=n.localNames=[];for(let p=0;p<r.length;p+=2){const v=o[r[p+1]];if(null==v)throw new ct(-301,!1);l.push(r[p],v)}}}(o,l,M)}return o.mergedAttrs=Qa(o.mergedAttrs,o.attrs),p}function Dp(n,r,o,l,p,v){const M=v.hostBindings;if(M){let L=n.hostBindingOpCodes;null===L&&(L=n.hostBindingOpCodes=[]);const H=~r.index;(function Ey(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(L)!=H&&L.push(H),L.push(l,p,M)}}function Vm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function jm(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Iy(n,r,o){if(o){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)o[r.exportAs[l]]=n;Xt(r)&&(o[""]=n)}}function Ip(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function Hm(n,r,o,l,p){n.data[l]=p;const v=p.factory||(p.factory=ps(p.type)),M=new jo(v,Xt(p),Bd);n.blueprint[l]=M,o[l]=M,Dp(n,r,0,l,Bh(n,o,p.hostVars,Hi),p)}function Tg(n,r,o){const l=Ls(r,n),p=$m(o),v=n[10],M=kf(n,Lh(n,p,null,o.onPush?32:16,l,r,v,v.createRenderer(l,o),null,null,null));n[r.index]=M}function Rf(n,r,o,l,p,v,M){if(null==v)n.removeAttribute(r,p,o);else{const L=null==M?Le(v):M(v,l||"",p);n.setAttribute(r,p,L,o)}}function Gm(n,r,o,l,p,v){const M=v[r];if(null!==M){const L=l.setInput;for(let H=0;H<M.length;){const re=M[H++],Ne=M[H++],Ge=M[H++];null!==L?l.setInput(o,Ge,re,Ne):o[Ne]=Ge}}}function Ty(n,r){let o=null,l=0;for(;l<r.length;){const p=r[l];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===o&&(o=[]),o.push(p,n[p],r[l+1])),l+=2}else l+=2;else l+=4}return o}function Tp(n,r,o,l){return new Array(n,!0,!1,r,null,0,l,o,null,null)}function Ag(n,r){const o=ai(r,n);if(uo(o)){const l=o[1];48&o[2]?yp(l,o,l.template,o[8]):o[5]>0&&Pf(o)}}function Pf(n){for(let l=Ui(n);null!==l;l=Wi(l))for(let p=10;p<l.length;p++){const v=l[p];if(uo(v))if(512&v[2]){const M=v[1];yp(M,v,M.template,v[8])}else v[5]>0&&Pf(v)}const o=n[1].components;if(null!==o)for(let l=0;l<o.length;l++){const p=ai(o[l],n);uo(p)&&p[5]>0&&Pf(p)}}function Ay(n,r){const o=ai(r,n),l=o[1];(function Wm(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(l,o),xf(l,o,o[8])}function kf(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Ng(n){for(;n;){n[2]|=32;const r=Li(n);if(cn(n)&&!r)return n;n=r}return null}function $h(n,r,o,l=!0){const p=r[10];p.begin&&p.begin();try{yp(n,r,n.template,o)}catch(M){throw l&&xg(r,M),M}finally{p.end&&p.end()}}function Uh(n,r,o){Zs(0),r(n,o)}function zm(n){return n[7]||(n[7]=[])}function Ym(n){return n.cleanup||(n.cleanup=[])}function xg(n,r){const o=n[9],l=o?o.get(Pd,null):null;l&&l.handleError(r)}function Ff(n,r,o,l,p){for(let v=0;v<o.length;){const M=o[v++],L=o[v++],H=r[M],re=n.data[M];null!==re.setInput?re.setInput(H,p,l,L):H[L]=p}}function qu(n,r,o){const l=Ki(r,n);Ao(n[11],l,o)}function Vh(n,r,o){let l=o?n.styles:null,p=o?n.classes:null,v=0;if(null!==r)for(let M=0;M<r.length;M++){const L=r[M];"number"==typeof L?v=L:1==v?p=De(p,L):2==v&&(l=De(l,L+": "+r[++M]+";"))}o?n.styles=l:n.stylesWithoutHost=l,o?n.classes=p:n.classesWithoutHost=p}function jh(n,r,o,l,p=!1){for(;null!==o;){const v=r[o.index];if(null!==v&&l.push(Jr(v)),$e(v))for(let L=10;L<v.length;L++){const H=v[L],re=H[1].firstChild;null!==re&&jh(H[1],H,re,l)}const M=o.type;if(8&M)jh(n,r,o.child,l);else if(32&M){const L=$i(o,r);let H;for(;H=L();)l.push(H)}else if(16&M){const L=fr(r,o);if(Array.isArray(L))l.push(...L);else{const H=Li(r[16]);jh(H[1],H,L,l,!0)}}o=p?o.projectionNext:o.next}return l}class dh{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return jh(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if($e(r)){const o=r[8],l=o?o.indexOf(this):-1;l>-1&&(lc(r,l),Aa(o,l))}this._attachedToViewContainer=!1}Ku(this._lView[1],this._lView)}onDestroy(r){wp(this._lView[1],this._lView,null,r)}markForCheck(){Ng(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){$h(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Za(n,r){Ts(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=r}}class Sp extends dh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;$h(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class Lf extends b{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Wn(r);return new hh(o,this.ngModule)}}function Mg(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class qm{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,l){const p=this.injector.get(r,$c,l);return p!==$c||o===$c?p:this.parentInjector.get(r,o,l)}}class hh extends al{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function ry(n){return n.map(vm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Mg(this.componentDef.inputs)}get outputs(){return Mg(this.componentDef.outputs)}create(r,o,l,p){let v=(p=p||this.ngModule)instanceof ic?p:p?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const M=v?new qm(r,v):r,L=M.get(Yn,null);if(null===L)throw new ct(407,!1);const H=M.get(Xr,null),re=L.createRenderer(null,this.componentDef),Ne=this.componentDef.selectors[0][0]||"div",Ge=l?function wy(n,r,o){return n.selectRootElement(r,o===Et.ShadowDom)}(re,l,this.componentDef.encapsulation):ks(L.createRenderer(null,this.componentDef),Ne,function Ap(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ne)),kt=this.componentDef.onPush?288:272,Yt=Of(0,null,null,1,0,null,null,null,null,null),In=Lh(null,Yt,null,kt,null,null,L,re,H,M,null);let tr,mr;gs(In);try{const ei=function My(n,r,o,l,p,v){const M=o[1];o[22]=n;const H=Vd(M,22,2,"#host",null),re=H.mergedAttrs=r.hostAttrs;null!==re&&(Vh(H,re,!0),null!==n&&(Eo(p,n,re),null!==H.classes&&Gp(p,n,H.classes),null!==H.styles&&Hp(p,n,H.styles)));const Ne=l.createRenderer(n,r),Ge=Lh(o,$m(r),null,r.onPush?32:16,o[22],H,l,Ne,v||null,null,null);return M.firstCreatePass&&(Zo(Xa(H,o),M,r.type),jm(M,H),Ip(H,o.length,1)),kf(o,Ge),o[22]=Ge}(Ge,this.componentDef,In,L,re);if(Ge)if(l)Eo(re,Ge,["ng-version",yl.full]);else{const{attrs:Di,classes:$n}=function bm(n){const r=[],o=[];let l=1,p=2;for(;l<n.length;){let v=n[l];if("string"==typeof v)2===p?""!==v&&r.push(v,n[++l]):8===p&&o.push(v);else{if(!Uc(p))break;p=v}l++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Di&&Eo(re,Ge,Di),$n&&$n.length>0&&Gp(re,Ge,$n.join(" "))}if(mr=no(Yt,22),void 0!==o){const Di=mr.projection=[];for(let $n=0;$n<this.ngContentSelectors.length;$n++){const Ri=o[$n];Di.push(null!=Ri?Array.from(Ri):null)}}tr=function Qm(n,r,o,l){const p=o[1],v=function Cg(n,r,o){const l=Y();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Hm(n,l,r,Bh(n,r,1,null),o),Ep(n,l));const p=ii(r,n,l.directiveStart,l);Ko(p,r);const v=Ls(l,r);return v&&Ko(v,r),p}(p,o,r);if(n[8]=o[8]=v,null!==l)for(const L of l)L(v,r);if(r.contentQueries){const L=Y();r.contentQueries(1,v,L.directiveStart)}const M=Y();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Wt(M.index),Dp(o[1],M,0,M.directiveStart,M.directiveEnd,r),Vm(r,v)),v}(ei,this.componentDef,In,[Oy]),xf(Yt,In,null)}finally{ae()}return new xy(this.componentType,tr,ie(mr,In),In,mr)}}class xy extends class ju{}{constructor(r,o,l,p,v){super(),this.location=l,this._rootLView=p,this._tNode=v,this.instance=o,this.hostView=this.changeDetectorRef=new Sp(p),this.componentType=r}setInput(r,o){const l=this._tNode.inputs;let p;if(null!==l&&(p=l[r])){const v=this._rootLView;Ff(v[1],v,p,r,o),bg(v,this._tNode.index)}}get injector(){return new el(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Oy(){const n=Y();ts(pn()[1],n)}function Rg(n){let r=function Og(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const l=[n];for(;r;){let p;if(Xt(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ct(903,!1);p=r.\u0275dir}if(p){if(o){l.push(p);const M=n;M.inputs=Pg(n.inputs),M.declaredInputs=Pg(n.declaredInputs),M.outputs=Pg(n.outputs);const L=p.hostBindings;L&&kg(n,L);const H=p.viewQuery,re=p.contentQueries;if(H&&Py(n,H),re&&Jm(n,re),me(n.inputs,p.inputs),me(n.declaredInputs,p.declaredInputs),me(n.outputs,p.outputs),Xt(p)&&p.data.animation){const Ne=n.data;Ne.animation=(Ne.animation||[]).concat(p.data.animation)}}const v=p.features;if(v)for(let M=0;M<v.length;M++){const L=v[M];L&&L.ngInherit&&L(n),L===Rg&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Ry(n){let r=0,o=null;for(let l=n.length-1;l>=0;l--){const p=n[l];p.hostVars=r+=p.hostVars,p.hostAttrs=Qa(p.hostAttrs,o=Qa(o,p.hostAttrs))}}(l)}function Pg(n){return n===Un?{}:n===_n?[]:n}function Py(n,r){const o=n.viewQuery;n.viewQuery=o?(l,p)=>{r(l,p),o(l,p)}:r}function Jm(n,r){const o=n.contentQueries;n.contentQueries=o?(l,p,v)=>{r(l,p,v),o(l,p,v)}:r}function kg(n,r){const o=n.hostBindings;n.hostBindings=o?(l,p)=>{r(l,p),o(l,p)}:r}let fh=null;function Ji(){if(!fh){const n=Ut.Symbol;if(n&&n.iterator)fh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const l=r[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(fh=l)}}}return fh}function Gh(n){return!!$o(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ji()in n)}function $o(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function cl(n,r,o){return n[r]=o}function Kl(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Zu(n,r,o,l){const p=Kl(n,r,o);return Kl(n,r+1,l)||p}function $f(n,r,o,l,p){const v=Zu(n,r,o,l);return Kl(n,r+2,p)||v}function Fg(n,r,o,l){const p=pn();return Kl(p,kn(),r)&&(T(),function xu(n,r,o,l,p,v){const M=Ls(n,r);Rf(r[11],M,v,n.value,o,l,p)}(dn(),p,n,r,o,l)),Fg}function zh(n,r,o,l){return Kl(n,kn(),o)?r+Le(o)+l:Hi}function By(n,r,o,l,p,v,M,L){const H=pn(),re=T(),Ne=n+22,Ge=re.firstCreatePass?function bd(n,r,o,l,p,v,M,L,H){const re=r.consts,Ne=Vd(r,n,4,M||null,qi(re,L));Nu(r,o,Ne,qi(re,H)),ts(r,Ne);const Ge=Ne.tViews=Of(2,Ne,l,p,v,r.directiveRegistry,r.pipeRegistry,null,r.schemas,re);return null!==r.queries&&(r.queries.template(r,Ne),Ge.queries=r.queries.embeddedTView(Ne)),Ne}(Ne,re,H,r,o,l,p,v,M):re.data[Ne];jn(Ge,!1);const kt=H[11].createComment("");nn(re,H,kt,Ge),Ko(kt,H),kf(H,H[Ne]=Tp(kt,H,kt,Ge)),an(Ge)&&Mf(re,H,Ge),null!=M&&bp(H,Ge,L)}function Hd(n){return us(function S(){return Hr.lFrame.contextLView}(),22+n)}function qh(n,r,o){const l=pn();return Kl(l,kn(),r)&&vl(T(),dn(),l,n,r,l[11],o,!1),qh}function Bg(n,r,o,l,p){const M=p?"class":"style";Ff(n,o,r.inputs[M],M,l)}function jf(n,r,o,l){const p=pn(),v=T(),M=22+n,L=p[11],H=p[M]=ks(L,r,function bi(){return Hr.lFrame.currentNamespace}()),re=v.firstCreatePass?function $y(n,r,o,l,p,v,M){const L=r.consts,re=Vd(r,n,2,p,qi(L,v));return Nu(r,o,re,qi(L,M)),null!==re.attrs&&Vh(re,re.attrs,!1),null!==re.mergedAttrs&&Vh(re,re.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,re),re}(M,v,p,0,r,o,l):v.data[M];jn(re,!0);const Ne=re.mergedAttrs;null!==Ne&&Eo(L,H,Ne);const Ge=re.classes;null!==Ge&&Gp(L,H,Ge);const kt=re.styles;return null!==kt&&Hp(L,H,kt),64!=(64&re.flags)&&nn(v,p,H,re),0===function qr(){return Hr.lFrame.elementDepthCount}()&&Ko(H,p),function Ia(){Hr.lFrame.elementDepthCount++}(),an(re)&&(Mf(v,p,re),yg(v,re,p)),null!==l&&bp(p,re),jf}function Hf(){let n=Y();dr()?E():(n=n.parent,jn(n,!1));const r=n;!function fa(){Hr.lFrame.elementDepthCount--}();const o=T();return o.firstCreatePass&&(ts(o,n),Qe(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Zl(n){return 0!=(16&n.flags)}(r)&&Bg(o,r,pn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ou(n){return 0!=(32&n.flags)}(r)&&Bg(o,r,pn(),r.stylesWithoutHost,!1),Hf}function Zh(n,r,o,l){return jf(n,r,o,l),Hf(),Zh}function Ju(n,r,o){const l=pn(),p=T(),v=n+22,M=p.firstCreatePass?function Uy(n,r,o,l,p){const v=r.consts,M=qi(v,l),L=Vd(r,n,8,"ng-container",M);return null!==M&&Vh(L,M,!0),Nu(r,o,L,qi(v,p)),null!==r.queries&&r.queries.elementStart(r,L),L}(v,p,l,r,o):p.data[v];jn(M,!0);const L=l[v]=l[11].createComment("");return nn(p,l,L,M),Ko(L,l),an(M)&&(Mf(p,l,M),yg(p,M,l)),null!=o&&bp(l,M),Ju}function gh(){let n=Y();const r=T();return dr()?E():(n=n.parent,jn(n,!1)),r.firstCreatePass&&(ts(r,n),Qe(n)&&r.queries.elementEnd(n)),gh}function mh(n,r,o){return Ju(n,r,o),gh(),mh}function $g(){return pn()}function Gf(n){return!!n&&"function"==typeof n.then}function u_(n){return!!n&&"function"==typeof n.subscribe}const d_=u_;function Ug(n,r,o,l){const p=pn(),v=T(),M=Y();return function jg(n,r,o,l,p,v,M,L){const H=an(l),Ne=n.firstCreatePass&&Ym(n),Ge=r[8],kt=zm(r);let Yt=!0;if(3&l.type||L){const mr=Ls(l,r),ei=L?L(mr):mr,Di=kt.length,$n=L?vo=>L(Jr(vo[l.index])):l.index;let Ri=null;if(!L&&H&&(Ri=function Vg(n,r,o,l){const p=n.cleanup;if(null!=p)for(let v=0;v<p.length-1;v+=2){const M=p[v];if(M===o&&p[v+1]===l){const L=r[7],H=p[v+2];return L.length>H?L[H]:null}"string"==typeof M&&(v+=2)}return null}(n,r,p,l.index)),null!==Ri)(Ri.__ngLastListenerFn__||Ri).__ngNextListenerFn__=v,Ri.__ngLastListenerFn__=v,Yt=!1;else{v=Hg(l,r,Ge,v,!1);const vo=o.listen(ei,p,v);kt.push(v,vo),Ne&&Ne.push(p,$n,Di,Di+1)}}else v=Hg(l,r,Ge,v,!1);const In=l.outputs;let tr;if(Yt&&null!==In&&(tr=In[p])){const mr=tr.length;if(mr)for(let ei=0;ei<mr;ei+=2){const Oa=r[tr[ei]][tr[ei+1]].subscribe(v),Qf=kt.length;kt.push(v,Oa),Ne&&Ne.push(p,l.index,Qf,-(Qf+1))}}}(v,p,p[11],M,n,r,0,l),Ug}function Gd(n,r,o,l){try{return!1!==o(l)}catch(p){return xg(n,p),!1}}function Hg(n,r,o,l,p){return function v(M){if(M===Function)return l;Ng(2&n.flags?ai(n.index,r):r);let H=Gd(r,0,l,M),re=v.__ngNextListenerFn__;for(;re;)H=Gd(r,0,re,M)&&H,re=re.__ngNextListenerFn__;return p&&!1===H&&(M.preventDefault(),M.returnValue=!1),H}}function Gg(n=1){return function z(n){return(Hr.lFrame.contextLView=function Se(n,r){for(;n>0;)r=r[15],n--;return r}(n,Hr.lFrame.contextLView))[8]}(n)}function Wg(n,r){let o=null;const l=function ny(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(n);for(let p=0;p<r.length;p++){const v=r[p];if("*"!==v){if(null===l?Kp(n,v,!0):qp(l,v))return p}else o=p}return o}function xp(n){const r=pn()[16][6];if(!r.projection){const l=r.projection=Js(n?n.length:1,null),p=l.slice();let v=r.child;for(;null!==v;){const M=n?Wg(v,n):0;null!==M&&(p[M]?p[M].projectionNext=v:l[M]=v,p[M]=v),v=v.next}}}function h_(n,r=0,o){const l=pn(),p=T(),v=Vd(p,22+n,16,null,o||null);null===v.projection&&(v.projection=r),E(),64!=(64&v.flags)&&function Ec(n,r,o){ru(r[11],0,r,o,Su(n,o,r),ee(o.parent||r[6],o,r))}(p,l,v)}function Qh(n,r,o){return _h(n,"",r,"",o),Qh}function _h(n,r,o,l,p){const v=pn(),M=zh(v,r,o,l);return M!==Hi&&vl(T(),dn(),v,n,M,v[11],p,!1),_h}function ef(n,r,o,l,p){const v=n[o+1],M=null===r;let L=l?Vc(v):Au(v),H=!1;for(;0!==L&&(!1===H||M);){const Ne=n[L+1];zd(n[L],r)&&(H=!0,n[L+1]=l?dp(Ne):ag(Ne)),L=l?Vc(Ne):Au(Ne)}H&&(n[o+1]=l?ag(v):dp(v))}function zd(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&q(n,r)>=0}const ul={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m_(n){return n.substring(ul.key,ul.keyEnd)}function Yg(n,r){const o=ul.textEnd;return o===r?-1:(r=ul.keyEnd=function Gy(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,ul.key=r,o),tf(n,r,o))}function tf(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function Mp(n,r,o){return iu(n,r,o,!1),Mp}function Op(n,r){return iu(n,r,null,!0),Op}function zf(n){!function bl(n,r,o,l){const p=T(),v=xr(2);p.firstUpdatePass&&Yd(p,null,v,l);const M=pn();if(o!==Hi&&Kl(M,v,o)){const L=p.data[ut()];if(D_(L,l)&&!b_(p,v)){let H=l?L.classesWithoutHost:L.stylesWithoutHost;null!==H&&(o=De(H,o||"")),Bg(p,L,M,o,l)}else!function Qy(n,r,o,l,p,v,M,L){p===Hi&&(p=_n);let H=0,re=0,Ne=0<p.length?p[0]:null,Ge=0<v.length?v[0]:null;for(;null!==Ne||null!==Ge;){const kt=H<p.length?p[H+1]:void 0,Yt=re<v.length?v[re+1]:void 0;let tr,In=null;Ne===Ge?(H+=2,re+=2,kt!==Yt&&(In=Ge,tr=Yt)):null===Ge||null!==Ne&&Ne<Ge?(H+=2,In=Ne):(re+=2,In=Ge,tr=Yt),null!==In&&Jg(n,r,o,l,In,tr,M,L),Ne=H<p.length?p[H]:null,Ge=re<v.length?v[re]:null}}(p,L,M,M[11],M[v+1],M[v+1]=function w_(n,r,o){if(null==o||""===o)return _n;const l=[],p=Ga(o);if(Array.isArray(p))for(let v=0;v<p.length;v++)n(l,p[v],!0);else if("object"==typeof p)for(const v in p)p.hasOwnProperty(v)&&n(l,v,p[v]);else"string"==typeof p&&r(l,p);return l}(n,r,o),l,v)}}(x,td,n,!0)}function td(n,r){for(let o=function jy(n){return function Kg(n){ul.key=0,ul.keyEnd=0,ul.value=0,ul.valueEnd=0,ul.textEnd=n.length}(n),Yg(n,tf(n,0,ul.textEnd))}(r);o>=0;o=Yg(r,o))x(n,m_(r),!0)}function iu(n,r,o,l){const p=pn(),v=T(),M=xr(2);v.firstUpdatePass&&Yd(v,n,M,l),r!==Hi&&Kl(p,M,r)&&Jg(v,v.data[ut()],p,p[11],n,p[M+1]=function Xg(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=pe(Ga(n)))),n}(r,o),l,M)}function b_(n,r){return r>=n.expandoStartIndex}function Yd(n,r,o,l){const p=n.data;if(null===p[o+1]){const v=p[ut()],M=b_(n,o);D_(v,l)&&null===r&&!M&&(r=!1),r=function Yy(n,r,o,l){const p=function Sr(n){const r=Hr.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let v=l?r.residualClasses:r.residualStyles;if(null===p)0===(l?r.classBindings:r.styleBindings)&&(o=nf(o=Qg(null,n,r,o,l),r.attrs,l),v=null);else{const M=r.directiveStylingLast;if(-1===M||n[M]!==p)if(o=Qg(p,n,r,o,l),null===v){let H=function Ky(n,r,o){const l=o?r.classBindings:r.styleBindings;if(0!==Au(l))return n[Vc(l)]}(n,r,l);void 0!==H&&Array.isArray(H)&&(H=Qg(null,n,r,H[1],l),H=nf(H,r.attrs,l),function qy(n,r,o,l){n[Vc(o?r.classBindings:r.styleBindings)]=l}(n,r,l,H))}else v=function Zy(n,r,o){let l;const p=r.directiveEnd;for(let v=1+r.directiveStylingLast;v<p;v++)l=nf(l,n[v].hostAttrs,o);return nf(l,r.attrs,o)}(n,r,l)}return void 0!==v&&(l?r.residualClasses=v:r.residualStyles=v),o}(p,v,r,l),function p_(n,r,o,l,p,v){let M=v?r.classBindings:r.styleBindings,L=Vc(M),H=Au(M);n[l]=o;let Ne,re=!1;if(Array.isArray(o)){const Ge=o;Ne=Ge[1],(null===Ne||q(Ge,Ne)>0)&&(re=!0)}else Ne=o;if(p)if(0!==H){const kt=Vc(n[L+1]);n[l+1]=cp(kt,L),0!==kt&&(n[kt+1]=Fh(n[kt+1],l)),n[L+1]=function og(n,r){return 131071&n|r<<17}(n[L+1],l)}else n[l+1]=cp(L,0),0!==L&&(n[L+1]=Fh(n[L+1],l)),L=l;else n[l+1]=cp(H,0),0===L?L=l:n[H+1]=Fh(n[H+1],l),H=l;re&&(n[l+1]=ag(n[l+1])),ef(n,Ne,l,!0),ef(n,Ne,l,!1),function g_(n,r,o,l,p){const v=p?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof r&&q(v,r)>=0&&(o[l+1]=dp(o[l+1]))}(r,Ne,n,l,v),M=cp(L,H),v?r.classBindings=M:r.styleBindings=M}(p,v,r,o,M,l)}}function Qg(n,r,o,l,p){let v=null;const M=o.directiveEnd;let L=o.directiveStylingLast;for(-1===L?L=o.directiveStart:L++;L<M&&(v=r[L],l=nf(l,v.hostAttrs,p),v!==n);)L++;return null!==n&&(o.directiveStylingLast=L),l}function nf(n,r,o){const l=o?1:2;let p=-1;if(null!==r)for(let v=0;v<r.length;v++){const M=r[v];"number"==typeof M?p=M:p===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),x(n,M,!!o||r[++v]))}return void 0===n?null:n}function Jg(n,r,o,l,p,v,M,L){if(!(3&r.type))return;const H=n.data,re=H[L+1];Cd(function up(n){return 1==(1&n)}(re)?E_(H,r,o,p,Au(re),M):void 0)||(Cd(v)||function xm(n){return 2==(2&n)}(re)&&(v=E_(H,null,o,p,L,M)),function ty(n,r,o,l,p){if(r)p?n.addClass(o,l):n.removeClass(o,l);else{let v=-1===l.indexOf("-")?void 0:cr.DashCase;null==p?n.removeStyle(o,l,v):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),v|=cr.Important),n.setStyle(o,l,p,v))}}(l,M,Ki(ut(),o),p,v))}function E_(n,r,o,l,p,v){const M=null===r;let L;for(;p>0;){const H=n[p],re=Array.isArray(H),Ne=re?H[1]:H,Ge=null===Ne;let kt=o[p+1];kt===Hi&&(kt=Ge?_n:void 0);let Yt=Ge?G(kt,l):Ne===l?kt:void 0;if(re&&!Cd(Yt)&&(Yt=G(H,l)),Cd(Yt)&&(L=Yt,M))return L;const In=n[p+1];p=M?Vc(In):Au(In)}if(null!==r){let H=v?r.residualClasses:r.residualStyles;null!=H&&(L=G(H,l))}return L}function Cd(n){return void 0!==n}function D_(n,r){return 0!=(n.flags&(r?16:32))}function I_(n,r=""){const o=pn(),l=T(),p=n+22,v=l.firstCreatePass?Vd(l,p,1,r,null):l.data[p],M=o[p]=_o(o[11],r);nn(l,o,M,v),jn(v,!1)}function em(n){return Rp("",n,""),em}function Rp(n,r,o){const l=pn(),p=zh(l,n,r,o);return p!==Hi&&qu(l,ut(),p),Rp}function tm(n,r,o,l,p){const v=pn(),M=function Yh(n,r,o,l,p,v){const L=Zu(n,rn(),o,p);return xr(2),L?r+Le(o)+l+Le(p)+v:Hi}(v,n,r,o,l,p);return M!==Hi&&qu(v,ut(),M),tm}function nm(n,r,o,l,p,v,M){const L=pn(),H=function yo(n,r,o,l,p,v,M,L){const re=$f(n,rn(),o,p,M);return xr(3),re?r+Le(o)+l+Le(p)+v+Le(M)+L:Hi}(L,n,r,o,l,p,v,M);return H!==Hi&&qu(L,ut(),H),nm}function om(n,r,o){const l=pn();return Kl(l,kn(),r)&&vl(T(),dn(),l,n,r,l[11],o,!0),om}const Dc=void 0;var c0=["en",[["a","p"],["AM","PM"],Dc],[["AM","PM"],Dc,Dc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dc,"{1} 'at' {0}",Dc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rv(n){const o=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let sf={};function am(n){const r=function sv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=lm(r);if(o)return o;const l=r.split("-")[0];if(o=lm(l),o)return o;if("en"===l)return c0;throw new ct(701,!1)}function qf(n){return am(n)[yi.PluralCase]}function lm(n){return n in sf||(sf[n]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[n]),sf[n]}var yi=(()=>((yi=yi||{})[yi.LocaleId=0]="LocaleId",yi[yi.DayPeriodsFormat=1]="DayPeriodsFormat",yi[yi.DayPeriodsStandalone=2]="DayPeriodsStandalone",yi[yi.DaysFormat=3]="DaysFormat",yi[yi.DaysStandalone=4]="DaysStandalone",yi[yi.MonthsFormat=5]="MonthsFormat",yi[yi.MonthsStandalone=6]="MonthsStandalone",yi[yi.Eras=7]="Eras",yi[yi.FirstDayOfWeek=8]="FirstDayOfWeek",yi[yi.WeekendRange=9]="WeekendRange",yi[yi.DateFormat=10]="DateFormat",yi[yi.TimeFormat=11]="TimeFormat",yi[yi.DateTimeFormat=12]="DateTimeFormat",yi[yi.NumberSymbols=13]="NumberSymbols",yi[yi.NumberFormats=14]="NumberFormats",yi[yi.CurrencyCode=15]="CurrencyCode",yi[yi.CurrencySymbol=16]="CurrencySymbol",yi[yi.CurrencyName=17]="CurrencyName",yi[yi.Currencies=18]="Currencies",yi[yi.Directionality=19]="Directionality",yi[yi.PluralCase=20]="PluralCase",yi[yi.ExtraData=21]="ExtraData",yi))();const U_=["zero","one","two","few","many"],bh="en-US",Lp={marker:"element"},Bp={marker:"ICU"};var Ma=(()=>((Ma=Ma||{})[Ma.SHIFT=2]="SHIFT",Ma[Ma.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ma[Ma.COMMENT=2]="COMMENT",Ma))();let cm=bh;function j_(n){(function Ze(n,r){null==n&&ze(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(cm=n.toLowerCase().replace(/_/g,"-"))}function H_(n,r,o){const l=r.insertBeforeIndex,p=Array.isArray(l)?l[0]:l;return null===p?Te(n,0,o):Jr(o[p])}function i(n,r,o,l,p){const v=r.insertBeforeIndex;if(Array.isArray(v)){let M=l,L=null;if(3&r.type||(L=M,M=p),null!==M&&0==(2&r.flags))for(let H=1;H<v.length;H++)Pl(n,M,o[v[H]],L,!1)}}function e(n,r){if(n.push(r),n.length>1)for(let o=n.length-2;o>=0;o--){const l=n[o];t(l)||a(l,r)&&null===d(l)&&_(l,r.index)}}function t(n){return!(64&n.type)}function a(n,r){return t(r)||n.index>r.index}function d(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function _(n,r){const o=n.insertBeforeIndex;Array.isArray(o)?o[0]=r:(ln(H_,i),n.insertBeforeIndex=r)}function D(n,r){const o=n.data[r];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function de(n,r,o){const l=Nf(n,o,64,null,null);return e(r,l),l}function ke(n,r){const o=r[n.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function _t(n){return n>>>17}function Zt(n){return(131070&n)>>>1}let lr=0,Fr=0;function da(n,r,o,l){const p=o[11];let M,v=null;for(let L=0;L<r.length;L++){const H=r[L];if("string"==typeof H){const re=r[++L];null===o[re]&&(o[re]=_o(p,H))}else if("number"==typeof H)switch(1&H){case 0:const re=_t(H);let Ne,Ge;if(null===v&&(v=re,M=O(p,l)),re===v?(Ne=l,Ge=M):(Ne=null,Ge=Jr(o[re])),null!==Ge){const tr=Zt(H);Pl(p,Ge,o[tr],Ne,!1);const ei=D(n,tr);if(null!==ei&&"object"==typeof ei){const Di=ke(ei,o);null!==Di&&da(n,ei.create[Di],o,o[ei.anchorIdx])}}break;case 1:const Yt=r[++L],In=r[++L];Rf(p,Ki(H>>>1,o),null,null,Yt,In,null)}else switch(H){case Bp:const re=r[++L],Ne=r[++L];null===o[Ne]&&Ko(o[Ne]=Ol(p,re),o);break;case Lp:const Ge=r[++L],kt=r[++L];null===o[kt]&&Ko(o[kt]=ks(p,Ge,null),o)}}}function Gs(n,r,o,l,p){for(let v=0;v<o.length;v++){const M=o[v],L=o[++v];if(M&p){let H="";for(let re=v+1;re<=v+L;re++){const Ne=o[re];if("string"==typeof Ne)H+=Ne;else if("number"==typeof Ne)if(Ne<0)H+=Le(r[l-Ne]);else{const Ge=Ne>>>2;switch(3&Ne){case 1:const kt=o[++re],Yt=o[++re],In=n.data[Ge];"string"==typeof In?Rf(r[11],r[Ge],null,In,kt,H,Yt):vl(n,In,r,kt,H,r[11],Yt,!1);break;case 0:const tr=r[Ge];null!==tr&&Ao(r[11],tr,H);break;case 2:dl(n,D(n,Ge),r,H);break;case 3:lo(n,D(n,Ge),l,r)}}}}else{const H=o[v+1];if(H>0&&3==(3&H)){const Ne=D(n,H>>>2);r[Ne.currentCaseLViewIndex]<0&&lo(n,Ne,l,r)}}v+=L}}function lo(n,r,o,l){let p=l[r.currentCaseLViewIndex];if(null!==p){let v=lr;p<0&&(p=l[r.currentCaseLViewIndex]=~p,v=-1),Gs(n,l,r.update[p],o,v)}}function dl(n,r,o,l){const p=function sw(n,r){let o=n.cases.indexOf(r);if(-1===o)switch(n.type){case 1:{const l=function V_(n,r){const o=qf(r)(parseInt(n,10)),l=U_[o];return void 0!==l?l:"other"}(r,function h0(){return cm}());o=n.cases.indexOf(l),-1===o&&"other"!==l&&(o=n.cases.indexOf("other"));break}case 0:o=n.cases.indexOf("other")}return-1===o?null:o}(r,l);if(ke(r,o)!==p&&(af(n,r,o),o[r.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const M=o[r.anchorIdx];M&&da(n,r.create[p],o,M)}}function af(n,r,o){let l=ke(r,o);if(null!==l){const p=r.remove[l];for(let v=0;v<p.length;v++){const M=p[v];if(M>0){const L=Ki(M,o);null!==L&&as(o[11],L)}else af(n,D(n,~M),o)}}}function ow(){const n=[];let o,l,r=-1;function v(L,H){r=0;const re=ke(L,H);l=null!==re?L.remove[re]:_n}function M(){if(r<l.length){const L=l[r++];return L>0?o[L]:(n.push(r,l),v(o[1].data[~L],o),M())}return 0===n.length?null:(l=n.pop(),r=n.pop(),M())}return function p(L,H){for(o=H;n.length;)n.pop();return v(L.value,H),M}}const G_=/\ufffd(\d+):?\d*\ufffd/gi,lw=/\ufffd(\d+)\ufffd/,p0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cw=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,uw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dw=/\uE500/g;function g0(n,r,o,l,p,v,M){const L=Bh(n,l,1,null);let H=L<<Ma.SHIFT,re=zt();r===re&&(re=null),null===re&&(H|=Ma.APPEND_EAGERLY),M&&(H|=Ma.COMMENT,function Zr(n){void 0===Cr&&(Cr=n())}(ow)),p.push(H,null===v?"":v);const Ne=Nf(n,L,M?32:1,null===v?"":v,null);e(o,Ne);const Ge=Ne.index;return jn(Ne,!1),null!==re&&r!==re&&function ne(n,r){let o=n.insertBeforeIndex;null===o?(ln(H_,i),o=n.insertBeforeIndex=[null,r]):(function ye(n,r,o){n!=r&&ze(o,n,r,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(r))}(re,Ge),Ne}function pw(n,r,o,l,p,v,M){const L=M.match(G_),H=g0(n,r,o,v,l,L?null:M,!1);L&&dm(p,M,H.index,null,0,null)}function dm(n,r,o,l,p,v){const M=n.length,L=M+1;n.push(null,null);const H=M+2,re=r.split(G_);let Ne=0;for(let Ge=0;Ge<re.length;Ge++){const kt=re[Ge];if(1&Ge){const Yt=p+parseInt(kt,10);n.push(-1-Yt),Ne|=m0(Yt)}else""!==kt&&n.push(kt)}return n.push(o<<2|(l?1:0)),l&&n.push(l,v),n[M]=Ne,n[L]=n.length-H,Ne}function m0(n){return 1<<Math.min(n,31)}function _0(n){let r,v,o="",l=0,p=!1;for(;null!==(r=cw.exec(n));)p?r[0]===`\ufffd/*${v}\ufffd`&&(l=r.index,p=!1):(o+=n.substring(l,r.index+r[0].length),v=r[1],p=!0);return o+=n.slice(l),o}function y0(n,r,o,l,p,v){let M=0;const L={type:p.type,currentCaseLViewIndex:Bh(n,r,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function Cw(n,r,o){n.push(m0(r.mainBinding),2,-1-r.mainBinding,o<<2|2)})(o,p,v),function $(n,r,o){const l=n.data[r];null===l?n.data[r]=o:l.value=o}(n,v,L);const H=p.values;for(let re=0;re<H.length;re++){const Ne=H[re],Ge=[];for(let kt=0;kt<Ne.length;kt++){const Yt=Ne[kt];if("string"!=typeof Yt){const In=Ge.push(Yt)-1;Ne[kt]=`\x3c!--\ufffd${In}\ufffd--\x3e`}}M=bw(n,L,r,o,l,p.cases[re],Ne.join(""),Ge)|M}M&&function Ew(n,r,o){n.push(r,1,o<<2|3)}(o,M,v)}function vw(n){const r=[],o=[];let l=1,p=0;const v=av(n=n.replace(p0,function(M,L,H){return l="select"===H?0:1,p=parseInt(L.slice(1),10),""}));for(let M=0;M<v.length;){let L=v[M++].trim();1===l&&(L=L.replace(/\s*(?:=)?(\w+)\s*/,"$1")),L.length&&r.push(L);const H=av(v[M++]);r.length>o.length&&o.push(H)}return{type:l,mainBinding:p,cases:r,values:o}}function av(n){if(!n)return[];let r=0;const o=[],l=[],p=/[{}]/g;let v;for(p.lastIndex=0;v=p.exec(n);){const L=v.index;if("}"==v[0]){if(o.pop(),0==o.length){const H=n.substring(r,L);p0.test(H)?l.push(vw(H)):l.push(H),r=L+1}}else{if(0==o.length){const H=n.substring(r,L);l.push(H),r=L+1}o.push("{")}}const M=n.substring(r);return l.push(M),l}function bw(n,r,o,l,p,v,M,L){const H=[],re=[],Ne=[];r.cases.push(v),r.create.push(H),r.remove.push(re),r.update.push(Ne);const kt=function sl(n){const r=new ld(n);return function cd(){try{return!!(new window.DOMParser).parseFromString(gc(""),"text/html")}catch{return!1}}()?new Mc(r):r}(function Jd(){return void 0!==Ru?Ru:typeof document<"u"?document:void 0}()).getInertBodyElement(M),Yt=function Xc(n){return"content"in n&&function fu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(kt)||kt;return Yt?v0(n,r,o,l,H,re,Ne,Yt,p,L,0):0}function v0(n,r,o,l,p,v,M,L,H,re,Ne){let Ge=0,kt=L.firstChild;for(;kt;){const Yt=Bh(n,o,1,null);switch(kt.nodeType){case Node.ELEMENT_NODE:const In=kt,tr=In.tagName.toLowerCase();if(xa.hasOwnProperty(tr)){lv(p,Lp,tr,H,Yt),n.data[Yt]=tr;const $n=In.attributes;for(let Ri=0;Ri<$n.length;Ri++){const vo=$n.item(Ri),Oa=vo.name.toLowerCase();vo.value.match(G_)?Ho.hasOwnProperty(Oa)&&dm(M,vo.value,Yt,vo.name,0,_c[Oa]?za:null):Dw(p,Yt,vo)}Ge=v0(n,r,o,l,p,v,M,kt,Yt,re,Ne+1)|Ge,b0(v,Yt,Ne)}break;case Node.TEXT_NODE:const mr=kt.textContent||"",ei=mr.match(G_);lv(p,null,ei?"":mr,H,Yt),b0(v,Yt,Ne),ei&&(Ge=dm(M,mr,Yt,null,0,null)|Ge);break;case Node.COMMENT_NODE:const Di=lw.exec(kt.textContent||"");if(Di){const Ri=re[parseInt(Di[1],10)];lv(p,Bp,"",H,Yt),y0(n,o,l,H,Ri,Yt),ww(v,Yt,Ne)}}kt=kt.nextSibling}return Ge}function b0(n,r,o){0===o&&n.push(r)}function ww(n,r,o){0===o&&(n.push(~r),n.push(r))}function lv(n,r,o,l,p){null!==r&&n.push(r),n.push(o,p,function Tn(n,r,o){return n|r<<17|o<<1}(0,l,p))}function Dw(n,r,o){n.push(r<<1|1,o.name,o.value)}function C0(n,r,o=-1){const l=T(),p=pn(),v=22+n,M=qi(l.consts,r),L=zt();l.firstCreatePass&&function fw(n,r,o,l,p,v){const M=zt(),L=[],H=[],re=[[]];p=function yw(n,r){if(function _w(n){return-1===n}(r))return _0(n);{const o=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,l=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return _0(n.substring(o,l))}}(p,v);const Ne=function hw(n){return n.replace(dw," ")}(p).split(uw);for(let Ge=0;Ge<Ne.length;Ge++){let kt=Ne[Ge];if(0==(1&Ge)){const Yt=av(kt);for(let In=0;In<Yt.length;In++){let tr=Yt[In];if(0==(1&In)){const mr=tr;""!==mr&&pw(n,M,re[0],L,H,o,mr)}else{const mr=tr;if("object"!=typeof mr)throw new Error(`Unable to parse ICU expression in "${p}" message.`);y0(n,o,H,r,mr,g0(n,M,re[0],o,L,"",!0).index)}}}else{const Yt=47===kt.charCodeAt(0),tr=(kt.charCodeAt(Yt?1:0),22+Number.parseInt(kt.substring(Yt?2:1)));if(Yt)re.shift(),jn(zt(),!1);else{const mr=de(n,re[0],tr);re.unshift([]),jn(mr,!0)}}}n.data[l]={create:L,update:H}}(l,null===L?0:L.index,p,v,M,o);const H=l.data[v],Ne=md(l,L===p[6]?null:L,p);(function ao(n,r,o,l){const p=n[11];for(let v=0;v<r.length;v++){const M=r[v++],L=r[v],H=(M&Ma.COMMENT)===Ma.COMMENT,re=(M&Ma.APPEND_EAGERLY)===Ma.APPEND_EAGERLY,Ne=M>>>Ma.SHIFT;let Ge=n[Ne];null===Ge&&(Ge=n[Ne]=H?p.createComment(L):_o(p,L)),re&&null!==o&&Pl(p,o,Ge,l,!1)}})(p,H.create,Ne,L&&8&L.type?p[L.index]:null),Bi(!0)}function D0(n,r,o){C0(n,r,o),function E0(){Bi(!1)}()}function cv(n){return function $s(n){n&&(lr|=1<<Math.min(Fr,31)),Fr++}(Kl(pn(),kn(),n)),cv}function I0(n){!function No(n,r,o){if(Fr>0){const l=n.data[o];Gs(n,r,Array.isArray(l)?l:l.update,rn()-Fr-1,lr)}lr=0,Fr=0}(T(),pn(),n+22)}function uv(n,r,o,l,p){if(n=le(n),Array.isArray(n))for(let v=0;v<n.length;v++)uv(n[v],r,o,l,p);else{const v=T(),M=pn();let L=yc(n)?n:le(n.provide),H=Fa(n);const re=Y(),Ne=1048575&re.providerIndexes,Ge=re.directiveStart,kt=re.providerIndexes>>20;if(yc(n)||!n.multi){const Yt=new jo(H,p,Bd),In=hv(L,r,p?Ne:Ne+kt,Ge);-1===In?(Zo(Xa(re,M),v,L),dv(v,n,r.length),r.push(L),re.directiveStart++,re.directiveEnd++,p&&(re.providerIndexes+=1048576),o.push(Yt),M.push(Yt)):(o[In]=Yt,M[In]=Yt)}else{const Yt=hv(L,r,Ne+kt,Ge),In=hv(L,r,Ne,Ne+kt),tr=Yt>=0&&o[Yt],mr=In>=0&&o[In];if(p&&!mr||!p&&!tr){Zo(Xa(re,M),v,L);const ei=function Bw(n,r,o,l,p){const v=new jo(n,o,Bd);return v.multi=[],v.index=r,v.componentProviders=0,T0(v,p,l&&!o),v}(p?Lw:Fw,o.length,p,l,H);!p&&mr&&(o[In].providerFactory=ei),dv(v,n,r.length,0),r.push(L),re.directiveStart++,re.directiveEnd++,p&&(re.providerIndexes+=1048576),o.push(ei),M.push(ei)}else dv(v,n,Yt>-1?Yt:In,T0(o[p?In:Yt],H,!p&&l));!p&&l&&mr&&o[In].componentProviders++}}}function dv(n,r,o,l){const p=yc(r),v=function vc(n){return!!n.useClass}(r);if(p||v){const H=(v?le(r.useClass):r).prototype.ngOnDestroy;if(H){const re=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const Ne=re.indexOf(o);-1===Ne?re.push(o,[l,H]):re[Ne+1].push(l,H)}else re.push(o,H)}}}function T0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function hv(n,r,o,l){for(let p=o;p<l;p++)if(r[p]===n)return p;return-1}function Fw(n,r,o,l){return fv(this.multi,[])}function Lw(n,r,o,l){const p=this.multi;let v;if(this.providerFactory){const M=this.providerFactory.componentProviders,L=ii(o,o[1],this.providerFactory.index,l);v=L.slice(0,M),fv(p,v);for(let H=M;H<L.length;H++)v.push(L[H])}else v=[],fv(p,v);return v}function fv(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function S0(n,r=[]){return o=>{o.providersResolver=(l,p)=>function kw(n,r,o){const l=T();if(l.firstCreatePass){const p=Xt(n);uv(o,l.data,l.blueprint,p,!0),uv(r,l.data,l.blueprint,p,!1)}}(l,p?p(n):n,r)}}class $p{}class A0{}function $w(n,r){return new N0(n,r??null)}class N0 extends $p{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lf(this);const l=ni(r);this._bootstrapComponents=te(l.bootstrap),this._r3Injector=Xp(r,o,[{provide:$p,useValue:this},{provide:b,useValue:this.componentFactoryResolver}],pe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class pv extends A0{constructor(r){super(),this.moduleType=r}create(r){return new N0(this.moduleType,r)}}class Uw extends $p{constructor(r,o,l){super(),this.componentFactoryResolver=new Lf(this),this.instance=null;const p=new tu([...r,{provide:$p,useValue:this},{provide:b,useValue:this.componentFactoryResolver}],o||Lc(),l,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function gv(n,r,o=null){return new Uw(n,r,o).injector}let Vw=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=Ya(0,o.type),p=l.length>0?gv([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,p)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Lt({token:n,providedIn:"environment",factory:()=>new n(We(ic))}),n})();function x0(n){n.getStandaloneInjector=r=>r.get(Vw).getOrCreateStandaloneInjector(n)}function L0(n,r,o){const l=ht()+n,p=pn();return p[l]===Hi?cl(p,l,o?r.call(o):r()):function Wh(n,r){return n[r]}(p,l)}function B0(n,r,o,l){return V0(pn(),ht(),n,r,o,l)}function $0(n,r,o,l,p){return function j0(n,r,o,l,p,v,M){const L=r+o;return Zu(n,L,p,v)?cl(n,L+2,M?l.call(M,p,v):l(p,v)):hm(n,L+2)}(pn(),ht(),n,r,o,l,p)}function U0(n,r,o,l,p,v){return H0(pn(),ht(),n,r,o,l,p,v)}function hm(n,r){const o=n[r];return o===Hi?void 0:o}function V0(n,r,o,l,p,v){const M=r+o;return Kl(n,M,p)?cl(n,M+1,v?l.call(v,p):l(p)):hm(n,M+1)}function H0(n,r,o,l,p,v,M,L){const H=r+o;return $f(n,H,p,v,M)?cl(n,H+3,L?l.call(L,p,v,M):l(p,v,M)):hm(n,H+3)}function z0(n,r){const o=T();let l;const p=n+22;o.firstCreatePass?(l=function nC(n,r){if(r)for(let o=r.length-1;o>=0;o--){const l=r[o];if(n===l.name)return l}}(r,o.pipeRegistry),o.data[p]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(p,l.onDestroy)):l=o.data[p];const v=l.factory||(l.factory=ps(l.type)),M=Hn(Bd);try{const L=Ja(!1),H=v();return Ja(L),function Qu(n,r,o,l){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=l}(o,pn(),p,H),H}finally{Hn(M)}}function Y0(n,r,o){const l=n+22,p=pn(),v=us(p,l);return fm(p,l)?V0(p,ht(),r,v.transform,o,v):v.transform(o)}function K0(n,r,o,l,p){const v=n+22,M=pn(),L=us(M,v);return fm(M,v)?H0(M,ht(),r,L.transform,o,l,p,L):L.transform(o,l,p)}function fm(n,r){return n[1].data[r].pure}function _v(n){return r=>{setTimeout(n,void 0,r)}}const Zd=class oC extends s.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,l){let p=r,v=o||(()=>null),M=l;if(r&&"object"==typeof r){const H=r;p=H.next?.bind(H),v=H.error?.bind(H),M=H.complete?.bind(H)}this.__isAsync&&(v=_v(v),p&&(p=_v(p)),M&&(M=_v(M)));const L=super.subscribe({next:p,error:v,complete:M});return r instanceof Q.w&&r.add(L),L}};function aC(){return this._results[Ji()]()}class yv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ji(),l=yv.prototype;l[o]||(l[o]=aC)}get changes(){return this._changes||(this._changes=new Zd)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const l=this;l.dirty=!1;const p=io(r);(this._changesDetected=!function Ul(n,r,o){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let p=n[l],v=r[l];if(o&&(p=o(p),v=o(v)),v!==p)return!1}return!0}(l._results,p,o))&&(l._results=p,l.length=p.length,l.last=p[this.length-1],l.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pm=(()=>{class n{}return n.__NG_ELEMENT_ID__=uC,n})();const lC=pm,cC=class extends lC{constructor(r,o,l){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(r,o){const l=this._declarationTContainer.tViews,p=Lh(this._declarationLView,l,r,16,null,l.declTNode,null,null,null,null,o||null);p[17]=this._declarationLView[this._declarationTContainer.index];const M=this._declarationLView[19];return null!==M&&(p[19]=M.createEmbeddedView(l)),xf(l,p,r),new dh(p)}};function uC(){return W_(Y(),pn())}function W_(n,r){return 4&n.type?new cC(r,n,ie(n,r)):null}let z_=(()=>{class n{}return n.__NG_ELEMENT_ID__=dC,n})();function dC(){return Q0(Y(),pn())}const hC=z_,q0=class extends hC{constructor(r,o,l){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=l}get element(){return ie(this._hostTNode,this._hostLView)}get injector(){return new el(this._hostTNode,this._hostLView)}get parentInjector(){const r=Os(this._hostTNode,this._hostLView);if(au(r)){const o=qo(r,this._hostLView),l=mo(r);return new el(o[1].data[l+8],o)}return new el(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=Z0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,l){let p,v;"number"==typeof l?p=l:null!=l&&(p=l.index,v=l.injector);const M=r.createEmbeddedView(o||{},v);return this.insert(M,p),M}createComponent(r,o,l,p,v){const M=r&&!function va(n){return"function"==typeof n}(r);let L;if(M)L=o;else{const Ge=o||{};L=Ge.index,l=Ge.injector,p=Ge.projectableNodes,v=Ge.environmentInjector||Ge.ngModuleRef}const H=M?r:new hh(Wn(r)),re=l||this.parentInjector;if(!v&&null==H.ngModule){const kt=(M?re:this.parentInjector).get(ic,null);kt&&(v=kt)}const Ne=H.create(re,p,void 0,v);return this.insert(Ne.hostView,L),Ne}insert(r,o){const l=r._lView,p=l[1];if(function Mi(n){return $e(n[3])}(l)){const Ne=this.indexOf(r);if(-1!==Ne)this.detach(Ne);else{const Ge=l[3],kt=new q0(Ge,Ge[6],Ge[3]);kt.detach(kt.indexOf(r))}}const v=this._adjustIndex(o),M=this._lContainer;!function ac(n,r,o,l){const p=10+l,v=o.length;l>0&&(o[p-1][4]=r),l<v-10?(r[4]=o[p],Qt(o,10+l,r)):(o.push(r),r[4]=null),r[3]=o;const M=r[17];null!==M&&o!==M&&function zl(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(M,r);const L=r[19];null!==L&&L.insertView(n),r[2]|=64}(p,l,M,v);const L=Yr(v,M),H=l[11],re=O(H,M[7]);return null!==re&&function Cc(n,r,o,l,p,v){l[0]=p,l[6]=r,Ts(n,l,o,1,p,v)}(p,M[6],H,l,re,L),r.attachToViewContainerRef(),Qt(vv(M),v,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=Z0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),l=lc(this._lContainer,o);l&&(Aa(vv(this._lContainer),o),Ku(l[1],l))}detach(r){const o=this._adjustIndex(r,-1),l=lc(this._lContainer,o);return l&&null!=Aa(vv(this._lContainer),o)?new dh(l):null}_adjustIndex(r,o=0){return r??this.length+o}};function Z0(n){return n[8]}function vv(n){return n[8]||(n[8]=[])}function Q0(n,r){let o;const l=r[n.index];if($e(l))o=l;else{let p;if(8&n.type)p=Jr(l);else{const v=r[11];p=v.createComment("");const M=Ls(n,r);Pl(v,O(v,M),p,function V(n,r){return n.nextSibling(r)}(v,M),!1)}r[n.index]=o=Tp(l,r,p,n),kf(r,o)}return new q0(o,n,r)}class bv{constructor(r){this.queryList=r,this.matches=null}clone(){return new bv(this.queryList)}setDirty(){this.queryList.setDirty()}}class wv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const l=null!==r.contentQueries?r.contentQueries[0]:o.length,p=[];for(let v=0;v<l;v++){const M=o.getByIndex(v);p.push(this.queries[M.indexInDeclarationView].clone())}return new wv(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==ob(r,o).matches&&this.queries[o].setDirty()}}class J0{constructor(r,o,l=null){this.predicate=r,this.flags=o,this.read=l}}class Cv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let l=0;l<this.length;l++){const p=null!==o?o.length:0,v=this.getByIndex(l).embeddedTView(r,p);v&&(v.indexInDeclarationView=l,null!==o?o.push(v):o=[v])}return null!==o?new Cv(o):null}template(r,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ev{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new Ev(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let p=0;p<l.length;p++){const v=l[p];this.matchTNodeWithReadOption(r,o,gC(o,v)),this.matchTNodeWithReadOption(r,o,Nn(o,r,v,!1,!1))}else l===pm?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Nn(o,r,l,!1,!1))}matchTNodeWithReadOption(r,o,l){if(null!==l){const p=this.metadata.read;if(null!==p)if(p===Oe||p===z_||p===pm&&4&o.type)this.addMatch(o.index,-2);else{const v=Nn(o,r,p,!1,!1);null!==v&&this.addMatch(o.index,v)}else this.addMatch(o.index,l)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function gC(n,r){const o=n.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===r)return o[l+1];return null}function _C(n,r,o,l){return-1===o?function mC(n,r){return 11&n.type?ie(n,r):4&n.type?W_(n,r):null}(r,n):-2===o?function yC(n,r,o){return o===Oe?ie(r,n):o===pm?W_(r,n):o===z_?Q0(r,n):void 0}(n,r,l):ii(n,n[1],o,r)}function X0(n,r,o,l){const p=r[19].queries[l];if(null===p.matches){const v=n.data,M=o.matches,L=[];for(let H=0;H<M.length;H+=2){const re=M[H];L.push(re<0?null:_C(r,v[re],M[H+1],o.metadata.read))}p.matches=L}return p.matches}function Dv(n,r,o,l){const p=n.queries.getByIndex(o),v=p.matches;if(null!==v){const M=X0(n,r,p,o);for(let L=0;L<v.length;L+=2){const H=v[L];if(H>0)l.push(M[L/2]);else{const re=v[L+1],Ne=r[-H];for(let Ge=10;Ge<Ne.length;Ge++){const kt=Ne[Ge];kt[17]===kt[3]&&Dv(kt[1],kt,re,l)}if(null!==Ne[9]){const Ge=Ne[9];for(let kt=0;kt<Ge.length;kt++){const Yt=Ge[kt];Dv(Yt[1],Yt,re,l)}}}}}return l}function eb(n){const r=pn(),o=T(),l=pi();Zs(l+1);const p=ob(o,l);if(n.dirty&&function Ks(n){return 4==(4&n[2])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const v=p.crossesNgTemplate?Dv(o,r,l,[]):X0(o,r,p,l);n.reset(v,Pt),n.notifyOnChanges()}return!0}return!1}function tb(n,r,o){const l=T();l.firstCreatePass&&(sb(l,new J0(n,r,o),-1),2==(2&r)&&(l.staticViewQueries=!0)),ib(l,pn(),r)}function nb(n,r,o,l){const p=T();if(p.firstCreatePass){const v=Y();sb(p,new J0(r,o,l),v.index),function bC(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(p,n),2==(2&o)&&(p.staticContentQueries=!0)}ib(p,pn(),o)}function rb(){return function vC(n,r){return n[19].queries[r].queryList}(pn(),pi())}function ib(n,r,o){const l=new yv(4==(4&o));wp(n,r,l,l.destroy),null===r[19]&&(r[19]=new wv),r[19].queries.push(new bv(l))}function sb(n,r,o){null===n.queries&&(n.queries=new Cv),n.queries.track(new Ev(r,o))}function ob(n,r){return n.queries.getByIndex(r)}function ab(n,r){return W_(n,r)}function K_(...n){}const Tb=new ds("Application Initializer");let q_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=K_,this.reject=K_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,p)=>{this.resolve=l,this.reject=p})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const v=this.appInits[p]();if(Gf(v))o.push(v);else if(d_(v)){const M=new Promise((L,H)=>{v.subscribe({complete:L,error:H})});o.push(M)}}Promise.all(o).then(()=>{l()}).catch(p=>{this.reject(p)}),0===o.length&&l(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(We(Tb,8))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sb=new ds("AppId",{providedIn:"root",factory:function Ab(){return`${Nv()}${Nv()}${Nv()}`}});function Nv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nb=new ds("Platform Initializer"),UC=new ds("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xb=new ds("appBootstrapListener");let VC=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Z_=new ds("LocaleId",{providedIn:"root",factory:()=>en(Z_,hn.Optional|hn.SkipSelf)||function jC(){return typeof $localize<"u"&&$localize.locale||bh}()}),HC=new ds("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class GC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let WC=(()=>{class n{compileModuleSync(o){return new pv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),v=te(ni(o).declarations).reduce((M,L)=>{const H=Wn(L);return H&&M.push(new hh(H)),M},[]);return new GC(l,v)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KC=(()=>Promise.resolve(0))();function xv(n){typeof Zone>"u"?KC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class nd{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zd(!1),this.onMicrotaskEmpty=new Zd(!1),this.onStable=new Zd(!1),this.onError=new Zd(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const v=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new v("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!l&&o,p.shouldCoalesceRunChangeDetection=l,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function qC(){let n=Ut.requestAnimationFrame,r=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function JC(n){const r=()=>{!function QC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ut,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ov(n),n.isCheckStableRunning=!0,Mv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ov(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,p,v,M,L)=>{try{return Rb(n),o.invokeTask(p,v,M,L)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&r(),Pb(n)}},onInvoke:(o,l,p,v,M,L,H)=>{try{return Rb(n),o.invoke(p,v,M,L,H)}finally{n.shouldCoalesceRunChangeDetection&&r(),Pb(n)}},onHasTask:(o,l,p,v)=>{o.hasTask(p,v),l===p&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,Ov(n),Mv(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(o,l,p,v)=>(o.handleError(p,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nd.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(nd.isInAngularZone())throw new ct(909,!1)}run(r,o,l){return this._inner.run(r,o,l)}runTask(r,o,l,p){const v=this._inner,M=v.scheduleEventTask("NgZoneEvent: "+p,r,ZC,K_,K_);try{return v.runTask(M,o,l)}finally{v.cancelTask(M)}}runGuarded(r,o,l){return this._inner.runGuarded(r,o,l)}runOutsideAngular(r){return this._outer.run(r)}}const ZC={};function Mv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ov(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Rb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Pb(n){n._nesting--,Mv(n)}class XC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zd,this.onMicrotaskEmpty=new Zd,this.onStable=new Zd,this.onError=new Zd}run(r,o,l){return r.apply(o,l)}runGuarded(r,o,l){return r.apply(o,l)}runOutsideAngular(r){return r()}runTask(r,o,l,p){return r.apply(o,l)}}const kb=new ds(""),Fb=new ds("");let Rv,eE=(()=>{class n{constructor(o,l,p){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rv||(function tE(n){Rv=n}(p),p.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nd.assertNotInAngularZone(),xv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,p){let v=-1;l&&l>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(M=>M.timeoutId!==v),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:v,updateCb:p})}whenStable(o,l,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,p){return[]}}return n.\u0275fac=function(o){return new(o||n)(We(nd),We(Lb),We(Fb))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac}),n})(),Lb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return Rv?.findTestabilityInTree(this,o,l)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),lf=null;const Bb=new ds("AllowMultipleToken"),Pv=new ds("PlatformDestroyListeners");class iE{constructor(r,o){this.name=r,this.token=o}}function Ub(n,r,o=[]){const l=`Platform: ${r}`,p=new ds(l);return(v=[])=>{let M=kv();if(!M||M.injector.get(Bb,!1)){const L=[...o,...v,{provide:p,useValue:!0}];n?n(L):function sE(n){if(lf&&!lf.get(Bb,!1))throw new ct(400,!1);lf=n;const r=n.get(jb);(function $b(n){const r=n.get(Nb,null);r&&r.forEach(o=>o())})(n)}(function Vb(n=[],r){return _d.create({name:r,providers:[{provide:rc,useValue:"platform"},{provide:Pv,useValue:new Set([()=>lf=null])},...n]})}(L,l))}return function aE(n){const r=kv();if(!r)throw new ct(401,!1);return r}()}}function kv(){return lf?.get(jb)??null}let jb=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const p=function Gb(n,r){let o;return o="noop"===n?new XC:("zone.js"===n?void 0:n)||new nd(r),o}(l?.ngZone,function Hb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(l)),v=[{provide:nd,useValue:p}];return p.run(()=>{const M=_d.create({providers:v,parent:this.injector,name:o.moduleType.name}),L=o.create(M),H=L.injector.get(Pd,null);if(!H)throw new ct(402,!1);return p.runOutsideAngular(()=>{const re=p.onError.subscribe({next:Ne=>{H.handleError(Ne)}});L.onDestroy(()=>{J_(this._modules,L),re.unsubscribe()})}),function Wb(n,r,o){try{const l=o();return Gf(l)?l.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}(H,p,()=>{const re=L.injector.get(q_);return re.runInitializers(),re.donePromise.then(()=>(j_(L.injector.get(Z_,bh)||bh),this._moduleDoBootstrap(L),L))})})}bootstrapModule(o,l=[]){const p=zb({},l);return function nE(n,r,o){const l=new pv(o);return Promise.resolve(l)}(0,0,o).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(o){const l=o.injector.get(Q_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(p=>l.bootstrap(p));else{if(!o.instance.ngDoBootstrap)throw new ct(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ct(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(Pv,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(We(_d))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function zb(n,r){return Array.isArray(r)?r.reduce(zb,n):{...n,...r}}let Q_=(()=>{class n{constructor(o,l,p){this._zone=o,this._injector=l,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new K.y(L=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{L.next(this._stable),L.complete()})}),M=new K.y(L=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{nd.assertNotInAngularZone(),xv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,L.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{nd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{L.next(!1)}))});return()=>{H.unsubscribe(),re.unsubscribe()}});this.isStable=(0,Re.T)(v,M.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const p=o instanceof al;if(!this._injector.get(q_).done)throw!p&&Ii(o),new ct(405,false);let M;M=p?o:this._injector.get(b).resolveComponentFactory(o),this.componentTypes.push(M.componentType);const L=function rE(n){return n.isBoundToModule}(M)?void 0:this._injector.get($p),re=M.create(_d.NULL,[],l||M.selector,L),Ne=re.location.nativeElement,Ge=re.injector.get(kb,null);return Ge?.registerApplication(Ne),re.onDestroy(()=>{this.detachView(re.hostView),J_(this.components,re),Ge?.unregisterApplication(Ne)}),this._loadComponent(re),re}tick(){if(this._runningTick)throw new ct(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;J_(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(xb,[]).concat(this._bootstrapListeners).forEach(p=>p(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>J_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ct(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(We(nd),We(ic),We(Pd))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J_(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let Kb=!0,qb=!1;function cE(){return qb=!0,Kb}function uE(){if(qb)throw new Error("Cannot enable prod mode after platform setup.");Kb=!1}let dE=(()=>{class n{}return n.__NG_ELEMENT_ID__=hE,n})();function hE(n){return function fE(n,r,o){if(Rt(n)&&!o){const l=ai(n.index,r);return new dh(l,l)}return 47&n.type?new dh(r[16],r):null}(Y(),pn(),16==(16&n))}class Xb{constructor(){}supports(r){return Gh(r)}create(r){return new vE(r)}}const yE=(n,r)=>r;class vE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||yE}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,l=this._removalsHead,p=0,v=null;for(;o||l;){const M=!l||o&&o.currentIndex<tw(l,p,v)?o:l,L=tw(M,p,v),H=M.currentIndex;if(M===l)p--,l=l._nextRemoved;else if(o=o._next,null==M.previousIndex)p++;else{v||(v=[]);const re=L-p,Ne=H-p;if(re!=Ne){for(let kt=0;kt<re;kt++){const Yt=kt<v.length?v[kt]:v[kt]=0,In=Yt+kt;Ne<=In&&In<re&&(v[kt]=Yt+1)}v[M.previousIndex]=Ne-re}}L!==H&&r(M,L,H)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Gh(r))throw new ct(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,v,M,o=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let L=0;L<this.length;L++)v=r[L],M=this._trackByFn(L,v),null!==o&&Object.is(o.trackById,M)?(l&&(o=this._verifyReinsertion(o,v,M,L)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,M,L),l=!0),o=o._next}else p=0,function Fy(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Ji()]();let l;for(;!(l=o.next()).done;)r(l.value)}}(r,L=>{M=this._trackByFn(p,L),null!==o&&Object.is(o.trackById,M)?(l&&(o=this._verifyReinsertion(o,L,M,p)),Object.is(o.item,L)||this._addIdentityChange(o,L)):(o=this._mismatch(o,L,M,p),l=!0),o=o._next,p++}),this.length=p;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,l,p){let v;return null===r?v=this._itTail:(v=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,v,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,p))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,v,p)):r=this._addAfter(new bE(o,l),v,p),r}_verifyReinsertion(r,o,l,p){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==v?r=this._reinsertAfter(v,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,v=r._nextRemoved;return null===p?this._removalsHead=v:p._nextRemoved=v,null===v?this._removalsTail=p:v._prevRemoved=p,this._insertAfter(r,o,l),this._addToMoves(r,l),r}_moveAfter(r,o,l){return this._unlink(r),this._insertAfter(r,o,l),this._addToMoves(r,l),r}_addAfter(r,o,l){return this._insertAfter(r,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,l){const p=null===o?this._itHead:o._next;return r._next=p,r._prev=o,null===p?this._itTail=r:p._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new ew),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,l=r._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ew),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bE{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const o=r._prevDup,l=r._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class ew{constructor(){this.map=new Map}put(r){const o=r.trackById;let l=this.map.get(o);l||(l=new wE,this.map.set(o,l)),l.add(r)}get(r,o){const p=this.map.get(r);return p?p.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tw(n,r,o){const l=n.previousIndex;if(null===l)return l;let p=0;return o&&l<o.length&&(p=o[l]),l+r+p}class nw{constructor(){}supports(r){return r instanceof Map||$o(r)}create(){return new CE}}class CE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||$o(r)))throw new ct(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,p)=>{if(o&&o.key===p)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const v=this._getOrCreateRecordForKey(p,l);o=this._insertBeforeOrAppend(o,v)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const l=r._prev;return o._next=r,o._prev=l,r._prev=o,l&&(l._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,o);const v=p._prev,M=p._next;return v&&(v._next=M),M&&(M._prev=v),p._next=null,p._prev=null,p}const l=new EE(r);return this._records.set(r,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(l=>o(r[l],l))}}class EE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rw(){return new Uv([new Xb])}let Uv=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const p=l.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||rw()),deps:[[n,new wa,new bs]]}}find(o){const l=this.factories.find(p=>p.supports(o));if(null!=l)return l;throw new ct(901,!1)}}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:rw}),n})();function iw(){return new Vv([new nw])}let Vv=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(l){const p=l.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||iw()),deps:[[n,new wa,new bs]]}}find(o){const l=this.factories.find(p=>p.supports(o));if(l)return l;throw new ct(901,!1)}}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:iw}),n})();const TE=Ub(null,"core",[]);let SE=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(We(Q_))},n.\u0275mod=Bn({type:n}),n.\u0275inj=Bt({}),n})();function AE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function xE(n,r){const o=Wn(n),l=r.elementInjector||Lc();return new hh(o).create(l,r.projectableNodes,r.hostElement,r.environmentInjector)}},4719:(En,vt,F)=>{"use strict";F.d(vt,{Fj:()=>Ve,qu:()=>xe,NI:()=>At,u:()=>Fs,cw:()=>ni,sg:()=>Cs,u5:()=>Uo,nD:()=>Ms,wO:()=>Pi,JU:()=>le,a5:()=>hn,JJ:()=>gr,JL:()=>Er,F:()=>be,On:()=>wt,YN:()=>ti,c5:()=>qr,UX:()=>pn,Q7:()=>Ks,EJ:()=>cs,kI:()=>Xe,_Y:()=>Dt,Kr:()=>jr});var s=F(4650),Q=F(6895),K=F(5254),Re=F(6498),oe=F(6688),ue=F(4850),me=F(7830);function De(E,C){return new Re.y(S=>{const j=E.length;if(0===j)return void S.complete();const Me=new Array(j);let ht=0,rn=0;for(let Dn=0;Dn<j;Dn++){const kn=(0,K.D)(E[Dn]);let xr=!1;S.add(kn.subscribe({next:ri=>{xr||(xr=!0,rn++),Me[Dn]=ri},error:ri=>S.error(ri),complete:()=>{ht++,(ht===j||!xr)&&(rn===j&&S.next(C?C.reduce((ri,Bi,Vi)=>(ri[Bi]=Me[Vi],ri),{}):Me),S.complete())}}))}})}let ce=(()=>{class E{constructor(S,j){this._renderer=S,this._elementRef=j,this.onChange=Me=>{},this.onTouched=()=>{}}setProperty(S,j){this._renderer.setProperty(this._elementRef.nativeElement,S,j)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return E.\u0275fac=function(S){return new(S||E)(s.Y36(s.Qsj),s.Y36(s.SBq))},E.\u0275dir=s.lG2({type:E}),E})(),se=(()=>{class E extends ce{}return E.\u0275fac=function(){let C;return function(j){return(C||(C=s.n5z(E)))(j||E)}}(),E.\u0275dir=s.lG2({type:E,features:[s.qOj]}),E})();const le=new s.OlP("NgValueAccessor"),ct={provide:le,useExisting:(0,s.Gpc)(()=>Ve),multi:!0},Le=new s.OlP("CompositionEventMode");let Ve=(()=>{class E extends ce{constructor(S,j,Me){super(S,j),this._compositionMode=Me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Be(){const E=(0,Q.q)()?(0,Q.q)().getUserAgent():"";return/android (\d+)/.test(E.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return E.\u0275fac=function(S){return new(S||E)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Le,8))},E.\u0275dir=s.lG2({type:E,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,j){1&S&&s.NdJ("input",function(ht){return j._handleInput(ht.target.value)})("blur",function(){return j.onTouched()})("compositionstart",function(){return j._compositionStart()})("compositionend",function(ht){return j._compositionEnd(ht.target.value)})},features:[s._Bn([ct]),s.qOj]}),E})();function yt(E){return null==E||("string"==typeof E||Array.isArray(E))&&0===E.length}function Mt(E){return null!=E&&"number"==typeof E.length}const nt=new s.OlP("NgValidators"),St=new s.OlP("NgAsyncValidators"),Pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xe{static min(C){return function Ee(E){return C=>{if(yt(C.value)||yt(E))return null;const S=parseFloat(C.value);return!isNaN(S)&&S<E?{min:{min:E,actual:C.value}}:null}}(C)}static max(C){return function ye(E){return C=>{if(yt(C.value)||yt(E))return null;const S=parseFloat(C.value);return!isNaN(S)&&S>E?{max:{max:E,actual:C.value}}:null}}(C)}static required(C){return Ie(C)}static requiredTrue(C){return function he(E){return!0===E.value?null:{required:!0}}(C)}static email(C){return function _e(E){return yt(E.value)||Pe.test(E.value)?null:{email:!0}}(C)}static minLength(C){return fe(C)}static maxLength(C){return Nt(C)}static pattern(C){return It(C)}static nullValidator(C){return null}static compose(C){return Lt(C)}static composeAsync(C){return Bt(C)}}function Ie(E){return yt(E.value)?{required:!0}:null}function fe(E){return C=>yt(C.value)||!Mt(C.value)?null:C.value.length<E?{minlength:{requiredLength:E,actualLength:C.value.length}}:null}function Nt(E){return C=>Mt(C.value)&&C.value.length>E?{maxlength:{requiredLength:E,actualLength:C.value.length}}:null}function It(E){if(!E)return xt;let C,S;return"string"==typeof E?(S="","^"!==E.charAt(0)&&(S+="^"),S+=E,"$"!==E.charAt(E.length-1)&&(S+="$"),C=new RegExp(S)):(S=E.toString(),C=E),j=>{if(yt(j.value))return null;const Me=j.value;return C.test(Me)?null:{pattern:{requiredPattern:S,actualValue:Me}}}}function xt(E){return null}function gt(E){return null!=E}function Ze(E){return(0,s.QGY)(E)?(0,K.D)(E):E}function ze(E){let C={};return E.forEach(S=>{C=null!=S?{...C,...S}:C}),0===Object.keys(C).length?null:C}function st(E,C){return C.map(S=>S(E))}function Tt(E){return E.map(C=>function pt(E){return!E.validate}(C)?C:S=>C.validate(S))}function Lt(E){if(!E)return null;const C=E.filter(gt);return 0==C.length?null:function(S){return ze(st(S,C))}}function Cn(E){return null!=E?Lt(Tt(E)):null}function Bt(E){if(!E)return null;const C=E.filter(gt);return 0==C.length?null:function(S){return function pe(...E){if(1===E.length){const C=E[0];if((0,oe.k)(C))return De(C,null);if((0,me.K)(C)&&Object.getPrototypeOf(C)===Object.prototype){const S=Object.keys(C);return De(S.map(j=>C[j]),S)}}if("function"==typeof E[E.length-1]){const C=E.pop();return De(E=1===E.length&&(0,oe.k)(E[0])?E[0]:E,null).pipe((0,ue.U)(S=>C(...S)))}return De(E,null)}(st(S,C).map(Ze)).pipe((0,ue.U)(ze))}}function bn(E){return null!=E?Bt(Tt(E)):null}function Sn(E,C){return null===E?[C]:Array.isArray(E)?[...E,C]:[E,C]}function we(E){return E._rawValidators}function Kn(E){return E._rawAsyncValidators}function qn(E){return E?Array.isArray(E)?E:[E]:[]}function _r(E,C){return Array.isArray(E)?E.includes(C):E===C}function fi(E,C){const S=qn(C);return qn(E).forEach(Me=>{_r(S,Me)||S.push(Me)}),S}function Ln(E,C){return qn(C).filter(S=>!_r(E,S))}class er{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(C){this._rawValidators=C||[],this._composedValidatorFn=Cn(this._rawValidators)}_setAsyncValidators(C){this._rawAsyncValidators=C||[],this._composedAsyncValidatorFn=bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(C){this._onDestroyCallbacks.push(C)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(C=>C()),this._onDestroyCallbacks=[]}reset(C){this.control&&this.control.reset(C)}hasError(C,S){return!!this.control&&this.control.hasError(C,S)}getError(C,S){return this.control?this.control.getError(C,S):null}}class tn extends er{get formDirective(){return null}get path(){return null}}class hn extends er{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yr{constructor(C){this._cd=C}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gr=(()=>{class E extends yr{constructor(S){super(S)}}return E.\u0275fac=function(S){return new(S||E)(s.Y36(hn,2))},E.\u0275dir=s.lG2({type:E,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,j){2&S&&s.ekj("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)},features:[s.qOj]}),E})(),Er=(()=>{class E extends yr{constructor(S){super(S)}}return E.\u0275fac=function(S){return new(S||E)(s.Y36(tn,10))},E.\u0275dir=s.lG2({type:E,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,j){2&S&&s.ekj("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)("ng-submitted",j.isSubmitted)},features:[s.qOj]}),E})();const at="VALID",Gt="INVALID",gn="PENDING",Bn="DISABLED";function Kr(E){return(Wn(E)?E.validators:E)||null}function Mr(E){return Array.isArray(E)?Cn(E):E||null}function Pr(E,C){return(Wn(C)?C.asyncValidators:E)||null}function pr(E){return Array.isArray(E)?bn(E):E||null}function Wn(E){return null!=E&&!Array.isArray(E)&&"object"==typeof E}function Lr(E,C,S){const j=E.controls;if(!(C?Object.keys(j):j).length)throw new s.vHH(1e3,"");if(!j[S])throw new s.vHH(1001,"")}function Br(E,C,S){E._forEachChild((j,Me)=>{if(void 0===S[Me])throw new s.vHH(1002,"")})}class Ii{constructor(C,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=C,this._rawAsyncValidators=S,this._composedValidatorFn=Mr(this._rawValidators),this._composedAsyncValidatorFn=pr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(C){this._rawValidators=this._composedValidatorFn=C}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(C){this._rawAsyncValidators=this._composedAsyncValidatorFn=C}get parent(){return this._parent}get valid(){return this.status===at}get invalid(){return this.status===Gt}get pending(){return this.status==gn}get disabled(){return this.status===Bn}get enabled(){return this.status!==Bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(C){this._rawValidators=C,this._composedValidatorFn=Mr(C)}setAsyncValidators(C){this._rawAsyncValidators=C,this._composedAsyncValidatorFn=pr(C)}addValidators(C){this.setValidators(fi(C,this._rawValidators))}addAsyncValidators(C){this.setAsyncValidators(fi(C,this._rawAsyncValidators))}removeValidators(C){this.setValidators(Ln(C,this._rawValidators))}removeAsyncValidators(C){this.setAsyncValidators(Ln(C,this._rawAsyncValidators))}hasValidator(C){return _r(this._rawValidators,C)}hasAsyncValidator(C){return _r(this._rawAsyncValidators,C)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(C={}){this.touched=!0,this._parent&&!C.onlySelf&&this._parent.markAsTouched(C)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(C=>C.markAllAsTouched())}markAsUntouched(C={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!C.onlySelf&&this._parent._updateTouched(C)}markAsDirty(C={}){this.pristine=!1,this._parent&&!C.onlySelf&&this._parent.markAsDirty(C)}markAsPristine(C={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!C.onlySelf&&this._parent._updatePristine(C)}markAsPending(C={}){this.status=gn,!1!==C.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!C.onlySelf&&this._parent.markAsPending(C)}disable(C={}){const S=this._parentMarkedDirty(C.onlySelf);this.status=Bn,this.errors=null,this._forEachChild(j=>{j.disable({...C,onlySelf:!0})}),this._updateValue(),!1!==C.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...C,skipPristineCheck:S}),this._onDisabledChange.forEach(j=>j(!0))}enable(C={}){const S=this._parentMarkedDirty(C.onlySelf);this.status=at,this._forEachChild(j=>{j.enable({...C,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:C.emitEvent}),this._updateAncestors({...C,skipPristineCheck:S}),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(C){this._parent&&!C.onlySelf&&(this._parent.updateValueAndValidity(C),C.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(C){this._parent=C}getRawValue(){return this.value}updateValueAndValidity(C={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===at||this.status===gn)&&this._runAsyncValidator(C.emitEvent)),!1!==C.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!C.onlySelf&&this._parent.updateValueAndValidity(C)}_updateTreeValidity(C={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(C)),this.updateValueAndValidity({onlySelf:!0,emitEvent:C.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bn:at}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(C){if(this.asyncValidator){this.status=gn,this._hasOwnPendingAsyncValidator=!0;const S=Ze(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(j=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(j,{emitEvent:C})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(C,S={}){this.errors=C,this._updateControlsErrors(!1!==S.emitEvent)}get(C){let S=C;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((j,Me)=>j&&j._find(Me),this)}getError(C,S){const j=S?this.get(S):this;return j&&j.errors?j.errors[C]:null}hasError(C,S){return!!this.getError(C,S)}get root(){let C=this;for(;C._parent;)C=C._parent;return C}_updateControlsErrors(C){this.status=this._calculateStatus(),C&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(C)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Bn:this.errors?Gt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gn)?gn:this._anyControlsHaveStatus(Gt)?Gt:at}_anyControlsHaveStatus(C){return this._anyControls(S=>S.status===C)}_anyControlsDirty(){return this._anyControls(C=>C.dirty)}_anyControlsTouched(){return this._anyControls(C=>C.touched)}_updatePristine(C={}){this.pristine=!this._anyControlsDirty(),this._parent&&!C.onlySelf&&this._parent._updatePristine(C)}_updateTouched(C={}){this.touched=this._anyControlsTouched(),this._parent&&!C.onlySelf&&this._parent._updateTouched(C)}_registerOnCollectionChange(C){this._onCollectionChange=C}_setUpdateStrategy(C){Wn(C)&&null!=C.updateOn&&(this._updateOn=C.updateOn)}_parentMarkedDirty(C){return!C&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(C){return null}}class ni extends Ii{constructor(C,S,j){super(Kr(S),Pr(j,S)),this.controls=C,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(C,S){return this.controls[C]?this.controls[C]:(this.controls[C]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(C,S,j={}){this.registerControl(C,S),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(C,S={}){this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),delete this.controls[C],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(C,S,j={}){this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),delete this.controls[C],S&&this.registerControl(C,S),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(C){return this.controls.hasOwnProperty(C)&&this.controls[C].enabled}setValue(C,S={}){Br(this,0,C),Object.keys(C).forEach(j=>{Lr(this,!0,j),this.controls[j].setValue(C[j],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(C,S={}){null!=C&&(Object.keys(C).forEach(j=>{const Me=this.controls[j];Me&&Me.patchValue(C[j],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(C={},S={}){this._forEachChild((j,Me)=>{j.reset(C[Me],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(C,S,j)=>(C[j]=S.getRawValue(),C))}_syncPendingControls(){let C=this._reduceChildren(!1,(S,j)=>!!j._syncPendingControls()||S);return C&&this.updateValueAndValidity({onlySelf:!0}),C}_forEachChild(C){Object.keys(this.controls).forEach(S=>{const j=this.controls[S];j&&C(j,S)})}_setUpControls(){this._forEachChild(C=>{C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(C){for(const[S,j]of Object.entries(this.controls))if(this.contains(S)&&C(j))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,j,Me)=>((j.enabled||this.disabled)&&(S[Me]=j.value),S))}_reduceChildren(C,S){let j=C;return this._forEachChild((Me,ht)=>{j=S(j,Me,ht)}),j}_allControlsDisabled(){for(const C of Object.keys(this.controls))if(this.controls[C].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(C){return this.controls.hasOwnProperty(C)?this.controls[C]:null}}class Ke extends ni{}function ve(E,C){return[...C.path,E]}function et(E,C){qt(E,C),C.valueAccessor.writeValue(E.value),E.disabled&&C.valueAccessor.setDisabledState?.(!0),function Jt(E,C){C.valueAccessor.registerOnChange(S=>{E._pendingValue=S,E._pendingChange=!0,E._pendingDirty=!0,"change"===E.updateOn&&ur(E,C)})}(E,C),function Tr(E,C){const S=(j,Me)=>{C.valueAccessor.writeValue(j),Me&&C.viewToModelUpdate(j)};E.registerOnChange(S),C._registerOnDestroy(()=>{E._unregisterOnChange(S)})}(E,C),function Gn(E,C){C.valueAccessor.registerOnTouched(()=>{E._pendingTouched=!0,"blur"===E.updateOn&&E._pendingChange&&ur(E,C),"submit"!==E.updateOn&&E.markAsTouched()})}(E,C),function Kt(E,C){if(C.valueAccessor.setDisabledState){const S=j=>{C.valueAccessor.setDisabledState(j)};E.registerOnDisabledChange(S),C._registerOnDestroy(()=>{E._unregisterOnDisabledChange(S)})}}(E,C)}function mt(E,C,S=!0){const j=()=>{};C.valueAccessor&&(C.valueAccessor.registerOnChange(j),C.valueAccessor.registerOnTouched(j)),Fn(E,C),E&&(C._invokeOnDestroyCallbacks(),E._registerOnCollectionChange(()=>{}))}function Vt(E,C){E.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(C)})}function qt(E,C){const S=we(E);null!==C.validator?E.setValidators(Sn(S,C.validator)):"function"==typeof S&&E.setValidators([S]);const j=Kn(E);null!==C.asyncValidator?E.setAsyncValidators(Sn(j,C.asyncValidator)):"function"==typeof j&&E.setAsyncValidators([j]);const Me=()=>E.updateValueAndValidity();Vt(C._rawValidators,Me),Vt(C._rawAsyncValidators,Me)}function Fn(E,C){let S=!1;if(null!==E){if(null!==C.validator){const Me=we(E);if(Array.isArray(Me)&&Me.length>0){const ht=Me.filter(rn=>rn!==C.validator);ht.length!==Me.length&&(S=!0,E.setValidators(ht))}}if(null!==C.asyncValidator){const Me=Kn(E);if(Array.isArray(Me)&&Me.length>0){const ht=Me.filter(rn=>rn!==C.asyncValidator);ht.length!==Me.length&&(S=!0,E.setAsyncValidators(ht))}}}const j=()=>{};return Vt(C._rawValidators,j),Vt(C._rawAsyncValidators,j),S}function ur(E,C){E._pendingDirty&&E.markAsDirty(),E.setValue(E._pendingValue,{emitModelToViewChange:!1}),C.viewToModelUpdate(E._pendingValue),E._pendingChange=!1}function vr(E,C){qt(E,C)}function Xi(E,C){if(!E.hasOwnProperty("model"))return!1;const S=E.model;return!!S.isFirstChange()||!Object.is(C,S.currentValue)}function Ss(E,C){E._syncPendingControls(),C.forEach(S=>{const j=S.control;"submit"===j.updateOn&&j._pendingChange&&(S.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}function ls(E,C){if(!C)return null;let S,j,Me;return Array.isArray(C),C.forEach(ht=>{ht.constructor===Ve?S=ht:function vi(E){return Object.getPrototypeOf(E.constructor)===se}(ht)?j=ht:Me=ht}),Me||j||S||null}const zi={provide:tn,useExisting:(0,s.Gpc)(()=>be)},Yi=(()=>Promise.resolve())();let be=(()=>{class E extends tn{constructor(S,j){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new ni({},Cn(S),bn(j))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){Yi.then(()=>{const j=this._findContainer(S.path);S.control=j.registerControl(S.name,S.control),et(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){Yi.then(()=>{const j=this._findContainer(S.path);j&&j.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){Yi.then(()=>{const j=this._findContainer(S.path),Me=new ni({});vr(Me,S),j.registerControl(S.name,Me),Me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){Yi.then(()=>{const j=this._findContainer(S.path);j&&j.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,j){Yi.then(()=>{this.form.get(S.path).setValue(j)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,Ss(this.form,this._directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return E.\u0275fac=function(S){return new(S||E)(s.Y36(nt,10),s.Y36(St,10))},E.\u0275dir=s.lG2({type:E,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,j){1&S&&s.NdJ("submit",function(ht){return j.onSubmit(ht)})("reset",function(){return j.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([zi]),s.qOj]}),E})();function Fe(E,C){const S=E.indexOf(C);S>-1&&E.splice(S,1)}function bt(E){return"object"==typeof E&&null!==E&&2===Object.keys(E).length&&"value"in E&&"disabled"in E}const At=class extends Ii{constructor(C=null,S,j){super(Kr(S),Pr(j,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(C),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wn(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=bt(C)?C.value:C)}setValue(C,S={}){this.value=this._pendingValue=C,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(C,S={}){this.setValue(C,S)}reset(C=this.defaultValue,S={}){this._applyFormState(C),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(C){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(C){this._onChange.push(C)}_unregisterOnChange(C){Fe(this._onChange,C)}registerOnDisabledChange(C){this._onDisabledChange.push(C)}_unregisterOnDisabledChange(C){Fe(this._onDisabledChange,C)}_forEachChild(C){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(C){bt(C)?(this.value=this._pendingValue=C.value,C.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=C}},Fi={provide:hn,useExisting:(0,s.Gpc)(()=>wt)},Ni=(()=>Promise.resolve())();let wt=(()=>{class E extends hn{constructor(S,j,Me,ht,rn){super(),this._changeDetectorRef=rn,this.control=new At,this._registered=!1,this.update=new s.vpe,this._parent=S,this._setValidators(j),this._setAsyncValidators(Me),this.valueAccessor=ls(0,ht)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const j=S.name.previousValue;this.formDirective.removeControl({name:j,path:this._getPath(j)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),Xi(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){et(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){Ni.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const j=S.isDisabled.currentValue,Me=0!==j&&(0,s.D6c)(j);Ni.then(()=>{Me&&!this.control.disabled?this.control.disable():!Me&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?ve(S,this._parent):[S]}}return E.\u0275fac=function(S){return new(S||E)(s.Y36(tn,9),s.Y36(nt,10),s.Y36(St,10),s.Y36(le,10),s.Y36(s.sBO,8))},E.\u0275dir=s.lG2({type:E,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([Fi]),s.qOj,s.TTD]}),E})(),Dt=(()=>{class E{}return E.\u0275fac=function(S){return new(S||E)},E.\u0275dir=s.lG2({type:E,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),E})(),Dr=(()=>{class E{}return E.\u0275fac=function(S){return new(S||E)},E.\u0275mod=s.oAB({type:E}),E.\u0275inj=s.cJS({}),E})();const to=new s.OlP("NgModelWithFormControlWarning"),xo={provide:tn,useExisting:(0,s.Gpc)(()=>Cs)};let Cs=(()=>{class E extends tn{constructor(S,j){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(S),this._setAsyncValidators(j)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const j=this.form.get(S.path);return et(j,S),j.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),j}getControl(S){return this.form.get(S.path)}removeControl(S){mt(S.control||null,S,!1),function ms(E,C){const S=E.indexOf(C);S>-1&&E.splice(S,1)}(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,j){this.form.get(S.path).setValue(j)}onSubmit(S){return this.submitted=!0,Ss(this.form,this.directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const j=S.control,Me=this.form.get(S.path);j!==Me&&(mt(j||null,S),(E=>E instanceof At)(Me)&&(et(Me,S),S.control=Me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const j=this.form.get(S.path);vr(j,S),j.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const j=this.form.get(S.path);j&&function Ar(E,C){return Fn(E,C)}(j,S)&&j.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qt(this.form,this),this._oldForm&&Fn(this._oldForm,this)}_checkFormPresent(){}}return E.\u0275fac=function(S){return new(S||E)(s.Y36(nt,10),s.Y36(St,10))},E.\u0275dir=s.lG2({type:E,selectors:[["","formGroup",""]],hostBindings:function(S,j){1&S&&s.NdJ("submit",function(ht){return j.onSubmit(ht)})("reset",function(){return j.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([xo]),s.qOj,s.TTD]}),E})();const Ys={provide:hn,useExisting:(0,s.Gpc)(()=>Fs)};let Fs=(()=>{class E extends hn{constructor(S,j,Me,ht,rn){super(),this._ngModelWarningConfig=rn,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(j),this._setAsyncValidators(Me),this.valueAccessor=ls(0,ht)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),Xi(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return ve(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return E._ngModelWarningSentOnce=!1,E.\u0275fac=function(S){return new(S||E)(s.Y36(tn,13),s.Y36(nt,10),s.Y36(St,10),s.Y36(le,10),s.Y36(to,8))},E.\u0275dir=s.lG2({type:E,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Ys]),s.qOj,s.TTD]}),E})();const ui={provide:le,useExisting:(0,s.Gpc)(()=>cs),multi:!0};function di(E,C){return null==E?`${C}`:(C&&"object"==typeof C&&(C="Object"),`${E}: ${C}`.slice(0,50))}let cs=(()=>{class E extends se{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const Me=di(this._getOptionId(S),S);this.setProperty("value",Me)}registerOnChange(S){this.onChange=j=>{this.value=this._getOptionValue(j),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const j of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(j),S))return j;return null}_getOptionValue(S){const j=function $r(E){return E.split(":")[0]}(S);return this._optionMap.has(j)?this._optionMap.get(j):S}}return E.\u0275fac=function(){let C;return function(j){return(C||(C=s.n5z(E)))(j||E)}}(),E.\u0275dir=s.lG2({type:E,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(S,j){1&S&&s.NdJ("change",function(ht){return j.onChange(ht.target.value)})("blur",function(){return j.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([ui]),s.qOj]}),E})(),ti=(()=>{class E{constructor(S,j,Me){this._element=S,this._renderer=j,this._select=Me,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue(di(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return E.\u0275fac=function(S){return new(S||E)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(cs,9))},E.\u0275dir=s.lG2({type:E,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E})();const xs={provide:le,useExisting:(0,s.Gpc)(()=>xi),multi:!0};function co(E,C){return null==E?`${C}`:("string"==typeof C&&(C=`'${C}'`),C&&"object"==typeof C&&(C="Object"),`${E}: ${C}`.slice(0,50))}let xi=(()=>{class E extends se{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let j;if(this.value=S,Array.isArray(S)){const Me=S.map(ht=>this._getOptionId(ht));j=(ht,rn)=>{ht._setSelected(Me.indexOf(rn.toString())>-1)}}else j=(Me,ht)=>{Me._setSelected(!1)};this._optionMap.forEach(j)}registerOnChange(S){this.onChange=j=>{const Me=[],ht=j.selectedOptions;if(void 0!==ht){const rn=ht;for(let Dn=0;Dn<rn.length;Dn++){const xr=this._getOptionValue(rn[Dn].value);Me.push(xr)}}else{const rn=j.options;for(let Dn=0;Dn<rn.length;Dn++){const kn=rn[Dn];if(kn.selected){const xr=this._getOptionValue(kn.value);Me.push(xr)}}}this.value=Me,S(Me)}}_registerOption(S){const j=(this._idCounter++).toString();return this._optionMap.set(j,S),j}_getOptionId(S){for(const j of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(j)._value,S))return j;return null}_getOptionValue(S){const j=function Mo(E){return E.split(":")[0]}(S);return this._optionMap.has(j)?this._optionMap.get(j)._value:S}}return E.\u0275fac=function(){let C;return function(j){return(C||(C=s.n5z(E)))(j||E)}}(),E.\u0275dir=s.lG2({type:E,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(S,j){1&S&&s.NdJ("change",function(ht){return j.onChange(ht.target)})("blur",function(){return j.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([xs]),s.qOj]}),E})(),jr=(()=>{class E{constructor(S,j,Me){this._element=S,this._renderer=j,this._select=Me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(co(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(co(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return E.\u0275fac=function(S){return new(S||E)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(xi,9))},E.\u0275dir=s.lG2({type:E,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E})();function Jr(E){return"number"==typeof E?E:parseInt(E,10)}let go=(()=>{class E{constructor(){this._validator=xt}ngOnChanges(S){if(this.inputName in S){const j=this.normalizeInput(S[this.inputName].currentValue);this._enabled=this.enabled(j),this._validator=this._enabled?this.createValidator(j):xt,this._onChange&&this._onChange()}}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}enabled(S){return null!=S}}return E.\u0275fac=function(S){return new(S||E)},E.\u0275dir=s.lG2({type:E,features:[s.TTD]}),E})();const us={provide:nt,useExisting:(0,s.Gpc)(()=>Ks),multi:!0};let Ks=(()=>{class E extends go{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=S=>Ie}enabled(S){return S}}return E.\u0275fac=function(){let C;return function(j){return(C||(C=s.n5z(E)))(j||E)}}(),E.\u0275dir=s.lG2({type:E,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(S,j){2&S&&s.uIk("required",j._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([us]),s.qOj]}),E})();const wo={provide:nt,useExisting:(0,s.Gpc)(()=>Pi),multi:!0};let Pi=(()=>{class E extends go{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=S=>Jr(S),this.createValidator=S=>fe(S)}}return E.\u0275fac=function(){let C;return function(j){return(C||(C=s.n5z(E)))(j||E)}}(),E.\u0275dir=s.lG2({type:E,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(S,j){2&S&&s.uIk("minlength",j._enabled?j.minlength:null)},inputs:{minlength:"minlength"},features:[s._Bn([wo]),s.qOj]}),E})();const Hr={provide:nt,useExisting:(0,s.Gpc)(()=>Ms),multi:!0};let Ms=(()=>{class E extends go{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=S=>Jr(S),this.createValidator=S=>Nt(S)}}return E.\u0275fac=function(){let C;return function(j){return(C||(C=s.n5z(E)))(j||E)}}(),E.\u0275dir=s.lG2({type:E,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(S,j){2&S&&s.uIk("maxlength",j._enabled?j.maxlength:null)},inputs:{maxlength:"maxlength"},features:[s._Bn([Hr]),s.qOj]}),E})();const ia={provide:nt,useExisting:(0,s.Gpc)(()=>qr),multi:!0};let qr=(()=>{class E extends go{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=S=>S,this.createValidator=S=>It(S)}}return E.\u0275fac=function(){let C;return function(j){return(C||(C=s.n5z(E)))(j||E)}}(),E.\u0275dir=s.lG2({type:E,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(S,j){2&S&&s.uIk("pattern",j._enabled?j.pattern:null)},inputs:{pattern:"pattern"},features:[s._Bn([ia]),s.qOj]}),E})(),es=(()=>{class E{}return E.\u0275fac=function(S){return new(S||E)},E.\u0275mod=s.oAB({type:E}),E.\u0275inj=s.cJS({imports:[Dr]}),E})(),Uo=(()=>{class E{}return E.\u0275fac=function(S){return new(S||E)},E.\u0275mod=s.oAB({type:E}),E.\u0275inj=s.cJS({imports:[es]}),E})(),pn=(()=>{class E{static withConfig(S){return{ngModule:E,providers:[{provide:to,useValue:S.warnOnNgModelWithFormControl}]}}}return E.\u0275fac=function(S){return new(S||E)},E.\u0275mod=s.oAB({type:E}),E.\u0275inj=s.cJS({imports:[es]}),E})();class T extends Ii{constructor(C,S,j){super(Kr(S),Pr(j,S)),this.controls=C,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(C){return this.controls[this._adjustIndex(C)]}push(C,S={}){this.controls.push(C),this._registerControl(C),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(C,S,j={}){this.controls.splice(C,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:j.emitEvent})}removeAt(C,S={}){let j=this._adjustIndex(C);j<0&&(j=0),this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(C,S,j={}){let Me=this._adjustIndex(C);Me<0&&(Me=0),this.controls[Me]&&this.controls[Me]._registerOnCollectionChange(()=>{}),this.controls.splice(Me,1),S&&(this.controls.splice(Me,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(C,S={}){Br(this,0,C),C.forEach((j,Me)=>{Lr(this,!1,Me),this.at(Me).setValue(j,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(C,S={}){null!=C&&(C.forEach((j,Me)=>{this.at(Me)&&this.at(Me).patchValue(j,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(C=[],S={}){this._forEachChild((j,Me)=>{j.reset(C[Me],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(C=>C.getRawValue())}clear(C={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:C.emitEvent}))}_adjustIndex(C){return C<0?C+this.length:C}_syncPendingControls(){let C=this.controls.reduce((S,j)=>!!j._syncPendingControls()||S,!1);return C&&this.updateValueAndValidity({onlySelf:!0}),C}_forEachChild(C){this.controls.forEach((S,j)=>{C(S,j)})}_updateValue(){this.value=this.controls.filter(C=>C.enabled||this.disabled).map(C=>C.value)}_anyControls(C){return this.controls.some(S=>S.enabled&&C(S))}_setUpControls(){this._forEachChild(C=>this._registerControl(C))}_allControlsDisabled(){for(const C of this.controls)if(C.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(C){C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange)}_find(C){return this.at(C)??null}}function Y(E){return!!E&&(void 0!==E.asyncValidators||void 0!==E.validators||void 0!==E.updateOn)}let xe=(()=>{class E{constructor(){this.useNonNullable=!1}get nonNullable(){const S=new E;return S.useNonNullable=!0,S}group(S,j=null){const Me=this._reduceControls(S);let ht={};return Y(j)?ht=j:null!==j&&(ht.validators=j.validator,ht.asyncValidators=j.asyncValidator),new ni(Me,ht)}record(S,j=null){const Me=this._reduceControls(S);return new Ke(Me,j)}control(S,j,Me){let ht={};return this.useNonNullable?(Y(j)?ht=j:(ht.validators=j,ht.asyncValidators=Me),new At(S,{...ht,nonNullable:!0})):new At(S,j,Me)}array(S,j,Me){const ht=S.map(rn=>this._createControl(rn));return new T(ht,j,Me)}_reduceControls(S){const j={};return Object.keys(S).forEach(Me=>{j[Me]=this._createControl(S[Me])}),j}_createControl(S){return S instanceof At||S instanceof Ii?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return E.\u0275fac=function(S){return new(S||E)},E.\u0275prov=s.Yz7({token:E,factory:E.\u0275fac,providedIn:pn}),E})()},1481:(En,vt,F)=>{"use strict";F.d(vt,{Dx:()=>Ht,b2:()=>kr,q6:()=>er});var s=F(6895),Q=F(4650);class K extends s.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Re extends K{static makeCurrent(){(0,s.HT)(new Re)}onAndCancel(Ke,J,ve){return Ke.addEventListener(J,ve,!1),()=>{Ke.removeEventListener(J,ve,!1)}}dispatchEvent(Ke,J){Ke.dispatchEvent(J)}remove(Ke){Ke.parentNode&&Ke.parentNode.removeChild(Ke)}createElement(Ke,J){return(J=J||this.getDefaultDocument()).createElement(Ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ke){return Ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ke){return Ke instanceof DocumentFragment}getGlobalEventTarget(Ke,J){return"window"===J?window:"document"===J?Ke:"body"===J?Ke.body:null}getBaseHref(Ke){const J=function ue(){return oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null}();return null==J?null:function pe(ot){me=me||document.createElement("a"),me.setAttribute("href",ot);const Ke=me.pathname;return"/"===Ke.charAt(0)?Ke:`/${Ke}`}(J)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ke){return(0,s.Mx)(document.cookie,Ke)}}let me,oe=null;const De=new Q.OlP("TRANSITION_ID"),se=[{provide:Q.ip1,useFactory:function ce(ot,Ke,J){return()=>{J.get(Q.CZH).donePromise.then(()=>{const ve=(0,s.q)(),et=Ke.querySelectorAll(`style[ng-transition="${ot}"]`);for(let mt=0;mt<et.length;mt++)ve.remove(et[mt])})}},deps:[De,s.K0,Q.zs3],multi:!0}];let ge=(()=>{class ot{build(){return new XMLHttpRequest}}return ot.\u0275fac=function(J){return new(J||ot)},ot.\u0275prov=Q.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const Ue=new Q.OlP("EventManagerPlugins");let ct=(()=>{class ot{constructor(J,ve){this._zone=ve,this._eventNameToPlugin=new Map,J.forEach(et=>et.manager=this),this._plugins=J.slice().reverse()}addEventListener(J,ve,et){return this._findPluginFor(ve).addEventListener(J,ve,et)}addGlobalEventListener(J,ve,et){return this._findPluginFor(ve).addGlobalEventListener(J,ve,et)}getZone(){return this._zone}_findPluginFor(J){const ve=this._eventNameToPlugin.get(J);if(ve)return ve;const et=this._plugins;for(let mt=0;mt<et.length;mt++){const Vt=et[mt];if(Vt.supports(J))return this._eventNameToPlugin.set(J,Vt),Vt}throw new Error(`No event manager plugin found for event ${J}`)}}return ot.\u0275fac=function(J){return new(J||ot)(Q.LFG(Ue),Q.LFG(Q.R0b))},ot.\u0275prov=Q.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Be{constructor(Ke){this._doc=Ke}addGlobalEventListener(Ke,J,ve){const et=(0,s.q)().getGlobalEventTarget(this._doc,Ke);if(!et)throw new Error(`Unsupported event target ${et} for event ${J}`);return this.addEventListener(et,J,ve)}}let Le=(()=>{class ot{constructor(){this._stylesSet=new Set}addStyles(J){const ve=new Set;J.forEach(et=>{this._stylesSet.has(et)||(this._stylesSet.add(et),ve.add(et))}),this.onStylesAdded(ve)}onStylesAdded(J){}getAllStyles(){return Array.from(this._stylesSet)}}return ot.\u0275fac=function(J){return new(J||ot)},ot.\u0275prov=Q.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Ve=(()=>{class ot extends Le{constructor(J){super(),this._doc=J,this._hostNodes=new Map,this._hostNodes.set(J.head,[])}_addStylesToHost(J,ve,et){J.forEach(mt=>{const Vt=this._doc.createElement("style");Vt.textContent=mt,et.push(ve.appendChild(Vt))})}addHost(J){const ve=[];this._addStylesToHost(this._stylesSet,J,ve),this._hostNodes.set(J,ve)}removeHost(J){const ve=this._hostNodes.get(J);ve&&ve.forEach(Ft),this._hostNodes.delete(J)}onStylesAdded(J){this._hostNodes.forEach((ve,et)=>{this._addStylesToHost(J,et,ve)})}ngOnDestroy(){this._hostNodes.forEach(J=>J.forEach(Ft))}}return ot.\u0275fac=function(J){return new(J||ot)(Q.LFG(s.K0))},ot.\u0275prov=Q.Yz7({token:ot,factory:ot.\u0275fac}),ot})();function Ft(ot){(0,s.q)().remove(ot)}const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mt=/%COMP%/g;function Ie(ot,Ke,J){for(let ve=0;ve<Ke.length;ve++){let et=Ke[ve];Array.isArray(et)?Ie(ot,et,J):(et=et.replace(Mt,ot),J.push(et))}return J}function he(ot){return Ke=>{if("__ngUnwrap__"===Ke)return ot;!1===ot(Ke)&&(Ke.preventDefault(),Ke.returnValue=!1)}}let fe=(()=>{class ot{constructor(J,ve,et){this.eventManager=J,this.sharedStylesHost=ve,this.appId=et,this.rendererByCompId=new Map,this.defaultRenderer=new Nt(J)}createRenderer(J,ve){if(!J||!ve)return this.defaultRenderer;switch(ve.encapsulation){case Q.ifc.Emulated:{let et=this.rendererByCompId.get(ve.id);return et||(et=new Ze(this.eventManager,this.sharedStylesHost,ve,this.appId),this.rendererByCompId.set(ve.id,et)),et.applyToHost(J),et}case 1:case Q.ifc.ShadowDom:return new ze(this.eventManager,this.sharedStylesHost,J,ve);default:if(!this.rendererByCompId.has(ve.id)){const et=Ie(ve.id,ve.styles,[]);this.sharedStylesHost.addStyles(et),this.rendererByCompId.set(ve.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ot.\u0275fac=function(J){return new(J||ot)(Q.LFG(ct),Q.LFG(Ve),Q.LFG(Q.AFp))},ot.\u0275prov=Q.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Nt{constructor(Ke){this.eventManager=Ke,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ke,J){return J?document.createElementNS(yt[J]||J,Ke):document.createElement(Ke)}createComment(Ke){return document.createComment(Ke)}createText(Ke){return document.createTextNode(Ke)}appendChild(Ke,J){(gt(Ke)?Ke.content:Ke).appendChild(J)}insertBefore(Ke,J,ve){Ke&&(gt(Ke)?Ke.content:Ke).insertBefore(J,ve)}removeChild(Ke,J){Ke&&Ke.removeChild(J)}selectRootElement(Ke,J){let ve="string"==typeof Ke?document.querySelector(Ke):Ke;if(!ve)throw new Error(`The selector "${Ke}" did not match any elements`);return J||(ve.textContent=""),ve}parentNode(Ke){return Ke.parentNode}nextSibling(Ke){return Ke.nextSibling}setAttribute(Ke,J,ve,et){if(et){J=et+":"+J;const mt=yt[et];mt?Ke.setAttributeNS(mt,J,ve):Ke.setAttribute(J,ve)}else Ke.setAttribute(J,ve)}removeAttribute(Ke,J,ve){if(ve){const et=yt[ve];et?Ke.removeAttributeNS(et,J):Ke.removeAttribute(`${ve}:${J}`)}else Ke.removeAttribute(J)}addClass(Ke,J){Ke.classList.add(J)}removeClass(Ke,J){Ke.classList.remove(J)}setStyle(Ke,J,ve,et){et&(Q.JOm.DashCase|Q.JOm.Important)?Ke.style.setProperty(J,ve,et&Q.JOm.Important?"important":""):Ke.style[J]=ve}removeStyle(Ke,J,ve){ve&Q.JOm.DashCase?Ke.style.removeProperty(J):Ke.style[J]=""}setProperty(Ke,J,ve){Ke[J]=ve}setValue(Ke,J){Ke.nodeValue=J}listen(Ke,J,ve){return"string"==typeof Ke?this.eventManager.addGlobalEventListener(Ke,J,he(ve)):this.eventManager.addEventListener(Ke,J,he(ve))}}function gt(ot){return"TEMPLATE"===ot.tagName&&void 0!==ot.content}class Ze extends Nt{constructor(Ke,J,ve,et){super(Ke),this.component=ve;const mt=Ie(et+"-"+ve.id,ve.styles,[]);J.addStyles(mt),this.contentAttr=function Ee(ot){return"_ngcontent-%COMP%".replace(Mt,ot)}(et+"-"+ve.id),this.hostAttr=function ye(ot){return"_nghost-%COMP%".replace(Mt,ot)}(et+"-"+ve.id)}applyToHost(Ke){super.setAttribute(Ke,this.hostAttr,"")}createElement(Ke,J){const ve=super.createElement(Ke,J);return super.setAttribute(ve,this.contentAttr,""),ve}}class ze extends Nt{constructor(Ke,J,ve,et){super(Ke),this.sharedStylesHost=J,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mt=Ie(et.id,et.styles,[]);for(let Vt=0;Vt<mt.length;Vt++){const Kt=document.createElement("style");Kt.textContent=mt[Vt],this.shadowRoot.appendChild(Kt)}}nodeOrShadowRoot(Ke){return Ke===this.hostEl?this.shadowRoot:Ke}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ke,J){return super.appendChild(this.nodeOrShadowRoot(Ke),J)}insertBefore(Ke,J,ve){return super.insertBefore(this.nodeOrShadowRoot(Ke),J,ve)}removeChild(Ke,J){return super.removeChild(this.nodeOrShadowRoot(Ke),J)}parentNode(Ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ke)))}}let st=(()=>{class ot extends Be{constructor(J){super(J)}supports(J){return!0}addEventListener(J,ve,et){return J.addEventListener(ve,et,!1),()=>this.removeEventListener(J,ve,et)}removeEventListener(J,ve,et){return J.removeEventListener(ve,et)}}return ot.\u0275fac=function(J){return new(J||ot)(Q.LFG(s.K0))},ot.\u0275prov=Q.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const pt=["alt","control","meta","shift"],Tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lt={alt:ot=>ot.altKey,control:ot=>ot.ctrlKey,meta:ot=>ot.metaKey,shift:ot=>ot.shiftKey};let Cn=(()=>{class ot extends Be{constructor(J){super(J)}supports(J){return null!=ot.parseEventName(J)}addEventListener(J,ve,et){const mt=ot.parseEventName(ve),Vt=ot.eventCallback(mt.fullKey,et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,s.q)().onAndCancel(J,mt.domEventName,Vt))}static parseEventName(J){const ve=J.toLowerCase().split("."),et=ve.shift();if(0===ve.length||"keydown"!==et&&"keyup"!==et)return null;const mt=ot._normalizeKey(ve.pop());let Vt="",Kt=ve.indexOf("code");if(Kt>-1&&(ve.splice(Kt,1),Vt="code."),pt.forEach(Fn=>{const Jt=ve.indexOf(Fn);Jt>-1&&(ve.splice(Jt,1),Vt+=Fn+".")}),Vt+=mt,0!=ve.length||0===mt.length)return null;const qt={};return qt.domEventName=et,qt.fullKey=Vt,qt}static matchEventFullKeyCode(J,ve){let et=Tt[J.key]||J.key,mt="";return ve.indexOf("code.")>-1&&(et=J.code,mt="code."),!(null==et||!et)&&(et=et.toLowerCase()," "===et?et="space":"."===et&&(et="dot"),pt.forEach(Vt=>{Vt!==et&&(0,Lt[Vt])(J)&&(mt+=Vt+".")}),mt+=et,mt===ve)}static eventCallback(J,ve,et){return mt=>{ot.matchEventFullKeyCode(mt,J)&&et.runGuarded(()=>ve(mt))}}static _normalizeKey(J){return"esc"===J?"escape":J}}return ot.\u0275fac=function(J){return new(J||ot)(Q.LFG(s.K0))},ot.\u0275prov=Q.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const er=(0,Q.eFA)(Q._c5,"browser",[{provide:Q.Lbi,useValue:s.bD},{provide:Q.g9A,useValue:function qn(){Re.makeCurrent()},multi:!0},{provide:s.K0,useFactory:function fi(){return(0,Q.RDi)(document),document},deps:[]}]),tn=new Q.OlP(""),hn=[{provide:Q.rWj,useClass:class le{addToWindow(Ke){Q.dqk.getAngularTestability=(ve,et=!0)=>{const mt=Ke.findTestabilityInTree(ve,et);if(null==mt)throw new Error("Could not find testability for element.");return mt},Q.dqk.getAllAngularTestabilities=()=>Ke.getAllTestabilities(),Q.dqk.getAllAngularRootElements=()=>Ke.getAllRootElements(),Q.dqk.frameworkStabilizers||(Q.dqk.frameworkStabilizers=[]),Q.dqk.frameworkStabilizers.push(ve=>{const et=Q.dqk.getAllAngularTestabilities();let mt=et.length,Vt=!1;const Kt=function(qt){Vt=Vt||qt,mt--,0==mt&&ve(Vt)};et.forEach(function(qt){qt.whenStable(Kt)})})}findTestabilityInTree(Ke,J,ve){return null==J?null:Ke.getTestability(J)??(ve?(0,s.q)().isShadowRoot(J)?this.findTestabilityInTree(Ke,J.host,!0):this.findTestabilityInTree(Ke,J.parentElement,!0):null)}},deps:[]},{provide:Q.lri,useClass:Q.dDg,deps:[Q.R0b,Q.eoX,Q.rWj]},{provide:Q.dDg,useClass:Q.dDg,deps:[Q.R0b,Q.eoX,Q.rWj]}],yr=[{provide:Q.zSh,useValue:"root"},{provide:Q.qLn,useFactory:function _r(){return new Q.qLn},deps:[]},{provide:Ue,useClass:st,multi:!0,deps:[s.K0,Q.R0b,Q.Lbi]},{provide:Ue,useClass:Cn,multi:!0,deps:[s.K0]},{provide:fe,useClass:fe,deps:[ct,Ve,Q.AFp]},{provide:Q.FYo,useExisting:fe},{provide:Le,useExisting:Ve},{provide:Ve,useClass:Ve,deps:[s.K0]},{provide:ct,useClass:ct,deps:[Ue,Q.R0b]},{provide:s.JF,useClass:ge,deps:[]},[]];let kr=(()=>{class ot{constructor(J){}static withServerTransition(J){return{ngModule:ot,providers:[{provide:Q.AFp,useValue:J.appId},{provide:De,useExisting:Q.AFp},se]}}}return ot.\u0275fac=function(J){return new(J||ot)(Q.LFG(tn,12))},ot.\u0275mod=Q.oAB({type:ot}),ot.\u0275inj=Q.cJS({providers:[...yr,...hn],imports:[s.ez,Q.hGG]}),ot})(),Ht=(()=>{class ot{constructor(J){this._doc=J}getTitle(){return this._doc.title}setTitle(J){this._doc.title=J||""}}return ot.\u0275fac=function(J){return new(J||ot)(Q.LFG(s.K0))},ot.\u0275prov=Q.Yz7({token:ot,factory:function(J){let ve=null;return ve=J?new J:function Ir(){return new Ht((0,Q.LFG)(s.K0))}(),ve},providedIn:"root"}),ot})();typeof window<"u"&&window},1808:(En,vt,F)=>{"use strict";F.d(vt,{gz:()=>Cs,y6:()=>Jr,OD:()=>Qe,eC:()=>we,wm:()=>Qs,wN:()=>wi,F0:()=>rs,rH:()=>El,yS:()=>Sa,Bz:()=>io,Hx:()=>qe});var s=F(4650),Q=F(5254),K=F(1086),Re=F(591),oe=F(4450),ue=F(6053),me=F(1221),pe=F(6498),De=F(8896);function ce(R){return new pe.y(k=>{let x;try{x=R()}catch(q){return void k.error(q)}return(x?(0,Q.D)(x):(0,De.c)()).subscribe(k)})}var se=F(4843),le=F(1737),ge=F(1762),Ue=F(8929),ct=F(6895),Be=F(4850),Le=F(7545),Ve=F(2986),Ft=F(1059),yt=F(2198),Mt=F(1709),nt=F(7224),St=F(1406),Pe=F(2994),Xe=F(7221),Ee=F(2014),ye=F(3489),Ie=F(4231);function he(R){return function(x){return 0===R?(0,De.c)():x.lift(new _e(R))}}class _e{constructor(k){if(this.total=k,this.total<0)throw new Ie.W}call(k,x){return x.subscribe(new fe(k,this.total))}}class fe extends ye.L{constructor(k,x){super(k),this.total=x,this.ring=new Array,this.count=0}_next(k){const x=this.ring,G=this.total,q=this.count++;x.length<G?x.push(k):x[q%G]=k}_complete(){const k=this.destination;let x=this.count;if(x>0){const G=this.count>=this.total?this.total:this.count,q=this.ring;for(let Ce=0;Ce<G;Ce++){const Je=x++%G;k.next(q[Je])}}k.complete()}}var Nt=F(4907),It=F(7314),xt=F(5379);function gt(R,k){const x=arguments.length>=2;return G=>G.pipe(R?(0,yt.h)((q,Ce)=>R(q,Ce,G)):xt.y,he(1),x?(0,It.d)(k):(0,Nt.T)(()=>new oe.K))}class ze{constructor(k,x){this.predicate=k,this.inclusive=x}call(k,x){return x.subscribe(new st(k,this.predicate,this.inclusive))}}class st extends ye.L{constructor(k,x,G){super(k),this.predicate=x,this.inclusive=G,this.index=0}_next(k){const x=this.destination;let G;try{G=this.predicate(k,this.index++)}catch(q){return void x.error(q)}this.nextOrComplete(k,G)}nextOrComplete(k,x){const G=this.destination;Boolean(x)?G.next(k):(this.inclusive&&G.next(k),G.complete())}}class Tt{constructor(k){this.value=k}call(k,x){return x.subscribe(new Lt(k,this.value))}}class Lt extends ye.L{constructor(k,x){super(k),this.value=x}_next(k){this.destination.next(this.value)}}var Cn=F(537),Bt=F(4327),bn=F(9146),Sn=F(1481);const we="primary",Kn=Symbol("RouteTitle");class qn{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const x=this.params[k];return Array.isArray(x)?x[0]:x}return null}getAll(k){if(this.has(k)){const x=this.params[k];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function _r(R){return new qn(R)}function fi(R,k,x){const G=x.path.split("/");if(G.length>R.length||"full"===x.pathMatch&&(k.hasChildren()||G.length<R.length))return null;const q={};for(let Ce=0;Ce<G.length;Ce++){const Je=G[Ce],dt=R[Ce];if(Je.startsWith(":"))q[Je.substring(1)]=dt;else if(Je!==dt.path)return null}return{consumed:R.slice(0,G.length),posParams:q}}function er(R,k){const x=R?Object.keys(R):void 0,G=k?Object.keys(k):void 0;if(!x||!G||x.length!=G.length)return!1;let q;for(let Ce=0;Ce<x.length;Ce++)if(q=x[Ce],!tn(R[q],k[q]))return!1;return!0}function tn(R,k){if(Array.isArray(R)&&Array.isArray(k)){if(R.length!==k.length)return!1;const x=[...R].sort(),G=[...k].sort();return x.every((q,Ce)=>G[Ce]===q)}return R===k}function hn(R){return Array.prototype.concat.apply([],R)}function yr(R){return R.length>0?R[R.length-1]:null}function Hn(R,k){for(const x in R)R.hasOwnProperty(x)&&k(R[x],x)}function gr(R){return(0,s.CqO)(R)?R:(0,s.QGY)(R)?(0,Q.D)(Promise.resolve(R)):(0,K.of)(R)}const Ht={exact:function Ut(R,k,x){if(!it(R.segments,k.segments)||!_n(R.segments,k.segments,x)||R.numberOfChildren!==k.numberOfChildren)return!1;for(const G in k.children)if(!R.children[G]||!Ut(R.children[G],k.children[G],x))return!1;return!0},subset:Vn},rt={exact:function Et(R,k){return er(R,k)},subset:function An(R,k){return Object.keys(k).length<=Object.keys(R).length&&Object.keys(k).every(x=>tn(R[x],k[x]))},ignored:()=>!0};function He(R,k,x){return Ht[x.paths](R.root,k.root,x.matrixParams)&&rt[x.queryParams](R.queryParams,k.queryParams)&&!("exact"===x.fragment&&R.fragment!==k.fragment)}function Vn(R,k,x){return Un(R,k,k.segments,x)}function Un(R,k,x,G){if(R.segments.length>x.length){const q=R.segments.slice(0,x.length);return!(!it(q,x)||k.hasChildren()||!_n(q,x,G))}if(R.segments.length===x.length){if(!it(R.segments,x)||!_n(R.segments,x,G))return!1;for(const q in k.children)if(!R.children[q]||!Vn(R.children[q],k.children[q],G))return!1;return!0}{const q=x.slice(0,R.segments.length),Ce=x.slice(R.segments.length);return!!(it(R.segments,q)&&_n(R.segments,q,G)&&R.children[we])&&Un(R.children[we],k,Ce,G)}}function _n(R,k,x){return k.every((G,q)=>rt[x](R[q].parameters,G.parameters))}class ir{constructor(k,x,G){this.root=k,this.queryParams=x,this.fragment=G}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return at.serialize(this)}}class On{constructor(k,x){this.segments=k,this.children=x,this.parent=null,Hn(x,(G,q)=>G.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gt(this)}}class Rr{constructor(k,x){this.path=k,this.parameters=x}get parameterMap(){return this._parameterMap||(this._parameterMap=_r(this.parameters)),this._parameterMap}toString(){return Lr(this)}}function it(R,k){return R.length===k.length&&R.every((x,G)=>x.path===k[G].path)}let qe=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=s.Yz7({token:R,factory:function(){return new lt},providedIn:"root"}),R})();class lt{parse(k){const x=new et(k);return new ir(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(k){const x=`/${gn(k.root,!0)}`,G=function Ii(R){const k=Object.keys(R).map(x=>{const G=R[x];return Array.isArray(G)?G.map(q=>`${Kr(x)}=${Kr(q)}`).join("&"):`${Kr(x)}=${Kr(G)}`}).filter(x=>!!x);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${x}${G}${"string"==typeof k.fragment?`#${function Mr(R){return encodeURI(R)}(k.fragment)}`:""}`}}const at=new lt;function Gt(R){return R.segments.map(k=>Lr(k)).join("/")}function gn(R,k){if(!R.hasChildren())return Gt(R);if(k){const x=R.children[we]?gn(R.children[we],!1):"",G=[];return Hn(R.children,(q,Ce)=>{Ce!==we&&G.push(`${Ce}:${gn(q,!1)}`)}),G.length>0?`${x}(${G.join("//")})`:x}{const x=function tt(R,k){let x=[];return Hn(R.children,(G,q)=>{q===we&&(x=x.concat(k(G,q)))}),Hn(R.children,(G,q)=>{q!==we&&(x=x.concat(k(G,q)))}),x}(R,(G,q)=>q===we?[gn(R.children[we],!1)]:[`${q}:${gn(G,!1)}`]);return 1===Object.keys(R.children).length&&null!=R.children[we]?`${Gt(R)}/${x[0]}`:`${Gt(R)}/(${x.join("//")})`}}function Bn(R){return encodeURIComponent(R).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kr(R){return Bn(R).replace(/%3B/gi,";")}function Pr(R){return Bn(R).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pr(R){return decodeURIComponent(R)}function Wn(R){return pr(R.replace(/\+/g,"%20"))}function Lr(R){return`${Pr(R.path)}${function Br(R){return Object.keys(R).map(k=>`;${Pr(k)}=${Pr(R[k])}`).join("")}(R.parameters)}`}const ni=/^[^\/()?;=#]+/;function ci(R){const k=R.match(ni);return k?k[0]:""}const ot=/^[^=?&#]+/,J=/^[^&#]+/;class et{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let G={};return this.peekStartsWith("(")&&(G=this.parseParens(!1)),(k.length>0||Object.keys(x).length>0)&&(G[we]=new On(k,x)),G}parseSegment(){const k=ci(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(k),new Rr(pr(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const x=ci(this.remaining);if(!x)return;this.capture(x);let G="";if(this.consumeOptional("=")){const q=ci(this.remaining);q&&(G=q,this.capture(G))}k[pr(x)]=pr(G)}parseQueryParam(k){const x=function Ke(R){const k=R.match(ot);return k?k[0]:""}(this.remaining);if(!x)return;this.capture(x);let G="";if(this.consumeOptional("=")){const Je=function ve(R){const k=R.match(J);return k?k[0]:""}(this.remaining);Je&&(G=Je,this.capture(G))}const q=Wn(x),Ce=Wn(G);if(k.hasOwnProperty(q)){let Je=k[q];Array.isArray(Je)||(Je=[Je],k[q]=Je),Je.push(Ce)}else k[q]=Ce}parseParens(k){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const G=ci(this.remaining),q=this.remaining[G.length];if("/"!==q&&")"!==q&&";"!==q)throw new s.vHH(4010,!1);let Ce;G.indexOf(":")>-1?(Ce=G.slice(0,G.indexOf(":")),this.capture(Ce),this.capture(":")):k&&(Ce=we);const Je=this.parseChildren();x[Ce]=1===Object.keys(Je).length?Je[we]:new On([],Je),this.consumeOptional("//")}return x}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new s.vHH(4011,!1)}}function mt(R){return R.segments.length>0?new On([],{[we]:R}):R}function Vt(R){const k={};for(const G of Object.keys(R.children)){const Ce=Vt(R.children[G]);(Ce.segments.length>0||Ce.hasChildren())&&(k[G]=Ce)}return function Kt(R){if(1===R.numberOfChildren&&R.children[we]){const k=R.children[we];return new On(R.segments.concat(k.segments),k.children)}return R}(new On(R.segments,k))}function qt(R){return R instanceof ir}function Tr(R,k,x,G,q){if(0===x.length)return Si(k.root,k.root,k.root,G,q);const Ce=function oi(R){if("string"==typeof R[0]&&1===R.length&&"/"===R[0])return new Ai(!0,0,R);let k=0,x=!1;const G=R.reduce((q,Ce,Je)=>{if("object"==typeof Ce&&null!=Ce){if(Ce.outlets){const dt={};return Hn(Ce.outlets,(fn,Rn)=>{dt[Rn]="string"==typeof fn?fn.split("/"):fn}),[...q,{outlets:dt}]}if(Ce.segmentPath)return[...q,Ce.segmentPath]}return"string"!=typeof Ce?[...q,Ce]:0===Je?(Ce.split("/").forEach((dt,fn)=>{0==fn&&"."===dt||(0==fn&&""===dt?x=!0:".."===dt?k++:""!=dt&&q.push(dt))}),q):[...q,Ce]},[]);return new Ai(x,k,G)}(x);return Ce.toRoot()?Si(k.root,k.root,new On([],{}),G,q):function Je(fn){const Rn=function Ss(R,k,x,G){if(R.isAbsolute)return new Xi(k.root,!0,0);if(-1===G)return new Xi(x,x===k.root,0);return function ls(R,k,x){let G=R,q=k,Ce=x;for(;Ce>q;){if(Ce-=q,G=G.parent,!G)throw new s.vHH(4005,!1);q=G.segments.length}return new Xi(G,!1,q-Ce)}(x,G+(vr(R.commands[0])?0:1),R.numberOfDoubleDots)}(Ce,k,R.snapshot?._urlSegment,fn),li=Rn.processChildren?zi(Rn.segmentGroup,Rn.index,Ce.commands):hs(Rn.segmentGroup,Rn.index,Ce.commands);return Si(k.root,Rn.segmentGroup,li,G,q)}(R.snapshot?._lastPathIndex)}function vr(R){return"object"==typeof R&&null!=R&&!R.outlets&&!R.segmentPath}function Ar(R){return"object"==typeof R&&null!=R&&R.outlets}function Si(R,k,x,G,q){let Je,Ce={};G&&Hn(G,(fn,Rn)=>{Ce[Rn]=Array.isArray(fn)?fn.map(li=>`${li}`):`${fn}`}),Je=R===k?x:Gi(R,k,x);const dt=mt(Vt(Je));return new ir(dt,Ce,q)}function Gi(R,k,x){const G={};return Hn(R.children,(q,Ce)=>{G[Ce]=q===k?x:Gi(q,k,x)}),new On(R.segments,G)}class Ai{constructor(k,x,G){if(this.isAbsolute=k,this.numberOfDoubleDots=x,this.commands=G,k&&G.length>0&&vr(G[0]))throw new s.vHH(4003,!1);const q=G.find(Ar);if(q&&q!==yr(G))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xi{constructor(k,x,G){this.segmentGroup=k,this.processChildren=x,this.index=G}}function hs(R,k,x){if(R||(R=new On([],{})),0===R.segments.length&&R.hasChildren())return zi(R,k,x);const G=function Yi(R,k,x){let G=0,q=k;const Ce={match:!1,pathIndex:0,commandIndex:0};for(;q<R.segments.length;){if(G>=x.length)return Ce;const Je=R.segments[q],dt=x[G];if(Ar(dt))break;const fn=`${dt}`,Rn=G<x.length-1?x[G+1]:null;if(q>0&&void 0===fn)break;if(fn&&Rn&&"object"==typeof Rn&&void 0===Rn.outlets){if(!At(fn,Rn,Je))return Ce;G+=2}else{if(!At(fn,{},Je))return Ce;G++}q++}return{match:!0,pathIndex:q,commandIndex:G}}(R,k,x),q=x.slice(G.commandIndex);if(G.match&&G.pathIndex<R.segments.length){const Ce=new On(R.segments.slice(0,G.pathIndex),{});return Ce.children[we]=new On(R.segments.slice(G.pathIndex),R.children),zi(Ce,0,q)}return G.match&&0===q.length?new On(R.segments,{}):G.match&&!R.hasChildren()?be(R,k,x):G.match?zi(R,0,q):be(R,k,x)}function zi(R,k,x){if(0===x.length)return new On(R.segments,{});{const G=function ms(R){return Ar(R[0])?R[0].outlets:{[we]:R}}(x),q={};return Hn(G,(Ce,Je)=>{"string"==typeof Ce&&(Ce=[Ce]),null!==Ce&&(q[Je]=hs(R.children[Je],k,Ce))}),Hn(R.children,(Ce,Je)=>{void 0===G[Je]&&(q[Je]=Ce)}),new On(R.segments,q)}}function be(R,k,x){const G=R.segments.slice(0,k);let q=0;for(;q<x.length;){const Ce=x[q];if(Ar(Ce)){const fn=Fe(Ce.outlets);return new On(G,fn)}if(0===q&&vr(x[0])){G.push(new Rr(R.segments[k].path,bt(x[0]))),q++;continue}const Je=Ar(Ce)?Ce.outlets[we]:`${Ce}`,dt=q<x.length-1?x[q+1]:null;Je&&dt&&vr(dt)?(G.push(new Rr(Je,bt(dt))),q+=2):(G.push(new Rr(Je,{})),q++)}return new On(G,{})}function Fe(R){const k={};return Hn(R,(x,G)=>{"string"==typeof x&&(x=[x]),null!==x&&(k[G]=be(new On([],{}),0,x))}),k}function bt(R){const k={};return Hn(R,(x,G)=>k[G]=`${x}`),k}function At(R,k,x){return R==x.path&&er(k,x.parameters)}class $e{constructor(k,x){this.id=k,this.url=x}}class Qe extends $e{constructor(k,x,G="imperative",q=null){super(k,x),this.type=0,this.navigationTrigger=G,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rt extends $e{constructor(k,x,G){super(k,x),this.urlAfterRedirects=G,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class an extends $e{constructor(k,x,G,q){super(k,x),this.reason=G,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xt extends $e{constructor(k,x,G,q){super(k,x),this.error=G,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cn extends $e{constructor(k,x,G,q){super(k,x),this.urlAfterRedirects=G,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends $e{constructor(k,x,G,q){super(k,x),this.urlAfterRedirects=G,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or extends $e{constructor(k,x,G,q,Ce){super(k,x),this.urlAfterRedirects=G,this.state=q,this.shouldActivate=Ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nr extends $e{constructor(k,x,G,q){super(k,x),this.urlAfterRedirects=G,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends $e{constructor(k,x,G,q){super(k,x),this.urlAfterRedirects=G,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni{constructor(k){this.route=k,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wt{constructor(k){this.route=k,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dt{constructor(k){this.snapshot=k,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jt{constructor(k){this.snapshot=k,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mn{constructor(k){this.snapshot=k,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(k){this.snapshot=k,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(k,x,G){this.routerEvent=k,this.position=x,this.anchor=G,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fs{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const x=this.pathFromRoot(k);return x.length>1?x[x.length-2]:null}children(k){const x=Qr(k,this._root);return x?x.children.map(G=>G.value):[]}firstChild(k){const x=Qr(k,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(k){const x=As(k,this._root);return x.length<2?[]:x[x.length-2].children.map(q=>q.value).filter(q=>q!==k)}pathFromRoot(k){return As(k,this._root).map(x=>x.value)}}function Qr(R,k){if(R===k.value)return k;for(const x of k.children){const G=Qr(R,x);if(G)return G}return null}function As(R,k){if(R===k.value)return[k];for(const x of k.children){const G=As(R,x);if(G.length)return G.unshift(k),G}return[]}class Ns{constructor(k,x){this.value=k,this.children=x}toString(){return`TreeNode(${this.value})`}}function to(R){const k={};return R&&R.children.forEach(x=>k[x.value.outlet]=x),k}class Ws extends fs{constructor(k,x){super(k),this.snapshot=x,Us(this,k)}toString(){return this.snapshot.toString()}}function zs(R,k){const x=function xo(R,k){const Je=new Es([],{},{},"",{},we,k,null,R.root,-1,{});return new _s("",new Ns(Je,[]))}(R,k),G=new Re.X([new Rr("",{})]),q=new Re.X({}),Ce=new Re.X({}),Je=new Re.X({}),dt=new Re.X(""),fn=new Cs(G,q,Je,dt,Ce,we,k,x.root);return fn.snapshot=x.root,new Ws(new Ns(fn,[]),x)}class Cs{constructor(k,x,G,q,Ce,Je,dt,fn){this.url=k,this.params=x,this.queryParams=G,this.fragment=q,this.data=Ce,this.outlet=Je,this.component=dt,this.title=this.data?.pipe((0,Be.U)(Rn=>Rn[Kn]))??(0,K.of)(void 0),this._futureSnapshot=fn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Be.U)(k=>_r(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Be.U)(k=>_r(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Da(R,k="emptyOnly"){const x=R.pathFromRoot;let G=0;if("always"!==k)for(G=x.length-1;G>=1;){const q=x[G],Ce=x[G-1];if(q.routeConfig&&""===q.routeConfig.path)G--;else{if(Ce.component)break;G--}}return function ps(R){return R.reduce((k,x)=>({params:{...k.params,...x.params},data:{...k.data,...x.data},resolve:{...x.data,...k.resolve,...x.routeConfig?.data,...x._resolvedData}}),{params:{},data:{},resolve:{}})}(x.slice(G))}class Es{constructor(k,x,G,q,Ce,Je,dt,fn,Rn,li,Qn,Wr){this.url=k,this.params=x,this.queryParams=G,this.fragment=q,this.data=Ce,this.outlet=Je,this.component=dt,this.title=this.data?.[Kn],this.routeConfig=fn,this._urlSegment=Rn,this._lastPathIndex=li,this._correctedLastPathIndex=Wr??li,this._resolve=Qn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(G=>G.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _s extends fs{constructor(k,x){super(x),this.url=k,Us(this,x)}toString(){return Ys(this._root)}}function Us(R,k){k.value._routerState=R,k.children.forEach(x=>Us(R,x))}function Ys(R){const k=R.children.length>0?` { ${R.children.map(Ys).join(", ")} } `:"";return`${R.value}${k}`}function Fs(R){if(R.snapshot){const k=R.snapshot,x=R._futureSnapshot;R.snapshot=x,er(k.queryParams,x.queryParams)||R.queryParams.next(x.queryParams),k.fragment!==x.fragment&&R.fragment.next(x.fragment),er(k.params,x.params)||R.params.next(x.params),function Ln(R,k){if(R.length!==k.length)return!1;for(let x=0;x<R.length;++x)if(!er(R[x],k[x]))return!1;return!0}(k.url,x.url)||R.url.next(x.url),er(k.data,x.data)||R.data.next(x.data)}else R.snapshot=R._futureSnapshot,R.data.next(R._futureSnapshot.data)}function ui(R,k){const x=er(R.params,k.params)&&function sr(R,k){return it(R,k)&&R.every((x,G)=>er(x.parameters,k[G].parameters))}(R.url,k.url);return x&&!(!R.parent!=!k.parent)&&(!R.parent||ui(R.parent,k.parent))}function $r(R,k,x){if(x&&R.shouldReuseRoute(k.value,x.value.snapshot)){const G=x.value;G._futureSnapshot=k.value;const q=function cs(R,k,x){return k.children.map(G=>{for(const q of x.children)if(R.shouldReuseRoute(G.value,q.value.snapshot))return $r(R,G,q);return $r(R,G)})}(R,k,x);return new Ns(G,q)}{if(R.shouldAttach(k.value)){const Ce=R.retrieve(k.value);if(null!==Ce){const Je=Ce.route;return Je.value._futureSnapshot=k.value,Je.children=k.children.map(dt=>$r(R,dt)),Je}}const G=function ti(R){return new Cs(new Re.X(R.url),new Re.X(R.params),new Re.X(R.queryParams),new Re.X(R.fragment),new Re.X(R.data),R.outlet,R.component,R)}(k.value),q=k.children.map(Ce=>$r(R,Ce));return new Ns(G,q)}}const xs="ngNavigationCancelingError";function co(R,k){const{redirectTo:x,navigationBehaviorOptions:G}=qt(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,q=Mo(!1,0,k);return q.url=x,q.navigationBehaviorOptions=G,q}function Mo(R,k,x){const G=new Error("NavigationCancelingError: "+(R||""));return G[xs]=!0,G.cancellationCode=k,x&&(G.url=x),G}function ys(R){return xi(R)&&qt(R.url)}function xi(R){return R&&R[xs]}class jr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jr,this.attachRef=null}}let Jr=(()=>{class R{constructor(){this.contexts=new Map}onChildOutletCreated(x,G){const q=this.getOrCreateContext(x);q.outlet=G,this.contexts.set(x,q)}onChildOutletDestroyed(x){const G=this.getContext(x);G&&(G.outlet=null,G.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let G=this.getContext(x);return G||(G=new jr,this.contexts.set(x,G)),G}getContext(x){return this.contexts.get(x)||null}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const bo=!1;let go=(()=>{class R{constructor(x,G,q,Ce,Je){this.parentContexts=x,this.location=G,this.changeDetector=Ce,this.environmentInjector=Je,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=q||we,x.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const x=this.parentContexts.getContext(this.name);x&&x.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,bo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,bo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,bo);this.location.detach();const x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,G){this.activated=x,this._activatedRoute=G,this.location.insert(x.hostView),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){const x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,G){if(this.isActivated)throw new s.vHH(4013,bo);this._activatedRoute=x;const q=this.location,Je=x._futureSnapshot.component,dt=this.parentContexts.getOrCreateContext(this.name).children,fn=new Ki(x,dt,q.injector);if(G&&function Ls(R){return!!R.resolveComponentFactory}(G)){const Rn=G.resolveComponentFactory(Je);this.activated=q.createComponent(Rn,q.length,fn)}else this.activated=q.createComponent(Je,{index:q.length,injector:fn,environmentInjector:G??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return R.\u0275fac=function(x){return new(x||R)(s.Y36(Jr),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},R.\u0275dir=s.lG2({type:R,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),R})();class Ki{constructor(k,x,G){this.route=k,this.childContexts=x,this.parent=G}get(k,x){return k===Cs?this.route:k===Jr?this.childContexts:this.parent.get(k,x)}}let ha=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275cmp=s.Xpm({type:R,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(x,G){1&x&&s._UZ(0,"router-outlet")},dependencies:[go],encapsulation:2}),R})();function no(R,k){return R.providers&&!R._injector&&(R._injector=(0,s.MMx)(R.providers,k,`Route: ${R.path}`)),R._injector??k}function Hr(R){const k=R.children&&R.children.map(Hr),x=k?{...R,children:k}:{...R};return!x.component&&!x.loadComponent&&(k||x.loadChildren)&&x.outlet&&x.outlet!==we&&(x.component=ha),x}function Ms(R){return R.outlet||we}function ia(R,k){const x=R.filter(G=>Ms(G)===k);return x.push(...R.filter(G=>Ms(G)!==k)),x}function qr(R){if(!R)return null;if(R.routeConfig?._injector)return R.routeConfig._injector;for(let k=R.parent;k;k=k.parent){const x=k.routeConfig;if(x?._loadedInjector)return x._loadedInjector;if(x?._injector)return x._injector}return null}class fa{constructor(k,x,G,q){this.routeReuseStrategy=k,this.futureState=x,this.currState=G,this.forwardEvent=q}activate(k){const x=this.futureState._root,G=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,G,k),Fs(this.futureState.root),this.activateChildRoutes(x,G,k)}deactivateChildRoutes(k,x,G){const q=to(x);k.children.forEach(Ce=>{const Je=Ce.value.outlet;this.deactivateRoutes(Ce,q[Je],G),delete q[Je]}),Hn(q,(Ce,Je)=>{this.deactivateRouteAndItsChildren(Ce,G)})}deactivateRoutes(k,x,G){const q=k.value,Ce=x?x.value:null;if(q===Ce)if(q.component){const Je=G.getContext(q.outlet);Je&&this.deactivateChildRoutes(k,x,Je.children)}else this.deactivateChildRoutes(k,x,G);else Ce&&this.deactivateRouteAndItsChildren(x,G)}deactivateRouteAndItsChildren(k,x){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,x):this.deactivateRouteAndOutlet(k,x)}detachAndStoreRouteSubtree(k,x){const G=x.getContext(k.value.outlet),q=G&&k.value.component?G.children:x,Ce=to(k);for(const Je of Object.keys(Ce))this.deactivateRouteAndItsChildren(Ce[Je],q);if(G&&G.outlet){const Je=G.outlet.detach(),dt=G.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:Je,route:k,contexts:dt})}}deactivateRouteAndOutlet(k,x){const G=x.getContext(k.value.outlet),q=G&&k.value.component?G.children:x,Ce=to(k);for(const Je of Object.keys(Ce))this.deactivateRouteAndItsChildren(Ce[Je],q);G&&G.outlet&&(G.outlet.deactivate(),G.children.onOutletDeactivated(),G.attachRef=null,G.resolver=null,G.route=null)}activateChildRoutes(k,x,G){const q=to(x);k.children.forEach(Ce=>{this.activateRoutes(Ce,q[Ce.value.outlet],G),this.forwardEvent(new Pn(Ce.value.snapshot))}),k.children.length&&this.forwardEvent(new jt(k.value.snapshot))}activateRoutes(k,x,G){const q=k.value,Ce=x?x.value:null;if(Fs(q),q===Ce)if(q.component){const Je=G.getOrCreateContext(q.outlet);this.activateChildRoutes(k,x,Je.children)}else this.activateChildRoutes(k,x,G);else if(q.component){const Je=G.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const dt=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),Je.children.onOutletReAttached(dt.contexts),Je.attachRef=dt.componentRef,Je.route=dt.route.value,Je.outlet&&Je.outlet.attach(dt.componentRef,dt.route.value),Fs(dt.route.value),this.activateChildRoutes(k,null,Je.children)}else{const dt=qr(q.snapshot),fn=dt?.get(s._Vd)??null;Je.attachRef=null,Je.route=q,Je.resolver=fn,Je.injector=dt,Je.outlet&&Je.outlet.activateWith(q,Je.injector),this.activateChildRoutes(k,null,Je.children)}}else this.activateChildRoutes(k,null,G)}}class qs{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class es{constructor(k,x){this.component=k,this.route=x}}function Uo(R,k,x){const G=R._root;return Z(G,k?k._root:null,x,[G.value])}function T(R,k){const x=Symbol(),G=k.get(R,x);return G===x?"function"!=typeof R||(0,s.Z0I)(R)?k.get(R):R:G}function Z(R,k,x,G,q={canDeactivateChecks:[],canActivateChecks:[]}){const Ce=to(k);return R.children.forEach(Je=>{(function A(R,k,x,G,q={canDeactivateChecks:[],canActivateChecks:[]}){const Ce=R.value,Je=k?k.value:null,dt=x?x.getContext(R.value.outlet):null;if(Je&&Ce.routeConfig===Je.routeConfig){const fn=function Y(R,k,x){if("function"==typeof x)return x(R,k);switch(x){case"pathParamsChange":return!it(R.url,k.url);case"pathParamsOrQueryParamsChange":return!it(R.url,k.url)||!er(R.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ui(R,k)||!er(R.queryParams,k.queryParams);default:return!ui(R,k)}}(Je,Ce,Ce.routeConfig.runGuardsAndResolvers);fn?q.canActivateChecks.push(new qs(G)):(Ce.data=Je.data,Ce._resolvedData=Je._resolvedData),Z(R,k,Ce.component?dt?dt.children:null:x,G,q),fn&&dt&&dt.outlet&&dt.outlet.isActivated&&q.canDeactivateChecks.push(new es(dt.outlet.component,Je))}else Je&&xe(k,dt,q),q.canActivateChecks.push(new qs(G)),Z(R,null,Ce.component?dt?dt.children:null:x,G,q)})(Je,Ce[Je.value.outlet],x,G.concat([Je.value]),q),delete Ce[Je.value.outlet]}),Hn(Ce,(Je,dt)=>xe(Je,x.getContext(dt),q)),q}function xe(R,k,x){const G=to(R),q=R.value;Hn(G,(Ce,Je)=>{xe(Ce,q.component?k?k.children.getContext(Je):null:k,x)}),x.canDeactivateChecks.push(new es(q.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,q))}function zt(R){return"function"==typeof R}function rn(R){return R instanceof oe.K||"EmptyError"===R?.name}const Dn=Symbol("INITIAL_VALUE");function kn(){return(0,Le.w)(R=>(0,ue.aj)(R.map(k=>k.pipe((0,Ve.q)(1),(0,Ft.O)(Dn)))).pipe((0,Be.U)(k=>{for(const x of k)if(!0!==x){if(x===Dn)return Dn;if(!1===x||x instanceof ir)return x}return!0}),(0,yt.h)(k=>k!==Dn),(0,Ve.q)(1)))}function Vo(R){return(0,se.z)((0,Pe.b)(k=>{if(qt(k))throw co(0,k)}),(0,Be.U)(k=>!0===k))}const gs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sa(R,k,x,G,q){const Ce=Oo(R,k,x);return Ce.matched?function gi(R,k,x,G){const q=k.canMatch;if(!q||0===q.length)return(0,K.of)(!0);const Ce=q.map(Je=>{const dt=T(Je,R);return gr(function j(R){return R&&zt(R.canMatch)}(dt)?dt.canMatch(k,x):R.runInContext(()=>dt(k,x)))});return(0,K.of)(Ce).pipe(kn(),Vo())}(G=no(k,G),k,x).pipe((0,Be.U)(Je=>!0===Je?Ce:{...gs})):(0,K.of)(Ce)}function Oo(R,k,x){if(""===k.path)return"full"===k.pathMatch&&(R.hasChildren()||x.length>0)?{...gs}:{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const q=(k.matcher||fi)(x,R,k);if(!q)return{...gs};const Ce={};Hn(q.posParams,(dt,fn)=>{Ce[fn]=dt.path});const Je=q.consumed.length>0?{...Ce,...q.consumed[q.consumed.length-1].parameters}:Ce;return{matched:!0,consumedSegments:q.consumed,remainingSegments:x.slice(q.consumed.length),parameters:Je,positionalParamSegments:q.posParams??{}}}function Co(R,k,x,G,q="corrected"){if(x.length>0&&function z(R,k,x){return x.some(G=>ut(R,k,G)&&Ms(G)!==we)}(R,x,G)){const Je=new On(k,function ae(R,k,x,G){const q={};q[we]=G,G._sourceSegment=R,G._segmentIndexShift=k.length;for(const Ce of x)if(""===Ce.path&&Ms(Ce)!==we){const Je=new On([],{});Je._sourceSegment=R,Je._segmentIndexShift=k.length,q[Ms(Ce)]=Je}return q}(R,k,G,new On(x,R.children)));return Je._sourceSegment=R,Je._segmentIndexShift=k.length,{segmentGroup:Je,slicedSegments:[]}}if(0===x.length&&function Se(R,k,x){return x.some(G=>ut(R,k,G))}(R,x,G)){const Je=new On(R.segments,function U(R,k,x,G,q,Ce){const Je={};for(const dt of G)if(ut(R,x,dt)&&!q[Ms(dt)]){const fn=new On([],{});fn._sourceSegment=R,fn._segmentIndexShift="legacy"===Ce?R.segments.length:k.length,Je[Ms(dt)]=fn}return{...q,...Je}}(R,k,x,G,R.children,q));return Je._sourceSegment=R,Je._segmentIndexShift=k.length,{segmentGroup:Je,slicedSegments:x}}const Ce=new On(R.segments,R.children);return Ce._sourceSegment=R,Ce._segmentIndexShift=k.length,{segmentGroup:Ce,slicedSegments:x}}function ut(R,k,x){return(!(R.hasChildren()||k.length>0)||"full"!==x.pathMatch)&&""===x.path}function Wt(R,k,x,G){return!!(Ms(R)===G||G!==we&&ut(k,x,R))&&("**"===R.path||Oo(k,R,x).matched)}function dn(R,k,x){return 0===k.length&&!R.children[x]}const rr=!1;class mi{constructor(k){this.segmentGroup=k||null}}class Ti{constructor(k){this.urlTree=k}}function Oi(R){return(0,le._)(new mi(R))}function bi(R){return(0,le._)(new Ti(R))}class Ra{constructor(k,x,G,q,Ce){this.injector=k,this.configLoader=x,this.urlSerializer=G,this.urlTree=q,this.config=Ce,this.allowRedirects=!0}apply(){const k=Co(this.urlTree.root,[],[],this.config).segmentGroup,x=new On(k.segments,k.children);return this.expandSegmentGroup(this.injector,this.config,x,we).pipe((0,Be.U)(Ce=>this.createUrlTree(Vt(Ce),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Xe.K)(Ce=>{if(Ce instanceof Ti)return this.allowRedirects=!1,this.match(Ce.urlTree);throw Ce instanceof mi?this.noMatchError(Ce):Ce}))}match(k){return this.expandSegmentGroup(this.injector,this.config,k.root,we).pipe((0,Be.U)(q=>this.createUrlTree(Vt(q),k.queryParams,k.fragment))).pipe((0,Xe.K)(q=>{throw q instanceof mi?this.noMatchError(q):q}))}noMatchError(k){return new s.vHH(4002,rr)}createUrlTree(k,x,G){const q=mt(k);return new ir(q,x,G)}expandSegmentGroup(k,x,G,q){return 0===G.segments.length&&G.hasChildren()?this.expandChildren(k,x,G).pipe((0,Be.U)(Ce=>new On([],Ce))):this.expandSegment(k,G,x,G.segments,q,!0)}expandChildren(k,x,G){const q=[];for(const Ce of Object.keys(G.children))"primary"===Ce?q.unshift(Ce):q.push(Ce);return(0,Q.D)(q).pipe((0,St.b)(Ce=>{const Je=G.children[Ce],dt=ia(x,Ce);return this.expandSegmentGroup(k,dt,Je,Ce).pipe((0,Be.U)(fn=>({segment:fn,outlet:Ce})))}),(0,Ee.R)((Ce,Je)=>(Ce[Je.outlet]=Je.segment,Ce),{}),gt())}expandSegment(k,x,G,q,Ce,Je){return(0,Q.D)(G).pipe((0,St.b)(dt=>this.expandSegmentAgainstRoute(k,x,G,dt,q,Ce,Je).pipe((0,Xe.K)(Rn=>{if(Rn instanceof mi)return(0,K.of)(null);throw Rn}))),(0,nt.P)(dt=>!!dt),(0,Xe.K)((dt,fn)=>{if(rn(dt))return dn(x,q,Ce)?(0,K.of)(new On([],{})):Oi(x);throw dt}))}expandSegmentAgainstRoute(k,x,G,q,Ce,Je,dt){return Wt(q,x,Ce,Je)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(k,x,q,Ce,Je):dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,x,G,q,Ce,Je):Oi(x):Oi(x)}expandSegmentAgainstRouteUsingRedirect(k,x,G,q,Ce,Je){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,G,q,Je):this.expandRegularSegmentAgainstRouteUsingRedirect(k,x,G,q,Ce,Je)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,x,G,q){const Ce=this.applyRedirectCommands([],G.redirectTo,{});return G.redirectTo.startsWith("/")?bi(Ce):this.lineralizeSegments(G,Ce).pipe((0,Mt.zg)(Je=>{const dt=new On(Je,{});return this.expandSegment(k,dt,x,Je,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,x,G,q,Ce,Je){const{matched:dt,consumedSegments:fn,remainingSegments:Rn,positionalParamSegments:li}=Oo(x,q,Ce);if(!dt)return Oi(x);const Qn=this.applyRedirectCommands(fn,q.redirectTo,li);return q.redirectTo.startsWith("/")?bi(Qn):this.lineralizeSegments(q,Qn).pipe((0,Mt.zg)(Wr=>this.expandSegment(k,x,G,Wr.concat(Rn),Je,!1)))}matchSegmentAgainstRoute(k,x,G,q,Ce){return"**"===G.path?(k=no(G,k),G.loadChildren?(G._loadedRoutes?(0,K.of)({routes:G._loadedRoutes,injector:G._loadedInjector}):this.configLoader.loadChildren(k,G)).pipe((0,Be.U)(dt=>(G._loadedRoutes=dt.routes,G._loadedInjector=dt.injector,new On(q,{})))):(0,K.of)(new On(q,{}))):sa(x,G,q,k).pipe((0,Le.w)(({matched:Je,consumedSegments:dt,remainingSegments:fn})=>Je?this.getChildConfig(k=G._injector??k,G,q).pipe((0,Mt.zg)(li=>{const Qn=li.injector??k,Wr=li.routes,{segmentGroup:To,slicedSegments:Ds}=Co(x,dt,fn,Wr),So=new On(To.segments,To.children);if(0===Ds.length&&So.hasChildren())return this.expandChildren(Qn,Wr,So).pipe((0,Be.U)(ka=>new On(dt,ka)));if(0===Wr.length&&0===Ds.length)return(0,K.of)(new On(dt,{}));const Rs=Ms(G)===Ce;return this.expandSegment(Qn,So,Wr,Ds,Rs?we:Ce,!0).pipe((0,Be.U)(Vl=>new On(dt.concat(Vl.segments),Vl.children)))})):Oi(x)))}getChildConfig(k,x,G){return x.children?(0,K.of)({routes:x.children,injector:k}):x.loadChildren?void 0!==x._loadedRoutes?(0,K.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):function Zs(R,k,x,G){const q=k.canLoad;if(void 0===q||0===q.length)return(0,K.of)(!0);const Ce=q.map(Je=>{const dt=T(Je,R);return gr(function dr(R){return R&&zt(R.canLoad)}(dt)?dt.canLoad(k,x):R.runInContext(()=>dt(k,x)))});return(0,K.of)(Ce).pipe(kn(),Vo())}(k,x,G).pipe((0,Mt.zg)(q=>q?this.configLoader.loadChildren(k,x).pipe((0,Pe.b)(Ce=>{x._loadedRoutes=Ce.routes,x._loadedInjector=Ce.injector})):function ts(R){return(0,le._)(Mo(rr,3))}())):(0,K.of)({routes:[],injector:k})}lineralizeSegments(k,x){let G=[],q=x.root;for(;;){if(G=G.concat(q.segments),0===q.numberOfChildren)return(0,K.of)(G);if(q.numberOfChildren>1||!q.children[we])return(0,le._)(new s.vHH(4e3,rr));q=q.children[we]}}applyRedirectCommands(k,x,G){return this.applyRedirectCreateUrlTree(x,this.urlSerializer.parse(x),k,G)}applyRedirectCreateUrlTree(k,x,G,q){const Ce=this.createSegmentGroup(k,x.root,G,q);return new ir(Ce,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(k,x){const G={};return Hn(k,(q,Ce)=>{if("string"==typeof q&&q.startsWith(":")){const dt=q.substring(1);G[Ce]=x[dt]}else G[Ce]=q}),G}createSegmentGroup(k,x,G,q){const Ce=this.createSegments(k,x.segments,G,q);let Je={};return Hn(x.children,(dt,fn)=>{Je[fn]=this.createSegmentGroup(k,dt,G,q)}),new On(Ce,Je)}createSegments(k,x,G,q){return x.map(Ce=>Ce.path.startsWith(":")?this.findPosParam(k,Ce,q):this.findOrReturn(Ce,G))}findPosParam(k,x,G){const q=G[x.path.substring(1)];if(!q)throw new s.vHH(4001,rr);return q}findOrReturn(k,x){let G=0;for(const q of x){if(q.path===k.path)return x.splice(G),q;G++}return k}}class ga{}class Ba{constructor(k,x,G,q,Ce,Je,dt,fn){this.injector=k,this.rootComponentType=x,this.config=G,this.urlTree=q,this.url=Ce,this.paramsInheritanceStrategy=Je,this.relativeLinkResolution=dt,this.urlSerializer=fn}recognize(){const k=Co(this.urlTree.root,[],[],this.config.filter(x=>void 0===x.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,k,we).pipe((0,Be.U)(x=>{if(null===x)return null;const G=new Es([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},we,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new Ns(G,x),Ce=new _s(this.url,q);return this.inheritParamsAndData(Ce._root),Ce}))}inheritParamsAndData(k){const x=k.value,G=Da(x,this.paramsInheritanceStrategy);x.params=Object.freeze(G.params),x.data=Object.freeze(G.data),k.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(k,x,G,q){return 0===G.segments.length&&G.hasChildren()?this.processChildren(k,x,G):this.processSegment(k,x,G,G.segments,q)}processChildren(k,x,G){return(0,Q.D)(Object.keys(G.children)).pipe((0,St.b)(q=>{const Ce=G.children[q],Je=ia(x,q);return this.processSegmentGroup(k,Je,Ce,q)}),(0,Ee.R)((q,Ce)=>q&&Ce?(q.push(...Ce),q):null),function Ze(R,k=!1){return x=>x.lift(new ze(R,k))}(q=>null!==q),(0,It.d)(null),gt(),(0,Be.U)(q=>{if(null===q)return null;const Ce=Zl(q);return function wl(R){R.sort((k,x)=>k.value.outlet===we?-1:x.value.outlet===we?1:k.value.outlet.localeCompare(x.value.outlet))}(Ce),Ce}))}processSegment(k,x,G,q,Ce){return(0,Q.D)(x).pipe((0,St.b)(Je=>this.processSegmentAgainstRoute(Je._injector??k,Je,G,q,Ce)),(0,nt.P)(Je=>!!Je),(0,Xe.K)(Je=>{if(rn(Je))return dn(G,q,Ce)?(0,K.of)([]):(0,K.of)(null);throw Je}))}processSegmentAgainstRoute(k,x,G,q,Ce){if(x.redirectTo||!Wt(x,G,q,Ce))return(0,K.of)(null);let Je;if("**"===x.path){const dt=q.length>0?yr(q).parameters:{},fn=Ta(G)+q.length,Rn=new Es(q,dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$a(x),Ms(x),x.component??x._loadedComponent??null,x,Fl(G),fn,Ql(x),fn);Je=(0,K.of)({snapshot:Rn,consumedSegments:[],remainingSegments:[]})}else Je=sa(G,x,q,k).pipe((0,Be.U)(({matched:dt,consumedSegments:fn,remainingSegments:Rn,parameters:li})=>{if(!dt)return null;const Qn=Ta(G)+fn.length;return{snapshot:new Es(fn,li,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$a(x),Ms(x),x.component??x._loadedComponent??null,x,Fl(G),Qn,Ql(x),Qn),consumedSegments:fn,remainingSegments:Rn}}));return Je.pipe((0,Le.w)(dt=>{if(null===dt)return(0,K.of)(null);const{snapshot:fn,consumedSegments:Rn,remainingSegments:li}=dt;k=x._injector??k;const Qn=x._loadedInjector??k,Wr=function vs(R){return R.children?R.children:R.loadChildren?R._loadedRoutes:[]}(x),{segmentGroup:To,slicedSegments:Ds}=Co(G,Rn,li,Wr.filter(Rs=>void 0===Rs.redirectTo),this.relativeLinkResolution);if(0===Ds.length&&To.hasChildren())return this.processChildren(Qn,Wr,To).pipe((0,Be.U)(Rs=>null===Rs?null:[new Ns(fn,Rs)]));if(0===Wr.length&&0===Ds.length)return(0,K.of)([new Ns(fn,[])]);const So=Ms(x)===Ce;return this.processSegment(Qn,Wr,To,Ds,So?we:Ce).pipe((0,Be.U)(Rs=>null===Rs?null:[new Ns(fn,Rs)]))}))}}function kl(R){const k=R.value.routeConfig;return k&&""===k.path&&void 0===k.redirectTo}function Zl(R){const k=[],x=new Set;for(const G of R){if(!kl(G)){k.push(G);continue}const q=k.find(Ce=>G.value.routeConfig===Ce.value.routeConfig);void 0!==q?(q.children.push(...G.children),x.add(q)):k.push(G)}for(const G of x){const q=Zl(G.children);k.push(new Ns(G.value,q))}return k.filter(G=>!x.has(G))}function Fl(R){let k=R;for(;k._sourceSegment;)k=k._sourceSegment;return k}function Ta(R){let k=R,x=k._segmentIndexShift??0;for(;k._sourceSegment;)k=k._sourceSegment,x+=k._segmentIndexShift??0;return x-1}function $a(R){return R.data||{}}function Ql(R){return R.resolve||{}}function _a(R){return"string"==typeof R.title||null===R.title}function Ja(R){return(0,Le.w)(k=>{const x=R(k);return x?(0,Q.D)(x).pipe((0,Be.U)(()=>k)):(0,K.of)(k)})}let Jl=(()=>{class R{buildTitle(x){let G,q=x.root;for(;void 0!==q;)G=this.getResolvedTitleForRoute(q)??G,q=q.children.find(Ce=>Ce.outlet===we);return G}getResolvedTitleForRoute(x){return x.data[Kn]}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=s.Yz7({token:R,factory:function(){return(0,s.f3M)(Ua)},providedIn:"root"}),R})(),Ua=(()=>{class R extends Jl{constructor(x){super(),this.title=x}updateTitle(x){const G=this.buildTitle(x);void 0!==G&&this.title.setTitle(G)}}return R.\u0275fac=function(x){return new(x||R)(s.LFG(Sn.Dx))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();class wi{}class Do extends class ro{shouldDetach(k){return!1}store(k,x){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,x){return k.routeConfig===x.routeConfig}}{}const Cl=new s.OlP("",{providedIn:"root",factory:()=>({})}),Os=new s.OlP("ROUTES");let Zo=(()=>{class R{constructor(x,G){this.injector=x,this.compiler=G,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(x){if(this.componentLoaders.get(x))return this.componentLoaders.get(x);if(x._loadedComponent)return(0,K.of)(x._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(x);const G=gr(x.loadComponent()).pipe((0,Pe.b)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(x),x._loadedComponent=Ce}),(0,Cn.x)(()=>{this.componentLoaders.delete(x)})),q=new ge.c(G,()=>new Ue.xQ).pipe((0,Bt.x)());return this.componentLoaders.set(x,q),q}loadChildren(x,G){if(this.childrenLoaders.get(G))return this.childrenLoaders.get(G);if(G._loadedRoutes)return(0,K.of)({routes:G._loadedRoutes,injector:G._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(G);const Ce=this.loadModuleFactoryOrRoutes(G.loadChildren).pipe((0,Be.U)(dt=>{this.onLoadEndListener&&this.onLoadEndListener(G);let fn,Rn,li=!1;Array.isArray(dt)?Rn=dt:(fn=dt.create(x).injector,Rn=hn(fn.get(Os,[],s.XFs.Self|s.XFs.Optional)));return{routes:Rn.map(Hr),injector:fn}}),(0,Cn.x)(()=>{this.childrenLoaders.delete(G)})),Je=new ge.c(Ce,()=>new Ue.xQ).pipe((0,Bt.x)());return this.childrenLoaders.set(G,Je),Je}loadModuleFactoryOrRoutes(x){return gr(x()).pipe((0,Mt.zg)(G=>G instanceof s.YKP||Array.isArray(G)?(0,K.of)(G):(0,Q.D)(this.compiler.compileModuleAsync(G))))}}return R.\u0275fac=function(x){return new(x||R)(s.LFG(s.zs3),s.LFG(s.Sil))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();class fl{}class Xn{shouldProcessUrl(k){return!0}extract(k){return k}merge(k,x){return k}}function Po(R){throw R}function Zn(R,k,x){return k.parse("/")}const sn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Qo(){const R=(0,s.f3M)(qe),k=(0,s.f3M)(Jr),x=(0,s.f3M)(ct.Ye),G=(0,s.f3M)(s.zs3),q=(0,s.f3M)(s.Sil),Ce=(0,s.f3M)(Os,{optional:!0})??[],Je=(0,s.f3M)(Cl,{optional:!0})??{},dt=(0,s.f3M)(Ua),fn=(0,s.f3M)(Jl,{optional:!0}),Rn=(0,s.f3M)(fl,{optional:!0}),li=(0,s.f3M)(wi,{optional:!0}),Qn=new rs(null,R,k,x,G,q,hn(Ce));return Rn&&(Qn.urlHandlingStrategy=Rn),li&&(Qn.routeReuseStrategy=li),Qn.titleStrategy=fn??dt,function ii(R,k){R.errorHandler&&(k.errorHandler=R.errorHandler),R.malformedUriErrorHandler&&(k.malformedUriErrorHandler=R.malformedUriErrorHandler),R.onSameUrlNavigation&&(k.onSameUrlNavigation=R.onSameUrlNavigation),R.paramsInheritanceStrategy&&(k.paramsInheritanceStrategy=R.paramsInheritanceStrategy),R.relativeLinkResolution&&(k.relativeLinkResolution=R.relativeLinkResolution),R.urlUpdateStrategy&&(k.urlUpdateStrategy=R.urlUpdateStrategy),R.canceledNavigationResolution&&(k.canceledNavigationResolution=R.canceledNavigationResolution)}(Je,Qn),Qn}let rs=(()=>{class R{constructor(x,G,q,Ce,Je,dt,fn){this.rootComponentType=x,this.urlSerializer=G,this.rootContexts=q,this.location=Ce,this.config=fn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ue.xQ,this.errorHandler=Po,this.malformedUriErrorHandler=Zn,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,K.of)(void 0),this.urlHandlingStrategy=new Xn,this.routeReuseStrategy=new Do,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Je.get(Zo),this.configLoader.onLoadEndListener=Wr=>this.triggerEvent(new wt(Wr)),this.configLoader.onLoadStartListener=Wr=>this.triggerEvent(new Ni(Wr)),this.ngModule=Je.get(s.h0i),this.console=Je.get(s.c2e);const Qn=Je.get(s.R0b);this.isNgZoneEnabled=Qn instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(fn),this.currentUrlTree=function Ir(){return new ir(new On([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zs(this.currentUrlTree,this.rootComponentType),this.transitions=new Re.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(x){const G=this.events;return x.pipe((0,yt.h)(q=>0!==q.id),(0,Be.U)(q=>({...q,extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,Le.w)(q=>{let Ce=!1,Je=!1;return(0,K.of)(q).pipe((0,Pe.b)(dt=>{this.currentNavigation={id:dt.id,initialUrl:dt.rawUrl,extractedUrl:dt.extractedUrl,trigger:dt.source,extras:dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Le.w)(dt=>{const fn=this.browserUrlTree.toString(),Rn=!this.navigated||dt.extractedUrl.toString()!==fn||fn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Rn)&&this.urlHandlingStrategy.shouldProcessUrl(dt.rawUrl))return el(dt.source)&&(this.browserUrlTree=dt.extractedUrl),(0,K.of)(dt).pipe((0,Le.w)(Qn=>{const Wr=this.transitions.getValue();return G.next(new Qe(Qn.id,this.serializeUrl(Qn.extractedUrl),Qn.source,Qn.restoredState)),Wr!==this.transitions.getValue()?De.E:Promise.resolve(Qn)}),function pa(R,k,x,G){return(0,Le.w)(q=>function ns(R,k,x,G,q){return new Ra(R,k,x,G,q).apply()}(R,k,x,q.extractedUrl,G).pipe((0,Be.U)(Ce=>({...q,urlAfterRedirects:Ce}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pe.b)(Qn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Qn.urlAfterRedirects},q.urlAfterRedirects=Qn.urlAfterRedirects}),function Qa(R,k,x,G,q,Ce){return(0,Mt.zg)(Je=>function jo(R,k,x,G,q,Ce,Je="emptyOnly",dt="legacy"){return new Ba(R,k,x,G,q,Je,dt,Ce).recognize().pipe((0,Le.w)(fn=>null===fn?function ma(R){return new pe.y(k=>k.error(R))}(new ga):(0,K.of)(fn)))}(R,k,x,Je.urlAfterRedirects,G.serialize(Je.urlAfterRedirects),G,q,Ce).pipe((0,Be.U)(dt=>({...Je,targetSnapshot:dt}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pe.b)(Qn=>{if(q.targetSnapshot=Qn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Qn.extras.skipLocationChange){const To=this.urlHandlingStrategy.merge(Qn.urlAfterRedirects,Qn.rawUrl);this.setBrowserUrl(To,Qn)}this.browserUrlTree=Qn.urlAfterRedirects}const Wr=new cn(Qn.id,this.serializeUrl(Qn.extractedUrl),this.serializeUrl(Qn.urlAfterRedirects),Qn.targetSnapshot);G.next(Wr)}));if(Rn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Wr,extractedUrl:To,source:Ds,restoredState:So,extras:Rs}=dt,Xs=new Qe(Wr,this.serializeUrl(To),Ds,So);G.next(Xs);const Vl=zs(To,this.rootComponentType).snapshot;return q={...dt,targetSnapshot:Vl,urlAfterRedirects:To,extras:{...Rs,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(q)}return this.rawUrlTree=dt.rawUrl,dt.resolve(null),De.E}),(0,Pe.b)(dt=>{const fn=new Jn(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(fn)}),(0,Be.U)(dt=>q={...dt,guards:Uo(dt.targetSnapshot,dt.currentSnapshot,this.rootContexts)}),function xr(R,k){return(0,Mt.zg)(x=>{const{targetSnapshot:G,currentSnapshot:q,guards:{canActivateChecks:Ce,canDeactivateChecks:Je}}=x;return 0===Je.length&&0===Ce.length?(0,K.of)({...x,guardsResult:!0}):function ri(R,k,x,G){return(0,Q.D)(R).pipe((0,Mt.zg)(q=>function pi(R,k,x,G,q){const Ce=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!Ce||0===Ce.length)return(0,K.of)(!0);const Je=Ce.map(dt=>{const fn=qr(k)??q,Rn=T(dt,fn);return gr(function S(R){return R&&zt(R.canDeactivate)}(Rn)?Rn.canDeactivate(R,k,x,G):fn.runInContext(()=>Rn(R,k,x,G))).pipe((0,nt.P)())});return(0,K.of)(Je).pipe(kn())}(q.component,q.route,x,k,G)),(0,nt.P)(q=>!0!==q,!0))}(Je,G,q,R).pipe((0,Mt.zg)(dt=>dt&&function jn(R){return"boolean"==typeof R}(dt)?function Bi(R,k,x,G){return(0,Q.D)(k).pipe((0,St.b)(q=>(0,me.z)(function ki(R,k){return null!==R&&k&&k(new Dt(R)),(0,K.of)(!0)}(q.route.parent,G),function Vi(R,k){return null!==R&&k&&k(new mn(R)),(0,K.of)(!0)}(q.route,G),function Sr(R,k,x){const G=k[k.length-1],Ce=k.slice(0,k.length-1).reverse().map(Je=>function pn(R){const k=R.routeConfig?R.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:R,guards:k}:null}(Je)).filter(Je=>null!==Je).map(Je=>ce(()=>{const dt=Je.guards.map(fn=>{const Rn=qr(Je.node)??x,li=T(fn,Rn);return gr(function C(R){return R&&zt(R.canActivateChild)}(li)?li.canActivateChild(G,R):Rn.runInContext(()=>li(G,R))).pipe((0,nt.P)())});return(0,K.of)(dt).pipe(kn())}));return(0,K.of)(Ce).pipe(kn())}(R,q.path,x),function ji(R,k,x){const G=k.routeConfig?k.routeConfig.canActivate:null;if(!G||0===G.length)return(0,K.of)(!0);const q=G.map(Ce=>ce(()=>{const Je=qr(k)??x,dt=T(Ce,Je);return gr(function E(R){return R&&zt(R.canActivate)}(dt)?dt.canActivate(k,R):Je.runInContext(()=>dt(k,R))).pipe((0,nt.P)())}));return(0,K.of)(q).pipe(kn())}(R,q.route,x))),(0,nt.P)(q=>!0!==q,!0))}(G,Ce,R,k):(0,K.of)(dt)),(0,Be.U)(dt=>({...x,guardsResult:dt})))})}(this.ngModule.injector,dt=>this.triggerEvent(dt)),(0,Pe.b)(dt=>{if(q.guardsResult=dt.guardsResult,qt(dt.guardsResult))throw co(0,dt.guardsResult);const fn=new or(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot,!!dt.guardsResult);this.triggerEvent(fn)}),(0,yt.h)(dt=>!!dt.guardsResult||(this.restoreHistory(dt),this.cancelNavigationTransition(dt,"",3),!1)),Ja(dt=>{if(dt.guards.canActivateChecks.length)return(0,K.of)(dt).pipe((0,Pe.b)(fn=>{const Rn=new Nr(fn.id,this.serializeUrl(fn.extractedUrl),this.serializeUrl(fn.urlAfterRedirects),fn.targetSnapshot);this.triggerEvent(Rn)}),(0,Le.w)(fn=>{let Rn=!1;return(0,K.of)(fn).pipe(function Gc(R,k){return(0,Mt.zg)(x=>{const{targetSnapshot:G,guards:{canActivateChecks:q}}=x;if(!q.length)return(0,K.of)(x);let Ce=0;return(0,Q.D)(q).pipe((0,St.b)(Je=>function au(R,k,x,G){const q=R.routeConfig,Ce=R._resolve;return void 0!==q?.title&&!_a(q)&&(Ce[Kn]=q.title),function mo(R,k,x,G){const q=function dc(R){return[...Object.keys(R),...Object.getOwnPropertySymbols(R)]}(R);if(0===q.length)return(0,K.of)({});const Ce={};return(0,Q.D)(q).pipe((0,Mt.zg)(Je=>function qo(R,k,x,G){const q=qr(k)??G,Ce=T(R,q);return gr(Ce.resolve?Ce.resolve(k,x):q.runInContext(()=>Ce(k,x)))}(R[Je],k,x,G).pipe((0,nt.P)(),(0,Pe.b)(dt=>{Ce[Je]=dt}))),he(1),function pt(R){return k=>k.lift(new Tt(R))}(Ce),(0,Xe.K)(Je=>rn(Je)?De.E:(0,le._)(Je)))}(Ce,R,k,G).pipe((0,Be.U)(Je=>(R._resolvedData=Je,R.data=Da(R,x).resolve,q&&_a(q)&&(R.data[Kn]=q.title),null)))}(Je.route,G,R,k)),(0,Pe.b)(()=>Ce++),he(1),(0,Mt.zg)(Je=>Ce===q.length?(0,K.of)(x):De.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pe.b)({next:()=>Rn=!0,complete:()=>{Rn||(this.restoreHistory(fn),this.cancelNavigationTransition(fn,"",2))}}))}),(0,Pe.b)(fn=>{const Rn=new Fi(fn.id,this.serializeUrl(fn.extractedUrl),this.serializeUrl(fn.urlAfterRedirects),fn.targetSnapshot);this.triggerEvent(Rn)}))}),Ja(dt=>{const fn=Rn=>{const li=[];Rn.routeConfig?.loadComponent&&!Rn.routeConfig._loadedComponent&&li.push(this.configLoader.loadComponent(Rn.routeConfig).pipe((0,Pe.b)(Qn=>{Rn.component=Qn}),(0,Be.U)(()=>{})));for(const Qn of Rn.children)li.push(...fn(Qn));return li};return(0,ue.aj)(fn(dt.targetSnapshot.root)).pipe((0,It.d)(),(0,Ve.q)(1))}),Ja(()=>this.afterPreactivation()),(0,Be.U)(dt=>{const fn=function di(R,k,x){const G=$r(R,k._root,x?x._root:void 0);return new Ws(G,k)}(this.routeReuseStrategy,dt.targetSnapshot,dt.currentRouterState);return q={...dt,targetRouterState:fn}}),(0,Pe.b)(dt=>{this.currentUrlTree=dt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(dt.urlAfterRedirects,dt.rawUrl),this.routerState=dt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(dt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,dt),this.browserUrlTree=dt.urlAfterRedirects)}),((R,k,x)=>(0,Be.U)(G=>(new fa(k,G.targetRouterState,G.currentRouterState,x).activate(R),G)))(this.rootContexts,this.routeReuseStrategy,dt=>this.triggerEvent(dt)),(0,Pe.b)({next(){Ce=!0},complete(){Ce=!0}}),(0,Cn.x)(()=>{Ce||Je||this.cancelNavigationTransition(q,"",1),this.currentNavigation?.id===q.id&&(this.currentNavigation=null)}),(0,Xe.K)(dt=>{if(Je=!0,xi(dt)){ys(dt)||(this.navigated=!0,this.restoreHistory(q,!0));const fn=new an(q.id,this.serializeUrl(q.extractedUrl),dt.message,dt.cancellationCode);if(G.next(fn),ys(dt)){const Rn=this.urlHandlingStrategy.merge(dt.url,this.rawUrlTree),li={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||el(q.source)};this.scheduleNavigation(Rn,"imperative",null,li,{resolve:q.resolve,reject:q.reject,promise:q.promise})}else q.resolve(!1)}else{this.restoreHistory(q,!0);const fn=new Xt(q.id,this.serializeUrl(q.extractedUrl),dt,q.targetSnapshot??void 0);G.next(fn);try{q.resolve(this.errorHandler(dt))}catch(Rn){q.reject(Rn)}}return De.E}))}))}resetRootComponentType(x){this.rootComponentType=x,this.routerState.root.component=this.rootComponentType}setTransition(x){this.transitions.next({...this.transitions.value,...x})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(x=>{const G="popstate"===x.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{const q={replaceUrl:!0},Ce=x.state?.navigationId?x.state:null;if(Ce){const dt={...Ce};delete dt.navigationId,delete dt.\u0275routerPageId,0!==Object.keys(dt).length&&(q.state=dt)}const Je=this.parseUrl(x.url);this.scheduleNavigation(Je,G,Ce,q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(x){this.events.next(x)}resetConfig(x){this.config=x.map(Hr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(x,G={}){const{relativeTo:q,queryParams:Ce,fragment:Je,queryParamsHandling:dt,preserveFragment:fn}=G,Rn=q||this.routerState.root,li=fn?this.currentUrlTree.fragment:Je;let Qn=null;switch(dt){case"merge":Qn={...this.currentUrlTree.queryParams,...Ce};break;case"preserve":Qn=this.currentUrlTree.queryParams;break;default:Qn=Ce||null}return null!==Qn&&(Qn=this.removeEmptyProps(Qn)),Tr(Rn,this.currentUrlTree,x,Qn,li??null)}navigateByUrl(x,G={skipLocationChange:!1}){const q=qt(x)?x:this.parseUrl(x),Ce=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(Ce,"imperative",null,G)}navigate(x,G={skipLocationChange:!1}){return function pl(R){for(let k=0;k<R.length;k++){if(null==R[k])throw new s.vHH(4008,false)}}(x),this.navigateByUrl(this.createUrlTree(x,G),G)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){let G;try{G=this.urlSerializer.parse(x)}catch(q){G=this.malformedUriErrorHandler(q,this.urlSerializer,x)}return G}isActive(x,G){let q;if(q=!0===G?{...sn}:!1===G?{...Nn}:G,qt(x))return He(this.currentUrlTree,x,q);const Ce=this.parseUrl(x);return He(this.currentUrlTree,Ce,q)}removeEmptyProps(x){return Object.keys(x).reduce((G,q)=>{const Ce=x[q];return null!=Ce&&(G[q]=Ce),G},{})}processNavigations(){this.navigations.subscribe(x=>{this.navigated=!0,this.lastSuccessfulId=x.id,this.currentPageId=x.targetPageId,this.events.next(new Rt(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),x.resolve(!0)},x=>{this.console.warn(`Unhandled Navigation Error: ${x}`)})}scheduleNavigation(x,G,q,Ce,Je){if(this.disposed)return Promise.resolve(!1);let dt,fn,Rn;Je?(dt=Je.resolve,fn=Je.reject,Rn=Je.promise):Rn=new Promise((Wr,To)=>{dt=Wr,fn=To});const li=++this.navigationId;let Qn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(q=this.location.getState()),Qn=q&&q.\u0275routerPageId?q.\u0275routerPageId:Ce.replaceUrl||Ce.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Qn=0,this.setTransition({id:li,targetPageId:Qn,source:G,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:x,extras:Ce,resolve:dt,reject:fn,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(Wr=>Promise.reject(Wr))}setBrowserUrl(x,G){const q=this.urlSerializer.serialize(x),Ce={...G.extras.state,...this.generateNgRouterState(G.id,G.targetPageId)};this.location.isCurrentPathEqualTo(q)||G.extras.replaceUrl?this.location.replaceState(q,"",Ce):this.location.go(q,"",Ce)}restoreHistory(x,G=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-x.targetPageId;"popstate"!==x.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===q?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===q&&(this.resetState(x),this.browserUrlTree=x.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(q)}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=x.currentRouterState,this.currentUrlTree=x.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(x,G,q){const Ce=new an(x.id,this.serializeUrl(x.extractedUrl),G,q);this.triggerEvent(Ce),x.resolve(!1)}generateNgRouterState(x,G){return"computed"===this.canceledNavigationResolution?{navigationId:x,\u0275routerPageId:G}:{navigationId:x}}}return R.\u0275fac=function(x){s.$Z()},R.\u0275prov=s.Yz7({token:R,factory:function(){return Qo()},providedIn:"root"}),R})();function el(R){return"imperative"!==R}let El=(()=>{class R{constructor(x,G,q,Ce,Je){this.router=x,this.route=G,this.tabIndexAttribute=q,this.renderer=Ce,this.el=Je,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ue.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(x){this._preserveFragment=(0,s.D6c)(x)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(x){this._skipLocationChange=(0,s.D6c)(x)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(x){this._replaceUrl=(0,s.D6c)(x)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(x){if(null!=this.tabIndexAttribute)return;const G=this.renderer,q=this.el.nativeElement;null!==x?G.setAttribute(q,"tabindex",x):G.removeAttribute(q,"tabindex")}ngOnChanges(x){this.onChanges.next(this)}set routerLink(x){null!=x?(this.commands=Array.isArray(x)?x:[x],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return R.\u0275fac=function(x){return new(x||R)(s.Y36(rs),s.Y36(Cs),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},R.\u0275dir=s.lG2({type:R,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(x,G){1&x&&s.NdJ("click",function(){return G.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),R})(),Sa=(()=>{class R{constructor(x,G,q){this.router=x,this.route=G,this.locationStrategy=q,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ue.xQ,this.subscription=x.events.subscribe(Ce=>{Ce instanceof Rt&&this.updateTargetUrlAndHref()})}set preserveFragment(x){this._preserveFragment=(0,s.D6c)(x)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(x){this._skipLocationChange=(0,s.D6c)(x)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(x){this._replaceUrl=(0,s.D6c)(x)}get replaceUrl(){return this._replaceUrl}set routerLink(x){this.commands=null!=x?Array.isArray(x)?x:[x]:null}ngOnChanges(x){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(x,G,q,Ce,Je){return!!(0!==x||G||q||Ce||Je||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return R.\u0275fac=function(x){return new(x||R)(s.Y36(rs),s.Y36(Cs),s.Y36(ct.S$))},R.\u0275dir=s.lG2({type:R,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(x,G){1&x&&s.NdJ("click",function(Ce){return G.onClick(Ce.button,Ce.ctrlKey,Ce.shiftKey,Ce.altKey,Ce.metaKey)}),2&x&&s.uIk("target",G.target)("href",G.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),R})();class Va{}let Qs=(()=>{class R{preload(x,G){return G().pipe((0,Xe.K)(()=>(0,K.of)(null)))}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Vr=(()=>{class R{constructor(x,G,q,Ce,Je){this.router=x,this.injector=q,this.preloadingStrategy=Ce,this.loader=Je}setUpPreloading(){this.subscription=this.router.events.pipe((0,yt.h)(x=>x instanceof Rt),(0,St.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,G){const q=[];for(const Ce of G){Ce.providers&&!Ce._injector&&(Ce._injector=(0,s.MMx)(Ce.providers,x,`Route: ${Ce.path}`));const Je=Ce._injector??x,dt=Ce._loadedInjector??Je;Ce.loadChildren&&!Ce._loadedRoutes&&void 0===Ce.canLoad||Ce.loadComponent&&!Ce._loadedComponent?q.push(this.preloadConfig(Je,Ce)):(Ce.children||Ce._loadedRoutes)&&q.push(this.processRoutes(dt,Ce.children??Ce._loadedRoutes))}return(0,Q.D)(q).pipe((0,bn.J)())}preloadConfig(x,G){return this.preloadingStrategy.preload(G,()=>{let q;q=G.loadChildren&&void 0===G.canLoad?this.loader.loadChildren(x,G):(0,K.of)(null);const Ce=q.pipe((0,Mt.zg)(Je=>null===Je?(0,K.of)(void 0):(G._loadedRoutes=Je.routes,G._loadedInjector=Je.injector,this.processRoutes(Je.injector??x,Je.routes))));if(G.loadComponent&&!G._loadedComponent){const Je=this.loader.loadComponent(G);return(0,Q.D)([Ce,Je]).pipe((0,bn.J)())}return Ce})}}return R.\u0275fac=function(x){return new(x||R)(s.LFG(rs),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(Va),s.LFG(Zo))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const Xo=new s.OlP("");let Pa=(()=>{class R{constructor(x,G,q={}){this.router=x,this.viewportScroller=G,this.options=q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},q.scrollPositionRestoration=q.scrollPositionRestoration||"disabled",q.anchorScrolling=q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(x=>{x instanceof Qe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof Rt&&(this.lastId=x.id,this.scheduleScrollEvent(x,this.router.parseUrl(x.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(x=>{x instanceof ar&&(x.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(x.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,G){this.router.triggerEvent(new ar(x,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return R.\u0275fac=function(x){s.$Z()},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac}),R})();function _i(R,k){return{\u0275kind:R,\u0275providers:k}}function ds(R){return[{provide:Os,multi:!0,useValue:R}]}function nr(){const R=(0,s.f3M)(s.zs3);return k=>{const x=R.get(s.z2F);if(k!==x.components[0])return;const G=R.get(rs),q=R.get(Bl);1===R.get(Xl)&&G.initialNavigation(),R.get(hc,null,s.XFs.Optional)?.setUpPreloading(),R.get(Xo,null,s.XFs.Optional)?.init(),G.resetRootComponentType(x.componentTypes[0]),q.next(),q.complete()}}const Bl=new s.OlP("",{factory:()=>new Ue.xQ}),Xl=new s.OlP("",{providedIn:"root",factory:()=>1});const hc=new s.OlP("");function $l(R){return _i(0,[{provide:hc,useExisting:Vr},{provide:Va,useExisting:R}])}const va=new s.OlP("ROUTER_FORROOT_GUARD"),Dl=[ct.Ye,{provide:qe,useClass:lt},{provide:rs,useFactory:Qo},Jr,{provide:Cs,useFactory:function ea(R){return R.routerState.root},deps:[rs]},Zo];function Ul(){return new s.PXZ("Router",rs)}let io=(()=>{class R{constructor(x){}static forRoot(x,G){return{ngModule:R,providers:[Dl,[],ds(x),{provide:va,useFactory:Js,deps:[[rs,new s.FiY,new s.tp0]]},{provide:Cl,useValue:G||{}},G?.useHash?{provide:ct.S$,useClass:ct.Do}:{provide:ct.S$,useClass:ct.b0},{provide:Xo,useFactory:()=>{const R=(0,s.f3M)(rs),k=(0,s.f3M)(ct.EM),x=(0,s.f3M)(Cl);return x.scrollOffset&&k.setOffset(x.scrollOffset),new Pa(R,k,x)}},G?.preloadingStrategy?$l(G.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:Ul},G?.initialNavigation?ja(G):[],[{provide:tc,useFactory:nr},{provide:s.tb,multi:!0,useExisting:tc}]]}}static forChild(x){return{ngModule:R,providers:[ds(x)]}}}return R.\u0275fac=function(x){return new(x||R)(s.LFG(va,8))},R.\u0275mod=s.oAB({type:R}),R.\u0275inj=s.cJS({imports:[ha]}),R})();function Js(R){return"guarded"}function ja(R){return["disabled"===R.initialNavigation?_i(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const k=(0,s.f3M)(rs);return()=>{k.setUpLocationChangeListener()}}},{provide:Xl,useValue:2}]).\u0275providers:[],"enabledBlocking"===R.initialNavigation?_i(2,[{provide:Xl,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:k=>{const x=k.get(ct.V_,Promise.resolve());let G=!1;return()=>x.then(()=>new Promise(Ce=>{const Je=k.get(rs),dt=k.get(Bl);(function q(Ce){k.get(rs).events.pipe((0,yt.h)(dt=>dt instanceof Rt||dt instanceof an||dt instanceof Xt),(0,Be.U)(dt=>dt instanceof Rt||dt instanceof an&&(0===dt.code||1===dt.code)&&null),(0,yt.h)(dt=>null!==dt),(0,Ve.q)(1)).subscribe(()=>{Ce()})})(()=>{Ce(!0),G=!0}),Je.afterPreactivation=()=>(Ce(!0),G||dt.closed?(0,K.of)(void 0):dt),Je.initialNavigation()}))}}]).\u0275providers:[]]}const tc=new s.OlP("")},3942:(En,vt,F)=>{"use strict";F.d(vt,{Z:()=>ct});var s=F(2090),Q=F(4859),K=F(9681),Re=F(1877);class oe{constructor(Le,Ve){this._delegate=Le,this.firebase=Ve,(0,K._addComponent)(Le,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Le,Ve=K._DEFAULT_ENTRY_NAME){var Ft;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(Le);return!yt.isInitialized()&&"EXPLICIT"===(null===(Ft=yt.getComponent())||void 0===Ft?void 0:Ft.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:Ve})}_removeServiceInstance(Le,Ve=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Ve)}_addComponent(Le){(0,K._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,K._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function De(){const Be=function pe(Be){const Le={},Ve={__esModule:!0,initializeApp:function Mt(Xe,Ee={}){const ye=K.initializeApp(Xe,Ee);if((0,s.r3)(Le,ye.name))return Le[ye.name];const Ie=new Be(ye,Ve);return Le[ye.name]=Ie,Ie},app:yt,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function St(Xe){const Ee=Xe.name,ye=Ee.replace("-compat","");if(K._registerComponent(Xe)&&"PUBLIC"===Xe.type){const Ie=(he=yt())=>{if("function"!=typeof he[ye])throw me.create("invalid-app-argument",{appName:Ee});return he[ye]()};void 0!==Xe.serviceProps&&(0,s.ZB)(Ie,Xe.serviceProps),Ve[ye]=Ie,Be.prototype[ye]=function(...he){return this._getService.bind(this,Ee).apply(this,Xe.multipleInstances?he:[])}}return"PUBLIC"===Xe.type?Ve[ye]:null},removeApp:function Ft(Xe){delete Le[Xe]},useAsService:function Pe(Xe,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:K}};function yt(Xe){if(!(0,s.r3)(Le,Xe=Xe||K._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Xe});return Le[Xe]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function nt(){return Object.keys(Le).map(Xe=>Le[Xe])}}),yt.App=Be,Ve}(oe);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function Le(Ve){(0,s.ZB)(Be,Ve)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Be}(),se=new Re.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ct=ce;!function Ue(Be){(0,K.registerVersion)("@firebase/app-compat","0.1.34",Be)}()},9681:(En,vt,F)=>{"use strict";F.r(vt),F.d(vt,{FirebaseError:()=>Re.ZR,SDK_VERSION:()=>_r,_DEFAULT_ENTRY_NAME:()=>Ze,_addComponent:()=>Tt,_addOrOverwriteComponent:()=>Lt,_apps:()=>st,_clearComponents:()=>Sn,_components:()=>pt,_getProvider:()=>Bt,_registerComponent:()=>Cn,_removeServiceInstance:()=>bn,deleteApp:()=>tn,getApp:()=>Ln,getApps:()=>er,initializeApp:()=>fi,onLog:()=>kr,registerVersion:()=>yr,setLogLevel:()=>Hn});var s=F(5861),Q=F(4859),K=F(1877),Re=F(2090),oe=F(8766);class ue{constructor(lt){this.container=lt}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function me(qe){return"VERSION"===qe.getComponent()?.type}(at)){const Gt=at.getImmediate();return`${Gt.library}/${Gt.version}`}return null}).filter(at=>at).join(" ")}}const pe="@firebase/app",ce=new K.Yd("@firebase/app"),Ze="[DEFAULT]",ze={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,pt=new Map;function Tt(qe,lt){try{qe.container.addComponent(lt)}catch(at){ce.debug(`Component ${lt.name} failed to register with FirebaseApp ${qe.name}`,at)}}function Lt(qe,lt){qe.container.addOrOverwriteComponent(lt)}function Cn(qe){const lt=qe.name;if(pt.has(lt))return ce.debug(`There were multiple attempts to register component ${lt}.`),!1;pt.set(lt,qe);for(const at of st.values())Tt(at,qe);return!0}function Bt(qe,lt){const at=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),qe.container.getProvider(lt)}function bn(qe,lt,at=Ze){Bt(qe,lt).clearInstance(at)}function Sn(){pt.clear()}const Kn=new Re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qn{constructor(lt,at,Gt){this._isDeleted=!1,this._options=Object.assign({},lt),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Gt,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(lt){this._isDeleted=lt}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const _r="9.10.0";function fi(qe,lt={}){"object"!=typeof lt&&(lt={name:lt});const at=Object.assign({name:Ze,automaticDataCollectionEnabled:!1},lt),Gt=at.name;if("string"!=typeof Gt||!Gt)throw Kn.create("bad-app-name",{appName:String(Gt)});const gn=st.get(Gt);if(gn){if((0,Re.vZ)(qe,gn.options)&&(0,Re.vZ)(at,gn.config))return gn;throw Kn.create("duplicate-app",{appName:Gt})}const Bn=new Q.H0(Gt);for(const Mr of pt.values())Bn.addComponent(Mr);const Kr=new qn(qe,at,Bn);return st.set(Gt,Kr),Kr}function Ln(qe=Ze){const lt=st.get(qe);if(!lt)throw Kn.create("no-app",{appName:qe});return lt}function er(){return Array.from(st.values())}function tn(qe){return hn.apply(this,arguments)}function hn(){return(hn=(0,s.Z)(function*(qe){const lt=qe.name;st.has(lt)&&(st.delete(lt),yield Promise.all(qe.container.getProviders().map(at=>at.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function yr(qe,lt,at){var Gt;let gn=null!==(Gt=ze[qe])&&void 0!==Gt?Gt:qe;at&&(gn+=`-${at}`);const Bn=gn.match(/\s|\//),Kr=lt.match(/\s|\//);if(Bn||Kr){const Mr=[`Unable to register library "${gn}" with version "${lt}":`];return Bn&&Mr.push(`library name "${gn}" contains illegal characters (whitespace or "/")`),Bn&&Kr&&Mr.push("and"),Kr&&Mr.push(`version name "${lt}" contains illegal characters (whitespace or "/")`),void ce.warn(Mr.join(" "))}Cn(new Q.wA(`${gn}-version`,()=>({library:gn,version:lt}),"VERSION"))}function kr(qe,lt){if(null!==qe&&"function"!=typeof qe)throw Kn.create("invalid-log-argument");(0,K.Am)(qe,lt)}function Hn(qe){(0,K.Ub)(qe)}const Ir="firebase-heartbeat-store";let Ht=null;function rt(){return Ht||(Ht=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(qe,lt)=>{0===lt&&qe.createObjectStore(Ir)}}).catch(qe=>{throw Kn.create("idb-open",{originalErrorMessage:qe.message})})),Ht}function Et(){return(Et=(0,s.Z)(function*(qe){var lt;try{return(yield rt()).transaction(Ir).objectStore(Ir).get(Vn(qe))}catch(at){if(at instanceof Re.ZR)ce.warn(at.message);else{const Gt=Kn.create("idb-get",{originalErrorMessage:null===(lt=at)||void 0===lt?void 0:lt.message});ce.warn(Gt.message)}}})).apply(this,arguments)}function Ut(qe,lt){return An.apply(this,arguments)}function An(){return(An=(0,s.Z)(function*(qe,lt){var at;try{const gn=(yield rt()).transaction(Ir,"readwrite");return yield gn.objectStore(Ir).put(lt,Vn(qe)),gn.done}catch(Gt){if(Gt instanceof Re.ZR)ce.warn(Gt.message);else{const gn=Kn.create("idb-set",{originalErrorMessage:null===(at=Gt)||void 0===at?void 0:at.message});ce.warn(gn.message)}}})).apply(this,arguments)}function Vn(qe){return`${qe.name}!${qe.options.appId}`}class ir{constructor(lt){this.container=lt,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new sr(at),this._heartbeatsCachePromise=this._storage.read().then(Gt=>(this._heartbeatsCache=Gt,Gt))}triggerHeartbeat(){var lt=this;return(0,s.Z)(function*(){const Gt=lt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gn=On();if(null===lt._heartbeatsCache&&(lt._heartbeatsCache=yield lt._heartbeatsCachePromise),lt._heartbeatsCache.lastSentHeartbeatDate!==gn&&!lt._heartbeatsCache.heartbeats.some(Bn=>Bn.date===gn))return lt._heartbeatsCache.heartbeats.push({date:gn,agent:Gt}),lt._heartbeatsCache.heartbeats=lt._heartbeatsCache.heartbeats.filter(Bn=>{const Kr=new Date(Bn.date).valueOf();return Date.now()-Kr<=2592e6}),lt._storage.overwrite(lt._heartbeatsCache)})()}getHeartbeatsHeader(){var lt=this;return(0,s.Z)(function*(){if(null===lt._heartbeatsCache&&(yield lt._heartbeatsCachePromise),null===lt._heartbeatsCache||0===lt._heartbeatsCache.heartbeats.length)return"";const at=On(),{heartbeatsToSend:Gt,unsentEntries:gn}=function Rr(qe,lt=1024){const at=[];let Gt=qe.slice();for(const gn of qe){const Bn=at.find(Kr=>Kr.agent===gn.agent);if(Bn){if(Bn.dates.push(gn.date),it(at)>lt){Bn.dates.pop();break}}else if(at.push({agent:gn.agent,dates:[gn.date]}),it(at)>lt){at.pop();break}Gt=Gt.slice(1)}return{heartbeatsToSend:at,unsentEntries:Gt}}(lt._heartbeatsCache.heartbeats),Bn=(0,Re.L)(JSON.stringify({version:2,heartbeats:Gt}));return lt._heartbeatsCache.lastSentHeartbeatDate=at,gn.length>0?(lt._heartbeatsCache.heartbeats=gn,yield lt._storage.overwrite(lt._heartbeatsCache)):(lt._heartbeatsCache.heartbeats=[],lt._storage.overwrite(lt._heartbeatsCache)),Bn})()}}function On(){return(new Date).toISOString().substring(0,10)}class sr{constructor(lt){this.app=lt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,Re.hl)()&&(0,Re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var lt=this;return(0,s.Z)(function*(){return(yield lt._canUseIndexedDBPromise)&&(yield function He(qe){return Et.apply(this,arguments)}(lt.app))||{heartbeats:[]}})()}overwrite(lt){var at=this;return(0,s.Z)(function*(){var Gt;if(yield at._canUseIndexedDBPromise){const Bn=yield at.read();return Ut(at.app,{lastSentHeartbeatDate:null!==(Gt=lt.lastSentHeartbeatDate)&&void 0!==Gt?Gt:Bn.lastSentHeartbeatDate,heartbeats:lt.heartbeats})}})()}add(lt){var at=this;return(0,s.Z)(function*(){var Gt;if(yield at._canUseIndexedDBPromise){const Bn=yield at.read();return Ut(at.app,{lastSentHeartbeatDate:null!==(Gt=lt.lastSentHeartbeatDate)&&void 0!==Gt?Gt:Bn.lastSentHeartbeatDate,heartbeats:[...Bn.heartbeats,...lt.heartbeats]})}})()}}function it(qe){return(0,Re.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function tt(qe){Cn(new Q.wA("platform-logger",lt=>new ue(lt),"PRIVATE")),Cn(new Q.wA("heartbeat",lt=>new ir(lt),"PRIVATE")),yr(pe,"0.7.33",qe),yr(pe,"0.7.33","esm2017"),yr("fire-js","")}("")},4859:(En,vt,F)=>{"use strict";F.d(vt,{H0:()=>pe,wA:()=>K,zt:()=>oe});var s=F(5861),Q=F(2090);class K{constructor(ce,se,le){this.name=ce,this.instanceFactory=se,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const Re="[DEFAULT]";class oe{constructor(ce,se){this.name=ce,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const se=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(se)){const le=new Q.BH;if(this.instancesDeferred.set(se,le),this.isInitialized(se)||this.shouldAutoInitialize())try{const ge=this.getOrInitializeService({instanceIdentifier:se});ge&&le.resolve(ge)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(ce){var se;const le=this.normalizeInstanceIdentifier(ce?.identifier),ge=null!==(se=ce?.optional)&&void 0!==se&&se;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch(Ue){if(ge)return null;throw Ue}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function me(De){return"EAGER"===De.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:Re})}catch{}for(const[se,le]of this.instancesDeferred.entries()){const ge=this.normalizeInstanceIdentifier(se);try{const Ue=this.getOrInitializeService({instanceIdentifier:ge});le.resolve(Ue)}catch{}}}}clearInstance(ce=Re){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,s.Z)(function*(){const se=Array.from(ce.instances.values());yield Promise.all([...se.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...se.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=Re){return this.instances.has(ce)}getOptions(ce=Re){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:se={}}=ce,le=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ge=this.getOrInitializeService({instanceIdentifier:le,options:se});for(const[Ue,ct]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier(Ue)&&ct.resolve(ge);return ge}onInit(ce,se){var le;const ge=this.normalizeInstanceIdentifier(se),Ue=null!==(le=this.onInitCallbacks.get(ge))&&void 0!==le?le:new Set;Ue.add(ce),this.onInitCallbacks.set(ge,Ue);const ct=this.instances.get(ge);return ct&&ce(ct,ge),()=>{Ue.delete(ce)}}invokeOnInitCallbacks(ce,se){const le=this.onInitCallbacks.get(se);if(le)for(const ge of le)try{ge(ce,se)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:se={}}){let le=this.instances.get(ce);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(De=ce,De===Re?void 0:De),options:se}),this.instances.set(ce,le),this.instancesOptions.set(ce,se),this.invokeOnInitCallbacks(le,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,le)}catch{}var De;return le||null}normalizeInstanceIdentifier(ce=Re){return this.component?this.component.multipleInstances?ce:Re:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const se=this.getProvider(ce.name);if(se.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);se.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const se=new oe(ce,this);return this.providers.set(ce,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(En,vt,F)=>{"use strict";F.d(vt,{Am:()=>De,Ub:()=>pe,Yd:()=>me,in:()=>Q});const s=[];var Q=(()=>{return(ce=Q||(Q={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",Q;var ce})();const K={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Re=Q.INFO,oe={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ue=(ce,se,...le)=>{if(se<ce.logLevel)return;const ge=(new Date).toISOString(),Ue=oe[se];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Ue](`[${ge}]  ${ce.name}:`,...le)};class me{constructor(se){this.name=se,this._logLevel=Re,this._logHandler=ue,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in Q))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?K[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...se),this._logHandler(this,Q.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...se),this._logHandler(this,Q.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...se),this._logHandler(this,Q.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...se),this._logHandler(this,Q.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...se),this._logHandler(this,Q.ERROR,...se)}}function pe(ce){s.forEach(se=>{se.setLogLevel(ce)})}function De(ce,se){for(const le of s){let ge=null;se&&se.level&&(ge=K[se.level]),le.userLogHandler=null===ce?null:(Ue,ct,...Be)=>{const Le=Be.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");ct>=(ge??Ue.logLevel)&&ce({level:Q[ct].toLowerCase(),message:Le,args:Be,type:Ue.name})}}}},4130:(En,vt,F)=>{"use strict";F.d(vt,{uo:()=>Js,Lu:()=>oa,IJ:()=>sh,xl:()=>Aa});var s=F(4650),Q=F(6895),K=F(6498),Re=F(8896),oe=F(1086),ue=F(8929),me=F(3753),pe=F(353),De=F(4241),ce=F(2866);function se(g=0,w,h){let I=-1;return(0,De.k)(w)?I=Number(w)<1?1:Number(w):(0,ce.K)(w)&&(h=w),(0,ce.K)(h)||(h=pe.P),new K.y(B=>{const te=(0,De.k)(g)?g:+g-h.now();return h.schedule(le,te,{index:0,period:I,subscriber:B})})}function le(g){const{index:w,period:h,subscriber:I}=g;if(I.next(w),!I.closed){if(-1===h)return I.complete();g.index=w+1,this.schedule(g,h)}}var ge=F(6688),Ue=F(3009),ct=F(826),Be=F(448);class Ve{call(w,h){return h.subscribe(new Ft(w))}}class Ft extends ct.L{constructor(w){super(w),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(w){this.observables.push(w)}_complete(){const w=this.observables,h=w.length;if(0===h)this.destination.complete();else{for(let I=0;I<h&&!this.hasFirst;I++){const te=(0,Be.D)(this,w[I],void 0,I);this.subscriptions&&this.subscriptions.push(te),this.add(te)}this.observables=null}}notifyNext(w,h,I){if(!this.hasFirst){this.hasFirst=!0;for(let B=0;B<this.subscriptions.length;B++)if(B!==I){let te=this.subscriptions[B];te.unsubscribe(),this.remove(te)}this.subscriptions=null}this.destination.next(h)}}var yt=F(591),Mt=F(6053),nt=F(7876);const St=new K.y(nt.Z);var Xe=F(3489),Ee=F(5430),ye=F(1177);function Ie(...g){const w=g[g.length-1];return"function"==typeof w&&g.pop(),(0,Ue.n)(g,void 0).lift(new he(w))}class he{constructor(w){this.resultSelector=w}call(w,h){return h.subscribe(new _e(w,this.resultSelector))}}class _e extends Xe.L{constructor(w,h,I=Object.create(null)){super(w),this.resultSelector=h,this.iterators=[],this.active=0,this.resultSelector="function"==typeof h?h:void 0}_next(w){const h=this.iterators;(0,ge.k)(w)?h.push(new Nt(w)):h.push("function"==typeof w[Ee.hZ]?new fe(w[Ee.hZ]()):new It(this.destination,this,w))}_complete(){const w=this.iterators,h=w.length;if(this.unsubscribe(),0!==h){this.active=h;for(let I=0;I<h;I++){let B=w[I];B.stillUnsubscribed?this.destination.add(B.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const w=this.iterators,h=w.length,I=this.destination;for(let Ye=0;Ye<h;Ye++){let Ct=w[Ye];if("function"==typeof Ct.hasValue&&!Ct.hasValue())return}let B=!1;const te=[];for(let Ye=0;Ye<h;Ye++){let Ct=w[Ye],Ot=Ct.next();if(Ct.hasCompleted()&&(B=!0),Ot.done)return void I.complete();te.push(Ot.value)}this.resultSelector?this._tryresultSelector(te):I.next(te),B&&I.complete()}_tryresultSelector(w){let h;try{h=this.resultSelector.apply(this,w)}catch(I){return void this.destination.error(I)}this.destination.next(h)}}class fe{constructor(w){this.iterator=w,this.nextResult=w.next()}hasValue(){return!0}next(){const w=this.nextResult;return this.nextResult=this.iterator.next(),w}hasCompleted(){const w=this.nextResult;return Boolean(w&&w.done)}}class Nt{constructor(w){this.array=w,this.index=0,this.length=0,this.length=w.length}[Ee.hZ](){return this}next(w){const h=this.index++;return h<this.length?{value:this.array[h],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class It extends ye.Ds{constructor(w,h,I){super(w),this.parent=h,this.observable=I,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Ee.hZ](){return this}next(){const w=this.buffer;return 0===w.length&&this.isComplete?{value:null,done:!0}:{value:w.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(w){this.buffer.push(w),this.parent.checkIterators()}subscribe(){return(0,ye.ft)(this.observable,new ye.IY(this))}}var xt=F(1221);function Ze(g){return w=>w.lift(new ze(g))}class ze{constructor(w){this.notifier=w}call(w,h){const I=new st(w),B=(0,ye.ft)(this.notifier,new ye.IY(I));return B&&!I.seenValue?(I.add(B),h.subscribe(I)):I}}class st extends ye.Ds{constructor(w){super(w),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var pt=F(2198),Tt=F(2986),Lt=F(4850),Cn=F(1059),Bt=F(5778),bn=F(7545),Sn=F(2994),we=F(7168);F(9312);var kr=F(4719);Math,Math,Math;const Ks=["*"];function uo(g,w){if(1&g){const h=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){const te=s.CHM(h).$implicit,Ye=s.oxw();return Ye.focus(),s.KtG(Ye.select(te.id,Ye.NgbSlideEventSource.INDICATOR))}),s.qZA()}if(2&g){const h=w.$implicit,I=s.oxw();s.ekj("active",h.id===I.activeId),s.uIk("aria-labelledby","slide-"+h.id)("aria-controls","slide-"+h.id)("aria-selected",h.id===I.activeId)}}function Mi(g,w){}function qi(g,w){if(1&g&&(s.TgZ(0,"div",7)(1,"span",8),s.SDv(2,9),s.qZA(),s.YNc(3,Mi,0,0,"ng-template",10),s.qZA()),2&g){const h=w.$implicit,I=w.index,B=w.count;s.Q6J("id","slide-"+h.id),s.xp6(2),s.pQV(I+1)(B),s.QtT(2),s.xp6(1),s.Q6J("ngTemplateOutlet",h.tplRef)}}function wo(g,w){if(1&g){const h=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(h);const B=s.oxw();return s.KtG(B.arrowLeft())}),s._UZ(1,"span",12),s.TgZ(2,"span",8),s.SDv(3,13),s.qZA()()}}function Pi(g,w){if(1&g){const h=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(){s.CHM(h);const B=s.oxw();return s.KtG(B.arrowRight())}),s._UZ(1,"span",15),s.TgZ(2,"span",8),s.SDv(3,16),s.qZA()()}}const ri=["dialog"];function fl(g){return"string"==typeof g}function Po(g){return null!=g}function rs(g){return(g||document.body).getBoundingClientRect()}const Sa={animation:!0,transitionTimerDelayMs:5},Ll=()=>{},{transitionTimerDelayMs:ya}=Sa,Va=new Map,Qs=(g,w,h,I)=>{let B=I.context||{};const te=Va.get(w);if(te)switch(I.runningTransition){case"continue":return Re.E;case"stop":g.run(()=>te.transition$.complete()),B=Object.assign(te.context,B),Va.delete(w)}const Ye=h(w,I.animation,B)||Ll;if(!I.animation||"none"===window.getComputedStyle(w).transitionProperty)return g.run(()=>Ye()),(0,oe.of)(void 0).pipe(function pl(g){return w=>new K.y(h=>w.subscribe({next:Ye=>g.run(()=>h.next(Ye)),error:Ye=>g.run(()=>h.error(Ye)),complete:()=>g.run(()=>h.complete())}))}(g));const Ct=new ue.xQ,Ot=new ue.xQ,un=Ct.pipe(function gt(...g){return w=>(0,xt.z)(w,(0,oe.of)(...g))}(!0));Va.set(w,{transition$:Ct,complete:()=>{Ot.next(),Ot.complete()},context:B});const yn=function El(g){const{transitionDelay:w,transitionDuration:h}=window.getComputedStyle(g);return 1e3*(parseFloat(w)+parseFloat(h))}(w);return g.runOutsideAngular(()=>{const wr=(0,me.R)(w,"transitionend").pipe(Ze(un),(0,pt.h)(({target:Cr})=>Cr===w));(function Le(...g){if(1===g.length){if(!(0,ge.k)(g[0]))return g[0];g=g[0]}return(0,Ue.n)(g,void 0).lift(new Ve)})(se(yn+ya).pipe(Ze(un)),wr,Ot).pipe(Ze(un)).subscribe(()=>{Va.delete(w),g.run(()=>{Ye(),Ct.next(),Ct.complete()})})}),Ct.asObservable()};let Pa=(()=>{class g{constructor(){this.animation=Sa.animation}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=s.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Ic=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})(),Wc=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})();var is=(()=>{return(g=is||(is={})).START="start",g.END="end",is;var g})();const Io=({classList:g})=>g.contains("carousel-item-start")||g.contains("carousel-item-end"),va=g=>{g.remove("carousel-item-start"),g.remove("carousel-item-end")},Dl=g=>{va(g),g.remove("carousel-item-prev"),g.remove("carousel-item-next")},Ul=(g,w,{direction:h})=>{const{classList:I}=g;return w?(Io(g)?va(I):(I.add("carousel-item-"+(h===is.START?"next":"prev")),rs(g),I.add("carousel-item-"+h)),()=>{Dl(I),I.add("active")}):(va(I),Dl(I),void I.add("active"))},io=(g,w,{direction:h})=>{const{classList:I}=g;return w?(Io(g)?va(I):I.add("carousel-item-"+h),()=>{Dl(I),I.remove("active")}):(va(I),Dl(I),void I.remove("active"))};let oa=(()=>{class g{constructor(h){this._ngbConfig=h,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(s.LFG(Pa))},g.\u0275prov=s.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Qt=0,Aa=(()=>{class g{constructor(h){this.tplRef=h,this.id="ngb-slide-"+Qt++,this.slid=new s.vpe}}return g.\u0275fac=function(h){return new(h||g)(s.Y36(s.Rgc))},g.\u0275dir=s.lG2({type:g,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),g})(),Js=(()=>{class g{constructor(h,I,B,te,Ye){this._platformId=I,this._ngZone=B,this._cd=te,this._container=Ye,this.NgbSlideEventSource=ja,this._destroy$=new ue.xQ,this._interval$=new yt.X(0),this._mouseHover$=new yt.X(!1),this._focused$=new yt.X(!1),this._pauseOnHover$=new yt.X(!1),this._pauseOnFocus$=new yt.X(!1),this._pause$=new yt.X(!1),this._wrap$=new yt.X(!1),this.slide=new s.vpe,this.slid=new s.vpe,this._transitionIds=null,this.animation=h.animation,this.interval=h.interval,this.wrap=h.wrap,this.keyboard=h.keyboard,this.pauseOnHover=h.pauseOnHover,this.pauseOnFocus=h.pauseOnFocus,this.showNavigationArrows=h.showNavigationArrows,this.showNavigationIndicators=h.showNavigationIndicators}set interval(h){this._interval$.next(h)}get interval(){return this._interval$.value}set wrap(h){this._wrap$.next(h)}get wrap(){return this._wrap$.value}set pauseOnHover(h){this._pauseOnHover$.next(h)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(h){this._pauseOnFocus$.next(h)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(h){this._mouseHover$.next(h)}get mouseHover(){return this._mouseHover$.value}set focused(h){this._focused$.next(h)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(ja.ARROW_LEFT)}arrowRight(){this.focus(),this.next(ja.ARROW_RIGHT)}ngAfterContentInit(){(0,Q.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const h=(0,Mt.aj)([this.slide.pipe((0,Lt.U)(I=>I.current),(0,Cn.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,Cn.O)(null))]).pipe((0,Lt.U)(([I,B])=>{const te=this.slides.toArray(),Ye=this._getSlideIdxById(I);return B?te.length>1:Ye<te.length-1}),(0,Bt.x)());(0,Mt.aj)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,h]).pipe((0,Lt.U)(([I,B,te,Ye,Ct,Ot,un])=>I||B&&te||Ye&&Ct||!un?0:Ot),(0,Bt.x)(),(0,bn.w)(I=>I>0?se(I,I):St),Ze(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(ja.TIMER)))}),this.slides.changes.pipe(Ze(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(h=>(g=>{Va.get(g)?.complete()})(this._getSlideElement(h))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Tt.q)(1)).subscribe(()=>{for(const{id:h}of this.slides){const I=this._getSlideElement(h);h===this.activeId?I.classList.add("active"):I.classList.remove("active")}})})}ngAfterContentChecked(){let h=this._getSlideById(this.activeId);this.activeId=h?h.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const h=this._getSlideElement(this.activeId);h&&h.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(h,I){this._cycleToSelected(h,this._getSlideEventDirection(this.activeId,h),I)}prev(h){this._cycleToSelected(this._getPrevSlide(this.activeId),is.END,h)}next(h){this._cycleToSelected(this._getNextSlide(this.activeId),is.START,h)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(h,I,B){const te=this._transitionIds;if(te&&(te[0]!==h||te[1]!==this.activeId))return;let Ye=this._getSlideById(h);if(Ye&&Ye.id!==this.activeId){this._transitionIds=[this.activeId,h],this.slide.emit({prev:this.activeId,current:Ye.id,direction:I,paused:this._pause$.value,source:B});const Ct={animation:this.animation,runningTransition:"stop",context:{direction:I}},Ot=[],un=this._getSlideById(this.activeId);if(un){const Cr=Qs(this._ngZone,this._getSlideElement(un.id),io,Ct);Cr.subscribe(()=>{un.slid.emit({isShown:!1,direction:I,source:B})}),Ot.push(Cr)}const yn=this.activeId;this.activeId=Ye.id;const wr=this._getSlideById(this.activeId),cr=Qs(this._ngZone,this._getSlideElement(Ye.id),Ul,Ct);cr.subscribe(()=>{wr?.slid.emit({isShown:!0,direction:I,source:B})}),Ot.push(cr),Ie(...Ot).pipe((0,Tt.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:yn,current:Ye.id,direction:I,paused:this._pause$.value,source:B})})}this._cd.markForCheck()}_getSlideEventDirection(h,I){return this._getSlideIdxById(h)>this._getSlideIdxById(I)?is.END:is.START}_getSlideById(h){return this.slides.find(I=>I.id===h)||null}_getSlideIdxById(h){const I=this._getSlideById(h);return null!=I?this.slides.toArray().indexOf(I):-1}_getNextSlide(h){const I=this.slides.toArray(),B=this._getSlideIdxById(h);return B===I.length-1?this.wrap?I[0].id:I[I.length-1].id:I[B+1].id}_getPrevSlide(h){const I=this.slides.toArray(),B=this._getSlideIdxById(h);return 0===B?this.wrap?I[I.length-1].id:I[0].id:I[B-1].id}_getSlideElement(h){return this._container.nativeElement.querySelector(`#slide-${h}`)}}return g.\u0275fac=function(h){return new(h||g)(s.Y36(oa),s.Y36(s.Lbi),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.SBq))},g.\u0275cmp=s.Xpm({type:g,selectors:[["ngb-carousel"]],contentQueries:function(h,I,B){if(1&h&&s.Suo(B,Aa,4),2&h){let te;s.iGM(te=s.CRH())&&(I.slides=te)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(h,I){1&h&&s.NdJ("keydown.arrowLeft",function(){return I.keyboard&&I.arrowLeft()})("keydown.arrowRight",function(){return I.keyboard&&I.arrowRight()})("mouseenter",function(){return I.mouseHover=!0})("mouseleave",function(){return I.mouseHover=!1})("focusin",function(){return I.focused=!0})("focusout",function(){return I.focused=!1}),2&h&&(s.uIk("aria-activedescendant","slide-"+I.activeId),s.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let w,h,I;return w=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,h=$localize`:@@ngb.carousel.previous:Previous`,I=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],w,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],h,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],I]},template:function(h,I){1&h&&(s.TgZ(0,"div",0),s.YNc(1,uo,1,5,"button",1),s.qZA(),s.TgZ(2,"div",2),s.YNc(3,qi,4,4,"div",3),s.qZA(),s.YNc(4,wo,4,0,"button",4),s.YNc(5,Pi,4,0,"button",5)),2&h&&(s.ekj("visually-hidden",!I.showNavigationIndicators),s.xp6(1),s.Q6J("ngForOf",I.slides),s.xp6(2),s.Q6J("ngForOf",I.slides),s.xp6(1),s.Q6J("ngIf",I.showNavigationArrows),s.xp6(1),s.Q6J("ngIf",I.showNavigationArrows))},dependencies:[Q.sg,Q.O5,Q.tP],encapsulation:2,changeDetection:0}),g})();var ja=(()=>{return(g=ja||(ja={})).TIMER="timer",g.ARROW_LEFT="arrowLeft",g.ARROW_RIGHT="arrowRight",g.INDICATOR="indicator",ja;var g})();let ba=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})(),k=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({}),g})();var hr=(()=>{return(g=hr||(hr={}))[g.Tab=9]="Tab",g[g.Enter=13]="Enter",g[g.Escape=27]="Escape",g[g.Space=32]="Space",g[g.PageUp=33]="PageUp",g[g.PageDown=34]="PageDown",g[g.End=35]="End",g[g.Home=36]="Home",g[g.ArrowLeft=37]="ArrowLeft",g[g.ArrowUp=38]="ArrowUp",g[g.ArrowRight=39]="ArrowRight",g[g.ArrowDown=40]="ArrowDown",hr;var g})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Na=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function nl(g){const w=Array.from(g.querySelectorAll(Na)).filter(h=>-1!==h.tabIndex);return[w[0],w[w.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let mu=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez,kr.u5]}),g})(),Gl=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({}),g})();class Ya{constructor(w,h,I){this.nodes=w,this.viewRef=h,this.componentRef=I}}let Hs=(()=>{class g{constructor(h,I){this._el=h,this._zone=I}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Tt.q)(1)).subscribe(()=>{Qs(this._zone,this._el.nativeElement,(h,I)=>{I&&rs(h),h.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Qs(this._zone,this._el.nativeElement,({classList:h})=>h.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return g.\u0275fac=function(h){return new(h||g)(s.Y36(s.SBq),s.Y36(s.R0b))},g.\u0275cmp=s.Xpm({type:g,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(h,I){2&h&&(s.Tol("modal-backdrop"+(I.backdropClass?" "+I.backdropClass:"")),s.ekj("show",!I.animation)("fade",I.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(h,I){},encapsulation:2}),g})();class eu{close(w){}dismiss(w){}}class xl{constructor(w,h,I,B){this._windowCmptRef=w,this._contentRef=h,this._backdropCmptRef=I,this._beforeDismiss=B,this._closed=new ue.xQ,this._dismissed=new ue.xQ,this._hidden=new ue.xQ,w.instance.dismissEvent.subscribe(te=>{this.dismiss(te)}),this.result=new Promise((te,Ye)=>{this._resolve=te,this._reject=Ye}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ze(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ze(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(w){this._windowCmptRef&&(this._closed.next(w),this._resolve(w),this._removeModalElements())}_dismiss(w){this._dismissed.next(w),this._reject(w),this._removeModalElements()}dismiss(w){if(this._windowCmptRef)if(this._beforeDismiss){const h=this._beforeDismiss();!function Zn(g){return g&&g.then}(h)?!1!==h&&this._dismiss(w):h.then(I=>{!1!==I&&this._dismiss(w)},()=>{})}else this._dismiss(w)}_removeModalElements(){const w=this._windowCmptRef.instance.hide(),h=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,oe.of)(void 0);w.subscribe(()=>{const{nativeElement:I}=this._windowCmptRef.location;I.parentNode.removeChild(I),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),h.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:I}=this._backdropCmptRef.location;I.parentNode.removeChild(I),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ie(w,h).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Fc=(()=>{return(g=Fc||(Fc={}))[g.BACKDROP_CLICK=0]="BACKDROP_CLICK",g[g.ESC=1]="ESC",Fc;var g})();let _u=(()=>{class g{constructor(h,I,B){this._document=h,this._elRef=I,this._zone=B,this._closed$=new ue.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new ue.xQ,this.hidden=new ue.xQ}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":fl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(h){this.dismissEvent.emit(h)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Tt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:h}=this._elRef,I={animation:this.animation,runningTransition:"stop"},Ye=Ie(Qs(this._zone,h,()=>h.classList.remove("show"),I),Qs(this._zone,this._dialogEl.nativeElement,()=>{},I));return Ye.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Ye}_show(){const h={animation:this.animation,runningTransition:"continue"};Ie(Qs(this._zone,this._elRef.nativeElement,(te,Ye)=>{Ye&&rs(te),te.classList.add("show")},h),Qs(this._zone,this._dialogEl.nativeElement,()=>{},h)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:h}=this._elRef;this._zone.runOutsideAngular(()=>{(0,me.R)(h,"keydown").pipe(Ze(this._closed$),(0,pt.h)(B=>B.which===hr.Escape)).subscribe(B=>{this.keyboard?requestAnimationFrame(()=>{B.defaultPrevented||this._zone.run(()=>this.dismiss(Fc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let I=!1;(0,me.R)(this._dialogEl.nativeElement,"mousedown").pipe(Ze(this._closed$),(0,Sn.b)(()=>I=!1),(0,bn.w)(()=>(0,me.R)(h,"mouseup").pipe(Ze(this._closed$),(0,Tt.q)(1))),(0,pt.h)(({target:B})=>h===B)).subscribe(()=>{I=!0}),(0,me.R)(h,"click").pipe(Ze(this._closed$)).subscribe(({target:B})=>{h===B&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!I&&this._zone.run(()=>this.dismiss(Fc.BACKDROP_CLICK))),I=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:h}=this._elRef;if(!h.contains(document.activeElement)){const I=h.querySelector("[ngbAutofocus]"),B=nl(h)[0];(I||B||h).focus()}}_restoreFocus(){const h=this._document.body,I=this._elWithFocus;let B;B=I&&I.focus&&h.contains(I)?I:h,this._zone.runOutsideAngular(()=>{setTimeout(()=>B.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Qs(this._zone,this._elRef.nativeElement,({classList:h})=>(h.add("modal-static"),()=>h.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return g.\u0275fac=function(h){return new(h||g)(s.Y36(Q.K0),s.Y36(s.SBq),s.Y36(s.R0b))},g.\u0275cmp=s.Xpm({type:g,selectors:[["ngb-modal-window"]],viewQuery:function(h,I){if(1&h&&s.Gf(ri,7),2&h){let B;s.iGM(B=s.CRH())&&(I._dialogEl=B.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(h,I){2&h&&(s.uIk("aria-modal",!0)("aria-labelledby",I.ariaLabelledBy)("aria-describedby",I.ariaDescribedBy),s.Tol("modal d-block"+(I.windowClass?" "+I.windowClass:"")),s.ekj("fade",I.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Ks,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(h,I){1&h&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&h&&s.Tol("modal-dialog"+(I.size?" modal-"+I.size:"")+(I.centered?" modal-dialog-centered":"")+I.fullscreenClass+(I.scrollable?" modal-dialog-scrollable":"")+(I.modalDialogClass?" "+I.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),g})(),Ci=(()=>{class g{constructor(h){this._document=h}hide(){const h=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),I=this._document.body,B=I.style,{overflow:te,paddingRight:Ye}=B;if(h>0){const Ct=parseFloat(window.getComputedStyle(I).paddingRight);B.paddingRight=`${Ct+h}px`}return B.overflow="hidden",()=>{h>0&&(B.paddingRight=Ye),B.overflow=te}}}return g.\u0275fac=function(h){return new(h||g)(s.LFG(Q.K0))},g.\u0275prov=s.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),yc=(()=>{class g{constructor(h,I,B,te,Ye,Ct){this._applicationRef=h,this._injector=I,this._document=B,this._scrollBar=te,this._rendererFactory=Ye,this._ngZone=Ct,this._activeWindowCmptHasChanged=new ue.xQ,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Ot=this._windowCmpts[this._windowCmpts.length-1];((g,w,h,I=!1)=>{this._ngZone.runOutsideAngular(()=>{const B=(0,me.R)(w,"focusin").pipe(Ze(h),(0,Lt.U)(te=>te.target));(0,me.R)(w,"keydown").pipe(Ze(h),(0,pt.h)(te=>te.which===hr.Tab),(0,we.M)(B)).subscribe(([te,Ye])=>{const[Ct,Ot]=nl(w);(Ye===Ct||Ye===w)&&te.shiftKey&&(Ot.focus(),te.preventDefault()),Ye===Ot&&!te.shiftKey&&(Ct.focus(),te.preventDefault())}),I&&(0,me.R)(w,"click").pipe(Ze(h),(0,we.M)(B),(0,Lt.U)(te=>te[1])).subscribe(te=>te.focus())})})(0,Ot.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Ot.location.nativeElement)}})}_restoreScrollBar(){const h=this._scrollBarRestoreFn;h&&(this._scrollBarRestoreFn=null,h())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(h,I,B){const te=B.container instanceof HTMLElement?B.container:Po(B.container)?this._document.querySelector(B.container):this._document.body,Ye=this._rendererFactory.createRenderer(null,null);if(!te)throw new Error(`The specified modal container "${B.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ct=new eu,Ot=this._getContentRef(B.injector||h,I,Ct,B);let un=!1!==B.backdrop?this._attachBackdrop(te):void 0,yn=this._attachWindowComponent(te,Ot.nodes),wr=new xl(yn,Ot,un,B.beforeDismiss);return this._registerModalRef(wr),this._registerWindowCmpt(yn),wr.hidden.pipe((0,Tt.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Ye.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Ct.close=cr=>{wr.close(cr)},Ct.dismiss=cr=>{wr.dismiss(cr)},this._applyWindowOptions(yn.instance,B),1===this._modalRefs.length&&Ye.addClass(this._document.body,"modal-open"),un&&un.instance&&(this._applyBackdropOptions(un.instance,B),un.changeDetectorRef.detectChanges()),yn.changeDetectorRef.detectChanges(),wr}get activeInstances(){return this._activeInstances}dismissAll(h){this._modalRefs.forEach(I=>I.dismiss(h))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(h){let I=(0,s.LMc)(Hs,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(I.hostView),h.appendChild(I.location.nativeElement),I}_attachWindowComponent(h,I){let B=(0,s.LMc)(_u,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:I});return this._applicationRef.attachView(B.hostView),h.appendChild(B.location.nativeElement),B}_applyWindowOptions(h,I){this._windowAttributes.forEach(B=>{Po(I[B])&&(h[B]=I[B])})}_applyBackdropOptions(h,I){this._backdropAttributes.forEach(B=>{Po(I[B])&&(h[B]=I[B])})}_getContentRef(h,I,B,te){return I?I instanceof s.Rgc?this._createFromTemplateRef(I,B):fl(I)?this._createFromString(I):this._createFromComponent(h,I,B,te):new Ya([])}_createFromTemplateRef(h,I){const te=h.createEmbeddedView({$implicit:I,close(Ye){I.close(Ye)},dismiss(Ye){I.dismiss(Ye)}});return this._applicationRef.attachView(te),new Ya([te.rootNodes],te)}_createFromString(h){const I=this._document.createTextNode(`${h}`);return new Ya([[I]])}_createFromComponent(h,I,B,te){const Ye=s.zs3.create({providers:[{provide:eu,useValue:B}],parent:h}),Ct=(0,s.LMc)(I,{environmentInjector:this._applicationRef.injector,elementInjector:Ye}),Ot=Ct.location.nativeElement;return te.scrollable&&Ot.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ct.hostView),new Ya([[Ot]],Ct.hostView,Ct)}_setAriaHidden(h){const I=h.parentElement;I&&h!==this._document.body&&(Array.from(I.children).forEach(B=>{B!==h&&"SCRIPT"!==B.nodeName&&(this._ariaHiddenValues.set(B,B.getAttribute("aria-hidden")),B.setAttribute("aria-hidden","true"))}),this._setAriaHidden(I))}_revertAriaHidden(){this._ariaHiddenValues.forEach((h,I)=>{h?I.setAttribute("aria-hidden",h):I.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(h){const I=()=>{const B=this._modalRefs.indexOf(h);B>-1&&(this._modalRefs.splice(B,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(h),this._activeInstances.emit(this._modalRefs),h.result.then(I,I)}_registerWindowCmpt(h){this._windowCmpts.push(h),this._activeWindowCmptHasChanged.next(),h.onDestroy(()=>{const I=this._windowCmpts.indexOf(h);I>-1&&(this._windowCmpts.splice(I,1),this._activeWindowCmptHasChanged.next())})}}return g.\u0275fac=function(h){return new(h||g)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(Q.K0),s.LFG(Ci),s.LFG(s.FYo),s.LFG(s.R0b))},g.\u0275prov=s.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),vc=(()=>{class g{constructor(h){this._ngbConfig=h,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(s.LFG(Pa))},g.\u0275prov=s.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),rc=(()=>{class g{constructor(h,I,B){this._injector=h,this._modalStack=I,this._config=B}open(h,I={}){const B={...this._config,animation:this._config.animation,...I};return this._modalStack.open(this._injector,h,B)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(h){this._modalStack.dismissAll(h)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return g.\u0275fac=function(h){return new(h||g)(s.LFG(s.zs3),s.LFG(yc),s.LFG(vc))},g.\u0275prov=s.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),ua=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({providers:[rc]}),g})(),Ka=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})(),ie=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})(),Cu=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})(),hd=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})(),Gu=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})(),Ah=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})(),eh=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})(),kd=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({}),g})();new s.OlP("live announcer delay",{providedIn:"root",factory:function gf(){return 100}});let Wu=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[Q.ez]}),g})(),gd=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({}),g})();const ih=[Ic,Wc,ba,k,mu,Gl,ua,Ka,gd,ie,Cu,hd,Gu,Ah,eh,kd,Wu];let sh=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[ih,Ic,Wc,ba,k,mu,Gl,ua,Ka,gd,ie,Cu,hd,Gu,Ah,eh,kd,Wu]}),g})()},8766:(En,vt,F)=>{"use strict";F.d(vt,{Lj:()=>Mt,X3:()=>yt});var s=F(5861);let K,Re;const me=new WeakMap,pe=new WeakMap,De=new WeakMap,ce=new WeakMap,se=new WeakMap;let Ue={get(Ee,ye,Ie){if(Ee instanceof IDBTransaction){if("done"===ye)return pe.get(Ee);if("objectStoreNames"===ye)return Ee.objectStoreNames||De.get(Ee);if("store"===ye)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return Ve(Ee[ye])},set:(Ee,ye,Ie)=>(Ee[ye]=Ie,!0),has:(Ee,ye)=>Ee instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in Ee};function Le(Ee){return"function"==typeof Ee?function Be(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return Re||(Re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...ye){return Ee.apply(Ft(this),ye),Ve(me.get(this))}:function(...ye){return Ve(Ee.apply(Ft(this),ye))}:function(ye,...Ie){const he=Ee.call(Ft(this),ye,...Ie);return De.set(he,ye.sort?ye.sort():[ye]),Ve(he)}}(Ee):(Ee instanceof IDBTransaction&&function ge(Ee){if(pe.has(Ee))return;const ye=new Promise((Ie,he)=>{const _e=()=>{Ee.removeEventListener("complete",fe),Ee.removeEventListener("error",Nt),Ee.removeEventListener("abort",Nt)},fe=()=>{Ie(),_e()},Nt=()=>{he(Ee.error||new DOMException("AbortError","AbortError")),_e()};Ee.addEventListener("complete",fe),Ee.addEventListener("error",Nt),Ee.addEventListener("abort",Nt)});pe.set(Ee,ye)}(Ee),((Ee,ye)=>ye.some(Ie=>Ee instanceof Ie))(Ee,function oe(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,Ue):Ee)}function Ve(Ee){if(Ee instanceof IDBRequest)return function le(Ee){const ye=new Promise((Ie,he)=>{const _e=()=>{Ee.removeEventListener("success",fe),Ee.removeEventListener("error",Nt)},fe=()=>{Ie(Ve(Ee.result)),_e()},Nt=()=>{he(Ee.error),_e()};Ee.addEventListener("success",fe),Ee.addEventListener("error",Nt)});return ye.then(Ie=>{Ie instanceof IDBCursor&&me.set(Ie,Ee)}).catch(()=>{}),se.set(ye,Ee),ye}(Ee);if(ce.has(Ee))return ce.get(Ee);const ye=Le(Ee);return ye!==Ee&&(ce.set(Ee,ye),se.set(ye,Ee)),ye}const Ft=Ee=>se.get(Ee);function yt(Ee,ye,{blocked:Ie,upgrade:he,blocking:_e,terminated:fe}={}){const Nt=indexedDB.open(Ee,ye),It=Ve(Nt);return he&&Nt.addEventListener("upgradeneeded",xt=>{he(Ve(Nt.result),xt.oldVersion,xt.newVersion,Ve(Nt.transaction))}),Ie&&Nt.addEventListener("blocked",()=>Ie()),It.then(xt=>{fe&&xt.addEventListener("close",()=>fe()),_e&&xt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),It}function Mt(Ee,{blocked:ye}={}){const Ie=indexedDB.deleteDatabase(Ee);return ye&&Ie.addEventListener("blocked",()=>ye()),Ve(Ie).then(()=>{})}const nt=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],Pe=new Map;function Xe(Ee,ye){if(!(Ee instanceof IDBDatabase)||ye in Ee||"string"!=typeof ye)return;if(Pe.get(ye))return Pe.get(ye);const Ie=ye.replace(/FromIndex$/,""),he=ye!==Ie,_e=St.includes(Ie);if(!(Ie in(he?IDBIndex:IDBObjectStore).prototype)||!_e&&!nt.includes(Ie))return;const fe=function(){var Nt=(0,s.Z)(function*(It,...xt){const gt=this.transaction(It,_e?"readwrite":"readonly");let Ze=gt.store;return he&&(Ze=Ze.index(xt.shift())),(yield Promise.all([Ze[Ie](...xt),_e&&gt.done]))[0]});return function(xt){return Nt.apply(this,arguments)}}();return Pe.set(ye,fe),fe}!function ct(Ee){Ue=Ee(Ue)}(Ee=>({...Ee,get:(ye,Ie,he)=>Xe(ye,Ie)||Ee.get(ye,Ie,he),has:(ye,Ie)=>!!Xe(ye,Ie)||Ee.has(ye,Ie)}))},5861:(En,vt,F)=>{"use strict";function s(K,Re,oe,ue,me,pe,De){try{var ce=K[pe](De),se=ce.value}catch(le){return void oe(le)}ce.done?Re(se):Promise.resolve(se).then(ue,me)}function Q(K){return function(){var Re=this,oe=arguments;return new Promise(function(ue,me){var pe=K.apply(Re,oe);function De(se){s(pe,ue,me,De,ce,"next",se)}function ce(se){s(pe,ue,me,De,ce,"throw",se)}De(void 0)})}}F.d(vt,{Z:()=>Q})}},En=>{En(En.s=8688)}]);