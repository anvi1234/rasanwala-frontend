"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4176],{4176:(W,g,s)=>{s.r(g),s.d(g,{CheckoutPageModule:()=>Q});var l=s(6895),h=s(4719),R=s(191),u=s(1808),E=s(2662),_=s(5226),f=s.n(_),e=s(4650),S=s(4037),x=s(4225);function k(n,a){if(1&n&&(e.TgZ(0,"table")(1,"tbody")(2,"tr")(3,"td"),e._uU(4,"Shipping fee"),e.qZA(),e.TgZ(5,"td",14),e._uU(6),e.ALo(7,"currency"),e.qZA()(),e.TgZ(8,"tr")(9,"td"),e._uU(10,"Price Total"),e.qZA(),e.TgZ(11,"td",14),e._uU(12),e.ALo(13,"currency"),e.qZA()()(),e.TgZ(14,"tfoot")(15,"tr")(16,"td"),e._uU(17,"Total"),e.qZA(),e.TgZ(18,"td",14),e._uU(19),e.ALo(20,"currency"),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(6),e.Oqu(e.Dn7(7,3,"0","INR","symbol")),e.xp6(6),e.Oqu(e.Dn7(13,7,t.totalprice?t.totalprice:"0","INR","symbol")),e.xp6(7),e.Oqu(e.Dn7(20,11,t.totalprice?t.totalprice:"0","INR","symbol"))}}function M(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"Our team will connect with you regarding your shopping bill after your confirmation we will placed your order."),e.qZA())}let A=(()=>{class n{constructor(t,i,r){this.router=t,this.cartService=i,this.orderService=r,this.isCamera=!1}ionViewWillEnter(){this.cartService.addressChange.subscribe(t=>{t?(this.userName="default"!=t?t.name:localStorage.getItem("employee"),this.mobile="default"!=t?t.mobile:localStorage.getItem("mobileNo"),this.address1="default"!=t?t.address1:localStorage.getItem("address1"),this.address2="default"!=t?t.address2:localStorage.getItem("address2"),this.pincode="default"!=t?t.pincode:localStorage.getItem("pinCode")):(this.userName=localStorage.getItem("employee")?localStorage.getItem("employee"):"",this.mobile=localStorage.getItem("mobileNo")?localStorage.getItem("mobileNo"):"",this.address1=localStorage.getItem("address1")?localStorage.getItem("address1"):"",this.address2=localStorage.getItem("address2")?localStorage.getItem("address2"):"",this.pincode=localStorage.getItem("pincCode")?localStorage.getItem("pincCode"):"")}),this.cartService.totalCostOfCustomerProudct.subscribe(t=>{t?(this.totalprice=t,sessionStorage.setItem("price",this.totalprice)):this.totalprice=sessionStorage.getItem("price")}),this.cartService.checkoutProduct.subscribe(t=>{this.productData=t,this.totalprice=t?.totalAmount,this.productData&&("cart"===t?.type&&(this.productData.cartId=t._id),"camera"===t?.type&&(this.isCamera=!0),this.productData.date=this.getConvert(new Date))})}tinyAlert(){f().fire("Hi","We have been informed!","success")}cancel(){this.router.navigate(["/tabs/product-list"],{queryParams:{order:"View All"}})}buyOrder(){this.productData.uploaded=new Date,this.orderService.createOrder(this.productData).subscribe(t=>{f().fire({heightAuto:!1,icon:"success",title:"Your order has been placed successfully",showConfirmButton:!1,showCloseButton:!0}).then(i=>{i.isDismissed&&(this.cartService.removeAllCart(localStorage.getItem("userid")).subscribe(r=>{this.ionViewWillEnter()}),this.router.navigateByUrl("home"))})})}getConvert(t){var i=new Date(t),r=("0"+(i.getMonth()+1)).slice(-2),c=("0"+i.getDate()).slice(-2);return[i.getFullYear(),r,c].join("-")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(S.N),e.Y36(x.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-checkout"]],decls:39,vars:7,consts:[[1,"iphone"],[1,"header"],[1,"form"],[1,"card"],["href","/user/address-list"],[1,"form__radios"],[1,"form__radio"],["for","visa"],["checked","","id","visa","name","payment-method","type","radio"],[4,"ngIf"],["type","submit",1,"button","button--full","full",3,"click"],[1,"icon"],[0,"xlink","href","#icon-shopping-bag"],["type","submit",1,"button","button--full","outline",3,"click"],["align","right"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"header",1)(2,"h1"),e._uU(3,"Checkout"),e.qZA()(),e.TgZ(4,"form",2)(5,"div")(6,"h2"),e._uU(7,"Address"),e.qZA(),e.TgZ(8,"div",3)(9,"address"),e._uU(10),e._UZ(11,"br"),e._uU(12),e._UZ(13,"br"),e._uU(14),e.qZA()(),e.TgZ(15,"a",4),e._uU(16,"change"),e.qZA()(),e.TgZ(17,"fieldset")(18,"legend"),e._uU(19,"Payment Method"),e.qZA(),e.TgZ(20,"div",5)(21,"div",6)(22,"label",7),e._uU(23," Cash On Delivery"),e.qZA(),e._UZ(24,"input",8),e.qZA()()(),e.TgZ(25,"div")(26,"h2"),e._uU(27,"Shopping Bill"),e.qZA(),e.YNc(28,k,21,15,"table",9),e.YNc(29,M,2,0,"p",9),e.qZA(),e.TgZ(30,"div")(31,"button",10),e.NdJ("click",function(){return i.buyOrder()}),e.O4$(),e.TgZ(32,"svg",11),e._UZ(33,"use",12),e.qZA(),e._uU(34,"Buy Now"),e.qZA(),e.kcU(),e.TgZ(35,"button",13),e.NdJ("click",function(){return i.cancel()}),e.O4$(),e.TgZ(36,"svg",11),e._UZ(37,"use",12),e.qZA(),e._uU(38,"Cancel"),e.qZA()()()()),2&t&&(e.xp6(10),e.hij(" ",i.userName,""),e.xp6(2),e.lnq(" ",i.address1,",",i.address2,", ",i.pincode,","),e.xp6(2),e.hij(" Uttar Pradesh, ",i.mobile," "),e.xp6(14),e.Q6J("ngIf",!i.isCamera),e.xp6(1),e.Q6J("ngIf",i.isCamera))},dependencies:[l.O5,h._Y,h.JL,h.F,l.H9],styles:["[_ngcontent-%COMP%]:root{--color-background: #fae3ea;--color-primary: red --font-family-base: Poppin, sans-serif;--font-size-h1: 1.25rem;--font-size-h2: 1rem}*[_ngcontent-%COMP%]{box-sizing:inherit}html[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{background-color:var(--color-background);display:grid;font-family:var(--font-family-base);line-height:1.5;margin:0;min-block-size:100vh;padding:5vmin;place-items:center}address[_ngcontent-%COMP%]{font-style:normal}button[_ngcontent-%COMP%]{border:0;color:inherit;cursor:pointer;font:inherit}fieldset[_ngcontent-%COMP%]{border:0;margin:0;padding:0}h1[_ngcontent-%COMP%]{font-size:var(--font-size-h1);line-height:1.2;margin-block:0 1.5em;color:#000}h2[_ngcontent-%COMP%]{font-size:var(--font-size-h2);line-height:1.2;margin-block:0 .5em;color:#000}legend[_ngcontent-%COMP%]{font-weight:600;margin-block-end:.5em;padding:0}input[_ngcontent-%COMP%]{border:0;color:inherit;font:inherit}input[type=radio][_ngcontent-%COMP%]{accent-color:var(--color-primary)}table[_ngcontent-%COMP%]{border-collapse:collapse;inline-size:100%}tbody[_ngcontent-%COMP%]{color:#000}td[_ngcontent-%COMP%]{padding-block:.125em}tfoot[_ngcontent-%COMP%]{border-top:1px solid #b4b4b4;font-weight:600}.align[_ngcontent-%COMP%]{display:grid;place-items:center}.full[_ngcontent-%COMP%]{margin-top:6px;align-items:center;background-color:red;color:#fff;display:flex;gap:.5em;justify-content:center;padding-block:.75em;padding-inline:1em;transition:.3s}.outline[_ngcontent-%COMP%]{margin-top:6px;align-items:center;background-color:#fff;color:red;display:flex;gap:.5em;border:1px solid red;justify-content:center;padding-block:.75em;padding-inline:1em;transition:.3s}.full[_ngcontent-%COMP%]:focus, .full[_ngcontent-%COMP%]:hover{background-color:#e96363}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{background-color:#fff}.button--full[_ngcontent-%COMP%]{inline-size:100%}.card[_ngcontent-%COMP%]{border-radius:1em;background-color:red;color:#fff;padding:1em}.form[_ngcontent-%COMP%]{display:grid;gap:2em}.form__radios[_ngcontent-%COMP%]{display:grid;gap:1em}.form__radio[_ngcontent-%COMP%]{align-items:center;background-color:#fefdfe;border-radius:1em;color:#000;box-shadow:0 0 1em #00000010;display:flex;padding:1em}.form__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;gap:1em}.header[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-block:.5em;padding-inline:1em}.icon[_ngcontent-%COMP%]{block-size:1em;display:inline-block;fill:currentColor;inline-size:1em;vertical-align:middle}.iphone[_ngcontent-%COMP%]{background-color:#fbf6f7;background-image:linear-gradient(to bottom,#fbf6f7,#fff);overflow:auto;padding:2em}"]}),n})();var I=s(1086),P=s(591);const O=new e.OlP("recaptcha-language"),j=new e.OlP("recaptcha-base-url"),T=new e.OlP("recaptcha-nonce-tag"),D=new e.OlP("recaptcha-settings"),z=new e.OlP("recaptcha-v3-site-key"),N_loadScript=function Z(n,a,t,i,r){window.ng2recaptchaloaded=()=>{a(grecaptcha)};const c=document.createElement("script");c.innerHTML="",c.src=`${i||"https://www.google.com/recaptcha/api.js"}?render=${n}&onload=ng2recaptchaloaded${t}`,r&&(c.nonce=r),c.async=!0,c.defer=!0,document.head.appendChild(c)};let m=(()=>{class n{constructor(t,i,r,c,o){this.platformId=t,this.language=i,this.baseUrl=r,this.nonce=c,this.v3SiteKey=o,this.init(),this.ready=(0,l.NF)(this.platformId)?n.ready.asObservable():(0,I.of)()}init(){if(!n.ready&&(0,l.NF)(this.platformId)){const t=new P.X(null);n.ready=t,N_loadScript(this.v3SiteKey||"explicit",c=>t.next(c),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return n.ready=null,n.\u0275fac=function(t){return new(t||n)(e.LFG(e.Lbi),e.LFG(O,8),e.LFG(j,8),e.LFG(T,8),e.LFG(z,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),B=0,C=(()=>{class n{constructor(t,i,r,c){this.elementRef=t,this.loader=i,this.zone=r,this.id="ngrecaptcha-"+B++,this.errorMode="default",this.resolved=new e.vpe,this.error=new e.vpe,c&&(this.siteKey=c.siteKey,this.theme=c.theme,this.type=c.type,this.size=c.size,this.badge=c.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{null!=t&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}errored(t){this.error.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const t={badge:this.badge,callback:i=>{this.zone.run(()=>this.captchaResponseCallback(i))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(t["error-callback"]=(...i)=>{this.zone.run(()=>this.errored(i))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(m),e.Y36(e.R0b),e.Y36(D,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,i){2&t&&e.uIk("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[m],imports:[b]}),n})(),F=(()=>{class n{constructor(t){this.host=t,this.requiresControllerReset=!1}writeValue(t){t?this.host.__unsafe_widgetValue!==t&&!1===Boolean(this.host.__unsafe_widgetValue)&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(t){this.onChange=t,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(t){this.onTouched=t}onResolve(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C))},n.\u0275dir=e.lG2({type:n,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(t,i){1&t&&e.NdJ("resolved",function(c){return i.onResolve(c)})},features:[e._Bn([{multi:!0,provide:h.JU,useExisting:(0,e.Gpc)(()=>n)}])]}),n})(),V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.u5,b]}),n})();function G(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"This field is required."),e.qZA())}function L(n,a){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,G,2,0,"div",9),e.qZA()),2&n){e.oxw();const t=e.MAs(5);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}const J=[{path:"",component:A,canActivate:[E.a]},{path:"recaptcha",component:(()=>{class n{constructor(){this.token=void 0}send(t){if(t.invalid)for(const i of Object.keys(t.controls))t.controls[i].markAsTouched();else console.debug(`Token [${this.token}] generated`)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recaptcha"]],decls:11,vars:4,consts:[["form","ngForm"],[1,"row","mt-3"],[1,"col-sm-12","mb-2"],["id","recaptcha","name","recaptcha","required","",3,"ngModel","ngModelChange"],["recaptcha","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"row"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"form",null,0)(2,"div",1)(3,"div",2)(4,"re-captcha",3,4),e.NdJ("ngModelChange",function(o){return i.token=o}),e.qZA(),e.YNc(6,L,2,1,"div",5),e.qZA()(),e.TgZ(7,"div",6)(8,"div",2)(9,"button",7),e.NdJ("click",function(){e.CHM(r);const o=e.MAs(1);return e.KtG(i.send(o))}),e._uU(10,"Send"),e.qZA()()()()}if(2&t){const r=e.MAs(5);e.xp6(4),e.ekj("is-invalid",r.invalid&&(r.dirty||r.touched)),e.Q6J("ngModel",i.token),e.xp6(2),e.Q6J("ngIf",r.invalid&&(r.dirty||r.touched))}},dependencies:[l.O5,h._Y,h.JJ,h.JL,h.Q7,h.On,h.F,F,C]}),n})()}];let Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(J),u.Bz]}),n})(),v=(()=>{class n{constructor(t){this.zone=t,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(t,i,r,c){if(this.grecaptchaScriptLoaded(t.useEnterprise))return void this.zone.run(t.useEnterprise?()=>{r(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{r(window[this.windowGrecaptcha])});t.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha]));const o=document.createElement("script");o.id=this.scriptElemId,o.innerHTML="",o.src=this.getCaptchaScriptUrl(t,i,c),o.async=!0,o.defer=!0,document.getElementsByTagName("head")[0].appendChild(o)}cleanup(){const t=document.getElementById(this.scriptElemId);t&&t.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(t){return!!(window[this.getCallbackName(t)]&&window[this.windowGrecaptcha]&&(t&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(t){return t?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(t){return t?`&hl=${t}`:""}getCaptchaScriptUrl(t,i,r){return`https://www.${t.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${t.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(t.useEnterprise)}&render=${i}${this.getLanguageParam(r)}`}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H=(()=>{class n{constructor(t,i){this.scriptService=t,this.zone=i}execute(t,i,r,c,o){this.executeAsPromise(t,i,c).then(r).catch(p=>o?o(p):console.error(p))}executeAsPromise(t,i,r){return new Promise((c,o)=>{this.scriptService.registerCaptchaScript(r||{},t,w=>{this.zone.runOutsideAngular(()=>{try{w.execute(t,{action:i}).then(d=>this.zone.run(()=>c(d)))}catch(d){o(d)}})})})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v),e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[v,H],imports:[l.ez]}),n})(),Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,h.u5,R.Pc,h.UX,Y,K,V,U]}),n})()}}]);