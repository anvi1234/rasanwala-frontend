"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7670],{3175:(T,f,c)=>{c.d(f,{b:()=>t});var s=c(4650),C=c(9463),e=c(191),m=c(6234);let t=(()=>{class l{constructor(p,P,g){this.productService=p,this.modalCtrl=P,this.productComp=g}ionViewWillEnter(){}delete(){this.productService.deleteProduct(this.id).subscribe(p=>{this.modalCtrl.dismiss(),this.productComp.getProduct()})}close(){this.modalCtrl.dismiss()}}return l.\u0275fac=function(p){return new(p||l)(s.Y36(C.M),s.Y36(e.IN),s.Y36(m.i))},l.\u0275cmp=s.Xpm({type:l,selectors:[["app-delete"]],inputs:{id:"id"},decls:12,vars:0,consts:[["slot","end"],[3,"click"]],template:function(p,P){1&p&&(s.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s._uU(3,"delete"),s.qZA(),s.TgZ(4,"ion-buttons",0)(5,"ion-button",1),s.NdJ("click",function(){return P.close()}),s._uU(6,"Close"),s.qZA()()()(),s._UZ(7,"br"),s.TgZ(8,"ion-content"),s._uU(9," Are you sure you want to delete this product? "),s.TgZ(10,"ion-button",1),s.NdJ("click",function(){return P.delete()}),s._uU(11,"Delete"),s.qZA()())},dependencies:[e.YG,e.Sm,e.W2,e.Gu,e.wd,e.sr]}),l})()},1255:(T,f,c)=>{c.d(f,{x:()=>s});class s{}},9165:(T,f,c)=>{c.d(f,{v:()=>h});var s=c(537),C=c(1255),e=c(4650),m=c(9463),t=c(4586),l=c(191),_=c(6895),p=c(4719);function P(n,a){if(1&n&&(e.TgZ(0,"ion-select-option",16),e._uU(1),e.qZA()),2&n){const i=a.$implicit;e.s9C("value",i.name),e.xp6(1),e.Oqu(i.name)}}const g=function(){return{standalone:!0}};function Z(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"ion-list",17)(1,"ion-item")(2,"div",18)(3,"div",19)(4,"ion-input",20),e.NdJ("ngModelChange",function(r){e.CHM(i);const d=e.oxw();return e.KtG(d.price=r)}),e.qZA()(),e.TgZ(5,"div",19)(6,"ion-input",21),e.NdJ("ngModelChange",function(r){e.CHM(i);const d=e.oxw();return e.KtG(d.subWeight=r)}),e.qZA()(),e.TgZ(7,"div",19)(8,"button",1),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.addRow(r.subWeight,r.price))}),e._uU(9,"+"),e.qZA()()()()()}if(2&n){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i.price)("ngModelOptions",e.DdM(4,g)),e.xp6(2),e.Q6J("ngModel",i.subWeight)("ngModelOptions",e.DdM(5,g))}}function k(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA(),e.TgZ(5,"span",23),e.NdJ("click",function(){const d=e.CHM(i).index,A=e.oxw(2);return e.KtG(A.removeRow(d))}),e.qZA()()}if(2&n){const i=a.$implicit;e.xp6(2),e.Oqu(i.price),e.xp6(2),e.Oqu(i.subweight)}}function O(n,a){if(1&n&&(e.TgZ(0,"ion-list",17),e.YNc(1,k,6,2,"ion-item",22),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.data.priceArray)}}function u(n,a){1&n&&e._UZ(0,"ion-spinner",24)}let h=(()=>{class n{constructor(i,o,r){this.productService=i,this.storage=o,this.modalCtrl=r,this.newDynamic={},this.isChecked=!1,this.typeOfPack="",this.dynamicArray=[],this.category=[{id:1,name:"Sauce & Spreads"},{id:2,name:"Atta,Rice & Dal"},{id:3,name:"Bakery & Biscuits"},{id:4,name:"Breakfast & Instant Food"},{id:5,name:"Cold Drinks & Juice"},{id:6,name:"Cleaning Essential"},{id:7,name:"Masala Oil & More"},{id:8,name:"Personal Care"},{id:9,name:"Snacks & Munchies"},{id:10,name:"Tea,Cofee & Health Drink"}],this.isSpinner=!1,this.ProductFormModel=new C.x,this.file=null,this.selectedFile=null,this.todo={title:"",description:""}}ionViewWillEnter(){console.log("asdasd",this.data)}onFileChange(i){this.isSpinner=!0;var o=Date.now();const r=i.target.files[0],A=this.storage.ref(`item/${o}`);this.storage.upload(`item/${o}`,r).snapshotChanges().pipe((0,s.x)(()=>{this.downloadURL=A.getDownloadURL(),this.downloadURL.subscribe(M=>{M&&(this.fb=M,this.isSpinner=!1)})})).subscribe(M=>{M&&console.log(M)})}onSubmit(){console.log("dataArray",this.data.priceArray),this.ProductFormModel=this.data,this.ProductFormModel.isSubPrice=this.isChecked,this.ProductFormModel.weight=this.data.priceArray[0].subweight,this.ProductFormModel.price=this.data.priceArray[0].price,this.ProductFormModel.producttype=this.typeOfPack,this.fb&&(this.ProductFormModel.fireBaseUrl=this.fb),this.productService.updateProduct(this.data._id,this.ProductFormModel).subscribe(i=>{this.modalCtrl.dismiss()})}addRow(i,o){this.subWeight="",this.price="",this.newDynamic={price:o,subweight:i},this.newDynamic.price&&this.newDynamic.subweight&&this.data.priceArray.push(this.newDynamic)}removeRow(i){console.log("sfsdf",i),this.data.priceArray.splice(i,1)}ionChange(i){this.isChecked=!0===i.detail.checked}close(){this.modalCtrl.dismiss()}ionChangeforpack(i,o){"Packed"===o&&!0===i.detail.checked&&(this.typeOfPack="Packed"),"Open"===o&&!0===i.detail.checked&&(this.typeOfPack="Open"),console.log("hhhccc",i.detail.checked)}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(m.M),e.Y36(t.Q1),e.Y36(l.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-product-update-page"]],inputs:{data:"data"},decls:49,vars:22,consts:[["slot","end"],[3,"click"],[1,"row"],[1,"col-sm-12","img"],[3,"src"],["enctype","multipart/form-data","novalidate",""],["form","ngForm"],["type","text","required","","ngControl","title",3,"ngModel","ngModelOptions","ngModelChange"],["interface","popover","placeholder","Select Category",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["slot","start",3,"checked","ionChange"],["slot","start",3,"checked","indeterminate","ionChange"],["class","list",4,"ngIf"],["color","primary","name","lines-small",4,"ngIf"],["type","file","required","","name","imageUrl","ngControl","title",3,"change"],["type","submit",3,"disabled","click"],[3,"value"],[1,"list"],[1,"parent"],[1,"child"],["type","text","placeholder","Price",1,"task-input",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","placeholder","gm/kg",1,"task-input",3,"ngModel","ngModelOptions","ngModelChange"],[4,"ngFor","ngForOf"],["title","Delete Task",1,"delete-btn",3,"click"],["color","primary","name","lines-small"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"productUpdatePage"),e.qZA(),e.TgZ(4,"ion-buttons",0)(5,"ion-button",1),e.NdJ("click",function(){return o.close()}),e._uU(6,"Close"),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"div",2)(9,"div",3),e._UZ(10,"img",4),e.qZA()(),e.TgZ(11,"form",5,6)(13,"ion-item")(14,"ion-label"),e._uU(15,"Product's Name"),e.qZA(),e.TgZ(16,"ion-input",7),e.NdJ("ngModelChange",function(d){return o.data.productName=d}),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-label"),e._uU(19,"Description"),e.qZA(),e.TgZ(20,"ion-input",7),e.NdJ("ngModelChange",function(d){return o.data.description=d}),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-select",8),e.NdJ("ngModelChange",function(d){return o.data.category=d}),e.YNc(23,P,2,2,"ion-select-option",9),e.qZA()(),e.TgZ(24,"ion-item")(25,"ion-checkbox",10),e.NdJ("ionChange",function(d){return o.ionChangeforpack(d,"Packed")}),e.qZA(),e.TgZ(26,"ion-label"),e._uU(27,"Packed"),e.qZA()(),e.TgZ(28,"ion-item")(29,"ion-checkbox",10),e.NdJ("ionChange",function(d){return o.ionChangeforpack(d,"Open")}),e.qZA(),e.TgZ(30,"ion-label"),e._uU(31,"Open"),e.qZA()(),e.TgZ(32,"ion-item")(33,"ion-checkbox",11),e.NdJ("ionChange",function(d){return o.ionChange(d)}),e.qZA(),e.TgZ(34,"ion-label"),e._uU(35,"SubPrice"),e.qZA()(),e.YNc(36,Z,10,6,"ion-list",12),e.YNc(37,O,2,1,"ion-list",12),e.TgZ(38,"ion-item")(39,"ion-label"),e._uU(40,"Key"),e.qZA(),e.TgZ(41,"ion-input",7),e.NdJ("ngModelChange",function(d){return o.data.key=d}),e.qZA()(),e.TgZ(42,"ion-item")(43,"ion-label"),e._uU(44,"Product Image"),e.qZA(),e.YNc(45,u,1,0,"ion-spinner",13),e.TgZ(46,"ion-input",14),e.NdJ("change",function(d){return o.onFileChange(d)}),e.qZA()(),e.TgZ(47,"ion-button",15),e.NdJ("click",function(){return o.onSubmit()}),e._uU(48,"Update Product"),e.qZA()()()),2&i&&(e.xp6(10),e.Q6J("src",o.data.fireBaseUrl,e.LSH),e.xp6(6),e.Q6J("ngModel",o.data.productName)("ngModelOptions",e.DdM(18,g)),e.xp6(4),e.Q6J("ngModel",o.data.description)("ngModelOptions",e.DdM(19,g)),e.xp6(2),e.Q6J("ngModel",o.data.category)("ngModelOptions",e.DdM(20,g)),e.xp6(1),e.Q6J("ngForOf",o.category),e.xp6(2),e.s9C("checked","Packed"===o.data.producttype),e.xp6(4),e.s9C("checked","Open"===o.data.producttype),e.xp6(4),e.Q6J("checked",o.data.isSubPrice)("indeterminate",!0),e.xp6(3),e.Q6J("ngIf",o.isChecked),e.xp6(1),e.Q6J("ngIf",o.isChecked),e.xp6(4),e.Q6J("ngModel",o.data.key)("ngModelOptions",e.DdM(21,g)),e.xp6(4),e.Q6J("ngIf",o.isSpinner),e.xp6(2),e.Q6J("disabled",o.isSpinner))},dependencies:[_.sg,_.O5,p._Y,p.JJ,p.JL,p.Q7,p.On,p.F,l.YG,l.Sm,l.nz,l.W2,l.Gu,l.pK,l.Ie,l.Q$,l.q_,l.t9,l.n0,l.PQ,l.wd,l.sr,l.w,l.QI,l.j9],styles:[".img[_ngcontent-%COMP%]{width:200px}.parent[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.delete-btn[_ngcontent-%COMP%]{margin-left:auto;display:block;width:16px;height:16px;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23ff3d46' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-trash-2'%3E%3Cpolyline points='3 6 5 6 21 6'/%3E%3Cpath d='M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2'/%3E%3Cline x1='10' y1='11' x2='10' y2='17'/%3E%3Cline x1='14' y1='11' x2='14' y2='17'/%3E%3C/svg%3E\");background-size:16px;background-position:center;cursor:pointer}"]}),n})()},6234:(T,f,c)=>{c.d(f,{i:()=>O});var s=c(5861),C=c(9165),e=c(3175),m=c(4719),t=c(4650),l=c(9463),_=c(191),p=c(1808),P=c(6895);function g(u,h){if(1&u){const n=t.EpF();t.TgZ(0,"ion-item",19),t.NdJ("click",function(){const o=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.selected(o))}),t._uU(1),t.qZA()}if(2&u){const n=h.$implicit;t.xp6(1),t.hij(" ",n.productName," ")}}function Z(u,h){if(1&u&&(t.TgZ(0,"ion-select-option",20),t._uU(1),t.qZA()),2&u){const n=h.$implicit;t.s9C("value",null==n?null:n.name),t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function k(u,h){if(1&u){const n=t.EpF();t.TgZ(0,"ion-list")(1,"ion-item"),t._uU(2),t._UZ(3,"img",21),t.TgZ(4,"ion-label"),t._uU(5),t.qZA(),t.TgZ(6,"ion-icon",22),t.NdJ("click",function(){const o=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.showModalDelete(o))}),t.qZA(),t.TgZ(7,"ion-icon",23),t.NdJ("click",function(){const o=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.showModal(o))}),t.qZA()()()}if(2&u){const n=h.$implicit,a=h.index;t.xp6(2),t.hij(" ",a+1," "),t.xp6(1),t.Q6J("src",n.fireBaseUrl,t.LSH),t.xp6(2),t.Oqu(n.productName)}}let O=(()=>{class u{constructor(n,a,i){this.productService=n,this.modalCtrl=a,this.router=i,this.productArray=[],this.valueOfSearch="",this.isSearchbar=!1,this.items=[],this.tempData=[],this.isSearchContainer=!1,this.category=[{id:1,name:"Sauce & Spreads"},{id:2,name:"Atta,Rice & Dal"},{id:3,name:"Bakery & Biscuits"},{id:4,name:"Breakfast & Instant Food"},{id:5,name:"Cold Drinks & Juice"},{id:6,name:"Cleaning Essential"},{id:7,name:"Masala Oil & More"},{id:8,name:"Personal Care"},{id:9,name:"Snacks & Munchies"},{id:10,name:"Tea,Coffee & Health Drink"}],this.form=new m.cw({seletedItem:new m.NI(null)})}ionViewWillEnter(){this.getProduct()}getProduct(){this.productService.productData.subscribe(n=>{this.tempData=n,this.productArray=n})}showModal(n){var a=this;return(0,s.Z)(function*(){return yield(yield a.modalCtrl.create({component:C.v,componentProps:{data:n}})).present()})()}inputChanged(n){var a=this;return(0,s.Z)(function*(){const i=n.target.value;i.length<=0?a.items=[]:yield a.productService.productData.subscribe(o=>{let r=o.filter(d=>d.productName?.toLocaleLowerCase().includes(i?.toLocaleLowerCase()));a.items=r})})()}showModalDelete(n){var a=this;return(0,s.Z)(function*(){return yield(yield a.modalCtrl.create({component:e.b,componentProps:{id:n._id}})).present()})()}selected(n){this.valueOfSearch="",this.productArray=this.productArray.filter(a=>a.productName===n.productName),this.isSearchbar=!1,this.items=[]}openSearchBar(){this.isSearchbar=!this.isSearchbar}onChange(n){let a=n.target.value;this.productArray="All"!=a?this.productArray.filter(i=>i.category.includes(a)):this.tempData}}return u.\u0275fac=function(n){return new(n||u)(t.Y36(l.M),t.Y36(_.IN),t.Y36(p.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-prouduct-track"]],decls:24,vars:5,consts:[["color","primary"],[1,"parent-header-btn"],[1,"header-child-btn"],["slot","start",1,"button-header"],["name","menu"],[1,"logo-img"],["src","../../assets/img/login-logo-1.png"],[1,"row"],[1,"col"],[1,"search-parent-btn","search-box"],[1,"search-header-child"],["type","text","slot","start",3,"ngModel","ngModelChange","ionInput"],["name","search","slot","end",3,"click"],[1,"search-list",3,"hidden"],[3,"click",4,"ngFor","ngForOf"],[3,"ionChange"],["value","All"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"click"],[3,"value"],["height","40px","width","40px",3,"src"],["name","trash-outline",3,"click"],["name","create-outline",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div",1)(3,"div",2)(4,"ion-buttons",3)(5,"ion-menu-button"),t._UZ(6,"ion-icon",4),t.qZA(),t.TgZ(7,"div",5),t._UZ(8,"img",6),t.qZA()()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"ion-input",11),t.NdJ("ngModelChange",function(o){return a.valueOfSearch=o})("ionInput",function(o){return a.inputChanged(o)}),t.qZA()(),t.TgZ(14,"div",10)(15,"ion-icon",12),t.NdJ("click",function(){return a.openSearchBar()}),t.qZA()()()()()(),t.TgZ(16,"ion-list",13),t.YNc(17,g,2,1,"ion-item",14),t.qZA()(),t.TgZ(18,"ion-content")(19,"ion-select",15),t.NdJ("ionChange",function(o){return a.onChange(o)}),t.TgZ(20,"ion-select-option",16),t._uU(21," All "),t.qZA(),t.YNc(22,Z,2,2,"ion-select-option",17),t.qZA(),t.YNc(23,k,8,3,"ion-list",18),t.qZA()),2&n&&(t.xp6(13),t.Q6J("ngModel",a.valueOfSearch),t.xp6(3),t.Q6J("hidden",a.items.length<=0),t.xp6(1),t.Q6J("ngForOf",a.items),t.xp6(5),t.Q6J("ngForOf",a.category),t.xp6(1),t.Q6J("ngForOf",a.productArray))},dependencies:[P.sg,m.JJ,m.On,_.Sm,_.W2,_.Gu,_.gu,_.pK,_.Ie,_.Q$,_.q_,_.fG,_.t9,_.n0,_.sr,_.QI,_.j9]}),u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac}),u})()}}]);