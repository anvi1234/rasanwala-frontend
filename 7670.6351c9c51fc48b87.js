"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7670],{3175:(Z,M,a)=>{a.d(M,{b:()=>t});var c=a(4650),C=a(9463),e=a(191),m=a(6234);let t=(()=>{class s{constructor(g,P,h){this.productService=g,this.modalCtrl=P,this.productComp=h}ionViewWillEnter(){}delete(){this.productService.deleteProduct(this.id).subscribe(g=>{this.modalCtrl.dismiss(),this.productComp.getProduct()})}close(){this.modalCtrl.dismiss()}}return s.\u0275fac=function(g){return new(g||s)(c.Y36(C.M),c.Y36(e.IN),c.Y36(m.i))},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-delete"]],inputs:{id:"id"},decls:12,vars:0,consts:[["slot","end"],[3,"click"]],template:function(g,P){1&g&&(c.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),c._uU(3,"delete"),c.qZA(),c.TgZ(4,"ion-buttons",0)(5,"ion-button",1),c.NdJ("click",function(){return P.close()}),c._uU(6,"Close"),c.qZA()()()(),c._UZ(7,"br"),c.TgZ(8,"ion-content"),c._uU(9," Are you sure you want to delete this product? "),c.TgZ(10,"ion-button",1),c.NdJ("click",function(){return P.delete()}),c._uU(11,"Delete"),c.qZA()())},dependencies:[e.YG,e.Sm,e.W2,e.Gu,e.wd,e.sr]}),s})()},1255:(Z,M,a)=>{a.d(M,{x:()=>c});class c{}},9165:(Z,M,a)=>{a.d(M,{v:()=>r});var c=a(537),C=a(1255),e=a(4650),m=a(9463),t=a(4586),s=a(191),u=a(6895),g=a(4719);function P(o,_){if(1&o&&(e.TgZ(0,"ion-select-option",16),e._uU(1),e.qZA()),2&o){const n=_.$implicit;e.s9C("value",n.name),e.xp6(1),e.Oqu(n.name)}}const h=function(){return{standalone:!0}};function k(o,_){if(1&o){const n=e.EpF();e.TgZ(0,"ion-list",17)(1,"ion-item")(2,"div",18)(3,"div",19)(4,"ion-input",20),e.NdJ("ngModelChange",function(l){e.CHM(n);const d=e.oxw();return e.KtG(d.price=l)}),e.qZA()(),e.TgZ(5,"div",19)(6,"ion-input",21),e.NdJ("ngModelChange",function(l){e.CHM(n);const d=e.oxw();return e.KtG(d.subWeight=l)}),e.qZA()(),e.TgZ(7,"div",19)(8,"button",1),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.addRow(l.subWeight,l.price))}),e._uU(9,"+"),e.qZA()()()()()}if(2&o){const n=e.oxw();e.xp6(4),e.Q6J("ngModel",n.price)("ngModelOptions",e.DdM(4,h)),e.xp6(2),e.Q6J("ngModel",n.subWeight)("ngModelOptions",e.DdM(5,h))}}function O(o,_){if(1&o){const n=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA(),e.TgZ(5,"span",23),e.NdJ("click",function(){const d=e.CHM(n).index,U=e.oxw(2);return e.KtG(U.removeRow(d))}),e.qZA()()}if(2&o){const n=_.$implicit;e.xp6(2),e.Oqu(n.price),e.xp6(2),e.Oqu(n.subweight)}}function p(o,_){if(1&o&&(e.TgZ(0,"ion-list",17),e.YNc(1,O,6,2,"ion-item",22),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.data.priceArray)}}function f(o,_){1&o&&e._UZ(0,"ion-spinner",24)}let r=(()=>{class o{constructor(n,i,l){this.productService=n,this.storage=i,this.modalCtrl=l,this.newDynamic={},this.isChecked=!1,this.typeOfPack="",this.dynamicArray=[],this.category=[{id:1,name:"Sauce & Spreads"},{id:2,name:"Atta,Rice & Dal"},{id:3,name:"Bakery & Biscuits"},{id:4,name:"Breakfast & Instant Food"},{id:5,name:"Cold Drinks & Juice"},{id:6,name:"Cleaning Essential"},{id:7,name:"Masala Oil & More"},{id:8,name:"Personal Care"},{id:9,name:"Snacks & Munchies"},{id:10,name:"Tea,Cofee & Health Drink"}],this.isSpinner=!1,this.ProductFormModel=new C.x,this.file=null,this.selectedFile=null,this.todo={title:"",description:""}}ionViewWillEnter(){console.log("asdasd",this.data)}onFileChange(n){this.isSpinner=!0;var i=Date.now();const l=n.target.files[0],U=this.storage.ref(`item/${i}`);this.storage.upload(`item/${i}`,l).snapshotChanges().pipe((0,c.x)(()=>{this.downloadURL=U.getDownloadURL(),this.downloadURL.subscribe(T=>{T&&(this.fb=T,this.isSpinner=!1)})})).subscribe(T=>{T&&console.log(T)})}onSubmit(){console.log("dataArray",this.data.priceArray),this.ProductFormModel=this.data,this.ProductFormModel.isSubPrice=this.isChecked,this.ProductFormModel.weight=this.data.priceArray[0].subweight,this.ProductFormModel.price=this.data.priceArray[0].price,this.ProductFormModel.producttype=this.typeOfPack,this.fb&&(this.ProductFormModel.fireBaseUrl=this.fb),this.productService.updateProduct(this.data._id,this.ProductFormModel).subscribe(n=>{this.modalCtrl.dismiss()})}addRow(n,i){this.subWeight="",this.price="",this.newDynamic={price:i,subweight:n},this.newDynamic.price&&this.newDynamic.subweight&&this.data.priceArray.push(this.newDynamic)}removeRow(n){console.log("sfsdf",n),this.data.priceArray.splice(n,1)}ionChange(n){this.isChecked=!0===n.detail.checked}close(){this.modalCtrl.dismiss()}ionChangeforpack(n,i){"Packed"===i&&!0===n.detail.checked&&(this.typeOfPack="Packed"),"Open"===i&&!0===n.detail.checked&&(this.typeOfPack="Open"),console.log("hhhccc",n.detail.checked)}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(m.M),e.Y36(t.Q1),e.Y36(s.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-product-update-page"]],inputs:{data:"data"},decls:49,vars:22,consts:[["slot","end"],[3,"click"],[1,"row"],[1,"col-sm-12","img"],[3,"src"],["enctype","multipart/form-data","novalidate",""],["form","ngForm"],["type","text","required","","ngControl","title",3,"ngModel","ngModelOptions","ngModelChange"],["interface","popover","placeholder","Select Category",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["slot","start",3,"checked","ionChange"],["slot","start",3,"checked","indeterminate","ionChange"],["class","list",4,"ngIf"],["color","primary","name","lines-small",4,"ngIf"],["type","file","required","","name","imageUrl","ngControl","title",3,"change"],["type","submit",3,"disabled","click"],[3,"value"],[1,"list"],[1,"parent"],[1,"child"],["type","text","placeholder","Price",1,"task-input",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","placeholder","gm/kg",1,"task-input",3,"ngModel","ngModelOptions","ngModelChange"],[4,"ngFor","ngForOf"],["title","Delete Task",1,"delete-btn",3,"click"],["color","primary","name","lines-small"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"productUpdatePage"),e.qZA(),e.TgZ(4,"ion-buttons",0)(5,"ion-button",1),e.NdJ("click",function(){return i.close()}),e._uU(6,"Close"),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"div",2)(9,"div",3),e._UZ(10,"img",4),e.qZA()(),e.TgZ(11,"form",5,6)(13,"ion-item")(14,"ion-label"),e._uU(15,"Product's Name"),e.qZA(),e.TgZ(16,"ion-input",7),e.NdJ("ngModelChange",function(d){return i.data.productName=d}),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-label"),e._uU(19,"Description"),e.qZA(),e.TgZ(20,"ion-input",7),e.NdJ("ngModelChange",function(d){return i.data.description=d}),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-select",8),e.NdJ("ngModelChange",function(d){return i.data.category=d}),e.YNc(23,P,2,2,"ion-select-option",9),e.qZA()(),e.TgZ(24,"ion-item")(25,"ion-checkbox",10),e.NdJ("ionChange",function(d){return i.ionChangeforpack(d,"Packed")}),e.qZA(),e.TgZ(26,"ion-label"),e._uU(27,"Packed"),e.qZA()(),e.TgZ(28,"ion-item")(29,"ion-checkbox",10),e.NdJ("ionChange",function(d){return i.ionChangeforpack(d,"Open")}),e.qZA(),e.TgZ(30,"ion-label"),e._uU(31,"Open"),e.qZA()(),e.TgZ(32,"ion-item")(33,"ion-checkbox",11),e.NdJ("ionChange",function(d){return i.ionChange(d)}),e.qZA(),e.TgZ(34,"ion-label"),e._uU(35,"SubPrice"),e.qZA()(),e.YNc(36,k,10,6,"ion-list",12),e.YNc(37,p,2,1,"ion-list",12),e.TgZ(38,"ion-item")(39,"ion-label"),e._uU(40,"Key"),e.qZA(),e.TgZ(41,"ion-input",7),e.NdJ("ngModelChange",function(d){return i.data.key=d}),e.qZA()(),e.TgZ(42,"ion-item")(43,"ion-label"),e._uU(44,"Product Image"),e.qZA(),e.YNc(45,f,1,0,"ion-spinner",13),e.TgZ(46,"ion-input",14),e.NdJ("change",function(d){return i.onFileChange(d)}),e.qZA()(),e.TgZ(47,"ion-button",15),e.NdJ("click",function(){return i.onSubmit()}),e._uU(48,"Update Product"),e.qZA()()()),2&n&&(e.xp6(10),e.Q6J("src",i.data.fireBaseUrl,e.LSH),e.xp6(6),e.Q6J("ngModel",i.data.productName)("ngModelOptions",e.DdM(18,h)),e.xp6(4),e.Q6J("ngModel",i.data.description)("ngModelOptions",e.DdM(19,h)),e.xp6(2),e.Q6J("ngModel",i.data.category)("ngModelOptions",e.DdM(20,h)),e.xp6(1),e.Q6J("ngForOf",i.category),e.xp6(2),e.s9C("checked","Packed"===i.data.producttype),e.xp6(4),e.s9C("checked","Open"===i.data.producttype),e.xp6(4),e.Q6J("checked",i.data.isSubPrice)("indeterminate",!0),e.xp6(3),e.Q6J("ngIf",i.isChecked),e.xp6(1),e.Q6J("ngIf",i.isChecked),e.xp6(4),e.Q6J("ngModel",i.data.key)("ngModelOptions",e.DdM(21,h)),e.xp6(4),e.Q6J("ngIf",i.isSpinner),e.xp6(2),e.Q6J("disabled",i.isSpinner))},dependencies:[u.sg,u.O5,g._Y,g.JJ,g.JL,g.Q7,g.On,g.F,s.YG,s.Sm,s.nz,s.W2,s.Gu,s.pK,s.Ie,s.Q$,s.q_,s.t9,s.n0,s.PQ,s.wd,s.sr,s.w,s.QI,s.j9],styles:[".img[_ngcontent-%COMP%]{width:200px}.parent[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.delete-btn[_ngcontent-%COMP%]{margin-left:auto;display:block;width:16px;height:16px;background-repeat:no-repeat;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23ff3d46' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-trash-2'%3E%3Cpolyline points='3 6 5 6 21 6'/%3E%3Cpath d='M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2'/%3E%3Cline x1='10' y1='11' x2='10' y2='17'/%3E%3Cline x1='14' y1='11' x2='14' y2='17'/%3E%3C/svg%3E\");background-size:16px;background-position:center;cursor:pointer}"]}),o})()},6234:(Z,M,a)=>{a.d(M,{i:()=>O});var c=a(5861),C=a(9165),e=a(3175),m=a(4719),t=a(4650),s=a(9463),u=a(191),g=a(1808),P=a(6895);function h(p,f){if(1&p){const r=t.EpF();t.TgZ(0,"ion-item",16),t.NdJ("click",function(){const n=t.CHM(r).$implicit,i=t.oxw();return t.KtG(i.selected(n))}),t._uU(1),t.qZA()}if(2&p){const r=f.$implicit;t.xp6(1),t.hij(" ",r.productName," ")}}function k(p,f){if(1&p){const r=t.EpF();t.TgZ(0,"ion-list")(1,"ion-item"),t._UZ(2,"img",17),t.TgZ(3,"ion-label"),t._uU(4),t.qZA(),t.TgZ(5,"ion-icon",18),t.NdJ("click",function(){const n=t.CHM(r).$implicit,i=t.oxw();return t.KtG(i.showModalDelete(n))}),t.qZA(),t.TgZ(6,"ion-icon",19),t.NdJ("click",function(){const n=t.CHM(r).$implicit,i=t.oxw();return t.KtG(i.showModal(n))}),t.qZA()()()}if(2&p){const r=f.$implicit;t.xp6(2),t.Q6J("src",r.fireBaseUrl,t.LSH),t.xp6(2),t.Oqu(r.productName)}}let O=(()=>{class p{constructor(r,o,_){this.productService=r,this.modalCtrl=o,this.router=_,this.productArray=[],this.valueOfSearch="",this.isSearchbar=!1,this.items=[],this.isSearchContainer=!1,this.form=new m.cw({seletedItem:new m.NI(null)})}ionViewWillEnter(){this.getProduct()}getProduct(){this.productService.productData.subscribe(r=>{this.productArray=r})}showModal(r){var o=this;return(0,c.Z)(function*(){return yield(yield o.modalCtrl.create({component:C.v,componentProps:{data:r}})).present()})()}inputChanged(r){var o=this;return(0,c.Z)(function*(){const _=r.target.value;_.length<=0?o.items=[]:yield o.productService.productData.subscribe(n=>{let i=n.filter(l=>l.productName.toLocaleLowerCase().includes(_.toLocaleLowerCase()));o.items=i})})()}showModalDelete(r){var o=this;return(0,c.Z)(function*(){return yield(yield o.modalCtrl.create({component:e.b,componentProps:{id:r._id}})).present()})()}selected(r){this.valueOfSearch="",this.productArray=this.productArray.filter(o=>o.productName===r.productName),this.isSearchbar=!1,this.items=[]}openSearchBar(){this.isSearchbar=!this.isSearchbar}}return p.\u0275fac=function(r){return new(r||p)(t.Y36(s.M),t.Y36(u.IN),t.Y36(g.F0))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-prouduct-track"]],decls:20,vars:4,consts:[["color","primary"],[1,"parent-header-btn"],[1,"header-child-btn"],["slot","start",1,"button-header"],["name","menu"],[1,"logo-img"],["src","../../assets/img/login-logo-1.png"],[1,"row"],[1,"col"],[1,"search-parent-btn","search-box"],[1,"search-header-child"],["type","text","slot","start",3,"ngModel","ngModelChange","ionInput"],["name","search","slot","end",3,"click"],[1,"search-list",3,"hidden"],[3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"click"],["height","40px","width","40px",3,"src"],["name","trash-outline",3,"click"],["name","create-outline",3,"click"]],template:function(r,o){1&r&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div",1)(3,"div",2)(4,"ion-buttons",3)(5,"ion-menu-button"),t._UZ(6,"ion-icon",4),t.qZA(),t.TgZ(7,"div",5),t._UZ(8,"img",6),t.qZA()()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"ion-input",11),t.NdJ("ngModelChange",function(n){return o.valueOfSearch=n})("ionInput",function(n){return o.inputChanged(n)}),t.qZA()(),t.TgZ(14,"div",10)(15,"ion-icon",12),t.NdJ("click",function(){return o.openSearchBar()}),t.qZA()()()()()(),t.TgZ(16,"ion-list",13),t.YNc(17,h,2,1,"ion-item",14),t.qZA()(),t.TgZ(18,"ion-content"),t.YNc(19,k,7,2,"ion-list",15),t.qZA()),2&r&&(t.xp6(13),t.Q6J("ngModel",o.valueOfSearch),t.xp6(3),t.Q6J("hidden",o.items.length<=0),t.xp6(1),t.Q6J("ngForOf",o.items),t.xp6(2),t.Q6J("ngForOf",o.productArray))},dependencies:[P.sg,m.JJ,m.On,u.Sm,u.W2,u.Gu,u.gu,u.pK,u.Ie,u.Q$,u.q_,u.fG,u.sr,u.j9]}),p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac}),p})()}}]);