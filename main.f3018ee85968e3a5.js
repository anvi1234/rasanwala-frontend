(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(Sn,bt,L)=>{"use strict";L.d(bt,{nm:()=>ts});var o=L(6351);L(4650),L(5867);var Et=L(5861),Qe=L(9681),We=L(4859),ke=L(2090),tt=L(1877);const Ee=new Map,ve={activated:!1,tokenObservers:[]},Ie={initialized:!1,enabled:!1};function ue(wt){return Ee.get(wt)||ve}function Ce(wt,Tt){Ee.set(wt,Tt)}function me(){return Ie}class at{constructor(Tt,Gt,yn,Fn,li){if(this.operation=Tt,this.retryPolicy=Gt,this.getWaitDuration=yn,this.lowerBound=Fn,this.upperBound=li,this.pending=null,this.nextErrorWaitInterval=Fn,Fn>li)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Tt){var Gt=this;return(0,Et.Z)(function*(){Gt.stop();try{Gt.pending=new ke.BH,yield function ht(wt){return new Promise(Tt=>{setTimeout(Tt,wt)})}(Gt.getNextRun(Tt)),Gt.pending.resolve(),yield Gt.pending.promise,Gt.pending=new ke.BH,yield Gt.operation(),Gt.pending.resolve(),yield Gt.pending.promise,Gt.process(!0).catch(()=>{})}catch(yn){Gt.retryPolicy(yn)?Gt.process(!1).catch(()=>{}):Gt.stop()}})()}getNextRun(Tt){if(Tt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Gt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Gt}}}const $t=new ke.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ut(wt){if(!ue(wt).activated)throw $t.create("use-before-activation",{appName:wt.name})}function Cn(wt,Tt){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,Et.Z)(function*({url:wt,body:Tt},Gt){var yn,Fn;const li={"Content-Type":"application/json"},Ei=Gt.getImmediate({optional:!0});if(Ei){const to=yield Ei.getHeartbeatsHeader();to&&(li["X-Firebase-Client"]=to)}const ms={method:"POST",body:JSON.stringify(Tt),headers:li};let nr,Cs;try{nr=yield fetch(wt,ms)}catch(to){throw $t.create("fetch-network-error",{originalErrorMessage:null===(yn=to)||void 0===yn?void 0:yn.message})}if(200!==nr.status)throw $t.create("fetch-status-error",{httpStatus:nr.status});try{Cs=yield nr.json()}catch(to){throw $t.create("fetch-parse-error",{originalErrorMessage:null===(Fn=to)||void 0===Fn?void 0:Fn.message})}const Ls=Cs.ttl.match(/^([\d.]+)(s)$/);if(!Ls||!Ls[2]||isNaN(Number(Ls[1])))throw $t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Cs.ttl}`});const Xs=1e3*Number(Ls[1]),eo=Date.now();return{token:Cs.token,expireTimeMillis:eo+Xs,issuedAtTimeMillis:eo}})).apply(this,arguments)}function Er(wt,Tt){const{projectId:Gt,appId:yn,apiKey:Fn}=wt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Gt}/apps/${yn}:exchangeDebugToken?key=${Fn}`,body:{debug_token:Tt}}}const sn="firebase-app-check-store";let Ni=null;function xi(){return Ni||(Ni=new Promise((wt,Tt)=>{var Gt;try{const yn=indexedDB.open("firebase-app-check-database",1);yn.onsuccess=Fn=>{wt(Fn.target.result)},yn.onerror=Fn=>{var li;Tt($t.create("storage-open",{originalErrorMessage:null===(li=Fn.target.error)||void 0===li?void 0:li.message}))},yn.onupgradeneeded=Fn=>{0===Fn.oldVersion&&Fn.target.result.createObjectStore(sn,{keyPath:"compositeKey"})}}catch(yn){Tt($t.create("storage-open",{originalErrorMessage:null===(Gt=yn)||void 0===Gt?void 0:Gt.message}))}}),Ni)}function ot(){return(ot=(0,Et.Z)(function*(wt,Tt){const yn=(yield xi()).transaction(sn,"readwrite"),li=yn.objectStore(sn).put({compositeKey:wt,value:Tt});return new Promise((Ei,ms)=>{li.onsuccess=nr=>{Ei()},yn.onerror=nr=>{var Cs;ms($t.create("storage-set",{originalErrorMessage:null===(Cs=nr.target.error)||void 0===Cs?void 0:Cs.message}))}})})).apply(this,arguments)}const Tn=new tt.Yd("@firebase/app-check");function mn(wt,Tt){return(0,ke.hl)()?function mi(wt,Tt){return function zt(wt,Tt){return ot.apply(this,arguments)}(function jt(wt){return`${wt.options.appId}-${wt.name}`}(wt),Tt)}(wt,Tt).catch(Gt=>{Tn.warn(`Failed to write token to IndexedDB. Error: ${Gt}`)}):Promise.resolve()}function Pi(){return me().enabled}function ci(){return ct.apply(this,arguments)}function ct(){return(ct=(0,Et.Z)(function*(){const wt=me();if(wt.enabled&&wt.token)return wt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Xe={error:"UNKNOWN_ERROR"};function ut(wt){return ke.US.encodeString(JSON.stringify(wt),!1)}function rt(wt){return on.apply(this,arguments)}function on(){return(on=(0,Et.Z)(function*(wt,Tt=!1){const Gt=wt.app;Ut(Gt);const yn=ue(Gt);let li,Fn=yn.token;if(!Fn){const nr=yield yn.cachedTokenPromise;nr&&pi(nr)&&(Fn=nr)}if(!Tt&&Fn&&pi(Fn))return{token:Fn.token};let ms,Ei=!1;if(Pi()){yn.exchangeTokenPromise||(yn.exchangeTokenPromise=Cn(Er(Gt,yield ci()),wt.heartbeatServiceProvider).then(Cs=>(yn.exchangeTokenPromise=void 0,Cs)),Ei=!0);const nr=yield yn.exchangeTokenPromise;return yield mn(Gt,nr),Ce(Gt,Object.assign(Object.assign({},yn),{token:nr})),{token:nr.token}}try{yn.exchangeTokenPromise||(yn.exchangeTokenPromise=yn.provider.getToken().then(nr=>(yn.exchangeTokenPromise=void 0,nr)),Ei=!0),Fn=yield yn.exchangeTokenPromise}catch(nr){"appCheck/throttled"===nr.code?Tn.warn(nr.message):Tn.error(nr),li=nr}return Fn?(ms={token:Fn.token},Ce(Gt,Object.assign(Object.assign({},yn),{token:Fn})),yield mn(Gt,Fn)):ms=Hn(li),Ei&&ki(Gt,ms),ms})).apply(this,arguments)}function Vn(wt,Tt){const Gt=ue(wt),yn=Gt.tokenObservers.filter(Fn=>Fn.next!==Tt);0===yn.length&&Gt.tokenRefresher&&Gt.tokenRefresher.isRunning()&&Gt.tokenRefresher.stop(),Ce(wt,Object.assign(Object.assign({},Gt),{tokenObservers:yn}))}function Ki(wt){const{app:Tt}=wt,Gt=ue(Tt);let yn=Gt.tokenRefresher;yn||(yn=function Oi(wt){const{app:Tt}=wt;return new at((0,Et.Z)(function*(){let yn;if(yn=ue(Tt).token?yield rt(wt,!0):yield rt(wt),yn.error)throw yn.error}),()=>!0,()=>{const Gt=ue(Tt);if(Gt.token){let yn=Gt.token.issuedAtTimeMillis+.5*(Gt.token.expireTimeMillis-Gt.token.issuedAtTimeMillis)+3e5;return yn=Math.min(yn,Gt.token.expireTimeMillis-3e5),Math.max(0,yn-Date.now())}return 0},3e4,96e4)}(wt),Ce(Tt,Object.assign(Object.assign({},Gt),{tokenRefresher:yn}))),!yn.isRunning()&&Gt.isTokenAutoRefreshEnabled&&yn.start()}function ki(wt,Tt){const Gt=ue(wt).tokenObservers;for(const yn of Gt)try{"EXTERNAL"===yn.type&&null!=Tt.error?yn.error(Tt.error):yn.next(Tt)}catch{}}function pi(wt){return wt.expireTimeMillis-Date.now()>0}function Hn(wt){return{token:ut(Xe),error:wt}}class Bi{constructor(Tt,Gt){this.app=Tt,this.heartbeatServiceProvider=Gt}_delete(){const{tokenObservers:Tt}=ue(this.app);for(const Gt of Tt)Vn(this.app,Gt.next);return Promise.resolve()}}const hs="app-check-internal";!function bs(){(0,Qe._registerComponent)(new We.wA("app-check",wt=>function tr(wt,Tt){return new Bi(wt,Tt)}(wt.getProvider("app").getImmediate(),wt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((wt,Tt,Gt)=>{wt.getProvider(hs).initialize()})),(0,Qe._registerComponent)(new We.wA(hs,wt=>function mr(wt){return{getToken:Tt=>rt(wt,Tt),addTokenListener:Tt=>function _n(wt,Tt,Gt,yn){const{app:Fn}=wt,li=ue(Fn),Ei={next:Gt,error:yn,type:Tt};if(Ce(Fn,Object.assign(Object.assign({},li),{tokenObservers:[...li.tokenObservers,Ei]})),li.token&&pi(li.token)){const ms=li.token;Promise.resolve().then(()=>{Gt({token:ms.token}),Ki(wt)}).catch(()=>{})}li.cachedTokenPromise.then(()=>Ki(wt))}(wt,"INTERNAL",Tt),removeTokenListener:Tt=>Vn(wt.app,Tt)}}(wt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qe.registerVersion)("@firebase/app-check","0.5.12")}();class ts{constructor(){return(0,o.vb)("app-check")}}typeof window<"u"&&window},4941:(Sn,bt,L)=>{"use strict";L.d(bt,{zQ:()=>mt,ww:()=>Je,rT:()=>me,f7:()=>St,L6:()=>ue,_Q:()=>Ce,lh:()=>At,Qv:()=>Ie,nw:()=>Mt});var o=L(4650),q=L(8929),Q=L(1086),Fe=L(6498),ie=L(5254),de=L(6787),_e=L(7770),ge=L(7545),Se=L(4850),he=L(341),oe=L(2654),fe=L(5279),ye=L(5283);class je extends q.xQ{constructor(at=Number.POSITIVE_INFINITY,ht=Number.POSITIVE_INFINITY,xt){super(),this.scheduler=xt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=at<1?1:at,this._windowTime=ht<1?1:ht,ht===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(at){if(!this.isStopped){const ht=this._events;ht.push(at),ht.length>this._bufferSize&&ht.shift()}super.next(at)}nextTimeWindow(at){this.isStopped||(this._events.push(new ft(this._getNow(),at)),this._trimBufferThenGetEvents()),super.next(at)}_subscribe(at){const ht=this._infiniteTimeWindow,xt=ht?this._events:this._trimBufferThenGetEvents(),$t=this.scheduler,En=xt.length;let Ut;if(this.closed)throw new fe.N;if(this.isStopped||this.hasError?Ut=oe.w.EMPTY:(this.observers.push(at),Ut=new ye.W(this,at)),$t&&at.add(at=new _e.ht(at,$t)),ht)for(let bn=0;bn<En&&!at.closed;bn++)at.next(xt[bn]);else for(let bn=0;bn<En&&!at.closed;bn++)at.next(xt[bn].value);return this.hasError?at.error(this.thrownError):this.isStopped&&at.complete(),Ut}_getNow(){return(this.scheduler||he.c).now()}_trimBufferThenGetEvents(){const at=this._getNow(),ht=this._bufferSize,xt=this._windowTime,$t=this._events,En=$t.length;let Ut=0;for(;Ut<En&&!(at-$t[Ut].time<xt);)Ut++;return En>ht&&(Ut=Math.max(Ut,En-ht)),Ut>0&&$t.splice(0,Ut),$t}}class ft{constructor(at,ht){this.time=at,this.value=ht}}function Ve(Ye,at,ht){let xt;return xt=Ye&&"object"==typeof Ye?Ye:{bufferSize:Ye,windowTime:at,refCount:!1,scheduler:ht},$t=>$t.lift(function Be({bufferSize:Ye=Number.POSITIVE_INFINITY,windowTime:at=Number.POSITIVE_INFINITY,refCount:ht,scheduler:xt}){let $t,Ut,En=0,bn=!1,Te=!1;return function(Zn){let zn;En++,!$t||bn?(bn=!1,$t=new je(Ye,at,xt),zn=$t.subscribe(this),Ut=Zn.subscribe({next(yi){$t.next(yi)},error(yi){bn=!0,$t.error(yi)},complete(){Te=!0,Ut=void 0,$t.complete()}}),Te&&(Ut=void 0)):zn=$t.subscribe(this),this.add(()=>{En--,zn.unsubscribe(),zn=void 0,Ut&&!Te&&ht&&0===En&&(Ut.unsubscribe(),Ut=void 0,$t=void 0)})}}(xt))}var Ge=L(7224);function Lt(Ye,at){return at?(0,ge.w)(()=>Ye,at):(0,ge.w)(()=>Ye)}var vt=L(2899),Et=L(2198),Qe=L(6351),We=L(2011),ke=L(6895),tt=L(440),Ee=L(127);const Ie=new o.OlP("angularfire2.auth.use-emulator"),ue=new o.OlP("angularfire2.auth.settings"),Ce=new o.OlP("angularfire2.auth.tenant-id"),me=new o.OlP("angularfire2.auth.langugage-code"),At=new o.OlP("angularfire2.auth.use-device-language"),St=new o.OlP("angularfire.auth.persistence"),Mt=(Ye,at,ht,xt,$t,En,Ut,bn)=>(0,We.cc)(`${Ye.name}.auth`,"AngularFireAuth",Ye.name,()=>{const Te=at.runOutsideAngular(()=>Ye.auth());if(ht&&Te.useEmulator(...ht),xt&&(Te.tenantId=xt),Te.languageCode=$t,En&&Te.useDeviceLanguage(),Ut)for(const[Cn,Zn]of Object.entries(Ut))Te.settings[Cn]=Zn;return bn&&Te.setPersistence(bn),Te},[ht,xt,$t,En,Ut,bn]);let mt=(()=>{class Ye{constructor(ht,xt,$t,En,Ut,bn,Te,Cn,Zn,zn,yi,Er){const $n=new q.xQ,ei=(0,Q.of)(void 0).pipe((0,_e.QV)(Ut.outsideAngular),(0,ge.w)(()=>En.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2476)))),(0,Se.U)(()=>(0,We.on)(ht,En,xt)),(0,Se.U)(sn=>Mt(sn,En,bn,Cn,Zn,zn,Te,yi)),Ve({bufferSize:1,refCount:!1}));if((0,ke.PM)($t))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Q.of)(null);else{ei.pipe((0,Ge.P)()).subscribe();const dn=ei.pipe((0,ge.w)(Kn=>Kn.getRedirectResult().then(mi=>mi,()=>null)),Qe.iC,Ve({bufferSize:1,refCount:!1})),Ni=ei.pipe((0,ge.w)(Kn=>new Fe.y(mi=>({unsubscribe:En.runOutsideAngular(()=>Kn.onAuthStateChanged(vi=>mi.next(vi),vi=>mi.error(vi),()=>mi.complete()))})))),xi=ei.pipe((0,ge.w)(Kn=>new Fe.y(mi=>({unsubscribe:En.runOutsideAngular(()=>Kn.onIdTokenChanged(vi=>mi.next(vi),vi=>mi.error(vi),()=>mi.complete()))}))));this.authState=dn.pipe(Lt(Ni),(0,vt.R)(Ut.outsideAngular),(0,_e.QV)(Ut.insideAngular)),this.user=dn.pipe(Lt(xi),(0,vt.R)(Ut.outsideAngular),(0,_e.QV)(Ut.insideAngular)),this.idToken=this.user.pipe((0,ge.w)(Kn=>Kn?(0,ie.D)(Kn.getIdToken()):(0,Q.of)(null))),this.idTokenResult=this.user.pipe((0,ge.w)(Kn=>Kn?(0,ie.D)(Kn.getIdTokenResult()):(0,Q.of)(null))),this.credential=(0,de.T)(dn,$n,this.authState.pipe((0,Et.h)(Kn=>!Kn))).pipe((0,Se.U)(Kn=>Kn?.user?Kn:null),(0,vt.R)(Ut.outsideAngular),(0,_e.QV)(Ut.insideAngular))}return(0,We.pX)(this,ei,En,{spy:{apply:(sn,dn,Ni)=>{(sn.startsWith("signIn")||sn.startsWith("createUser"))&&Ni.then(xi=>$n.next(xi))}}})}}return Ye.\u0275fac=function(ht){return new(ht||Ye)(o.LFG(We.Dh),o.LFG(We.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Qe.HU),o.LFG(Ie,8),o.LFG(ue,8),o.LFG(Ce,8),o.LFG(me,8),o.LFG(At,8),o.LFG(St,8),o.LFG(tt.nm,8))},Ye.\u0275prov=o.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"any"}),Ye})(),Je=(()=>{class Ye{constructor(){Ee.Z.registerVersion("angularfire",Qe.q4.full,"auth-compat")}}return Ye.\u0275fac=function(ht){return new(ht||Ye)},Ye.\u0275mod=o.oAB({type:Ye}),Ye.\u0275inj=o.cJS({providers:[mt]}),Ye})()},4586:(Sn,bt,L)=>{"use strict";L.d(bt,{Q1:()=>Oe,TE:()=>gi});var o=L(6498),q=L(1086),Q=L(5254),Fe=L(3489),ie=L(353);class _e{constructor(C,A){this.dueTime=C,this.scheduler=A}call(C,A){return A.subscribe(new ge(C,this.dueTime,this.scheduler))}}class ge extends Fe.L{constructor(C,A,G){super(C),this.dueTime=A,this.scheduler=G,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(C){this.clearDebounce(),this.lastValue=C,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Se,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:C}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(C)}}clearDebounce(){const C=this.debouncedSubscription;null!==C&&(this.remove(C),C.unsubscribe(),this.debouncedSubscription=null)}}function Se(D){D.debouncedNext()}var he=L(4850),oe=L(7545),fe=L(6351),ye=L(4650),je=L(2011),ft=L(3942),Ve=L(5861),Be=L(9681),Ge=L(2090),Lt=L(4859);const vt="firebasestorage.googleapis.com",Et="storageBucket";class ke extends Ge.ZR{constructor(C,A){super(tt(C),`Firebase Storage: ${A} (${tt(C)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ke.prototype)}_codeEquals(C){return tt(C)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(C){this.customData.serverResponse=C,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function tt(D){return"storage/"+D}function Ee(){return new ke("unknown","An unknown error occurred, please check the error payload for server response.")}function St(){return new ke("canceled","User canceled the upload/download.")}function Ye(){return new ke("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function xt(D){return new ke("invalid-argument",D)}function $t(){return new ke("app-deleted","The Firebase app was deleted.")}function En(D){return new ke("invalid-root-operation","The operation '"+D+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ut(D,C){return new ke("invalid-format","String does not match format '"+D+"': "+C)}function bn(D){throw new ke("internal-error","Internal error: "+D)}class Te{constructor(C,A){this.bucket=C,this.path_=A}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const C=encodeURIComponent;return"/b/"+C(this.bucket)+"/o/"+C(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(C,A){let G;try{G=Te.makeFromUrl(C,A)}catch{return new Te(C,"")}if(""===G.path)return G;throw function mt(D){return new ke("invalid-default-bucket","Invalid default bucket '"+D+"'.")}(C)}static makeFromUrl(C,A){let G=null;const xe="([A-Za-z0-9.\\-_]+)",Yn=new RegExp("^gs://"+xe+"(/(.*))?$","i");function Ai(Ts){Ts.path_=decodeURIComponent(Ts.path)}const Fr=A.replace(/[.]/g,"\\."),Ns=[{regex:Yn,indices:{bucket:1,path:3},postModify:function gt(Ts){"/"===Ts.path.charAt(Ts.path.length-1)&&(Ts.path_=Ts.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Fr}/v[A-Za-z0-9_]+/b/${xe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ai},{regex:new RegExp(`^https?://${A===vt?"(?:storage.googleapis.com|storage.cloud.google.com)":A}/${xe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ai}];for(let Ts=0;Ts<Ns.length;Ts++){const Ko=Ns[Ts],go=Ko.regex.exec(C);if(go){let j=go[Ko.indices.path];j||(j=""),G=new Te(go[Ko.indices.bucket],j),Ko.postModify(G);break}}if(null==G)throw function Mt(D){return new ke("invalid-url","Invalid URL '"+D+"'.")}(C);return G}}class Cn{constructor(C){this.promise_=Promise.reject(C)}getPromise(){return this.promise_}cancel(C=!1){}}function ei(D){return"string"==typeof D||D instanceof String}function sn(D){return dn()&&D instanceof Blob}function dn(){return typeof Blob<"u"}function Ni(D,C,A,G){if(G<C)throw xt(`Invalid value for '${D}'. Expected ${C} or greater.`);if(G>A)throw xt(`Invalid value for '${D}'. Expected ${A} or less.`)}function xi(D,C,A){let G=C;return null==A&&(G=`https://${C}`),`${A}://${G}/v0${D}`}function Kn(D){const C=encodeURIComponent;let A="?";for(const G in D)D.hasOwnProperty(G)&&(A=A+(C(G)+"=")+C(D[G])+"&");return A=A.slice(0,-1),A}var mi=(()=>{return(D=mi||(mi={}))[D.NO_ERROR=0]="NO_ERROR",D[D.NETWORK_ERROR=1]="NETWORK_ERROR",D[D.ABORT=2]="ABORT",mi;var D})();class vi{constructor(C,A,G,xe,gt,Wt,Yn,Ln,Ai,lr,Fr){this.url_=C,this.method_=A,this.headers_=G,this.body_=xe,this.successCodes_=gt,this.additionalRetryCodes_=Wt,this.callback_=Yn,this.errorCallback_=Ln,this.timeout_=Ai,this.progressCallback_=lr,this.connectionFactory_=Fr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Vr,Zr)=>{this.resolve_=Vr,this.reject_=Zr,this.start_()})}start_(){const A=(G,xe)=>{const gt=this.resolve_,Wt=this.reject_,Yn=xe.connection;if(xe.wasSuccessCode)try{const Ln=this.callback_(Yn,Yn.getResponse());!function yi(D){return void 0!==D}(Ln)?gt():gt(Ln)}catch(Ln){Wt(Ln)}else if(null!==Yn){const Ln=Ee();Ln.serverResponse=Yn.getErrorText(),Wt(this.errorCallback_?this.errorCallback_(Yn,Ln):Ln)}else Wt(xe.canceled?this.appDelete_?$t():St():function At(){return new ke("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?A(0,new Di(!1,null,!0)):this.backoffId_=function Zn(D,C,A){let G=1,xe=null,gt=null,Wt=!1,Yn=0;function Ln(){return 2===Yn}let Ai=!1;function lr(...rr){Ai||(Ai=!0,C.apply(null,rr))}function Fr(rr){xe=setTimeout(()=>{xe=null,D(Zr,Ln())},rr)}function Vr(){gt&&clearTimeout(gt)}function Zr(rr,...Po){if(Ai)return void Vr();if(rr)return Vr(),void lr.call(null,rr,...Po);if(Ln()||Wt)return Vr(),void lr.call(null,rr,...Po);let Ns;G<64&&(G*=2),1===Yn?(Yn=2,Ns=0):Ns=1e3*(G+Math.random()),Fr(Ns)}let hi=!1;function po(rr){hi||(hi=!0,Vr(),!Ai&&(null!==xe?(rr||(Yn=2),clearTimeout(xe),Fr(0)):rr||(Yn=1)))}return Fr(0),gt=setTimeout(()=>{Wt=!0,po(!0)},A),po}((G,xe)=>{if(xe)return void G(!1,new Di(!1,null,!0));const gt=this.connectionFactory_();this.pendingConnection_=gt;const Wt=Yn=>{null!==this.progressCallback_&&this.progressCallback_(Yn.loaded,Yn.lengthComputable?Yn.total:-1)};null!==this.progressCallback_&&gt.addUploadProgressListener(Wt),gt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&gt.removeUploadProgressListener(Wt),this.pendingConnection_=null;const Yn=gt.getErrorCode()===mi.NO_ERROR,Ln=gt.getStatus();if(!Yn||this.isRetryStatusCode_(Ln)){const lr=gt.getErrorCode()===mi.ABORT;return void G(!1,new Di(!1,null,lr))}const Ai=-1!==this.successCodes_.indexOf(Ln);G(!0,new Di(Ai,gt))})},A,this.timeout_)}getPromise(){return this.promise_}cancel(C){this.canceled_=!0,this.appDelete_=C||!1,null!==this.backoffId_&&function zn(D){D(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(C){const A=C>=500&&C<600,xe=-1!==[408,429].indexOf(C),gt=-1!==this.additionalRetryCodes_.indexOf(C);return A||xe||gt}}class Di{constructor(C,A,G){this.wasSuccessCode=C,this.connection=A,this.canceled=!!G}}function Bn(...D){const C=function Tn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==C){const A=new C;for(let G=0;G<D.length;G++)A.append(D[G]);return A.getBlob()}if(dn())return new Blob(D);throw new ke("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nn{constructor(C,A){this.data=C,this.contentType=A||null}}function Pi(D,C){switch(D){case ai.RAW:return new Nn(ci(C));case ai.BASE64:case ai.BASE64URL:return new Nn(nt(D,C));case ai.DATA_URL:return new Nn(function ut(D){const C=new Xe(D);return C.base64?nt(ai.BASE64,C.rest):function ct(D){let C;try{C=decodeURIComponent(D)}catch{throw Ut(ai.DATA_URL,"Malformed data URL.")}return ci(C)}(C.rest)}(C),function rt(D){return new Xe(D).contentType}(C))}throw Ee()}function ci(D){const C=[];for(let A=0;A<D.length;A++){let G=D.charCodeAt(A);G<=127?C.push(G):G<=2047?C.push(192|G>>6,128|63&G):55296==(64512&G)?A<D.length-1&&56320==(64512&D.charCodeAt(A+1))?(G=65536|(1023&G)<<10|1023&D.charCodeAt(++A),C.push(240|G>>18,128|G>>12&63,128|G>>6&63,128|63&G)):C.push(239,191,189):56320==(64512&G)?C.push(239,191,189):C.push(224|G>>12,128|G>>6&63,128|63&G)}return new Uint8Array(C)}function nt(D,C){switch(D){case ai.BASE64:{const xe=-1!==C.indexOf("-"),gt=-1!==C.indexOf("_");if(xe||gt)throw Ut(D,"Invalid character '"+(xe?"-":"_")+"' found: is it base64url encoded?");break}case ai.BASE64URL:{const xe=-1!==C.indexOf("+"),gt=-1!==C.indexOf("/");if(xe||gt)throw Ut(D,"Invalid character '"+(xe?"+":"/")+"' found: is it base64 encoded?");C=C.replace(/-/g,"+").replace(/_/g,"/");break}}let A;try{A=function mn(D){return atob(D)}(C)}catch{throw Ut(D,"Invalid character found")}const G=new Uint8Array(A.length);for(let xe=0;xe<A.length;xe++)G[xe]=A.charCodeAt(xe);return G}class Xe{constructor(C){this.base64=!1,this.contentType=null;const A=C.match(/^data:([^,]+)?,/);if(null===A)throw Ut(ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const G=A[1]||null;null!=G&&(this.base64=function on(D,C){return D.length>=C.length&&D.substring(D.length-C.length)===C}(G,";base64"),this.contentType=this.base64?G.substring(0,G.length-7):G),this.rest=C.substring(C.indexOf(",")+1)}}class _n{constructor(C,A){let G=0,xe="";sn(C)?(this.data_=C,G=C.size,xe=C.type):C instanceof ArrayBuffer?(A?this.data_=new Uint8Array(C):(this.data_=new Uint8Array(C.byteLength),this.data_.set(new Uint8Array(C))),G=this.data_.length):C instanceof Uint8Array&&(A?this.data_=C:(this.data_=new Uint8Array(C.length),this.data_.set(C)),G=C.length),this.size_=G,this.type_=xe}size(){return this.size_}type(){return this.type_}slice(C,A){if(sn(this.data_)){const xe=function ni(D,C,A){return D.webkitSlice?D.webkitSlice(C,A):D.mozSlice?D.mozSlice(C,A):D.slice?D.slice(C,A):null}(this.data_,C,A);return null===xe?null:new _n(xe)}{const G=new Uint8Array(this.data_.buffer,C,A-C);return new _n(G,!0)}}static getBlob(...C){if(dn()){const A=C.map(G=>G instanceof _n?G.data_:G);return new _n(Bn.apply(null,A))}{const A=C.map(Wt=>ei(Wt)?Pi(ai.RAW,Wt).data:Wt.data_);let G=0;A.forEach(Wt=>{G+=Wt.byteLength});const xe=new Uint8Array(G);let gt=0;return A.forEach(Wt=>{for(let Yn=0;Yn<Wt.length;Yn++)xe[gt++]=Wt[Yn]}),new _n(xe,!0)}}uploadData(){return this.data_}}function Vn(D){let C;try{C=JSON.parse(D)}catch{return null}return function $n(D){return"object"==typeof D&&!Array.isArray(D)}(C)?C:null}function ki(D){const C=D.lastIndexOf("/",D.length-2);return-1===C?D:D.slice(C+1)}function pi(D,C){return C}class Hn{constructor(C,A,G,xe){this.server=C,this.local=A||C,this.writable=!!G,this.xform=xe||pi}}let Bi=null;function mr(){if(Bi)return Bi;const D=[];D.push(new Hn("bucket")),D.push(new Hn("generation")),D.push(new Hn("metageneration")),D.push(new Hn("name","fullPath",!0));const A=new Hn("name");A.xform=function C(gt,Wt){return function tr(D){return!ei(D)||D.length<2?D:ki(D)}(Wt)},D.push(A);const xe=new Hn("size");return xe.xform=function G(gt,Wt){return void 0!==Wt?Number(Wt):Wt},D.push(xe),D.push(new Hn("timeCreated")),D.push(new Hn("updated")),D.push(new Hn("md5Hash",null,!0)),D.push(new Hn("cacheControl",null,!0)),D.push(new Hn("contentDisposition",null,!0)),D.push(new Hn("contentEncoding",null,!0)),D.push(new Hn("contentLanguage",null,!0)),D.push(new Hn("contentType",null,!0)),D.push(new Hn("metadata","customMetadata",!0)),Bi=D,Bi}function lt(D,C,A){const G=Vn(C);return null===G?null:function fr(D,C,A){const G={type:"file"},xe=A.length;for(let gt=0;gt<xe;gt++){const Wt=A[gt];G[Wt.local]=Wt.xform(G,C[Wt.server])}return function hr(D,C){Object.defineProperty(D,"ref",{get:function A(){const gt=new Te(D.bucket,D.fullPath);return C._makeStorageReference(gt)}})}(G,D),G}(D,G,A)}function te(D,C){const A={},G=C.length;for(let xe=0;xe<G;xe++){const gt=C[xe];gt.writable&&(A[gt.server]=D[gt.local])}return JSON.stringify(A)}const be="prefixes";class Zt{constructor(C,A,G,xe){this.url=C,this.method=A,this.handler=G,this.timeout=xe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qt(D){if(!D)throw Ee()}function kn(D,C){return function A(G,xe){const gt=lt(D,xe,C);return Qt(null!==gt),gt}}function di(D){return function C(A,G){let xe;return xe=401===A.getStatus()?A.getErrorText().includes("Firebase App Check token is invalid")?function Ce(){return new ke("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ue(){return new ke("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===A.getStatus()?function Ie(D){return new ke("quota-exceeded","Quota for bucket '"+D+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(D.bucket):403===A.getStatus()?function me(D){return new ke("unauthorized","User does not have permission to access '"+D+"'.")}(D.path):G,xe.serverResponse=G.serverResponse,xe}}function Mi(D){const C=di(D);return function A(G,xe){let gt=C(G,xe);return 404===G.getStatus()&&(gt=function ve(D){return new ke("object-not-found","Object '"+D+"' does not exist.")}(D.path)),gt.serverResponse=xe.serverResponse,gt}}function bi(D,C,A){const xe=xi(C.fullServerUrl(),D.host,D._protocol),Wt=D.maxOperationRetryTime,Yn=new Zt(xe,"GET",kn(D,A),Wt);return Yn.errorHandler=Mi(C),Yn}function Ri(D,C,A,G,xe){const gt={};gt.prefix=C.isRoot?"":C.path+"/",A&&A.length>0&&(gt.delimiter=A),G&&(gt.pageToken=G),xe&&(gt.maxResults=xe);const Yn=xi(C.bucketOnlyServerUrl(),D.host,D._protocol),Ai=D.maxOperationRetryTime,lr=new Zt(Yn,"GET",function tn(D,C){return function A(G,xe){const gt=function Ht(D,C,A){const G=Vn(A);return null===G?null:function _t(D,C,A){const G={prefixes:[],items:[],nextPageToken:A.nextPageToken};if(A[be])for(const xe of A[be]){const gt=xe.replace(/\/$/,""),Wt=D._makeStorageReference(new Te(C,gt));G.prefixes.push(Wt)}if(A.items)for(const xe of A.items){const gt=D._makeStorageReference(new Te(C,xe.name));G.items.push(gt)}return G}(D,C,G)}(D,C,xe);return Qt(null!==gt),gt}}(D,C.bucket),Ai);return lr.urlParams=gt,lr.errorHandler=di(C),lr}function Cr(D,C,A){const G=Object.assign({},A);return G.fullPath=D.path,G.size=C.size(),G.contentType||(G.contentType=function ss(D,C){return D&&D.contentType||C&&C.type()||"application/octet-stream"}(null,C)),G}class hs{constructor(C,A,G,xe){this.current=C,this.total=A,this.finalized=!!G,this.metadata=xe||null}}function bs(D,C){let A=null;try{A=D.getResponseHeader("X-Goog-Upload-Status")}catch{Qt(!1)}return Qt(!!A&&-1!==(C||["active"]).indexOf(A)),A}const $e={STATE_CHANGED:"state_changed"},Ct={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Nt(D){switch(D){case"running":case"pausing":case"canceling":return Ct.RUNNING;case"paused":return Ct.PAUSED;case"success":return Ct.SUCCESS;case"canceled":return Ct.CANCELED;default:return Ct.ERROR}}class Ue{constructor(C,A,G){if(function Er(D){return"function"==typeof D}(C)||null!=A||null!=G)this.next=C,this.error=A??void 0,this.complete=G??void 0;else{const gt=C;this.next=gt.next,this.error=gt.error,this.complete=gt.complete}}}function et(D){return(...C)=>{Promise.resolve().then(()=>D(...C))}}class rn extends class cn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mi.NO_ERROR,this.sendPromise_=new Promise(C=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mi.ABORT,C()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mi.NETWORK_ERROR,C()}),this.xhr_.addEventListener("load",()=>{C()})})}send(C,A,G,xe){if(this.sent_)throw bn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(A,C,!0),void 0!==xe)for(const gt in xe)xe.hasOwnProperty(gt)&&this.xhr_.setRequestHeader(gt,xe[gt].toString());return void 0!==G?this.xhr_.send(G):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(C){return this.xhr_.getResponseHeader(C)}addUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",C)}removeUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",C)}}{initXhr(){this.xhr_.responseType="text"}}function hn(){return new rn}class Ir{constructor(C,A,G=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=C,this._blob=A,this._metadata=G,this._mappings=mr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=xe=>{this._request=void 0,this._chunkMultiplier=1,xe._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=xe,this._transition("error"))},this._metadataErrorHandler=xe=>{this._request=void 0,xe._codeEquals("canceled")?this.completeTransitions_():(this._error=xe,this._transition("error"))},this._promise=new Promise((xe,gt)=>{this._resolve=xe,this._reject=gt,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const C=this._transferred;return A=>this._updateProgress(C+A)}_shouldDoResumable(C){return C.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(C){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([A,G])=>{switch(this._state){case"running":C(A,G);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((C,A)=>{const G=function fs(D,C,A,G,xe){const gt=C.bucketOnlyServerUrl(),Wt=Cr(C,G,xe),Yn={name:Wt.fullPath},Ln=xi(gt,D.host,D._protocol),lr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${G.size()}`,"X-Goog-Upload-Header-Content-Type":Wt.contentType,"Content-Type":"application/json; charset=utf-8"},Fr=te(Wt,A),hi=new Zt(Ln,"POST",function Zr(po){let rr;bs(po);try{rr=po.getResponseHeader("X-Goog-Upload-URL")}catch{Qt(!1)}return Qt(ei(rr)),rr},D.maxUploadRetryTime);return hi.urlParams=Yn,hi.headers=lr,hi.body=Fr,hi.errorHandler=di(C),hi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),xe=this._ref.storage._makeRequest(G,hn,C,A);this._request=xe,xe.getPromise().then(gt=>{this._request=void 0,this._uploadUrl=gt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const C=this._uploadUrl;this._resolveToken((A,G)=>{const xe=function Jr(D,C,A,G){const Ln=new Zt(A,"POST",function gt(Ai){const lr=bs(Ai,["active","final"]);let Fr=null;try{Fr=Ai.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qt(!1)}Fr||Qt(!1);const Vr=Number(Fr);return Qt(!isNaN(Vr)),new hs(Vr,G.size(),"final"===lr)},D.maxUploadRetryTime);return Ln.headers={"X-Goog-Upload-Command":"query"},Ln.errorHandler=di(C),Ln}(this._ref.storage,this._ref._location,C,this._blob),gt=this._ref.storage._makeRequest(xe,hn,A,G);this._request=gt,gt.getPromise().then(Wt=>{this._request=void 0,this._updateProgress(Wt.current),this._needToFetchStatus=!1,Wt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const C=262144*this._chunkMultiplier,A=new hs(this._transferred,this._blob.size()),G=this._uploadUrl;this._resolveToken((xe,gt)=>{let Wt;try{Wt=function we(D,C,A,G,xe,gt,Wt,Yn){const Ln=new hs(0,0);if(Wt?(Ln.current=Wt.current,Ln.total=Wt.total):(Ln.current=0,Ln.total=G.size()),G.size()!==Ln.total)throw function at(){return new ke("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Ai=Ln.total-Ln.current;let lr=Ai;xe>0&&(lr=Math.min(lr,xe));const Fr=Ln.current,hi={"X-Goog-Upload-Command":lr===Ai?"upload, finalize":"upload","X-Goog-Upload-Offset":`${Ln.current}`},po=G.slice(Fr,Fr+lr);if(null===po)throw Ye();const Ns=new Zt(A,"POST",function rr(Ts,Ko){const go=bs(Ts,["active","final"]),Zo=Ln.current+lr,j=G.size();let le;return le="final"===go?kn(C,gt)(Ts,Ko):null,new hs(Zo,j,"final"===go,le)},C.maxUploadRetryTime);return Ns.headers=hi,Ns.body=po.uploadData(),Ns.progressCallback=Yn||null,Ns.errorHandler=di(D),Ns}(this._ref._location,this._ref.storage,G,this._blob,C,this._mappings,A,this._makeProgressCallback())}catch(Ln){return this._error=Ln,void this._transition("error")}const Yn=this._ref.storage._makeRequest(Wt,hn,xe,gt);this._request=Yn,Yn.getPromise().then(Ln=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ln.current),Ln.finalized?(this._metadata=Ln.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((C,A)=>{const G=bi(this._ref.storage,this._ref._location,this._mappings),xe=this._ref.storage._makeRequest(G,hn,C,A);this._request=xe,xe.getPromise().then(gt=>{this._request=void 0,this._metadata=gt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((C,A)=>{const G=function Fs(D,C,A,G,xe){const gt=C.bucketOnlyServerUrl(),Wt={"X-Goog-Upload-Protocol":"multipart"},Ln=function Yn(){let Ns="";for(let Ts=0;Ts<2;Ts++)Ns+=Math.random().toString().slice(2);return Ns}();Wt["Content-Type"]="multipart/related; boundary="+Ln;const Ai=Cr(C,G,xe),lr=te(Ai,A),Zr=_n.getBlob("--"+Ln+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+lr+"\r\n--"+Ln+"\r\nContent-Type: "+Ai.contentType+"\r\n\r\n",G,"\r\n--"+Ln+"--");if(null===Zr)throw Ye();const hi={name:Ai.fullPath},po=xi(gt,D.host,D._protocol),Po=D.maxUploadRetryTime,Lr=new Zt(po,"POST",kn(D,A),Po);return Lr.urlParams=hi,Lr.headers=Wt,Lr.body=Zr.uploadData(),Lr.errorHandler=di(C),Lr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),xe=this._ref.storage._makeRequest(G,hn,C,A);this._request=xe,xe.getPromise().then(gt=>{this._request=void 0,this._metadata=gt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(C){const A=this._transferred;this._transferred=C,this._transferred!==A&&this._notifyObservers()}_transition(C){if(this._state!==C)switch(C){case"canceling":case"pausing":this._state=C,void 0!==this._request&&this._request.cancel();break;case"running":const A="paused"===this._state;this._state=C,A&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=C,this._notifyObservers();break;case"canceled":this._error=St(),this._state=C,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const C=Nt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:C,metadata:this._metadata,task:this,ref:this._ref}}on(C,A,G,xe){const gt=new Ue(A||void 0,G||void 0,xe||void 0);return this._addObserver(gt),()=>{this._removeObserver(gt)}}then(C,A){return this._promise.then(C,A)}catch(C){return this.then(null,C)}_addObserver(C){this._observers.push(C),this._notifyObserver(C)}_removeObserver(C){const A=this._observers.indexOf(C);-1!==A&&this._observers.splice(A,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(A=>{this._notifyObserver(A)})}_finishPromise(){if(void 0!==this._resolve){let C=!0;switch(Nt(this._state)){case Ct.SUCCESS:et(this._resolve.bind(null,this.snapshot))();break;case Ct.CANCELED:case Ct.ERROR:et(this._reject.bind(null,this._error))();break;default:C=!1}C&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(C){switch(Nt(this._state)){case Ct.RUNNING:case Ct.PAUSED:C.next&&et(C.next.bind(C,this.snapshot))();break;case Ct.SUCCESS:C.complete&&et(C.complete.bind(C))();break;default:C.error&&et(C.error.bind(C,this._error))()}}resume(){const C="paused"===this._state||"pausing"===this._state;return C&&this._transition("running"),C}pause(){const C="running"===this._state;return C&&this._transition("pausing"),C}cancel(){const C="running"===this._state||"pausing"===this._state;return C&&this._transition("canceling"),C}}class wt{constructor(C,A){this._service=C,this._location=A instanceof Te?A:Te.makeFromUrl(A,C.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(C,A){return new wt(C,A)}get root(){const C=new Te(this._location.bucket,"");return this._newRef(this._service,C)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ki(this._location.path)}get storage(){return this._service}get parent(){const C=function Ki(D){if(0===D.length)return null;const C=D.lastIndexOf("/");return-1===C?"":D.slice(0,C)}(this._location.path);if(null===C)return null;const A=new Te(this._location.bucket,C);return new wt(this._service,A)}_throwIfRoot(C){if(""===this._location.path)throw En(C)}}function ms(D,C,A){return nr.apply(this,arguments)}function nr(){return(nr=(0,Ve.Z)(function*(D,C,A){const xe=yield Cs(D,{pageToken:A});C.prefixes.push(...xe.prefixes),C.items.push(...xe.items),null!=xe.nextPageToken&&(yield ms(D,C,xe.nextPageToken))})).apply(this,arguments)}function Cs(D,C){null!=C&&"number"==typeof C.maxResults&&Ni("options.maxResults",1,1e3,C.maxResults);const A=C||{},G=Ri(D.storage,D._location,"/",A.pageToken,A.maxResults);return D.storage.makeRequestWithTokens(G,hn)}function eo(D){D._throwIfRoot("getDownloadURL");const C=function qr(D,C,A){const xe=xi(C.fullServerUrl(),D.host,D._protocol),Wt=D.maxOperationRetryTime,Yn=new Zt(xe,"GET",function Gn(D,C){return function A(G,xe){const gt=lt(D,xe,C);return Qt(null!==gt),function Ze(D,C,A,G){const xe=Vn(C);if(null===xe||!ei(xe.downloadTokens))return null;const gt=xe.downloadTokens;if(0===gt.length)return null;const Wt=encodeURIComponent;return gt.split(",").map(Ai=>{const Fr=D.fullPath;return xi("/b/"+Wt(D.bucket)+"/o/"+Wt(Fr),A,G)+Kn({alt:"media",token:Ai})})[0]}(gt,xe,D.host,D._protocol)}}(D,A),Wt);return Yn.errorHandler=Mi(C),Yn}(D.storage,D._location,mr());return D.storage.makeRequestWithTokens(C,hn).then(A=>{if(null===A)throw function ht(){return new ke("no-download-url","The given file does not have any download URLs.")}();return A})}function jo(D,C){const A=function Oi(D,C){const A=C.split("/").filter(G=>G.length>0).join("/");return 0===D.length?A:D+"/"+A}(D._location.path,C),G=new Te(D._location.bucket,A);return new wt(D.storage,G)}function _s(D,C){if(D instanceof no){const A=D;if(null==A._bucket)throw function Je(){return new ke("no-default-bucket","No default bucket found. Did you set the '"+Et+"' property when initializing the app?")}();const G=new wt(A,A._bucket);return null!=C?_s(G,C):G}return void 0!==C?jo(D,C):D}function Ds(D,C){if(C&&function Ss(D){return/^[A-Za-z]+:\/\//.test(D)}(C)){if(D instanceof no)return function ma(D,C){return new wt(D,C)}(D,C);throw xt("To use ref(service, url), the first argument must be a Storage instance.")}return _s(D,C)}function ps(D,C){const A=C?.[Et];return null==A?null:Te.makeFromBucketSpec(A,D)}class no{constructor(C,A,G,xe,gt){this.app=C,this._authProvider=A,this._appCheckProvider=G,this._url=xe,this._firebaseVersion=gt,this._bucket=null,this._host=vt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=xe?Te.makeFromBucketSpec(xe,this._host):ps(this._host,this.app.options)}get host(){return this._host}set host(C){this._host=C,this._bucket=null!=this._url?Te.makeFromBucketSpec(this._url,C):ps(C,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(C){Ni("time",0,Number.POSITIVE_INFINITY,C),this._maxUploadRetryTime=C}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(C){Ni("time",0,Number.POSITIVE_INFINITY,C),this._maxOperationRetryTime=C}_getAuthToken(){var C=this;return(0,Ve.Z)(function*(){if(C._overrideAuthToken)return C._overrideAuthToken;const A=C._authProvider.getImmediate({optional:!0});if(A){const G=yield A.getToken();if(null!==G)return G.accessToken}return null})()}_getAppCheckToken(){var C=this;return(0,Ve.Z)(function*(){const A=C._appCheckProvider.getImmediate({optional:!0});return A?(yield A.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(C=>C.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(C){return new wt(this,C)}_makeRequest(C,A,G,xe){if(this._deleted)return new Cn($t());{const gt=function jt(D,C,A,G,xe,gt){const Wt=Kn(D.urlParams),Yn=D.url+Wt,Ln=Object.assign({},D.headers);return function He(D,C){C&&(D["X-Firebase-GMPID"]=C)}(Ln,C),function zt(D,C){null!==C&&C.length>0&&(D.Authorization="Firebase "+C)}(Ln,A),function ot(D,C){D["X-Firebase-Storage-Version"]="webjs/"+(C??"AppManager")}(Ln,gt),function Ot(D,C){null!==C&&(D["X-Firebase-AppCheck"]=C)}(Ln,G),new vi(Yn,D.method,Ln,D.body,D.successCodes,D.additionalRetryCodes,D.handler,D.errorHandler,D.timeout,D.progressCallback,xe)}(C,this._appId,G,xe,A,this._firebaseVersion);return this._requests.add(gt),gt.getPromise().then(()=>this._requests.delete(gt),()=>this._requests.delete(gt)),gt}}makeRequestWithTokens(C,A){var G=this;return(0,Ve.Z)(function*(){const[xe,gt]=yield Promise.all([G._getAuthToken(),G._getAppCheckToken()]);return G._makeRequest(C,A,xe,gt).getPromise()})()}}const Qi="@firebase/storage";function ho(D,C){return Ds(D=(0,Ge.m9)(D),C)}function Xr(D,{instanceIdentifier:C}){const A=D.getProvider("app").getImmediate(),G=D.getProvider("auth-internal"),xe=D.getProvider("app-check-internal");return new no(A,G,xe,C,Be.SDK_VERSION)}!function Tr(){(0,Be._registerComponent)(new Lt.wA("storage",Xr,"PUBLIC").setMultipleInstances(!0)),(0,Be.registerVersion)(Qi,"0.9.9",""),(0,Be.registerVersion)(Qi,"0.9.9","esm2017")}();class Ws{constructor(C,A,G){this._delegate=C,this.task=A,this.ref=G}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class zo{constructor(C,A){this._delegate=C,this._ref=A,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ws(this._delegate.snapshot,this,this._ref)}then(C,A){return this._delegate.then(G=>{if(C)return C(new Ws(G,this,this._ref))},A)}on(C,A,G,xe){let gt;return A&&(gt="function"==typeof A?Wt=>A(new Ws(Wt,this,this._ref)):{next:A.next?Wt=>A.next(new Ws(Wt,this,this._ref)):void 0,complete:A.complete||void 0,error:A.error||void 0}),this._delegate.on(C,gt,G||void 0,xe||void 0)}}class Pr{constructor(C,A){this._delegate=C,this._service=A}get prefixes(){return this._delegate.prefixes.map(C=>new as(C,this._service))}get items(){return this._delegate.items.map(C=>new as(C,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class as{constructor(C,A){this._delegate=C,this.storage=A}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(C){const A=function ys(D,C){return jo(D,C)}(this._delegate,C);return new as(A,this.storage)}get root(){return new as(this._delegate.root,this.storage)}get parent(){const C=this._delegate.parent;return null==C?null:new as(C,this.storage)}put(C,A){return this._throwIfRoot("put"),new zo(function Gs(D,C,A){return function Fn(D,C,A){return D._throwIfRoot("uploadBytesResumable"),new Ir(D,new _n(C),A)}(D=(0,Ge.m9)(D),C,A)}(this._delegate,C,A),this)}putString(C,A=ai.RAW,G){this._throwIfRoot("putString");const xe=Pi(A,C),gt=Object.assign({},G);return null==gt.contentType&&null!=xe.contentType&&(gt.contentType=xe.contentType),new zo(new Ir(this._delegate,new _n(xe.data,!0),gt),this)}listAll(){return function ji(D){return function Ei(D){const C={prefixes:[],items:[]};return ms(D,C).then(()=>C)}(D=(0,Ge.m9)(D))}(this._delegate).then(C=>new Pr(C,this.storage))}list(C){return function ir(D,C){return Cs(D=(0,Ge.m9)(D),C)}(this._delegate,C||void 0).then(A=>new Pr(A,this.storage))}getMetadata(){return function Bs(D){return function Ls(D){D._throwIfRoot("getMetadata");const C=bi(D.storage,D._location,mr());return D.storage.makeRequestWithTokens(C,hn)}(D=(0,Ge.m9)(D))}(this._delegate)}updateMetadata(C){return function ca(D,C){return function Xs(D,C){D._throwIfRoot("updateMetadata");const A=function Or(D,C,A,G){const gt=xi(C.fullServerUrl(),D.host,D._protocol),Yn=te(A,G),Ai=D.maxOperationRetryTime,lr=new Zt(gt,"PATCH",kn(D,G),Ai);return lr.headers={"Content-Type":"application/json; charset=utf-8"},lr.body=Yn,lr.errorHandler=Mi(C),lr}(D.storage,D._location,C,mr());return D.storage.makeRequestWithTokens(A,hn)}(D=(0,Ge.m9)(D),C)}(this._delegate,C)}getDownloadURL(){return function os(D){return eo(D=(0,Ge.m9)(D))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function kr(D){return function to(D){D._throwIfRoot("deleteObject");const C=function pr(D,C){const G=xi(C.fullServerUrl(),D.host,D._protocol),Yn=new Zt(G,"DELETE",function Wt(Ln,Ai){},D.maxOperationRetryTime);return Yn.successCodes=[200,204],Yn.errorHandler=Mi(C),Yn}(D.storage,D._location);return D.storage.makeRequestWithTokens(C,hn)}(D=(0,Ge.m9)(D))}(this._delegate)}_throwIfRoot(C){if(""===this._delegate._location.path)throw En(C)}}class Oo{constructor(C,A){this.app=C,this._delegate=A}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(C){if(Hr(C))throw xt("ref() expected a child path but got a URL, use refFromURL instead.");return new as(ho(this._delegate,C),this)}refFromURL(C){if(!Hr(C))throw xt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Te.makeFromUrl(C,this._delegate.host)}catch{throw xt("refFromUrl() expected a valid full URL but got an invalid one.")}return new as(ho(this._delegate,C),this)}setMaxUploadRetryTime(C){this._delegate.maxUploadRetryTime=C}setMaxOperationRetryTime(C){this._delegate.maxOperationRetryTime=C}useEmulator(C,A,G={}){!function $s(D,C,A,G={}){!function so(D,C,A,G={}){D.host=`${C}:${A}`,D._protocol="http";const{mockUserToken:xe}=G;xe&&(D._overrideAuthToken="string"==typeof xe?xe:(0,Ge.Sg)(xe,D.app.options.projectId))}(D,C,A,G)}(this._delegate,C,A,G)}}function Hr(D){return/^[A-Za-z]+:\/\//.test(D)}function Ro(D,{instanceIdentifier:C}){const A=D.getProvider("app-compat").getImmediate(),G=D.getProvider("storage").getImmediate({identifier:C});return new Oo(A,G)}!function xa(D){const C={TaskState:Ct,TaskEvent:$e,StringFormat:ai,Storage:Oo,Reference:as};D.INTERNAL.registerComponent(new Lt.wA("storage-compat",Ro,"PUBLIC").setServiceProps(C).setMultipleInstances(!0)),D.registerVersion("@firebase/storage-compat","0.1.17")}(ft.Z);var Ua=L(440),cs=L(127);function zs(D){const C=function Vs(D){return new o.y(C=>{const A=Wt=>C.next(Wt);A(D.snapshot);const gt=D.on("state_changed",A);return D.then(Wt=>{A(Wt),C.complete()},Wt=>{A(D.snapshot),(Wt=>{C.error(Wt)})(Wt)}),function(){gt()}}).pipe(function de(D,C=ie.P){return A=>A.lift(new _e(D,C))}(0))}(D);return{task:D,then:D.then.bind(D),catch:D.catch.bind(D),pause:D.pause.bind(D),cancel:D.cancel.bind(D),resume:D.resume.bind(D),snapshotChanges:()=>C,percentageChanges:()=>C.pipe((0,he.U)(A=>A.bytesTransferred/A.totalBytes*100))}}function wn(D){return{getDownloadURL:()=>(0,q.of)(void 0).pipe(fe.fc,(0,oe.w)(()=>D.getDownloadURL()),fe.iC),getMetadata:()=>(0,q.of)(void 0).pipe(fe.fc,(0,oe.w)(()=>D.getMetadata()),fe.iC),delete:()=>(0,Q.D)(D.delete()),child:C=>wn(D.child(C)),updateMetadata:C=>(0,Q.D)(D.updateMetadata(C)),put:(C,A)=>zs(D.put(C,A)),putString:(C,A,G)=>zs(D.putString(C,A,G)),list:C=>(0,Q.D)(D.list(C)),listAll:()=>(0,Q.D)(D.listAll())}}const S=new ye.OlP("angularfire2.storageBucket"),X=new ye.OlP("angularfire2.storage.maxUploadRetryTime"),M=new ye.OlP("angularfire2.storage.maxOperationRetryTime"),Z=new ye.OlP("angularfire2.storage.use-emulator");let Oe=(()=>{class D{constructor(A,G,xe,gt,Wt,Yn,Ln,Ai,lr,Fr){const Vr=(0,je.on)(A,Wt,G);this.storage=(0,je.cc)(`${Vr.name}.storage.${xe}`,"AngularFireStorage",Vr.name,()=>{const Zr=Wt.runOutsideAngular(()=>Vr.storage(xe||void 0)),hi=lr;return hi&&Zr.useEmulator(...hi),Ln&&Zr.setMaxUploadRetryTime(Ln),Ai&&Zr.setMaxOperationRetryTime(Ai),Zr},[Ln,Ai])}ref(A){return wn(this.storage.ref(A))}refFromURL(A){return wn(this.storage.refFromURL(A))}upload(A,G,xe){return wn(this.storage.ref(A)).put(G,xe)}}return D.\u0275fac=function(A){return new(A||D)(ye.LFG(je.Dh),ye.LFG(je.xv,8),ye.LFG(S,8),ye.LFG(ye.Lbi),ye.LFG(ye.R0b),ye.LFG(fe.HU),ye.LFG(X,8),ye.LFG(M,8),ye.LFG(Z,8),ye.LFG(Ua.nm,8))},D.\u0275prov=ye.Yz7({token:D,factory:D.\u0275fac,providedIn:"any"}),D})(),jn=(()=>{class D{}return D.\u0275fac=function(A){return new(A||D)},D.\u0275mod=ye.oAB({type:D}),D.\u0275inj=ye.cJS({}),D})(),gi=(()=>{class D{constructor(){cs.Z.registerVersion("angularfire",fe.q4.full,"gcs-compat")}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275mod=ye.oAB({type:D}),D.\u0275inj=ye.cJS({providers:[Oe],imports:[jn]}),D})()},2011:(Sn,bt,L)=>{"use strict";L.d(bt,{Dh:()=>ge,GT:()=>de,cc:()=>je,hO:()=>ye,on:()=>he,pX:()=>ie,xv:()=>Se});var o=L(4650),q=L(127),Q=L(6351);Sn=L.hmd(Sn);const Fe=["ngOnDestroy"],ie=(Ge,Lt,vt,Et={})=>new Proxy(Ge,{get:(Qe,We)=>vt.runOutsideAngular(()=>{var ke;if(Ge[We])return!(null===(ke=Et?.spy)||void 0===ke)&&ke.get&&Et.spy.get(We,Ge[We]),Ge[We];if(Fe.indexOf(We)>-1)return()=>{};const tt=Lt.toPromise().then(Ee=>{const ve=Ee&&Ee[We];return"function"==typeof ve?ve.bind(Ee):ve&&ve.then?ve.then(Ie=>vt.run(()=>Ie)):vt.run(()=>ve)});return new Proxy(()=>{},{get:(Ee,ve)=>tt[ve],apply:(Ee,ve,Ie)=>tt.then(ue=>{var Ce;const me=ue&&ue(...Ie);return!(null===(Ce=Et?.spy)||void 0===Ce)&&Ce.apply&&Et.spy.apply(We,Ie,me),me})})})}),de=(Ge,Lt)=>{Lt.forEach(vt=>{Object.getOwnPropertyNames(vt.prototype||vt).forEach(Et=>{Object.defineProperty(Ge.prototype,Et,Object.getOwnPropertyDescriptor(vt.prototype||vt,Et))})})};class _e{constructor(Lt){return Lt}}const ge=new o.OlP("angularfire2.app.options"),Se=new o.OlP("angularfire2.app.name");function he(Ge,Lt,vt){const Qe="object"==typeof vt&&vt||{};Qe.name=Qe.name||"string"==typeof vt&&vt||"[DEFAULT]";const ke=q.Z.apps.filter(tt=>tt&&tt.name===Qe.name)[0]||Lt.runOutsideAngular(()=>q.Z.initializeApp(Ge,Qe));try{JSON.stringify(Ge)!==JSON.stringify(ke.options)&&oe("error",`${ke.name} Firebase App already initialized with different options${Sn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(ke)}const oe=(Ge,...Lt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Ge](...Lt)},fe={provide:_e,useFactory:he,deps:[ge,o.R0b,[new o.FiY,Se]]};let ye=(()=>{class Ge{constructor(vt){q.Z.registerVersion("angularfire",Q.q4.full,"core"),q.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),q.Z.registerVersion("angular",o.q4F.full,vt.toString())}static initializeApp(vt,Et){return{ngModule:Ge,providers:[{provide:ge,useValue:vt},{provide:Se,useValue:Et}]}}}return Ge.\u0275fac=function(vt){return new(vt||Ge)(o.LFG(o.Lbi))},Ge.\u0275mod=o.oAB({type:Ge}),Ge.\u0275inj=o.cJS({providers:[fe]}),Ge})();function je(Ge,Lt,vt,Et,Qe){const[,We,ke]=globalThis.\u0275AngularfireInstanceCache.find(tt=>tt[0]===Ge)||[];if(We)return function ft(Ge,Lt){try{return Ge.toString()===Lt.toString()}catch{return Ge===Lt}}(Qe,ke)||(Be("error",`${Lt} was already initialized on the ${vt} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:Qe,was:ke})),We;{const tt=Et();return globalThis.\u0275AngularfireInstanceCache.push([Ge,tt,Qe]),tt}}const Ve=!!Sn.hot,Be=(Ge,...Lt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Ge](...Lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Sn,bt,L)=>{"use strict";L.d(bt,{q4:()=>vc,iC:()=>Da,fc:()=>oo,HU:()=>To,vb:()=>Rn,JM:()=>gn});var o=L(4650),q=L(5867),Q=L(5861),Fe=L(9681),ie=L(2090),de=L(4859),_e=L(1877),ge=L(8766);const Se="@firebase/installations",he="0.5.12",fe=`w:${he}`,ye="FIS_v2",Lt=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vt(z){return z instanceof ie.ZR&&z.code.includes("request-failed")}function Et({projectId:z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${z}/installations`}function Qe(z){return{token:z.token,requestStatus:2,expiresIn:ue(z.expiresIn),creationTime:Date.now()}}function We(z,ee){return ke.apply(this,arguments)}function ke(){return(ke=(0,Q.Z)(function*(z,ee){const qe=(yield ee.json()).error;return Lt.create("request-failed",{requestName:z,serverCode:qe.code,serverMessage:qe.message,serverStatus:qe.status})})).apply(this,arguments)}function tt({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function Ee(z,{refreshToken:ee}){const Ne=tt(z);return Ne.append("Authorization",function Ce(z){return`${ye} ${z}`}(ee)),Ne}function ve(z){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,Q.Z)(function*(z){const ee=yield z();return ee.status>=500&&ee.status<600?z():ee})).apply(this,arguments)}function ue(z){return Number(z.replace("s","000"))}function me(z,ee){return At.apply(this,arguments)}function At(){return(At=(0,Q.Z)(function*({appConfig:z,heartbeatServiceProvider:ee},{fid:Ne}){const qe=Et(z),Vt=tt(z),nn=ee.getImmediate({optional:!0});if(nn){const Ji=yield nn.getHeartbeatsHeader();Ji&&Vt.append("x-firebase-client",Ji)}const Qn={method:"POST",headers:Vt,body:JSON.stringify({fid:Ne,authVersion:ye,appId:z.appId,sdkVersion:fe})},zi=yield ve(()=>fetch(qe,Qn));if(zi.ok){const Ji=yield zi.json();return{fid:Ji.fid||Ne,registrationStatus:2,refreshToken:Ji.refreshToken,authToken:Qe(Ji.authToken)}}throw yield We("Create Installation",zi)})).apply(this,arguments)}function St(z){return new Promise(ee=>{setTimeout(ee,z)})}const mt=/^[cdef][\w-]{21}$/;function Ye(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const Ne=function at(z){return function Mt(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return mt.test(Ne)?Ne:""}catch{return""}}function ht(z){return`${z.appName}!${z.appId}`}const xt=new Map;function $t(z,ee){const Ne=ht(z);bn(Ne,ee),function Te(z,ee){const Ne=function Zn(){return!Cn&&"BroadcastChannel"in self&&(Cn=new BroadcastChannel("[Firebase] FID Change"),Cn.onmessage=z=>{bn(z.data.key,z.data.fid)}),Cn}();Ne&&Ne.postMessage({key:z,fid:ee}),function zn(){0===xt.size&&Cn&&(Cn.close(),Cn=null)}()}(Ne,ee)}function bn(z,ee){const Ne=xt.get(z);if(Ne)for(const qe of Ne)qe(ee)}let Cn=null;const $n="firebase-installations-store";let ei=null;function sn(){return ei||(ei=(0,ge.X3)("firebase-installations-database",1,{upgrade:(z,ee)=>{0===ee&&z.createObjectStore($n)}})),ei}function dn(z,ee){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,Q.Z)(function*(z,ee){const Ne=ht(z),Vt=(yield sn()).transaction($n,"readwrite"),nn=Vt.objectStore($n),An=yield nn.get(Ne);return yield nn.put(ee,Ne),yield Vt.done,(!An||An.fid!==ee.fid)&&$t(z,ee.fid),ee})).apply(this,arguments)}function xi(z){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Q.Z)(function*(z){const ee=ht(z),qe=(yield sn()).transaction($n,"readwrite");yield qe.objectStore($n).delete(ee),yield qe.done})).apply(this,arguments)}function mi(z,ee){return vi.apply(this,arguments)}function vi(){return(vi=(0,Q.Z)(function*(z,ee){const Ne=ht(z),Vt=(yield sn()).transaction($n,"readwrite"),nn=Vt.objectStore($n),An=yield nn.get(Ne),Qn=ee(An);return void 0===Qn?yield nn.delete(Ne):yield nn.put(Qn,Ne),yield Vt.done,Qn&&(!An||An.fid!==Qn.fid)&&$t(z,Qn.fid),Qn})).apply(this,arguments)}function Di(z){return zt.apply(this,arguments)}function zt(){return(zt=(0,Q.Z)(function*(z){let ee;const Ne=yield mi(z.appConfig,qe=>{const Vt=ot(qe),nn=He(z,Vt);return ee=nn.registrationPromise,nn.installationEntry});return""===Ne.fid?{installationEntry:yield ee}:{installationEntry:Ne,registrationPromise:ee}})).apply(this,arguments)}function ot(z){return mn(z||{fid:Ye(),registrationStatus:0})}function He(z,ee){if(0===ee.registrationStatus){if(!navigator.onLine)return{installationEntry:ee,registrationPromise:Promise.reject(Lt.create("app-offline"))};const Ne={fid:ee.fid,registrationStatus:1,registrationTime:Date.now()},qe=function Ot(z,ee){return jt.apply(this,arguments)}(z,Ne);return{installationEntry:Ne,registrationPromise:qe}}return 1===ee.registrationStatus?{installationEntry:ee,registrationPromise:Tn(z)}:{installationEntry:ee}}function jt(){return(jt=(0,Q.Z)(function*(z,ee){try{const Ne=yield me(z,ee);return dn(z.appConfig,Ne)}catch(Ne){throw vt(Ne)&&409===Ne.customData.serverCode?yield xi(z.appConfig):yield dn(z.appConfig,{fid:ee.fid,registrationStatus:0}),Ne}})).apply(this,arguments)}function Tn(z){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,Q.Z)(function*(z){let ee=yield ni(z.appConfig);for(;1===ee.registrationStatus;)yield St(100),ee=yield ni(z.appConfig);if(0===ee.registrationStatus){const{installationEntry:Ne,registrationPromise:qe}=yield Di(z);return qe||Ne}return ee})).apply(this,arguments)}function ni(z){return mi(z,ee=>{if(!ee)throw Lt.create("installation-not-found");return mn(ee)})}function mn(z){return function ai(z){return 1===z.registrationStatus&&z.registrationTime+1e4<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function Nn(z,ee){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,Q.Z)(function*({appConfig:z,heartbeatServiceProvider:ee},Ne){const qe=ci(z,Ne),Vt=Ee(z,Ne),nn=ee.getImmediate({optional:!0});if(nn){const Ji=yield nn.getHeartbeatsHeader();Ji&&Vt.append("x-firebase-client",Ji)}const Qn={method:"POST",headers:Vt,body:JSON.stringify({installation:{sdkVersion:fe,appId:z.appId}})},zi=yield ve(()=>fetch(qe,Qn));if(zi.ok)return Qe(yield zi.json());throw yield We("Generate Auth Token",zi)})).apply(this,arguments)}function ci(z,{fid:ee}){return`${Et(z)}/${ee}/authTokens:generate`}function ct(z){return nt.apply(this,arguments)}function nt(){return(nt=(0,Q.Z)(function*(z,ee=!1){let Ne;const qe=yield mi(z.appConfig,nn=>{if(!Vn(nn))throw Lt.create("not-registered");const An=nn.authToken;if(!ee&&Ki(An))return nn;if(1===An.requestStatus)return Ne=Xe(z,ee),nn;{if(!navigator.onLine)throw Lt.create("app-offline");const Qn=ki(nn);return Ne=on(z,Qn),Qn}});return Ne?yield Ne:qe.authToken})).apply(this,arguments)}function Xe(z,ee){return ut.apply(this,arguments)}function ut(){return(ut=(0,Q.Z)(function*(z,ee){let Ne=yield rt(z.appConfig);for(;1===Ne.authToken.requestStatus;)yield St(100),Ne=yield rt(z.appConfig);const qe=Ne.authToken;return 0===qe.requestStatus?ct(z,ee):qe})).apply(this,arguments)}function rt(z){return mi(z,ee=>{if(!Vn(ee))throw Lt.create("not-registered");return function pi(z){return 1===z.requestStatus&&z.requestTime+1e4<Date.now()}(ee.authToken)?Object.assign(Object.assign({},ee),{authToken:{requestStatus:0}}):ee})}function on(z,ee){return _n.apply(this,arguments)}function _n(){return(_n=(0,Q.Z)(function*(z,ee){try{const Ne=yield Nn(z,ee),qe=Object.assign(Object.assign({},ee),{authToken:Ne});return yield dn(z.appConfig,qe),Ne}catch(Ne){if(!vt(Ne)||401!==Ne.customData.serverCode&&404!==Ne.customData.serverCode){const qe=Object.assign(Object.assign({},ee),{authToken:{requestStatus:0}});yield dn(z.appConfig,qe)}else yield xi(z.appConfig);throw Ne}})).apply(this,arguments)}function Vn(z){return void 0!==z&&2===z.registrationStatus}function Ki(z){return 2===z.requestStatus&&!function Oi(z){const ee=Date.now();return ee<z.creationTime||z.creationTime+z.expiresIn<ee+36e5}(z)}function ki(z){const ee={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:ee})}function Bi(){return(Bi=(0,Q.Z)(function*(z){const ee=z,{installationEntry:Ne,registrationPromise:qe}=yield Di(ee);return qe?qe.catch(console.error):ct(ee).catch(console.error),Ne.fid})).apply(this,arguments)}function mr(){return(mr=(0,Q.Z)(function*(z,ee=!1){const Ne=z;return yield hr(Ne),(yield ct(Ne,ee)).token})).apply(this,arguments)}function hr(z){return fr.apply(this,arguments)}function fr(){return(fr=(0,Q.Z)(function*(z){const{registrationPromise:ee}=yield Di(z);ee&&(yield ee)})).apply(this,arguments)}function Qt(z){return Lt.create("missing-app-config-values",{valueName:z})}const kn="installations",Gn=z=>{const ee=z.getProvider("app").getImmediate(),Ne=function Zt(z){if(!z||!z.options)throw Qt("App Configuration");if(!z.name)throw Qt("App Name");const ee=["projectId","apiKey","appId"];for(const Ne of ee)if(!z.options[Ne])throw Qt(Ne);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(ee);return{app:ee,appConfig:Ne,heartbeatServiceProvider:(0,Fe._getProvider)(ee,"heartbeat"),_delete:()=>Promise.resolve()}},di=z=>{const ee=z.getProvider("app").getImmediate(),Ne=(0,Fe._getProvider)(ee,kn).getImmediate();return{getId:()=>function Hn(z){return Bi.apply(this,arguments)}(Ne),getToken:Vt=>function tr(z){return mr.apply(this,arguments)}(Ne,Vt)}};(function Mi(){(0,Fe._registerComponent)(new de.wA(kn,Gn,"PUBLIC")),(0,Fe._registerComponent)(new de.wA("installations-internal",di,"PRIVATE"))})(),(0,Fe.registerVersion)(Se,he),(0,Fe.registerVersion)(Se,he,"esm2017");const bi="@firebase/remote-config",pr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _i{constructor(ee,Ne,qe,Vt){this.client=ee,this.storage=Ne,this.storageCache=qe,this.logger=Vt}isCachedDataFresh(ee,Ne){if(!Ne)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const qe=Date.now()-Ne,Vt=qe<=ee;return this.logger.debug(`Config fetch cache check. Cache age millis: ${qe}. Cache max age millis (minimumFetchIntervalMillis setting): ${ee}. Is cache hit: ${Vt}.`),Vt}fetch(ee){var Ne=this;return(0,Q.Z)(function*(){const[qe,Vt]=yield Promise.all([Ne.storage.getLastSuccessfulFetchTimestampMillis(),Ne.storage.getLastSuccessfulFetchResponse()]);if(Vt&&Ne.isCachedDataFresh(ee.cacheMaxAgeMillis,qe))return Vt;ee.eTag=Vt&&Vt.eTag;const nn=yield Ne.client.fetch(ee),An=[Ne.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===nn.status&&An.push(Ne.storage.setLastSuccessfulFetchResponse(nn)),yield Promise.all(An),nn})()}}function Fi(z=navigator){return z.languages&&z.languages[0]||z.language}class jr{constructor(ee,Ne,qe,Vt,nn,An){this.firebaseInstallations=ee,this.sdkVersion=Ne,this.namespace=qe,this.projectId=Vt,this.apiKey=nn,this.appId=An}fetch(ee){var Ne=this;return(0,Q.Z)(function*(){var qe,Vt,nn;const[An,Qn]=yield Promise.all([Ne.firebaseInstallations.getId(),Ne.firebaseInstallations.getToken()]),Ji=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ne.projectId}/namespaces/${Ne.namespace}:fetch?key=${Ne.apiKey}`,Ci={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ee.eTag||"*"},Li={sdk_version:Ne.sdkVersion,app_instance_id:An,app_instance_id_token:Qn,app_id:Ne.appId,language_code:Fi()},Us={method:"POST",headers:Ci,body:JSON.stringify(Li)},ha=fetch(Ji,Us),Ia=new Promise((Nl,ml)=>{ee.signal.addEventListener(()=>{const _l=new Error("The operation was aborted.");_l.name="AbortError",ml(_l)})});let qa;try{yield Promise.race([ha,Ia]),qa=yield ha}catch(Nl){let ml="fetch-client-network";throw"AbortError"===(null===(qe=Nl)||void 0===qe?void 0:qe.name)&&(ml="fetch-timeout"),pr.create(ml,{originalErrorMessage:null===(Vt=Nl)||void 0===Vt?void 0:Vt.message})}let ia=qa.status;const Ul=qa.headers.get("ETag")||void 0;let ra,il;if(200===qa.status){let Nl;try{Nl=yield qa.json()}catch(ml){throw pr.create("fetch-client-parse",{originalErrorMessage:null===(nn=ml)||void 0===nn?void 0:nn.message})}ra=Nl.entries,il=Nl.state}if("INSTANCE_STATE_UNSPECIFIED"===il?ia=500:"NO_CHANGE"===il?ia=304:("NO_TEMPLATE"===il||"EMPTY_CONFIG"===il)&&(ra={}),304!==ia&&200!==ia)throw pr.create("fetch-status",{httpStatus:ia});return{status:ia,eTag:Ul,config:ra}})()}}class Tt{constructor(ee,Ne){this.client=ee,this.storage=Ne}fetch(ee){var Ne=this;return(0,Q.Z)(function*(){const qe=(yield Ne.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ne.attemptFetch(ee,qe)})()}attemptFetch(ee,{throttleEndTimeMillis:Ne,backoffCount:qe}){var Vt=this;return(0,Q.Z)(function*(){yield function Ir(z,ee){return new Promise((Ne,qe)=>{const Vt=Math.max(ee-Date.now(),0),nn=setTimeout(Ne,Vt);z.addEventListener(()=>{clearTimeout(nn),qe(pr.create("fetch-throttle",{throttleEndTimeMillis:ee}))})})}(ee.signal,Ne);try{const nn=yield Vt.client.fetch(ee);return yield Vt.storage.deleteThrottleMetadata(),nn}catch(nn){if(!function wt(z){if(!(z instanceof ie.ZR&&z.customData))return!1;const ee=Number(z.customData.httpStatus);return 429===ee||500===ee||503===ee||504===ee}(nn))throw nn;const An={throttleEndTimeMillis:Date.now()+(0,ie.$s)(qe),backoffCount:qe+1};return yield Vt.storage.setThrottleMetadata(An),Vt.attemptFetch(ee,An)}})()}}class Fn{constructor(ee,Ne,qe,Vt,nn){this.app=ee,this._client=Ne,this._storageCache=qe,this._storage=Vt,this._logger=nn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function li(z,ee){var Ne;const qe=z.target.error||void 0;return pr.create(ee,{originalErrorMessage:qe&&(null===(Ne=qe)||void 0===Ne?void 0:Ne.message)})}const Ei="app_namespace_store";class Ls{constructor(ee,Ne,qe,Vt=function Cs(){return new Promise((z,ee)=>{var Ne;try{const qe=indexedDB.open("firebase_remote_config",1);qe.onerror=Vt=>{ee(li(Vt,"storage-open"))},qe.onsuccess=Vt=>{z(Vt.target.result)},qe.onupgradeneeded=Vt=>{0===Vt.oldVersion&&Vt.target.result.createObjectStore(Ei,{keyPath:"compositeKey"})}}catch(qe){ee(pr.create("storage-open",{originalErrorMessage:null===(Ne=qe)||void 0===Ne?void 0:Ne.message}))}})}()){this.appId=ee,this.appName=Ne,this.namespace=qe,this.openDbPromise=Vt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ee){return this.set("last_fetch_status",ee)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ee){return this.set("last_successful_fetch_timestamp_millis",ee)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ee){return this.set("last_successful_fetch_response",ee)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ee){return this.set("active_config",ee)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ee){return this.set("active_config_etag",ee)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ee){return this.set("throttle_metadata",ee)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ee){var Ne=this;return(0,Q.Z)(function*(){const qe=yield Ne.openDbPromise;return new Promise((Vt,nn)=>{var An;const zi=qe.transaction([Ei],"readonly").objectStore(Ei),Ji=Ne.createCompositeKey(ee);try{const Ci=zi.get(Ji);Ci.onerror=Li=>{nn(li(Li,"storage-get"))},Ci.onsuccess=Li=>{const Us=Li.target.result;Vt(Us?Us.value:void 0)}}catch(Ci){nn(pr.create("storage-get",{originalErrorMessage:null===(An=Ci)||void 0===An?void 0:An.message}))}})})()}set(ee,Ne){var qe=this;return(0,Q.Z)(function*(){const Vt=yield qe.openDbPromise;return new Promise((nn,An)=>{var Qn;const Ji=Vt.transaction([Ei],"readwrite").objectStore(Ei),Ci=qe.createCompositeKey(ee);try{const Li=Ji.put({compositeKey:Ci,value:Ne});Li.onerror=Us=>{An(li(Us,"storage-set"))},Li.onsuccess=()=>{nn()}}catch(Li){An(pr.create("storage-set",{originalErrorMessage:null===(Qn=Li)||void 0===Qn?void 0:Qn.message}))}})})()}delete(ee){var Ne=this;return(0,Q.Z)(function*(){const qe=yield Ne.openDbPromise;return new Promise((Vt,nn)=>{var An;const zi=qe.transaction([Ei],"readwrite").objectStore(Ei),Ji=Ne.createCompositeKey(ee);try{const Ci=zi.delete(Ji);Ci.onerror=Li=>{nn(li(Li,"storage-delete"))},Ci.onsuccess=()=>{Vt()}}catch(Ci){nn(pr.create("storage-delete",{originalErrorMessage:null===(An=Ci)||void 0===An?void 0:An.message}))}})})()}createCompositeKey(ee){return[this.appId,this.appName,this.namespace,ee].join()}}class Xs{constructor(ee){this.storage=ee}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ee=this;return(0,Q.Z)(function*(){const Ne=ee.storage.getLastFetchStatus(),qe=ee.storage.getLastSuccessfulFetchTimestampMillis(),Vt=ee.storage.getActiveConfig(),nn=yield Ne;nn&&(ee.lastFetchStatus=nn);const An=yield qe;An&&(ee.lastSuccessfulFetchTimestampMillis=An);const Qn=yield Vt;Qn&&(ee.activeConfig=Qn)})()}setLastFetchStatus(ee){return this.lastFetchStatus=ee,this.storage.setLastFetchStatus(ee)}setLastSuccessfulFetchTimestampMillis(ee){return this.lastSuccessfulFetchTimestampMillis=ee,this.storage.setLastSuccessfulFetchTimestampMillis(ee)}setActiveConfig(ee){return this.activeConfig=ee,this.storage.setActiveConfig(ee)}}function Ss(){return ma.apply(this,arguments)}function ma(){return(ma=(0,Q.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function eo(){(0,Fe._registerComponent)(new de.wA("remote-config",function z(ee,{instanceIdentifier:Ne}){const qe=ee.getProvider("app").getImmediate(),Vt=ee.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw pr.create("registration-window");if(!(0,ie.hl)())throw pr.create("indexed-db-unavailable");const{projectId:nn,apiKey:An,appId:Qn}=qe.options;if(!nn)throw pr.create("registration-project-id");if(!An)throw pr.create("registration-api-key");if(!Qn)throw pr.create("registration-app-id");const zi=new Ls(Qn,qe.name,Ne=Ne||"firebase"),Ji=new Xs(zi),Ci=new _e.Yd(bi);Ci.logLevel=_e.in.ERROR;const Li=new jr(Vt,Fe.SDK_VERSION,Ne,nn,An,Qn),Us=new Tt(Li,zi),ha=new _i(Us,zi,Ji,Ci),Ia=new Fn(qe,ha,Ji,zi,Ci);return function $e(z){const ee=(0,ie.m9)(z);ee._initializePromise||(ee._initializePromise=ee._storageCache.loadFromStorage().then(()=>{ee._isInitializationComplete=!0}))}(Ia),Ia},"PUBLIC").setMultipleInstances(!0)),(0,Fe.registerVersion)(bi,"0.3.11"),(0,Fe.registerVersion)(bi,"0.3.11","esm2017")}();const _s="/firebase-messaging-sw.js",Ds="/firebase-cloud-messaging-push-scope",ps="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",no="google.c.a.c_id",Qi="google.c.a.c_l",ar="google.c.a.ts",Yi="google.c.a.e";var ur=(()=>{return(z=ur||(ur={})).PUSH_RECEIVED="push-received",z.NOTIFICATION_CLICKED="notification-clicked",ur;var z})();function Is(z){const ee=new Uint8Array(z);return btoa(String.fromCharCode(...ee)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gs(z){const Ne=(z+"=".repeat((4-z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),qe=atob(Ne),Vt=new Uint8Array(qe.length);for(let nn=0;nn<qe.length;++nn)Vt[nn]=qe.charCodeAt(nn);return Vt}const Bs="fcm_token_details_db",ir="fcm_token_object_Store";function ji(z){return os.apply(this,arguments)}function os(){return os=(0,Q.Z)(function*(z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(nn=>nn.name).includes(Bs))return null;let ee=null;return(yield(0,ge.X3)(Bs,5,{upgrade:(qe=(0,Q.Z)(function*(Vt,nn,An,Qn){var zi;if(nn<2||!Vt.objectStoreNames.contains(ir))return;const Ji=Qn.objectStore(ir),Ci=yield Ji.index("fcmSenderId").get(z);if(yield Ji.clear(),Ci)if(2===nn){const Li=Ci;if(!Li.auth||!Li.p256dh||!Li.endpoint)return;ee={token:Li.fcmToken,createTime:null!==(zi=Li.createTime)&&void 0!==zi?zi:Date.now(),subscriptionOptions:{auth:Li.auth,p256dh:Li.p256dh,endpoint:Li.endpoint,swScope:Li.swScope,vapidKey:"string"==typeof Li.vapidKey?Li.vapidKey:Is(Li.vapidKey)}}}else if(3===nn){const Li=Ci;ee={token:Li.fcmToken,createTime:Li.createTime,subscriptionOptions:{auth:Is(Li.auth),p256dh:Is(Li.p256dh),endpoint:Li.endpoint,swScope:Li.swScope,vapidKey:Is(Li.vapidKey)}}}else if(4===nn){const Li=Ci;ee={token:Li.fcmToken,createTime:Li.createTime,subscriptionOptions:{auth:Is(Li.auth),p256dh:Is(Li.p256dh),endpoint:Li.endpoint,swScope:Li.swScope,vapidKey:Is(Li.vapidKey)}}}}),function(nn,An,Qn,zi){return qe.apply(this,arguments)})})).close(),yield(0,ge.Lj)(Bs),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),kr(ee)?ee:null;var qe}),os.apply(this,arguments)}function kr(z){if(!z||!z.subscriptionOptions)return!1;const{subscriptionOptions:ee}=z;return"number"==typeof z.createTime&&z.createTime>0&&"string"==typeof z.token&&z.token.length>0&&"string"==typeof ee.auth&&ee.auth.length>0&&"string"==typeof ee.p256dh&&ee.p256dh.length>0&&"string"==typeof ee.endpoint&&ee.endpoint.length>0&&"string"==typeof ee.swScope&&ee.swScope.length>0&&"string"==typeof ee.vapidKey&&ee.vapidKey.length>0}const fo="firebase-messaging-store";let $s=null;function _a(){return $s||($s=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(z,ee)=>{0===ee&&z.createObjectStore(fo)}})),$s}function io(z){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,Q.Z)(function*(z){const ee=as(z),qe=yield(yield _a()).transaction(fo).objectStore(fo).get(ee);if(qe)return qe;{const Vt=yield ji(z.appConfig.senderId);if(Vt)return yield Tr(z,Vt),Vt}})).apply(this,arguments)}function Tr(z,ee){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,Q.Z)(function*(z,ee){const Ne=as(z),Vt=(yield _a()).transaction(fo,"readwrite");return yield Vt.objectStore(fo).put(ee,Ne),yield Vt.done,ee})).apply(this,arguments)}function zo(z){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,Q.Z)(function*(z){const ee=as(z),qe=(yield _a()).transaction(fo,"readwrite");yield qe.objectStore(fo).delete(ee),yield qe.done})).apply(this,arguments)}function as({appConfig:z}){return z.appId}const Hr=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ui(z,ee){return ls.apply(this,arguments)}function ls(){return(ls=(0,Q.Z)(function*(z,ee){var Ne;const qe=yield Vs(z),Vt=wn(ee),nn={method:"POST",headers:qe,body:JSON.stringify(Vt)};let An;try{An=yield(yield fetch(cs(z.appConfig),nn)).json()}catch(Qn){throw Hr.create("token-subscribe-failed",{errorInfo:null===(Ne=Qn)||void 0===Ne?void 0:Ne.toString()})}if(An.error)throw Hr.create("token-subscribe-failed",{errorInfo:An.error.message});if(!An.token)throw Hr.create("token-subscribe-no-token");return An.token})).apply(this,arguments)}function _r(z,ee){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,Q.Z)(function*(z,ee){var Ne;const qe=yield Vs(z),Vt=wn(ee.subscriptionOptions),nn={method:"PATCH",headers:qe,body:JSON.stringify(Vt)};let An;try{An=yield(yield fetch(`${cs(z.appConfig)}/${ee.token}`,nn)).json()}catch(Qn){throw Hr.create("token-update-failed",{errorInfo:null===(Ne=Qn)||void 0===Ne?void 0:Ne.toString()})}if(An.error)throw Hr.create("token-update-failed",{errorInfo:An.error.message});if(!An.token)throw Hr.create("token-update-no-token");return An.token})).apply(this,arguments)}function xa(z,ee){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,Q.Z)(function*(z,ee){var Ne;const Vt={method:"DELETE",headers:yield Vs(z)};try{const An=yield(yield fetch(`${cs(z.appConfig)}/${ee}`,Vt)).json();if(An.error)throw Hr.create("token-unsubscribe-failed",{errorInfo:An.error.message})}catch(nn){throw Hr.create("token-unsubscribe-failed",{errorInfo:null===(Ne=nn)||void 0===Ne?void 0:Ne.toString()})}})).apply(this,arguments)}function cs({projectId:z}){return`https://fcmregistrations.googleapis.com/v1/projects/${z}/registrations`}function Vs(z){return zs.apply(this,arguments)}function zs(){return(zs=(0,Q.Z)(function*({appConfig:z,installations:ee}){const Ne=yield ee.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ne}`})})).apply(this,arguments)}function wn({p256dh:z,auth:ee,endpoint:Ne,vapidKey:qe}){const Vt={web:{endpoint:Ne,auth:ee,p256dh:z}};return qe!==ps&&(Vt.web.applicationPubKey=qe),Vt}const S=6048e5;function X(z){return M.apply(this,arguments)}function M(){return(M=(0,Q.Z)(function*(z){const ee=yield C(z.swRegistration,z.vapidKey),Ne={vapidKey:z.vapidKey,swScope:z.swRegistration.scope,endpoint:ee.endpoint,auth:Is(ee.getKey("auth")),p256dh:Is(ee.getKey("p256dh"))},qe=yield io(z.firebaseDependencies);if(qe){if(G(qe.subscriptionOptions,Ne))return Date.now()>=qe.createTime+S?Kt(z,{token:qe.token,createTime:Date.now(),subscriptionOptions:Ne}):qe.token;try{yield xa(z.firebaseDependencies,qe.token)}catch(Vt){console.warn(Vt)}return gi(z.firebaseDependencies,Ne)}return gi(z.firebaseDependencies,Ne)})).apply(this,arguments)}function Z(z){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,Q.Z)(function*(z){const ee=yield io(z.firebaseDependencies);ee&&(yield xa(z.firebaseDependencies,ee.token),yield zo(z.firebaseDependencies));const Ne=yield z.swRegistration.pushManager.getSubscription();return!Ne||Ne.unsubscribe()})).apply(this,arguments)}function Kt(z,ee){return jn.apply(this,arguments)}function jn(){return(jn=(0,Q.Z)(function*(z,ee){try{const Ne=yield _r(z.firebaseDependencies,ee),qe=Object.assign(Object.assign({},ee),{token:Ne,createTime:Date.now()});return yield Tr(z.firebaseDependencies,qe),Ne}catch(Ne){throw yield Z(z),Ne}})).apply(this,arguments)}function gi(z,ee){return D.apply(this,arguments)}function D(){return(D=(0,Q.Z)(function*(z,ee){const qe={token:yield Ui(z,ee),createTime:Date.now(),subscriptionOptions:ee};return yield Tr(z,qe),qe.token})).apply(this,arguments)}function C(z,ee){return A.apply(this,arguments)}function A(){return(A=(0,Q.Z)(function*(z,ee){return(yield z.pushManager.getSubscription())||z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gs(ee)})})).apply(this,arguments)}function G(z,ee){return ee.vapidKey===z.vapidKey&&ee.endpoint===z.endpoint&&ee.auth===z.auth&&ee.p256dh===z.p256dh}function xe(z){const ee={from:z.from,collapseKey:z.collapse_key,messageId:z.fcmMessageId};return function gt(z,ee){if(!ee.notification)return;z.notification={};const Ne=ee.notification.title;Ne&&(z.notification.title=Ne);const qe=ee.notification.body;qe&&(z.notification.body=qe);const Vt=ee.notification.image;Vt&&(z.notification.image=Vt)}(ee,z),function Wt(z,ee){!ee.data||(z.data=ee.data)}(ee,z),function Yn(z,ee){var Ne,qe,Vt,nn,An;if(!(ee.fcmOptions||null!==(Ne=ee.notification)&&void 0!==Ne&&Ne.click_action))return;z.fcmOptions={};const Qn=null!==(Vt=null===(qe=ee.fcmOptions)||void 0===qe?void 0:qe.link)&&void 0!==Vt?Vt:null===(nn=ee.notification)||void 0===nn?void 0:nn.click_action;Qn&&(z.fcmOptions.link=Qn);const zi=null===(An=ee.fcmOptions)||void 0===An?void 0:An.analytics_label;zi&&(z.fcmOptions.analyticsLabel=zi)}(ee,z),ee}function Ln(z){return"object"==typeof z&&!!z&&no in z}function Ai(z,ee){const Ne=[];for(let qe=0;qe<z.length;qe++)Ne.push(z.charAt(qe)),qe<ee.length&&Ne.push(ee.charAt(qe));return Ne.join("")}function Fr(z){return Hr.create("missing-app-config-values",{valueName:z})}Ai("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ai("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vr{constructor(ee,Ne,qe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Vt=function lr(z){if(!z||!z.options)throw Fr("App Configuration Object");if(!z.name)throw Fr("App Name");const ee=["projectId","apiKey","appId","messagingSenderId"],{options:Ne}=z;for(const qe of ee)if(!Ne[qe])throw Fr(qe);return{appName:z.name,projectId:Ne.projectId,apiKey:Ne.apiKey,appId:Ne.appId,senderId:Ne.messagingSenderId}}(ee);this.firebaseDependencies={app:ee,appConfig:Vt,installations:Ne,analyticsProvider:qe}}_delete(){return Promise.resolve()}}function Zr(z){return hi.apply(this,arguments)}function hi(){return(hi=(0,Q.Z)(function*(z){var ee;try{z.swRegistration=yield navigator.serviceWorker.register(_s,{scope:Ds}),z.swRegistration.update().catch(()=>{})}catch(Ne){throw Hr.create("failed-service-worker-registration",{browserErrorMessage:null===(ee=Ne)||void 0===ee?void 0:ee.message})}})).apply(this,arguments)}function po(z,ee){return rr.apply(this,arguments)}function rr(){return(rr=(0,Q.Z)(function*(z,ee){if(!ee&&!z.swRegistration&&(yield Zr(z)),ee||!z.swRegistration){if(!(ee instanceof ServiceWorkerRegistration))throw Hr.create("invalid-sw-registration");z.swRegistration=ee}})).apply(this,arguments)}function Po(z,ee){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,Q.Z)(function*(z,ee){ee?z.vapidKey=ee:z.vapidKey||(z.vapidKey=ps)})).apply(this,arguments)}function Ts(){return(Ts=(0,Q.Z)(function*(z,ee){if(!navigator)throw Hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hr.create("permission-blocked");return yield Po(z,ee?.vapidKey),yield po(z,ee?.serviceWorkerRegistration),X(z)})).apply(this,arguments)}function Ko(z,ee,Ne){return go.apply(this,arguments)}function go(){return(go=(0,Q.Z)(function*(z,ee,Ne){const qe=Zo(ee);(yield z.firebaseDependencies.analyticsProvider.get()).logEvent(qe,{message_id:Ne[no],message_name:Ne[Qi],message_time:Ne[ar],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zo(z){switch(z){case ur.NOTIFICATION_CLICKED:return"notification_open";case ur.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function le(){return(le=(0,Q.Z)(function*(z,ee){const Ne=ee.data;if(!Ne.isFirebaseMessaging)return;z.onMessageHandler&&Ne.messageType===ur.PUSH_RECEIVED&&("function"==typeof z.onMessageHandler?z.onMessageHandler(xe(Ne)):z.onMessageHandler.next(xe(Ne)));const qe=Ne.data;Ln(qe)&&"1"===qe[Yi]&&(yield Ko(z,Ne.messageType,qe))})).apply(this,arguments)}const K="@firebase/messaging",dt=z=>{const ee=new Vr(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ne=>function j(z,ee){return le.apply(this,arguments)}(ee,Ne)),ee},Yt=z=>{const ee=z.getProvider("messaging").getImmediate();return{getToken:qe=>function Ns(z,ee){return Ts.apply(this,arguments)}(ee,qe)}};function si(){return yr.apply(this,arguments)}function yr(){return(yr=(0,Q.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ln(){(0,Fe._registerComponent)(new de.wA("messaging",dt,"PUBLIC")),(0,Fe._registerComponent)(new de.wA("messaging-internal",Yt,"PRIVATE")),(0,Fe.registerVersion)(K,"0.9.16"),(0,Fe.registerVersion)(K,"0.9.16","esm2017")}();const Do="analytics",Ha="firebase_id",va="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pc="https://www.googletagmanager.com/gtag/js",Es=new _e.Yd("@firebase/analytics");function Il(z){return Promise.all(z.map(ee=>ee.catch(Ne=>Ne)))}function _u(z,ee){const Ne=document.createElement("script");Ne.src=`${pc}?l=${z}&id=${ee}`,Ne.async=!0,document.head.appendChild(Ne)}function Tl(z,ee,Ne,qe,Vt,nn){return dl.apply(this,arguments)}function dl(){return(dl=(0,Q.Z)(function*(z,ee,Ne,qe,Vt,nn){const An=qe[Vt];try{if(An)yield ee[An];else{const zi=(yield Il(Ne)).find(Ji=>Ji.measurementId===Vt);zi&&(yield ee[zi.appId])}}catch(Qn){Es.error(Qn)}z("config",Vt,nn)})).apply(this,arguments)}function ko(z,ee,Ne,qe,Vt){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,Q.Z)(function*(z,ee,Ne,qe,Vt){try{let nn=[];if(Vt&&Vt.send_to){let An=Vt.send_to;Array.isArray(An)||(An=[An]);const Qn=yield Il(Ne);for(const zi of An){const Ji=Qn.find(Li=>Li.measurementId===zi),Ci=Ji&&ee[Ji.appId];if(!Ci){nn=[];break}nn.push(Ci)}}0===nn.length&&(nn=Object.values(ee)),yield Promise.all(nn),z("event",qe,Vt||{})}catch(nn){Es.error(nn)}})).apply(this,arguments)}function $u(){const z=window.document.getElementsByTagName("script");for(const ee of Object.values(z))if(ee.src&&ee.src.includes(pc))return ee;return null}const Io=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),hl=new class ba{constructor(ee={},Ne=1e3){this.throttleMetadata=ee,this.intervalMillis=Ne}getThrottleMetadata(ee){return this.throttleMetadata[ee]}setThrottleMetadata(ee,Ne){this.throttleMetadata[ee]=Ne}deleteThrottleMetadata(ee){delete this.throttleMetadata[ee]}};function Jl(z){return new Headers({Accept:"application/json","x-goog-api-key":z})}function Ga(z){return el.apply(this,arguments)}function el(){return(el=(0,Q.Z)(function*(z){var ee;const{appId:Ne,apiKey:qe}=z,Vt={method:"GET",headers:Jl(qe)},nn=va.replace("{app-id}",Ne),An=yield fetch(nn,Vt);if(200!==An.status&&304!==An.status){let Qn="";try{const zi=yield An.json();null!==(ee=zi.error)&&void 0!==ee&&ee.message&&(Qn=zi.error.message)}catch{}throw Io.create("config-fetch-failed",{httpStatus:An.status,responseMessage:Qn})}return An.json()})).apply(this,arguments)}function xr(z){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,Q.Z)(function*(z,ee=hl,Ne){const{appId:qe,apiKey:Vt,measurementId:nn}=z.options;if(!qe)throw Io.create("no-app-id");if(!Vt){if(nn)return{measurementId:nn,appId:qe};throw Io.create("no-api-key")}const An=ee.getThrottleMetadata(qe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qn=new Ms;return setTimeout((0,Q.Z)(function*(){Qn.abort()}),void 0!==Ne?Ne:6e4),Wa({appId:qe,apiKey:Vt,measurementId:nn},An,Qn,ee)})).apply(this,arguments)}function Wa(z,ee,Ne){return fl.apply(this,arguments)}function fl(){return(fl=(0,Q.Z)(function*(z,{throttleEndTimeMillis:ee,backoffCount:Ne},qe,Vt=hl){var nn,An;const{appId:Qn,measurementId:zi}=z;try{yield za(qe,ee)}catch(Ji){if(zi)return Es.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zi} provided in the "measurementId" field in the local Firebase config. [${null===(nn=Ji)||void 0===nn?void 0:nn.message}]`),{appId:Qn,measurementId:zi};throw Ji}try{const Ji=yield Ga(z);return Vt.deleteThrottleMetadata(Qn),Ji}catch(Ji){const Ci=Ji;if(!On(Ci)){if(Vt.deleteThrottleMetadata(Qn),zi)return Es.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zi} provided in the "measurementId" field in the local Firebase config. [${Ci?.message}]`),{appId:Qn,measurementId:zi};throw Ji}const Li=503===Number(null===(An=Ci?.customData)||void 0===An?void 0:An.httpStatus)?(0,ie.$s)(Ne,Vt.intervalMillis,30):(0,ie.$s)(Ne,Vt.intervalMillis),Us={throttleEndTimeMillis:Date.now()+Li,backoffCount:Ne+1};return Vt.setThrottleMetadata(Qn,Us),Es.debug(`Calling attemptFetch again in ${Li} millis`),Wa(z,Us,qe,Vt)}})).apply(this,arguments)}function za(z,ee){return new Promise((Ne,qe)=>{const Vt=Math.max(ee-Date.now(),0),nn=setTimeout(Ne,Vt);z.addEventListener(()=>{clearTimeout(nn),qe(Io.create("fetch-throttle",{throttleEndTimeMillis:ee}))})})}function On(z){if(!(z instanceof ie.ZR&&z.customData))return!1;const ee=Number(z.customData.httpStatus);return 429===ee||500===ee||503===ee||504===ee}class Ms{constructor(){this.listeners=[]}addEventListener(ee){this.listeners.push(ee)}abort(){this.listeners.forEach(ee=>ee())}}let Fo,Ll;function ii(){return(ii=(0,Q.Z)(function*(z,ee,Ne,qe,Vt){if(Vt&&Vt.global)z("event",Ne,qe);else{const nn=yield ee;z("event",Ne,Object.assign(Object.assign({},qe),{send_to:nn}))}})).apply(this,arguments)}function tl(z){Ll=z}function Ka(z){Fo=z}function Bl(){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,Q.Z)(function*(){var z;if(!(0,ie.hl)())return Es.warn(Io.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(ee){return Es.warn(Io.create("indexeddb-unavailable",{errorInfo:null===(z=ee)||void 0===z?void 0:z.toString()}).message),!1}return!0})).apply(this,arguments)}function wa(){return(wa=(0,Q.Z)(function*(z,ee,Ne,qe,Vt,nn,An){var Qn;const zi=xr(z);zi.then(ha=>{Ne[ha.measurementId]=ha.appId,z.options.measurementId&&ha.measurementId!==z.options.measurementId&&Es.warn(`The measurement ID in the local Firebase config (${z.options.measurementId}) does not match the measurement ID fetched from the server (${ha.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ha=>Es.error(ha)),ee.push(zi);const Ji=Bl().then(ha=>{if(ha)return qe.getId()}),[Ci,Li]=yield Promise.all([zi,Ji]);$u()||_u(nn,Ci.measurementId),Ll&&(Vt("consent","default",Ll),tl(void 0)),Vt("js",new Date);const Us=null!==(Qn=An?.config)&&void 0!==Qn?Qn:{};return Us.origin="firebase",Us.update=!0,null!=Li&&(Us[Ha]=Li),Vt("config",Ci.measurementId,Us),Fo&&(Vt("set",Fo),Ka(void 0)),Ci.measurementId})).apply(this,arguments)}class Lo{constructor(ee){this.app=ee}_delete(){return delete Ho[this.app.options.appId],Promise.resolve()}}let Ho={},qi=[];const Xo={};let Hi,ea,Ya="dataLayer",br=!1;function ri(z,ee,Ne){!function Ys(){const z=[];if((0,ie.ru)()&&z.push("This is a browser extension environment."),(0,ie.zI)()||z.push("Cookies are not available."),z.length>0){const ee=z.map((qe,Vt)=>`(${Vt+1}) ${qe}`).join(" "),Ne=Io.create("invalid-analytics-context",{errorInfo:ee});Es.warn(Ne.message)}}();const qe=z.options.appId;if(!qe)throw Io.create("no-app-id");if(!z.options.apiKey){if(!z.options.measurementId)throw Io.create("no-api-key");Es.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ho[qe])throw Io.create("already-exists",{id:qe});if(!br){!function $c(z){let ee=[];Array.isArray(window[z])?ee=window[z]:window[z]=ee}(Ya);const{wrappedGtag:nn,gtagCore:An}=function Xa(z,ee,Ne,qe,Vt){let nn=function(...An){window[qe].push(arguments)};return window[Vt]&&"function"==typeof window[Vt]&&(nn=window[Vt]),window[Vt]=function gc(z,ee,Ne,qe){function nn(){return(nn=(0,Q.Z)(function*(An,Qn,zi){try{"event"===An?yield ko(z,ee,Ne,Qn,zi):"config"===An?yield Tl(z,ee,Ne,qe,Qn,zi):"consent"===An?z("consent","update",zi):z("set",Qn)}catch(Ji){Es.error(Ji)}})).apply(this,arguments)}return function Vt(An,Qn,zi){return nn.apply(this,arguments)}}(nn,z,ee,Ne),{gtagCore:nn,wrappedGtag:window[Vt]}}(Ho,qi,Xo,Ya,"gtag");ea=nn,Hi=An,br=!0}return Ho[qe]=function Al(z,ee,Ne,qe,Vt,nn,An){return wa.apply(this,arguments)}(z,qi,Xo,ee,Hi,Ya,Ne),new Lo(z)}function _c(){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,Q.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const ec="@firebase/analytics";!function _o(){(0,Fe._registerComponent)(new de.wA(Do,(ee,{options:Ne})=>ri(ee.getProvider("app").getImmediate(),ee.getProvider("installations-internal").getImmediate(),Ne),"PUBLIC")),(0,Fe._registerComponent)(new de.wA("analytics-internal",function z(ee){try{const Ne=ee.getProvider(Do).getImmediate();return{logEvent:(qe,Vt,nn)=>function ta(z,ee,Ne,qe){z=(0,ie.m9)(z),function pl(z,ee,Ne,qe,Vt){return ii.apply(this,arguments)}(ea,Ho[z.app.options.appId],ee,Ne,qe).catch(Vt=>Es.error(Vt))}(Ne,qe,Vt,nn)}}catch(Ne){throw Io.create("interop-component-reg-failed",{reason:Ne})}},"PRIVATE")),(0,Fe.registerVersion)(ec,"0.8.0"),(0,Fe.registerVersion)(ec,"0.8.0","esm2017")}();var da=L(341),en=L(353),Ea=L(2994),yo=L(7770),nl=L(2899);const vc=new o.GfV("7.4.1"),Ca="__angularfire_symbol__analyticsIsSupportedValue",bc="__angularfire_symbol__analyticsIsSupported",P="__angularfire_symbol__remoteConfigIsSupportedValue",F="__angularfire_symbol__remoteConfigIsSupported",O="__angularfire_symbol__messagingIsSupportedValue",W="__angularfire_symbol__messagingIsSupported";function gn(z,ee,Ne){if(ee){if(1===ee.length)return ee[0];const nn=ee.filter(An=>An.app===Ne);if(1===nn.length)return nn[0]}return Ne.container.getProvider(z).getImmediate({optional:!0})}globalThis[bc]||(globalThis[bc]=_c().then(z=>globalThis[Ca]=z).catch(()=>globalThis[Ca]=!1)),globalThis[W]||(globalThis[W]=si().then(z=>globalThis[O]=z).catch(()=>globalThis[O]=!1)),globalThis[F]||(globalThis[F]=Ss().then(z=>globalThis[P]=z).catch(()=>globalThis[P]=!1));const Rn=(z,ee)=>{const Ne=ee?[ee]:(0,q.C6)(),qe=[];return Ne.forEach(Vt=>{Vt.container.getProvider(z).instances.forEach(An=>{qe.includes(An)||qe.push(An)})}),qe};function dr(){}class Jn{constructor(ee,Ne=da.N){this.zone=ee,this.delegate=Ne}now(){return this.delegate.now()}schedule(ee,Ne,qe){const Vt=this.zone;return this.delegate.schedule(function(An){Vt.runGuarded(()=>{ee.apply(this,[An])})},Ne,qe)}}class Gi{constructor(ee){this.zone=ee,this.task=null}call(ee,Ne){const qe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dr,{},dr,dr)),Ne.pipe((0,Ea.b)({next:qe,complete:qe,error:qe})).subscribe(ee).add(qe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let To=(()=>{class z{constructor(Ne){this.ngZone=Ne,this.outsideAngular=Ne.runOutsideAngular(()=>new Jn(Zone.current)),this.insideAngular=Ne.run(()=>new Jn(Zone.current,en.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return z.\u0275fac=function(Ne){return new(Ne||z)(o.LFG(o.R0b))},z.\u0275prov=o.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function xs(){const z=globalThis.\u0275AngularFireScheduler;if(!z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return z}function oo(z){return z.pipe((0,yo.QV)(xs().outsideAngular))}function Da(z){return xs(),function qs(z){return function(Ne){return(Ne=Ne.lift(new Gi(z.ngZone))).pipe((0,nl.R)(z.outsideAngular),(0,yo.QV)(z.insideAngular))}}(xs())(z)}},76:(Sn,bt,L)=>{"use strict";L.d(bt,{GW:()=>q,dk:()=>Q,oK:()=>o});var o=(()=>{return(Fe=o||(o={})).Prompt="PROMPT",Fe.Camera="CAMERA",Fe.Photos="PHOTOS",o;var Fe})(),q=(()=>{return(Fe=q||(q={})).Rear="REAR",Fe.Front="FRONT",q;var Fe})(),Q=(()=>{return(Fe=Q||(Q={})).Uri="uri",Fe.Base64="base64",Fe.DataUrl="dataUrl",Q;var Fe})()},7423:(Sn,bt,L)=>{"use strict";L.d(bt,{Uw:()=>Be,fo:()=>je,xz:()=>Se});var o=L(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var ge=(()=>{return(Ie=ge||(ge={})).Unimplemented="UNIMPLEMENTED",Ie.Unavailable="UNAVAILABLE",ge;var Ie})();class Se extends Error{constructor(ue,Ce,me){super(ue),this.message=ue,this.code=Ce,this.data=me}}const oe=Ie=>{var ue,Ce,me,At,St;const Mt=Ie.CapacitorCustomPlatform||null,mt=Ie.Capacitor||{},Je=mt.Plugins=mt.Plugins||{},Ye=Ie.CapacitorPlatforms,ht=(null===(ue=Ye?.currentPlatform)||void 0===ue?void 0:ue.getPlatform)||(()=>null!==Mt?Mt.name:(Ie=>{var ue,Ce;return Ie?.androidBridge?"android":null!==(Ce=null===(ue=Ie?.webkit)||void 0===ue?void 0:ue.messageHandlers)&&void 0!==Ce&&Ce.bridge?"ios":"web"})(Ie)),$t=(null===(Ce=Ye?.currentPlatform)||void 0===Ce?void 0:Ce.isNativePlatform)||(()=>"web"!==ht()),Ut=(null===(me=Ye?.currentPlatform)||void 0===me?void 0:me.isPluginAvailable)||($n=>!(!zn.get($n)?.platforms.has(ht())&&!Te($n))),Te=(null===(At=Ye?.currentPlatform)||void 0===At?void 0:At.getPluginHeader)||($n=>{var ei;return null===(ei=mt.PluginHeaders)||void 0===ei?void 0:ei.find(sn=>sn.name===$n)}),zn=new Map,Er=(null===(St=Ye?.currentPlatform)||void 0===St?void 0:St.registerPlugin)||(($n,ei={})=>{const sn=zn.get($n);if(sn)return console.warn(`Capacitor plugin "${$n}" already registered. Cannot register plugins twice.`),sn.proxy;const dn=ht(),Ni=Te($n);let xi;const Kn=function(){var Ot=(0,o.Z)(function*(){return!xi&&dn in ei?xi=xi="function"==typeof ei[dn]?yield ei[dn]():ei[dn]:null!==Mt&&!xi&&"web"in ei&&(xi=xi="function"==typeof ei.web?yield ei.web():ei.web),xi});return function(){return Ot.apply(this,arguments)}}(),vi=Ot=>{let jt;const Tn=(...Bn)=>{const ni=Kn().then(mn=>{const ai=((Ot,jt)=>{var Tn,Bn;if(!Ni){if(Ot)return null===(Bn=Ot[jt])||void 0===Bn?void 0:Bn.bind(Ot);throw new Se(`"${$n}" plugin is not implemented on ${dn}`,ge.Unimplemented)}{const ni=Ni?.methods.find(mn=>jt===mn.name);if(ni)return"promise"===ni.rtype?mn=>mt.nativePromise($n,jt.toString(),mn):(mn,ai)=>mt.nativeCallback($n,jt.toString(),mn,ai);if(Ot)return null===(Tn=Ot[jt])||void 0===Tn?void 0:Tn.bind(Ot)}})(mn,Ot);if(ai){const Nn=ai(...Bn);return jt=Nn?.remove,Nn}throw new Se(`"${$n}.${Ot}()" is not implemented on ${dn}`,ge.Unimplemented)});return"addListener"===Ot&&(ni.remove=(0,o.Z)(function*(){return jt()})),ni};return Tn.toString=()=>`${Ot.toString()}() { [capacitor code] }`,Object.defineProperty(Tn,"name",{value:Ot,writable:!1,configurable:!1}),Tn},Di=vi("addListener"),zt=vi("removeListener"),ot=(Ot,jt)=>{const Tn=Di({eventName:Ot},jt),Bn=function(){var mn=(0,o.Z)(function*(){const ai=yield Tn;zt({eventName:Ot,callbackId:ai},jt)});return function(){return mn.apply(this,arguments)}}(),ni=new Promise(mn=>Tn.then(()=>mn({remove:Bn})));return ni.remove=(0,o.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Bn()}),ni},He=new Proxy({},{get(Ot,jt){switch(jt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Ni?ot:Di;case"removeListener":return zt;default:return vi(jt)}}});return Je[$n]=He,zn.set($n,{name:$n,proxy:He,platforms:new Set([...Object.keys(ei),...Ni?[dn]:[]])}),He});return mt.convertFileSrc||(mt.convertFileSrc=$n=>$n),mt.getPlatform=ht,mt.handleError=$n=>Ie.console.error($n),mt.isNativePlatform=$t,mt.isPluginAvailable=Ut,mt.pluginMethodNoop=($n,ei,sn)=>Promise.reject(`${sn} does not have an implementation of "${ei}".`),mt.registerPlugin=Er,mt.Exception=Se,mt.DEBUG=!!mt.DEBUG,mt.isLoggingEnabled=!!mt.isLoggingEnabled,mt.platform=mt.getPlatform(),mt.isNative=mt.isNativePlatform(),mt},ye=(Ie=>Ie.Capacitor=oe(Ie))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),je=ye.registerPlugin;class Be{constructor(ue){this.listeners={},this.windowListeners={},ue&&(console.warn(`Capacitor WebPlugin "${ue.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=ue)}addListener(ue,Ce){var me=this;this.listeners[ue]||(this.listeners[ue]=[]),this.listeners[ue].push(Ce);const St=this.windowListeners[ue];St&&!St.registered&&this.addWindowListener(St);const Mt=function(){var Je=(0,o.Z)(function*(){return me.removeListener(ue,Ce)});return function(){return Je.apply(this,arguments)}}(),mt=Promise.resolve({remove:Mt});return Object.defineProperty(mt,"remove",{value:(Je=(0,o.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Mt()}),function(){return Je.apply(this,arguments)})}),mt;var Je}removeAllListeners(){var ue=this;return(0,o.Z)(function*(){ue.listeners={};for(const Ce in ue.windowListeners)ue.removeWindowListener(ue.windowListeners[Ce]);ue.windowListeners={}})()}notifyListeners(ue,Ce){const me=this.listeners[ue];me&&me.forEach(At=>At(Ce))}hasListeners(ue){return!!this.listeners[ue].length}registerWindowListener(ue,Ce){this.windowListeners[Ce]={registered:!1,windowEventName:ue,pluginEventName:Ce,handler:me=>{this.notifyListeners(Ce,me)}}}unimplemented(ue="not implemented"){return new ye.Exception(ue,ge.Unimplemented)}unavailable(ue="not available"){return new ye.Exception(ue,ge.Unavailable)}removeListener(ue,Ce){var me=this;return(0,o.Z)(function*(){const At=me.listeners[ue];if(!At)return;const St=At.indexOf(Ce);me.listeners[ue].splice(St,1),me.listeners[ue].length||me.removeWindowListener(me.windowListeners[ue])})()}addWindowListener(ue){window.addEventListener(ue.windowEventName,ue.handler),ue.registered=!0}removeWindowListener(ue){!ue||(window.removeEventListener(ue.windowEventName,ue.handler),ue.registered=!1)}}const Lt=Ie=>encodeURIComponent(Ie).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class vt extends Be{setCookie(ue){return(0,o.Z)(function*(){try{const Ce=Lt(ue.key),me=Lt(ue.value),At=`; expires=${(ue.expires||"").replace("expires=","")}`,St=(ue.path||"/").replace("path=","");document.cookie=`${Ce}=${me||""}${At}; path=${St}`}catch(Ce){return Promise.reject(Ce)}})()}deleteCookie(ue){return(0,o.Z)(function*(){try{document.cookie=`${ue.key}=; Max-Age=0`}catch(Ce){return Promise.reject(Ce)}})()}clearCookies(){return(0,o.Z)(function*(){try{const ue=document.cookie.split(";")||[];for(const Ce of ue)document.cookie=Ce.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(ue){return Promise.reject(ue)}})()}clearAllCookies(){var ue=this;return(0,o.Z)(function*(){try{yield ue.clearCookies()}catch(Ce){return Promise.reject(Ce)}})()}}je("CapacitorCookies",{web:()=>new vt});const Qe=function(){var Ie=(0,o.Z)(function*(ue){return new Promise((Ce,me)=>{const At=new FileReader;At.onload=()=>{const St=At.result;Ce(St.indexOf(",")>=0?St.split(",")[1]:St)},At.onerror=St=>me(St),At.readAsDataURL(ue)})});return function(Ce){return Ie.apply(this,arguments)}}();class Ee extends Be{request(ue){return(0,o.Z)(function*(){const Ce=((Ie,ue={})=>{const Ce=Object.assign({method:Ie.method||"GET",headers:Ie.headers},ue),At=((Ie={})=>{const ue=Object.keys(Ie);return Object.keys(Ie).map(At=>At.toLocaleLowerCase()).reduce((At,St,Mt)=>(At[St]=Ie[ue[Mt]],At),{})})(Ie.headers)["content-type"]||"";if("string"==typeof Ie.data)Ce.body=Ie.data;else if(At.includes("application/x-www-form-urlencoded")){const St=new URLSearchParams;for(const[Mt,mt]of Object.entries(Ie.data||{}))St.set(Mt,mt);Ce.body=St.toString()}else if(At.includes("multipart/form-data")){const St=new FormData;if(Ie.data instanceof FormData)Ie.data.forEach((mt,Je)=>{St.append(Je,mt)});else for(const mt of Object.keys(Ie.data))St.append(mt,Ie.data[mt]);Ce.body=St;const Mt=new Headers(Ce.headers);Mt.delete("content-type"),Ce.headers=Mt}else(At.includes("application/json")||"object"==typeof Ie.data)&&(Ce.body=JSON.stringify(Ie.data));return Ce})(ue,ue.webFetchExtra),me=((Ie,ue=!0)=>Ie?Object.entries(Ie).reduce((me,At)=>{const[St,Mt]=At;let mt,Je;return Array.isArray(Mt)?(Je="",Mt.forEach(Ye=>{mt=ue?encodeURIComponent(Ye):Ye,Je+=`${St}=${mt}&`}),Je.slice(0,-1)):(mt=ue?encodeURIComponent(Mt):Mt,Je=`${St}=${mt}`),`${me}&${Je}`},"").substr(1):null)(ue.params,ue.shouldEncodeUrlParams),At=me?`${ue.url}?${me}`:ue.url,St=yield fetch(At,Ce),Mt=St.headers.get("content-type")||"";let Je,Ye,{responseType:mt="text"}=St.ok?ue:{};switch(Mt.includes("application/json")&&(mt="json"),mt){case"arraybuffer":case"blob":Ye=yield St.blob(),Je=yield Qe(Ye);break;case"json":Je=yield St.json();break;default:Je=yield St.text()}const at={};return St.headers.forEach((ht,xt)=>{at[xt]=ht}),{data:Je,headers:at,status:St.status,url:St.url}})()}get(ue){var Ce=this;return(0,o.Z)(function*(){return Ce.request(Object.assign(Object.assign({},ue),{method:"GET"}))})()}post(ue){var Ce=this;return(0,o.Z)(function*(){return Ce.request(Object.assign(Object.assign({},ue),{method:"POST"}))})()}put(ue){var Ce=this;return(0,o.Z)(function*(){return Ce.request(Object.assign(Object.assign({},ue),{method:"PUT"}))})()}patch(ue){var Ce=this;return(0,o.Z)(function*(){return Ce.request(Object.assign(Object.assign({},ue),{method:"PATCH"}))})()}delete(ue){var Ce=this;return(0,o.Z)(function*(){return Ce.request(Object.assign(Object.assign({},ue),{method:"DELETE"}))})()}}je("CapacitorHttp",{web:()=>new Ee})},2090:(Sn,bt,L)=>{"use strict";L.d(bt,{$s:()=>ai,BH:()=>ye,DV:()=>Ut,Dv:()=>mi,G6:()=>tt,GJ:()=>$t,L:()=>ge,LL:()=>At,Pz:()=>Je,Sg:()=>je,UG:()=>Be,UI:()=>Te,US:()=>de,Wj:()=>zt,Yr:()=>ke,ZB:()=>oe,ZR:()=>me,b$:()=>vt,cI:()=>mt,dS:()=>He,eu:()=>ve,g5:()=>Q,gK:()=>vi,gQ:()=>ei,h$:()=>_e,hl:()=>Ee,hu:()=>q,jU:()=>Ge,lb:()=>ot,m9:()=>ci,ne:()=>sn,p$:()=>he,pd:()=>$n,r3:()=>En,ru:()=>Lt,tV:()=>Se,uI:()=>Ve,ug:()=>Ot,vZ:()=>Cn,w1:()=>Qe,w9:()=>xt,xO:()=>yi,xb:()=>bn,z$:()=>ft,zI:()=>Ie,zd:()=>Er});const q=function(ct,nt){if(!ct)throw Q(nt)},Q=function(ct){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ct)},Fe=function(ct){const nt=[];let Xe=0;for(let ut=0;ut<ct.length;ut++){let rt=ct.charCodeAt(ut);rt<128?nt[Xe++]=rt:rt<2048?(nt[Xe++]=rt>>6|192,nt[Xe++]=63&rt|128):55296==(64512&rt)&&ut+1<ct.length&&56320==(64512&ct.charCodeAt(ut+1))?(rt=65536+((1023&rt)<<10)+(1023&ct.charCodeAt(++ut)),nt[Xe++]=rt>>18|240,nt[Xe++]=rt>>12&63|128,nt[Xe++]=rt>>6&63|128,nt[Xe++]=63&rt|128):(nt[Xe++]=rt>>12|224,nt[Xe++]=rt>>6&63|128,nt[Xe++]=63&rt|128)}return nt},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ct,nt){if(!Array.isArray(ct))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Xe=nt?this.byteToCharMapWebSafe_:this.byteToCharMap_,ut=[];for(let rt=0;rt<ct.length;rt+=3){const on=ct[rt],_n=rt+1<ct.length,Vn=_n?ct[rt+1]:0,Ki=rt+2<ct.length,Oi=Ki?ct[rt+2]:0;let Hn=(15&Vn)<<2|Oi>>6,Bi=63&Oi;Ki||(Bi=64,_n||(Hn=64)),ut.push(Xe[on>>2],Xe[(3&on)<<4|Vn>>4],Xe[Hn],Xe[Bi])}return ut.join("")},encodeString(ct,nt){return this.HAS_NATIVE_SUPPORT&&!nt?btoa(ct):this.encodeByteArray(Fe(ct),nt)},decodeString(ct,nt){return this.HAS_NATIVE_SUPPORT&&!nt?atob(ct):function(ct){const nt=[];let Xe=0,ut=0;for(;Xe<ct.length;){const rt=ct[Xe++];if(rt<128)nt[ut++]=String.fromCharCode(rt);else if(rt>191&&rt<224){const on=ct[Xe++];nt[ut++]=String.fromCharCode((31&rt)<<6|63&on)}else if(rt>239&&rt<365){const Ki=((7&rt)<<18|(63&ct[Xe++])<<12|(63&ct[Xe++])<<6|63&ct[Xe++])-65536;nt[ut++]=String.fromCharCode(55296+(Ki>>10)),nt[ut++]=String.fromCharCode(56320+(1023&Ki))}else{const on=ct[Xe++],_n=ct[Xe++];nt[ut++]=String.fromCharCode((15&rt)<<12|(63&on)<<6|63&_n)}}return nt.join("")}(this.decodeStringToByteArray(ct,nt))},decodeStringToByteArray(ct,nt){this.init_();const Xe=nt?this.charToByteMapWebSafe_:this.charToByteMap_,ut=[];for(let rt=0;rt<ct.length;){const on=Xe[ct.charAt(rt++)],Vn=rt<ct.length?Xe[ct.charAt(rt)]:0;++rt;const Oi=rt<ct.length?Xe[ct.charAt(rt)]:64;++rt;const pi=rt<ct.length?Xe[ct.charAt(rt)]:64;if(++rt,null==on||null==Vn||null==Oi||null==pi)throw Error();ut.push(on<<2|Vn>>4),64!==Oi&&(ut.push(Vn<<4&240|Oi>>2),64!==pi&&ut.push(Oi<<6&192|pi))}return ut},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ct=0;ct<this.ENCODED_VALS.length;ct++)this.byteToCharMap_[ct]=this.ENCODED_VALS.charAt(ct),this.charToByteMap_[this.byteToCharMap_[ct]]=ct,this.byteToCharMapWebSafe_[ct]=this.ENCODED_VALS_WEBSAFE.charAt(ct),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ct]]=ct,ct>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ct)]=ct,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ct)]=ct)}}},_e=function(ct){const nt=Fe(ct);return de.encodeByteArray(nt,!0)},ge=function(ct){return _e(ct).replace(/\./g,"")},Se=function(ct){try{return de.decodeString(ct,!0)}catch(nt){console.error("base64Decode failed: ",nt)}return null};function he(ct){return oe(void 0,ct)}function oe(ct,nt){if(!(nt instanceof Object))return nt;switch(nt.constructor){case Date:return new Date(nt.getTime());case Object:void 0===ct&&(ct={});break;case Array:ct=[];break;default:return nt}for(const Xe in nt)!nt.hasOwnProperty(Xe)||!fe(Xe)||(ct[Xe]=oe(ct[Xe],nt[Xe]));return ct}function fe(ct){return"__proto__"!==ct}class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((nt,Xe)=>{this.resolve=nt,this.reject=Xe})}wrapCallback(nt){return(Xe,ut)=>{Xe?this.reject(Xe):this.resolve(ut),"function"==typeof nt&&(this.promise.catch(()=>{}),1===nt.length?nt(Xe):nt(Xe,ut))}}}function je(ct,nt){if(ct.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ut=nt||"demo-project",rt=ct.iat||0,on=ct.sub||ct.user_id;if(!on)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _n=Object.assign({iss:`https://securetoken.google.com/${ut}`,aud:ut,iat:rt,exp:rt+3600,auth_time:rt,sub:on,user_id:on,firebase:{sign_in_provider:"custom",identities:{}}},ct);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(_n)),""].join(".")}function ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function Be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ge(){return"object"==typeof self&&self.self===self}function Lt(){const ct="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ct&&void 0!==ct.id}function vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){const ct=ft();return ct.indexOf("MSIE ")>=0||ct.indexOf("Trident/")>=0}function ke(){return!1}function tt(){return!Be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){return"object"==typeof indexedDB}function ve(){return new Promise((ct,nt)=>{try{let Xe=!0;const ut="validate-browser-context-for-indexeddb-analytics-module",rt=self.indexedDB.open(ut);rt.onsuccess=()=>{rt.result.close(),Xe||self.indexedDB.deleteDatabase(ut),ct(!0)},rt.onupgradeneeded=()=>{Xe=!1},rt.onerror=()=>{var on;nt((null===(on=rt.error)||void 0===on?void 0:on.message)||"")}}catch(Xe){nt(Xe)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class me extends Error{constructor(nt,Xe,ut){super(Xe),this.code=nt,this.customData=ut,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(nt,Xe,ut){this.service=nt,this.serviceName=Xe,this.errors=ut}create(nt,...Xe){const ut=Xe[0]||{},rt=`${this.service}/${nt}`,on=this.errors[nt],_n=on?function St(ct,nt){return ct.replace(Mt,(Xe,ut)=>{const rt=nt[ut];return null!=rt?String(rt):`<${ut}?>`})}(on,ut):"Error";return new me(rt,`${this.serviceName}: ${_n} (${rt}).`,ut)}}const Mt=/\{\$([^}]+)}/g;function mt(ct){return JSON.parse(ct)}function Je(ct){return JSON.stringify(ct)}const Ye=function(ct){let nt={},Xe={},ut={},rt="";try{const on=ct.split(".");nt=mt(Se(on[0])||""),Xe=mt(Se(on[1])||""),rt=on[2],ut=Xe.d||{},delete Xe.d}catch{}return{header:nt,claims:Xe,data:ut,signature:rt}},xt=function(ct){const Xe=Ye(ct).claims;return!!Xe&&"object"==typeof Xe&&Xe.hasOwnProperty("iat")},$t=function(ct){const nt=Ye(ct).claims;return"object"==typeof nt&&!0===nt.admin};function En(ct,nt){return Object.prototype.hasOwnProperty.call(ct,nt)}function Ut(ct,nt){if(Object.prototype.hasOwnProperty.call(ct,nt))return ct[nt]}function bn(ct){for(const nt in ct)if(Object.prototype.hasOwnProperty.call(ct,nt))return!1;return!0}function Te(ct,nt,Xe){const ut={};for(const rt in ct)Object.prototype.hasOwnProperty.call(ct,rt)&&(ut[rt]=nt.call(Xe,ct[rt],rt,ct));return ut}function Cn(ct,nt){if(ct===nt)return!0;const Xe=Object.keys(ct),ut=Object.keys(nt);for(const rt of Xe){if(!ut.includes(rt))return!1;const on=ct[rt],_n=nt[rt];if(Zn(on)&&Zn(_n)){if(!Cn(on,_n))return!1}else if(on!==_n)return!1}for(const rt of ut)if(!Xe.includes(rt))return!1;return!0}function Zn(ct){return null!==ct&&"object"==typeof ct}function yi(ct){const nt=[];for(const[Xe,ut]of Object.entries(ct))Array.isArray(ut)?ut.forEach(rt=>{nt.push(encodeURIComponent(Xe)+"="+encodeURIComponent(rt))}):nt.push(encodeURIComponent(Xe)+"="+encodeURIComponent(ut));return nt.length?"&"+nt.join("&"):""}function Er(ct){const nt={};return ct.replace(/^\?/,"").split("&").forEach(ut=>{if(ut){const[rt,on]=ut.split("=");nt[decodeURIComponent(rt)]=decodeURIComponent(on)}}),nt}function $n(ct){const nt=ct.indexOf("?");if(!nt)return"";const Xe=ct.indexOf("#",nt);return ct.substring(nt,Xe>0?Xe:void 0)}class ei{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let nt=1;nt<this.blockSize;++nt)this.pad_[nt]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(nt,Xe){Xe||(Xe=0);const ut=this.W_;if("string"==typeof nt)for(let pi=0;pi<16;pi++)ut[pi]=nt.charCodeAt(Xe)<<24|nt.charCodeAt(Xe+1)<<16|nt.charCodeAt(Xe+2)<<8|nt.charCodeAt(Xe+3),Xe+=4;else for(let pi=0;pi<16;pi++)ut[pi]=nt[Xe]<<24|nt[Xe+1]<<16|nt[Xe+2]<<8|nt[Xe+3],Xe+=4;for(let pi=16;pi<80;pi++){const Hn=ut[pi-3]^ut[pi-8]^ut[pi-14]^ut[pi-16];ut[pi]=4294967295&(Hn<<1|Hn>>>31)}let Oi,ki,rt=this.chain_[0],on=this.chain_[1],_n=this.chain_[2],Vn=this.chain_[3],Ki=this.chain_[4];for(let pi=0;pi<80;pi++){pi<40?pi<20?(Oi=Vn^on&(_n^Vn),ki=1518500249):(Oi=on^_n^Vn,ki=1859775393):pi<60?(Oi=on&_n|Vn&(on|_n),ki=2400959708):(Oi=on^_n^Vn,ki=3395469782);const Hn=(rt<<5|rt>>>27)+Oi+Ki+ki+ut[pi]&4294967295;Ki=Vn,Vn=_n,_n=4294967295&(on<<30|on>>>2),on=rt,rt=Hn}this.chain_[0]=this.chain_[0]+rt&4294967295,this.chain_[1]=this.chain_[1]+on&4294967295,this.chain_[2]=this.chain_[2]+_n&4294967295,this.chain_[3]=this.chain_[3]+Vn&4294967295,this.chain_[4]=this.chain_[4]+Ki&4294967295}update(nt,Xe){if(null==nt)return;void 0===Xe&&(Xe=nt.length);const ut=Xe-this.blockSize;let rt=0;const on=this.buf_;let _n=this.inbuf_;for(;rt<Xe;){if(0===_n)for(;rt<=ut;)this.compress_(nt,rt),rt+=this.blockSize;if("string"==typeof nt){for(;rt<Xe;)if(on[_n]=nt.charCodeAt(rt),++_n,++rt,_n===this.blockSize){this.compress_(on),_n=0;break}}else for(;rt<Xe;)if(on[_n]=nt[rt],++_n,++rt,_n===this.blockSize){this.compress_(on),_n=0;break}}this.inbuf_=_n,this.total_+=Xe}digest(){const nt=[];let Xe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let rt=this.blockSize-1;rt>=56;rt--)this.buf_[rt]=255&Xe,Xe/=256;this.compress_(this.buf_);let ut=0;for(let rt=0;rt<5;rt++)for(let on=24;on>=0;on-=8)nt[ut]=this.chain_[rt]>>on&255,++ut;return nt}}function sn(ct,nt){const Xe=new dn(ct,nt);return Xe.subscribe.bind(Xe)}class dn{constructor(nt,Xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Xe,this.task.then(()=>{nt(this)}).catch(ut=>{this.error(ut)})}next(nt){this.forEachObserver(Xe=>{Xe.next(nt)})}error(nt){this.forEachObserver(Xe=>{Xe.error(nt)}),this.close(nt)}complete(){this.forEachObserver(nt=>{nt.complete()}),this.close()}subscribe(nt,Xe,ut){let rt;if(void 0===nt&&void 0===Xe&&void 0===ut)throw new Error("Missing Observer.");rt=function xi(ct,nt){if("object"!=typeof ct||null===ct)return!1;for(const Xe of nt)if(Xe in ct&&"function"==typeof ct[Xe])return!0;return!1}(nt,["next","error","complete"])?nt:{next:nt,error:Xe,complete:ut},void 0===rt.next&&(rt.next=Kn),void 0===rt.error&&(rt.error=Kn),void 0===rt.complete&&(rt.complete=Kn);const on=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?rt.error(this.finalError):rt.complete()}catch{}}),this.observers.push(rt),on}unsubscribeOne(nt){void 0===this.observers||void 0===this.observers[nt]||(delete this.observers[nt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(nt){if(!this.finalized)for(let Xe=0;Xe<this.observers.length;Xe++)this.sendOne(Xe,nt)}sendOne(nt,Xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[nt])try{Xe(this.observers[nt])}catch(ut){typeof console<"u"&&console.error&&console.error(ut)}})}close(nt){this.finalized||(this.finalized=!0,void 0!==nt&&(this.finalError=nt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kn(){}const mi=function(ct,nt,Xe,ut){let rt;if(ut<nt?rt="at least "+nt:ut>Xe&&(rt=0===Xe?"none":"no more than "+Xe),rt)throw new Error(ct+" failed: Was called with "+ut+(1===ut?" argument.":" arguments.")+" Expects "+rt+".")};function vi(ct,nt){return`${ct} failed: ${nt} argument `}function zt(ct,nt,Xe,ut){if((!ut||Xe)&&"function"!=typeof Xe)throw new Error(vi(ct,nt)+"must be a valid function.")}function ot(ct,nt,Xe,ut){if((!ut||Xe)&&("object"!=typeof Xe||null===Xe))throw new Error(vi(ct,nt)+"must be a valid context object.")}const He=function(ct){const nt=[];let Xe=0;for(let ut=0;ut<ct.length;ut++){let rt=ct.charCodeAt(ut);if(rt>=55296&&rt<=56319){const on=rt-55296;ut++,q(ut<ct.length,"Surrogate pair missing trail surrogate."),rt=65536+(on<<10)+(ct.charCodeAt(ut)-56320)}rt<128?nt[Xe++]=rt:rt<2048?(nt[Xe++]=rt>>6|192,nt[Xe++]=63&rt|128):rt<65536?(nt[Xe++]=rt>>12|224,nt[Xe++]=rt>>6&63|128,nt[Xe++]=63&rt|128):(nt[Xe++]=rt>>18|240,nt[Xe++]=rt>>12&63|128,nt[Xe++]=rt>>6&63|128,nt[Xe++]=63&rt|128)}return nt},Ot=function(ct){let nt=0;for(let Xe=0;Xe<ct.length;Xe++){const ut=ct.charCodeAt(Xe);ut<128?nt++:ut<2048?nt+=2:ut>=55296&&ut<=56319?(nt+=4,Xe++):nt+=3}return nt};function ai(ct,nt=1e3,Xe=2){const ut=nt*Math.pow(Xe,ct),rt=Math.round(.5*ut*(Math.random()-.5)*2);return Math.min(144e5,ut+rt)}function ci(ct){return ct&&ct._delegate?ct._delegate:ct}},191:(Sn,bt,L)=>{"use strict";L.d(bt,{w:()=>bn,We:()=>dn,eh:()=>Ni,dr:()=>xi,yp:()=>Di,YG:()=>He,Sm:()=>Ot,PM:()=>jt,FN:()=>Tn,Zi:()=>Bn,tO:()=>ni,Dq:()=>mn,nz:()=>ai,wI:()=>Pi,W2:()=>ci,IJ:()=>Xe,W4:()=>ut,fr:()=>on,jY:()=>_n,Gu:()=>Vn,gu:()=>Ki,Xz:()=>Oi,pK:()=>Hn,Ie:()=>Bi,Q$:()=>Ze,q_:()=>te,z0:()=>it,fG:()=>_t,zc:()=>Ht,jP:()=>Is,Nd:()=>pr,t9:()=>hs,n0:()=>bs,PQ:()=>we,jI:()=>$e,yq:()=>Ct,ZU:()=>Nt,UN:()=>Bs,wd:()=>cn,sr:()=>hn,Pc:()=>wn,r4:()=>Ua,_q:()=>Pr,IN:()=>Oo,as:()=>Te,t4:()=>ps,YI:()=>ji,Fo:()=>os,QI:()=>Zn,j9:()=>zn,yF:()=>Ui});var o=L(4650),q=L(4719),Q=L(655),Fe=L(3753),ie=L(8929),de=L(591),_e=L(1808),oe=(L(9950),L(4802),L(3139),L(1671)),fe=L(3756),ye=L(471),je=L(604),ft=L(4239),Be=(L(3509),L(7936)),We=L(2198),ke=L(7545),tt=L(5778),Ee=L(6895);const Ie=oe.i,me=["*"],At=["outlet"],St=[[["","slot","top"]],"*"],Mt=["[slot=top]","*"],Ye=S=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(S):"function"==typeof requestAnimationFrame?requestAnimationFrame(S):setTimeout(S),at=S=>!!S.resolveComponentFactory;let ht=(()=>{class S{constructor(M,Z){this.injector=M,this.el=Z,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(M){this.el.nativeElement.value=this.lastValue=M??"",xt(this.el)}handleChangeEvent(M,Z){M===this.el.nativeElement&&(Z!==this.lastValue&&(this.lastValue=Z,this.onChange(Z)),xt(this.el))}_handleBlurEvent(M){M===this.el.nativeElement&&(this.onTouched(),xt(this.el))}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouched=M}setDisabledState(M){this.el.nativeElement.disabled=M}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let M;try{M=this.injector.get(q.a5)}catch{}if(!M)return;M.statusChanges&&(this.statusChanges=M.statusChanges.subscribe(()=>xt(this.el)));const Z=M.control;Z&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Kt=>{if(typeof Z[Kt]<"u"){const jn=Z[Kt].bind(Z);Z[Kt]=(...gi)=>{jn(...gi),xt(this.el)}}})}}return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.zs3),o.Y36(o.SBq))},S.\u0275dir=o.lG2({type:S,hostBindings:function(M,Z){1&M&&o.NdJ("ionBlur",function(Kt){return Z._handleBlurEvent(Kt.target)})}}),S})();const xt=S=>{Ye(()=>{const X=S.nativeElement,M=null!=X.value&&X.value.toString().length>0,Z=$t(X);En(X,Z);const Oe=X.closest("ion-item");Oe&&En(Oe,M?[...Z,"item-has-value"]:Z)})},$t=S=>{const X=S.classList,M=[];for(let Z=0;Z<X.length;Z++){const Oe=X.item(Z);null!==Oe&&Ut(Oe,"ng-")&&M.push(`ion-${Oe.substring(3)}`)}return M},En=(S,X)=>{const M=S.classList;M.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),M.add(...X)},Ut=(S,X)=>S.substring(0,X.length)===X;let bn=(()=>{class S extends ht{constructor(M,Z){super(M,Z)}writeValue(M){this.el.nativeElement.checked=this.lastValue=M??!1,xt(this.el)}_handleIonChange(M){this.handleChangeEvent(M,M.checked)}}return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.zs3),o.Y36(o.SBq))},S.\u0275dir=o.lG2({type:S,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(M,Z){1&M&&o.NdJ("ionChange",function(Kt){return Z._handleIonChange(Kt.target)})},features:[o._Bn([{provide:q.JU,useExisting:S,multi:!0}]),o.qOj]}),S})(),Te=(()=>{class S extends ht{constructor(M,Z){super(M,Z)}_handleIonChange(M){this.handleChangeEvent(M,M.value)}registerOnChange(M){super.registerOnChange(Z=>{M(""===Z?null:parseFloat(Z))})}}return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.zs3),o.Y36(o.SBq))},S.\u0275dir=o.lG2({type:S,selectors:[["ion-input","type","number"]],hostBindings:function(M,Z){1&M&&o.NdJ("ionChange",function(Kt){return Z._handleIonChange(Kt.target)})},features:[o._Bn([{provide:q.JU,useExisting:S,multi:!0}]),o.qOj]}),S})(),Zn=(()=>{class S extends ht{constructor(M,Z){super(M,Z)}_handleChangeEvent(M){this.handleChangeEvent(M,M.value)}}return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.zs3),o.Y36(o.SBq))},S.\u0275dir=o.lG2({type:S,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(M,Z){1&M&&o.NdJ("ionChange",function(Kt){return Z._handleChangeEvent(Kt.target)})},features:[o._Bn([{provide:q.JU,useExisting:S,multi:!0}]),o.qOj]}),S})(),zn=(()=>{class S extends ht{constructor(M,Z){super(M,Z)}_handleInputEvent(M){this.handleChangeEvent(M,M.value)}}return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.zs3),o.Y36(o.SBq))},S.\u0275dir=o.lG2({type:S,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(M,Z){1&M&&o.NdJ("ionChange",function(Kt){return Z._handleInputEvent(Kt.target)})},features:[o._Bn([{provide:q.JU,useExisting:S,multi:!0}]),o.qOj]}),S})();const yi=(S,X)=>{const M=S.prototype;X.forEach(Z=>{Object.defineProperty(M,Z,{get(){return this.el[Z]},set(Oe){this.z.runOutsideAngular(()=>this.el[Z]=Oe)}})})},Er=(S,X)=>{const M=S.prototype;X.forEach(Z=>{M[Z]=function(){const Oe=arguments;return this.z.runOutsideAngular(()=>this.el[Z].apply(this.el,Oe))}})},$n=(S,X,M)=>{M.forEach(Z=>S[Z]=(0,Fe.R)(X,Z))};function sn(S){return function(M){const{defineCustomElementFn:Z,inputs:Oe,methods:Kt}=S;return void 0!==Z&&Z(),Oe&&yi(M,Oe),Kt&&Er(M,Kt),M}}let dn=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],S),S})(),Ni=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement,$n(this,this.el,["ionChange"])}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],S),S})(),xi=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-app"]],ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0})],S),S})(),Di=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","mode"]})],S),S})(),He=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement,$n(this,this.el,["ionFocus","ionBlur"])}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],S),S})(),Ot=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["collapse"]})],S),S})(),jt=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],S),S})(),Tn=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["mode"]})],S),S})(),Bn=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],S),S})(),ni=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","mode"]})],S),S})(),mn=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","mode"]})],S),S})(),ai=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement,$n(this,this.el,["ionChange","ionFocus","ionBlur"])}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],S),S})(),Pi=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],S),S})(),ci=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement,$n(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],S),S})(),Xe=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],S),S})(),ut=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement,$n(this,this.el,["ionFocus","ionBlur"])}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],S),S})(),on=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],S),S})(),_n=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["fixed"]})],S),S})(),Vn=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],S),S})(),Ki=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],S),S})(),Oi=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement,$n(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["alt","src"]})],S),S})(),Hn=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement,$n(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],S),S})(),Bi=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],S),S})(),Ze=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],S),S})(),te=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],S),S})(),it=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement,$n(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],S),S})(),_t=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],S),S})(),Ht=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],S),S})(),pr=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-row"]],ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0})],S),S})(),hs=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement,$n(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],S),S})(),bs=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["disabled","value"]})],S),S})(),we=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],S),S})(),$e=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement,$n(this,this.el,["ionSplitPaneVisible"])}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],S),S})(),Ct=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],S),S})(),Nt=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],S),S})(),cn=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","size"]})],S),S})(),hn=(()=>{let S=class{constructor(M,Z,Oe){this.z=Oe,M.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(M){return new(M||S)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:me,decls:1,vars:0,template:function(M,Z){1&M&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,Q.gn)([sn({defineCustomElementFn:void 0,inputs:["color","mode"]})],S),S})();class Wn{constructor(X={}){this.data=X}get(X){return this.data[X]}}let _i=(()=>{class S{constructor(M,Z){this.zone=M,this.appRef=Z}create(M,Z,Oe){return new Fi(M,Z,Oe,this.appRef,this.zone)}}return S.\u0275fac=function(M){return new(M||S)(o.LFG(o.R0b),o.LFG(o.z2F))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac}),S})();class Fi{constructor(X,M,Z,Oe,Kt){this.resolverOrInjector=X,this.injector=M,this.location=Z,this.appRef=Oe,this.zone=Kt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(X,M,Z,Oe){return this.zone.run(()=>new Promise(Kt=>{Kt(jr(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,X,M,Z,Oe))}))}removeViewFromDom(X,M){return this.zone.run(()=>new Promise(Z=>{const Oe=this.elRefMap.get(M);if(Oe){Oe.destroy(),this.elRefMap.delete(M);const Kt=this.elEventsMap.get(M);Kt&&(Kt(),this.elEventsMap.delete(M))}Z()}))}}const jr=(S,X,M,Z,Oe,Kt,jn,gi,D,C,A)=>{let G;const xe=o.zs3.create({providers:Gt(C),parent:M});if(X&&at(X)){const Ln=X.resolveComponentFactory(D);G=Z?Z.createComponent(Ln,Z.length,xe):Ln.create(xe)}else{if(!Z)return null;G=Z.createComponent(D,{index:Z.indexOf,injector:xe,environmentInjector:X})}const gt=G.instance,Wt=G.location.nativeElement;if(C&&Object.assign(gt,C),A)for(const Ln of A)Wt.classList.add(Ln);const Yn=wt(S,gt,Wt);return gi.appendChild(Wt),Z||Oe.attachView(G.hostView),G.changeDetectorRef.reattach(),Kt.set(Wt,G),jn.set(Wt,Yn),Wt},Ir=[ye.L,ye.a,ye.b,ye.c,ye.d],wt=(S,X,M)=>S.run(()=>{const Z=Ir.filter(Oe=>"function"==typeof X[Oe]).map(Oe=>{const Kt=jn=>X[Oe](jn.detail);return M.addEventListener(Oe,Kt),()=>M.removeEventListener(Oe,Kt)});return()=>Z.forEach(Oe=>Oe())}),Tt=new o.OlP("NavParamsToken"),Gt=S=>[{provide:Tt,useValue:S},{provide:Wn,useFactory:yn,deps:[Tt]}],yn=S=>new Wn(S),li=(S,X)=>((S=S.filter(M=>M.stackId!==X.stackId)).push(X),S),nr=(S,X)=>{const M=S.createUrlTree(["."],{relativeTo:X});return S.serializeUrl(M)},Ls=(S,X)=>{if(!S)return;const M=Xs(X);for(let Z=0;Z<M.length;Z++){if(Z>=S.length)return M[Z];if(M[Z]!==S[Z])return}},Xs=S=>S.split("/").map(X=>X.trim()).filter(X=>""!==X),eo=S=>{S&&(S.ref.destroy(),S.unlistenEvents())};class to{constructor(X,M,Z,Oe,Kt,jn){this.containerEl=M,this.router=Z,this.navCtrl=Oe,this.zone=Kt,this.location=jn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==X?Xs(X):void 0}createView(X,M){var Z;const Oe=nr(this.router,M),Kt=null===(Z=X?.location)||void 0===Z?void 0:Z.nativeElement,jn=wt(this.zone,X.instance,Kt);return{id:this.nextId++,stackId:Ls(this.tabsPrefix,Oe),unlistenEvents:jn,element:Kt,ref:X,url:Oe}}getExistingView(X){const M=nr(this.router,X),Z=this.views.find(Oe=>Oe.url===M);return Z&&Z.ref.changeDetectorRef.reattach(),Z}setActive(X){var M,Z;const Oe=this.navCtrl.consumeTransition();let{direction:Kt,animation:jn,animationBuilder:gi}=Oe;const D=this.activeView,C=((S,X)=>!X||S.stackId!==X.stackId)(X,D);C&&(Kt="back",jn=void 0);const A=this.views.slice();let G;const xe=this.router;xe.getCurrentNavigation?G=xe.getCurrentNavigation():!(null===(M=xe.navigations)||void 0===M)&&M.value&&(G=xe.navigations.value),null!==(Z=G?.extras)&&void 0!==Z&&Z.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const gt=this.views.includes(X),Wt=this.insertView(X,Kt);gt||X.ref.changeDetectorRef.detectChanges();const Yn=X.animationBuilder;return void 0===gi&&"back"===Kt&&!C&&void 0!==Yn&&(gi=Yn),D&&(D.animationBuilder=gi),this.zone.runOutsideAngular(()=>this.wait(()=>(D&&D.ref.changeDetectorRef.detach(),X.ref.changeDetectorRef.reattach(),this.transition(X,D,jn,this.canGoBack(1),!1,gi).then(()=>jo(X,Wt,A,this.location,this.zone)).then(()=>({enteringView:X,direction:Kt,animation:jn,tabSwitch:C})))))}canGoBack(X,M=this.getActiveStackId()){return this.getStack(M).length>X}pop(X,M=this.getActiveStackId()){return this.zone.run(()=>{var Z,Oe;const Kt=this.getStack(M);if(Kt.length<=X)return Promise.resolve(!1);const jn=Kt[Kt.length-X-1];let gi=jn.url;const D=jn.savedData;if(D){const A=D.get("primary");null!==(Oe=null===(Z=A?.route)||void 0===Z?void 0:Z._routerState)&&void 0!==Oe&&Oe.snapshot.url&&(gi=A.route._routerState.snapshot.url)}const{animationBuilder:C}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(gi,Object.assign(Object.assign({},jn.savedExtras),{animation:C})).then(()=>!0)})}startBackTransition(){const X=this.activeView;if(X){const M=this.getStack(X.stackId),Z=M[M.length-2],Oe=Z.animationBuilder;return this.wait(()=>this.transition(Z,X,"back",this.canGoBack(2),!0,Oe))}return Promise.resolve()}endBackTransition(X){X?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ss(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(X){const M=this.getStack(X);return M.length>0?M[M.length-1]:void 0}getRootUrl(X){const M=this.getStack(X);return M.length>0?M[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(eo),this.activeView=void 0,this.views=[]}getStack(X){return this.views.filter(M=>M.stackId===X)}insertView(X,M){return this.activeView=X,this.views=((S,X,M)=>"root"===M?li(S,X):"forward"===M?((S,X)=>(S.indexOf(X)>=0?S=S.filter(Z=>Z.stackId!==X.stackId||Z.id<=X.id):S.push(X),S))(S,X):((S,X)=>S.indexOf(X)>=0?S.filter(Z=>Z.stackId!==X.stackId||Z.id<=X.id):li(S,X))(S,X))(this.views,X,M),this.views.slice()}transition(X,M,Z,Oe,Kt,jn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(M===X)return Promise.resolve(!1);const gi=X?X.element:void 0,D=M?M.element:void 0,C=this.containerEl;return gi&&gi!==D&&(gi.classList.add("ion-page"),gi.classList.add("ion-page-invisible"),gi.parentElement!==C&&C.appendChild(gi),C.commit)?C.commit(gi,D,{deepWait:!0,duration:void 0===Z?0:void 0,direction:Z,showGoBack:Oe,progressAnimation:Kt,animationBuilder:jn}):Promise.resolve(!1)}wait(X){return(0,Q.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const M=this.runningTask=X();return M.finally(()=>this.runningTask=void 0),M})}}const jo=(S,X,M,Z,Oe)=>"function"==typeof requestAnimationFrame?new Promise(Kt=>{requestAnimationFrame(()=>{Ss(S,X,M,Z,Oe),Kt()})}):Promise.resolve(),Ss=(S,X,M,Z,Oe)=>{Oe.run(()=>M.filter(Kt=>!X.includes(Kt)).forEach(eo)),X.forEach(Kt=>{const gi=Z.path().split("?")[0].split("#")[0];if(Kt!==S&&Kt.url!==gi){const D=Kt.element;D.setAttribute("aria-hidden","true"),D.classList.add("ion-page-hidden"),Kt.ref.changeDetectorRef.detach()}})};let ma=(()=>{class S{get(M,Z){const Oe=Ds();return Oe?Oe.get(M,Z):null}getBoolean(M,Z){const Oe=Ds();return!!Oe&&Oe.getBoolean(M,Z)}getNumber(M,Z){const Oe=Ds();return Oe?Oe.getNumber(M,Z):0}}return S.\u0275fac=function(M){return new(M||S)},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const _s=new o.OlP("USERCONFIG"),Ds=()=>{if(typeof window<"u"){const S=window.Ionic;if(S?.config)return S.config}return null};let ps=(()=>{class S{constructor(M,Z){this.doc=M,this.backButton=new ie.xQ,this.keyboardDidShow=new ie.xQ,this.keyboardDidHide=new ie.xQ,this.pause=new ie.xQ,this.resume=new ie.xQ,this.resize=new ie.xQ,Z.run(()=>{var Oe;let Kt;this.win=M.defaultView,this.backButton.subscribeWithPriority=function(jn,gi){return this.subscribe(D=>D.register(jn,C=>Z.run(()=>gi(C))))},no(this.pause,M,"pause"),no(this.resume,M,"resume"),no(this.backButton,M,"ionBackButton"),no(this.resize,this.win,"resize"),no(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),no(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(jn=>{Kt=jn}),null!==(Oe=this.win)&&void 0!==Oe&&Oe.cordova?M.addEventListener("deviceready",()=>{Kt("cordova")},{once:!0}):Kt("dom")})}is(M){return(0,oe.a)(this.win,M)}platforms(){return(0,oe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(M){return so(this.win.location.href,M)}isLandscape(){return!this.isPortrait()}isPortrait(){var M,Z;return null===(Z=(M=this.win).matchMedia)||void 0===Z?void 0:Z.call(M,"(orientation: portrait)").matches}testUserAgent(M){const Z=this.win.navigator;return!!(Z?.userAgent&&Z.userAgent.indexOf(M)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return S.\u0275fac=function(M){return new(M||S)(o.LFG(Ee.K0),o.LFG(o.R0b))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const so=(S,X)=>{X=X.replace(/[[\]\\]/g,"\\$&");const Z=new RegExp("[\\?&]"+X+"=([^&#]*)").exec(S);return Z?decodeURIComponent(Z[1].replace(/\+/g," ")):null},no=(S,X,M)=>{X&&X.addEventListener(M,Z=>{S.next(Z?.detail)})};let Qi=(()=>{class S{constructor(M,Z,Oe,Kt){this.location=Z,this.serializer=Oe,this.router=Kt,this.direction=Yi,this.animated=As,this.guessDirection="forward",this.lastNavId=-1,Kt&&Kt.events.subscribe(jn=>{if(jn instanceof _e.OD){const gi=jn.restoredState?jn.restoredState.navigationId:jn.id;this.guessDirection=gi<this.lastNavId?"back":"forward",this.guessAnimation=jn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?jn.id:gi}}),M.backButton.subscribeWithPriority(0,jn=>{this.pop(),jn()})}navigateForward(M,Z={}){return this.setDirection("forward",Z.animated,Z.animationDirection,Z.animation),this.navigate(M,Z)}navigateBack(M,Z={}){return this.setDirection("back",Z.animated,Z.animationDirection,Z.animation),this.navigate(M,Z)}navigateRoot(M,Z={}){return this.setDirection("root",Z.animated,Z.animationDirection,Z.animation),this.navigate(M,Z)}back(M={animated:!0,animationDirection:"back"}){return this.setDirection("back",M.animated,M.animationDirection,M.animation),this.location.back()}pop(){return(0,Q.mG)(this,void 0,void 0,function*(){let M=this.topOutlet;for(;M&&!(yield M.pop());)M=M.parentOutlet})}setDirection(M,Z,Oe,Kt){this.direction=M,this.animated=ar(M,Z,Oe),this.animationBuilder=Kt}setTopOutlet(M){this.topOutlet=M}consumeTransition(){let Z,M="root";const Oe=this.animationBuilder;return"auto"===this.direction?(M=this.guessDirection,Z=this.guessAnimation):(Z=this.animated,M=this.direction),this.direction=Yi,this.animated=As,this.animationBuilder=void 0,{direction:M,animation:Z,animationBuilder:Oe}}navigate(M,Z){if(Array.isArray(M))return this.router.navigate(M,Z);{const Oe=this.serializer.parse(M.toString());return void 0!==Z.queryParams&&(Oe.queryParams=Object.assign({},Z.queryParams)),void 0!==Z.fragment&&(Oe.fragment=Z.fragment),this.router.navigateByUrl(Oe,Z)}}}return S.\u0275fac=function(M){return new(M||S)(o.LFG(ps),o.LFG(Ee.Ye),o.LFG(_e.Hx),o.LFG(_e.F0,8))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const ar=(S,X,M)=>{if(!1!==X){if(void 0!==M)return M;if("forward"===S||"back"===S)return S;if("root"===S&&!0===X)return"forward"}},Yi="auto",As=void 0;class ur{}let Is=(()=>{class S{constructor(M,Z,Oe,Kt,jn,gi,D,C,A,G,xe,gt,Wt,Yn){this.parentContexts=M,this.location=Z,this.config=jn,this.navCtrl=gi,this.environmentInjector=D,this.componentFactoryResolver=C,this.parentOutlet=Yn,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new de.X(null),this.stackEvents=new o.vpe,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.nativeEl=G.nativeElement,this.name=Oe||_e.eC,this.tabsPrefix="true"===Kt?nr(xe,Wt):void 0,this.stackCtrl=new to(this.tabsPrefix,this.nativeEl,xe,gi,gt,A),M.onChildOutletCreated(this.name,this)}set animation(M){this.nativeEl.animation=M}set animated(M){this.nativeEl.animated=M}set swipeGesture(M){this._swipeGesture=M,this.nativeEl.swipeHandler=M?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Z=>this.stackCtrl.endBackTransition(Z)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const M=this.getContext();M?.route&&this.activateWith(M.route,M.resolver||null)}new Promise(M=>(0,fe.c)(this.nativeEl,M)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(M,Z){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Z=this.getContext();this.activatedView.savedData=new Map(Z.children.contexts);const Oe=this.activatedView.savedData.get("primary");if(Oe&&Z.route&&(Oe.route=Object.assign({},Z.route)),this.activatedView.savedExtras={},Z.route){const Kt=Z.route.snapshot;this.activatedView.savedExtras.queryParams=Kt.queryParams,this.activatedView.savedExtras.fragment=Kt.fragment}}const M=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,Z){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=M;let Oe,Kt=this.stackCtrl.getExistingView(M);if(Kt){Oe=this.activated=Kt.ref;const jn=Kt.savedData;jn&&(this.getContext().children.contexts=jn),this.updateActivatedRouteProxy(Oe.instance,M)}else{const jn=M._futureSnapshot,gi=jn.routeConfig.component;if(null==gi&&jn.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const D=this.parentContexts.getOrCreateContext(this.name).children,C=new de.X(null),A=this.createActivatedRouteProxy(C,M),G=new Gs(A,D,this.location.injector);if((Z=Z||this.componentFactoryResolver)&&at(Z)){const xe=Z.resolveComponentFactory(gi);Oe=this.activated=this.location.createComponent(xe,this.location.length,G)}else Oe=this.activated=this.location.createComponent(gi,{index:this.location.length,injector:G,environmentInjector:Z??this.environmentInjector});C.next(Oe.instance),Kt=this.stackCtrl.createView(this.activated,M),this.proxyMap.set(Oe.instance,A),this.currentActivatedRoute$.next({component:Oe.instance,activatedRoute:M})}this.activatedView=Kt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Kt).then(jn=>{this.activateEvents.emit(Oe.instance),this.stackEvents.emit(jn)})}canGoBack(M=1,Z){return this.stackCtrl.canGoBack(M,Z)}pop(M=1,Z){return this.stackCtrl.pop(M,Z)}getLastUrl(M){const Z=this.stackCtrl.getLastUrl(M);return Z?Z.url:void 0}getLastRouteView(M){return this.stackCtrl.getLastUrl(M)}getRootView(M){return this.stackCtrl.getRootUrl(M)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(M,Z){const Oe=new _e.gz;return Oe._futureSnapshot=Z._futureSnapshot,Oe._routerState=Z._routerState,Oe.snapshot=Z.snapshot,Oe.outlet=Z.outlet,Oe.component=Z.component,Oe._paramMap=this.proxyObservable(M,"paramMap"),Oe._queryParamMap=this.proxyObservable(M,"queryParamMap"),Oe.url=this.proxyObservable(M,"url"),Oe.params=this.proxyObservable(M,"params"),Oe.queryParams=this.proxyObservable(M,"queryParams"),Oe.fragment=this.proxyObservable(M,"fragment"),Oe.data=this.proxyObservable(M,"data"),Oe}proxyObservable(M,Z){return M.pipe((0,We.h)(Oe=>!!Oe),(0,ke.w)(Oe=>this.currentActivatedRoute$.pipe((0,We.h)(Kt=>null!==Kt&&Kt.component===Oe),(0,ke.w)(Kt=>Kt&&Kt.activatedRoute[Z]),(0,tt.x)())))}updateActivatedRouteProxy(M,Z){const Oe=this.proxyMap.get(M);if(!Oe)throw new Error("Could not find activated route proxy for view");Oe._futureSnapshot=Z._futureSnapshot,Oe._routerState=Z._routerState,Oe.snapshot=Z.snapshot,Oe.outlet=Z.outlet,Oe.component=Z.component,this.currentActivatedRoute$.next({component:M,activatedRoute:Z})}}return S.\u0275fac=function(M){return new(M||S)(o.Y36(_e.y6),o.Y36(o.s_b),o.$8M("name"),o.$8M("tabs"),o.Y36(ma),o.Y36(Qi),o.Y36(ur,8),o.Y36(o._Vd,8),o.Y36(Ee.Ye),o.Y36(o.SBq),o.Y36(_e.F0),o.Y36(o.R0b),o.Y36(_e.gz),o.Y36(S,12))},S.\u0275dir=o.lG2({type:S,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),S})();class Gs{constructor(X,M,Z){this.route=X,this.childContexts=M,this.parent=Z}get(X,M){return X===_e.gz?this.route:X===_e.y6?this.childContexts:this.parent.get(X,M)}}let Bs=(()=>{class S{constructor(M){this.navCtrl=M,this.ionTabsWillChange=new o.vpe,this.ionTabsDidChange=new o.vpe}onPageSelected(M){const Z=M.enteringView.stackId;M.tabSwitch&&void 0!==Z&&(this.ionTabsWillChange.emit({tab:Z}),this.tabBar&&(this.tabBar.selectedTab=Z),this.ionTabsDidChange.emit({tab:Z}))}select(M){const Z="string"==typeof M,Oe=Z?M:M.detail.tab,Kt=this.outlet.getActiveStackId()===Oe,jn=`${this.outlet.tabsPrefix}/${Oe}`;if(Z||M.stopPropagation(),Kt){const gi=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(gi)?.url===jn)return;const C=this.outlet.getRootView(Oe);return this.navCtrl.navigateRoot(jn,Object.assign(Object.assign({},C&&jn===C.url&&C.savedExtras),{animated:!0,animationDirection:"back"}))}{const gi=this.outlet.getLastRouteView(Oe),C=gi?.savedExtras;return this.navCtrl.navigateRoot(gi?.url||jn,Object.assign(Object.assign({},C),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return S.\u0275fac=function(M){return new(M||S)(o.Y36(Qi))},S.\u0275cmp=o.Xpm({type:S,selectors:[["ion-tabs"]],contentQueries:function(M,Z,Oe){if(1&M&&o.Suo(Oe,Ct,5),2&M){let Kt;o.iGM(Kt=o.CRH())&&(Z.tabBar=Kt.first)}},viewQuery:function(M,Z){if(1&M&&o.Gf(At,5,Is),2&M){let Oe;o.iGM(Oe=o.CRH())&&(Z.outlet=Oe.first)}},hostBindings:function(M,Z){1&M&&o.NdJ("ionTabButtonClick",function(Kt){return Z.select(Kt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Mt,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(M,Z){1&M&&(o.F$t(St),o.Hsn(0),o.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),o.NdJ("stackEvents",function(Kt){return Z.onPageSelected(Kt)}),o.qZA()(),o.Hsn(4,1))},dependencies:[Is],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),S})(),ji=(()=>{class S{constructor(M,Z,Oe,Kt,jn){this.locationStrategy=M,this.navCtrl=Z,this.elementRef=Oe,this.router=Kt,this.routerLink=jn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var M;if(null!==(M=this.routerLink)&&void 0!==M&&M.urlTree){const Z=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Z}}onClick(M){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),M.preventDefault()}}return S.\u0275fac=function(M){return new(M||S)(o.Y36(Ee.S$),o.Y36(Qi),o.Y36(o.SBq),o.Y36(_e.F0),o.Y36(_e.rH,8))},S.\u0275dir=o.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(M,Z){1&M&&o.NdJ("click",function(Kt){return Z.onClick(Kt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[o.TTD]}),S})(),os=(()=>{class S{constructor(M,Z,Oe,Kt,jn){this.locationStrategy=M,this.navCtrl=Z,this.elementRef=Oe,this.router=Kt,this.routerLink=jn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var M;if(null!==(M=this.routerLink)&&void 0!==M&&M.urlTree){const Z=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Z}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return S.\u0275fac=function(M){return new(M||S)(o.Y36(Ee.S$),o.Y36(Qi),o.Y36(o.SBq),o.Y36(_e.F0),o.Y36(_e.rH,8))},S.\u0275dir=o.lG2({type:S,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(M,Z){1&M&&o.NdJ("click",function(){return Z.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[o.TTD]}),S})();class Xr{constructor(X){this.ctrl=X}create(X){return this.ctrl.create(X||{})}dismiss(X,M,Z){return this.ctrl.dismiss(X,M,Z)}getTop(){return this.ctrl.getTop()}}let Pr=(()=>{class S{open(M){return je.m.open(M)}close(M){return je.m.close(M)}toggle(M){return je.m.toggle(M)}enable(M,Z){return je.m.enable(M,Z)}swipeGesture(M,Z){return je.m.swipeGesture(M,Z)}isOpen(M){return je.m.isOpen(M)}isEnabled(M){return je.m.isEnabled(M)}get(M){return je.m.get(M)}getOpen(){return je.m.getOpen()}getMenus(){return je.m.getMenus()}}return S.\u0275fac=function(M){return new(M||S)},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Oo=(()=>{class S extends Xr{constructor(M,Z,Oe,Kt){super(ft.m),this.angularDelegate=M,this.resolver=Z,this.injector=Oe,this.environmentInjector=Kt}create(M){var Z;return super.create(Object.assign(Object.assign({},M),{delegate:this.angularDelegate.create(null!==(Z=this.resolver)&&void 0!==Z?Z:this.environmentInjector,this.injector)}))}}return S.\u0275fac=function(M){return new(M||S)(o.LFG(_i),o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(ur,8))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac}),S})(),Hr=(()=>{class S extends Xr{constructor(M,Z,Oe,Kt){super(ft.c),this.angularDelegate=M,this.resolver=Z,this.injector=Oe,this.environmentInjector=Kt}create(M){var Z;return super.create(Object.assign(Object.assign({},M),{delegate:this.angularDelegate.create(null!==(Z=this.resolver)&&void 0!==Z?Z:this.environmentInjector,this.injector)}))}}return S.\u0275fac=function(M){return new(M||S)(o.LFG(_i),o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(ur,8))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac}),S})(),Ui=(()=>{class S extends Xr{constructor(){super(ft.t)}}return S.\u0275fac=function(M){return new(M||S)},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();class Ua{shouldDetach(X){return!1}shouldAttach(X){return!1}store(X,M){}retrieve(X){return null}shouldReuseRoute(X,M){if(X.routeConfig!==M.routeConfig)return!1;const Z=X.params,Oe=M.params,Kt=Object.keys(Z),jn=Object.keys(Oe);if(Kt.length!==jn.length)return!1;for(const gi of Kt)if(Oe[gi]!==Z[gi])return!1;return!0}}const cs=(S,X,M)=>()=>{if(X.defaultView&&typeof window<"u"){(S=>{const X=window,M=X.Ionic;M&&M.config&&"Object"!==M.config.constructor.name||(X.Ionic=X.Ionic||{},X.Ionic.config=Object.assign(Object.assign({},X.Ionic.config),S))})(Object.assign(Object.assign({},S),{_zoneGate:Kt=>M.run(Kt)}));const Oe="__zone_symbol__addEventListener"in X.body?"__zone_symbol__addEventListener":"addEventListener";return function ve(){var S=[];if(typeof window<"u"){var X=window;(!X.customElements||X.Element&&(!X.Element.prototype.closest||!X.Element.prototype.matches||!X.Element.prototype.remove||!X.Element.prototype.getRootNode))&&S.push(L.e(6748).then(L.t.bind(L,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||X.NodeList&&!X.NodeList.prototype.forEach||!X.fetch||!function(){try{var Z=new URL("b","http://a");return Z.pathname="c%20d","http://a/c%20d"===Z.href&&Z.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&S.push(L.e(2214).then(L.t.bind(L,4144,23)))}return Promise.all(S)}().then(()=>((S,X)=>typeof window>"u"?Promise.resolve():(0,Be.p)().then(()=>(Ie(),(0,Be.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),X))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ye,jmp:Kt=>M.runOutsideAngular(Kt),ael(Kt,jn,gi,D){Kt[Oe](jn,gi,D)},rel(Kt,jn,gi,D){Kt.removeEventListener(jn,gi,D)}}))}};let wn=(()=>{class S{static forRoot(M){return{ngModule:S,providers:[{provide:_s,useValue:M},{provide:o.ip1,useFactory:cs,multi:!0,deps:[_s,Ee.K0,o.R0b]}]}}}return S.\u0275fac=function(M){return new(M||S)},S.\u0275mod=o.oAB({type:S}),S.\u0275inj=o.cJS({providers:[_i,Oo,Hr],imports:[[Ee.ez]]}),S})()},9442:(Sn,bt,L)=>{"use strict";L.d(bt,{c:()=>ft});var o=L(3756);let q;const Fe=Ve=>Ve.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ie=Ve=>{if(void 0===q){const Ge=void 0!==Ve.style.webkitAnimationName;q=void 0===Ve.style.animationName&&Ge?"-webkit-":""}return q},de=(Ve,Be,Ge)=>{const Lt=Be.startsWith("animation")?ie(Ve):"";Ve.style.setProperty(Lt+Be,Ge)},_e=(Ve,Be)=>{const Ge=Be.startsWith("animation")?ie(Ve):"";Ve.style.removeProperty(Ge+Be)},he=[],je=(Ve=[],Be)=>{if(void 0!==Be){const Ge=Array.isArray(Be)?Be:[Be];return[...Ve,...Ge]}return Ve},ft=Ve=>{let Be,Ge,Lt,vt,Et,Qe,ve,mt,Je,Ye,at,En,Ut,We=[],ke=[],tt=[],Ee=!1,Ie={},ue=[],Ce=[],me={},At=0,St=!1,Mt=!1,ht=!0,xt=!1,$t=!0,bn=!1;const Te=Ve,Cn=[],Zn=[],zn=[],yi=[],Er=[],$n=[],ei=[],sn=[],dn=[],Ni=[],xi="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Kn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&xi,vi=()=>Ni,Ot=(Ue,et)=>((et?.oneTimeCallback?Zn:Cn).push({c:Ue,o:et}),Ut),Tn=()=>{if(Kn)Ni.forEach(Ue=>{Ue.cancel()}),Ni.length=0;else{const Ue=zn.slice();(0,o.r)(()=>{Ue.forEach(et=>{_e(et,"animation-name"),_e(et,"animation-duration"),_e(et,"animation-timing-function"),_e(et,"animation-iteration-count"),_e(et,"animation-delay"),_e(et,"animation-play-state"),_e(et,"animation-fill-mode"),_e(et,"animation-direction")})})}},Bn=()=>{Er.forEach(Ue=>{Ue?.parentNode&&Ue.parentNode.removeChild(Ue)}),Er.length=0},_n=()=>void 0!==Et?Et:ve?ve.getFill():"both",Vn=()=>void 0!==Je?Je:void 0!==Qe?Qe:ve?ve.getDirection():"normal",Ki=()=>St?"linear":void 0!==Lt?Lt:ve?ve.getEasing():"linear",Oi=()=>Mt?0:void 0!==Ye?Ye:void 0!==Ge?Ge:ve?ve.getDuration():0,ki=()=>void 0!==vt?vt:ve?ve.getIterations():1,pi=()=>void 0!==at?at:void 0!==Be?Be:ve?ve.getDelay():0,Qt=()=>{0!==At&&(At--,0===At&&((()=>{Fs(),sn.forEach(rn=>rn()),dn.forEach(rn=>rn());const Ue=ht?1:0,et=ue,Pt=Ce,cn=me;zn.forEach(rn=>{const hn=rn.classList;et.forEach(Wn=>hn.add(Wn)),Pt.forEach(Wn=>hn.remove(Wn));for(const Wn in cn)cn.hasOwnProperty(Wn)&&de(rn,Wn,cn[Wn])}),Cn.forEach(rn=>rn.c(Ue,Ut)),Zn.forEach(rn=>rn.c(Ue,Ut)),Zn.length=0,$t=!0,ht&&(xt=!0),ht=!0})(),ve&&ve.animationFinish()))},kn=(Ue=!0)=>{Bn();const et=(Ve=>(Ve.forEach(Be=>{for(const Ge in Be)if(Be.hasOwnProperty(Ge)){const Lt=Be[Ge];if("easing"===Ge)Be["animation-timing-function"]=Lt,delete Be[Ge];else{const vt=Fe(Ge);vt!==Ge&&(Be[vt]=Lt,delete Be[Ge])}}}),Ve))(We);zn.forEach(Pt=>{if(et.length>0){const cn=((Ve=[])=>Ve.map(Be=>{const Ge=Be.offset,Lt=[];for(const vt in Be)Be.hasOwnProperty(vt)&&"offset"!==vt&&Lt.push(`${vt}: ${Be[vt]};`);return`${100*Ge}% { ${Lt.join(" ")} }`}).join(" "))(et);En=void 0!==Ve?Ve:(Ve=>{let Be=he.indexOf(Ve);return Be<0&&(Be=he.push(Ve)-1),`ion-animation-${Be}`})(cn);const rn=((Ve,Be,Ge)=>{const Lt=(Ve=>{const Be=Ve.getRootNode();return Be.head||Be})(Ge),vt=ie(Ge),Et=Lt.querySelector("#"+Ve);if(Et)return Et;const Qe=(Ge.ownerDocument||document).createElement("style");return Qe.id=Ve,Qe.textContent=`@${vt}keyframes ${Ve} { ${Be} } @${vt}keyframes ${Ve}-alt { ${Be} }`,Lt.appendChild(Qe),Qe})(En,cn,Pt);Er.push(rn),de(Pt,"animation-duration",`${Oi()}ms`),de(Pt,"animation-timing-function",Ki()),de(Pt,"animation-delay",`${pi()}ms`),de(Pt,"animation-fill-mode",_n()),de(Pt,"animation-direction",Vn());const hn=ki()===1/0?"infinite":ki().toString();de(Pt,"animation-iteration-count",hn),de(Pt,"animation-play-state","paused"),Ue&&de(Pt,"animation-name",`${rn.id}-alt`),(0,o.r)(()=>{de(Pt,"animation-name",rn.id||null)})}})},Gn=(Ue=!0)=>{(()=>{$n.forEach(cn=>cn()),ei.forEach(cn=>cn());const Ue=ke,et=tt,Pt=Ie;zn.forEach(cn=>{const rn=cn.classList;Ue.forEach(hn=>rn.add(hn)),et.forEach(hn=>rn.remove(hn));for(const hn in Pt)Pt.hasOwnProperty(hn)&&de(cn,hn,Pt[hn])})})(),We.length>0&&(Kn?(zn.forEach(Ue=>{const et=Ue.animate(We,{id:Te,delay:pi(),duration:Oi(),easing:Ki(),iterations:ki(),fill:_n(),direction:Vn()});et.pause(),Ni.push(et)}),Ni.length>0&&(Ni[0].onfinish=()=>{Qt()})):kn(Ue)),Ee=!0},di=Ue=>{if(Ue=Math.min(Math.max(Ue,0),.9999),Kn)Ni.forEach(et=>{et.currentTime=et.effect.getComputedTiming().delay+Oi()*Ue,et.pause()});else{const et=`-${Oi()*Ue}ms`;zn.forEach(Pt=>{We.length>0&&(de(Pt,"animation-delay",et),de(Pt,"animation-play-state","paused"))})}},Mi=Ue=>{Ni.forEach(et=>{et.effect.updateTiming({delay:pi(),duration:Oi(),easing:Ki(),iterations:ki(),fill:_n(),direction:Vn()})}),void 0!==Ue&&di(Ue)},bi=(Ue=!0,et)=>{(0,o.r)(()=>{zn.forEach(Pt=>{de(Pt,"animation-name",En||null),de(Pt,"animation-duration",`${Oi()}ms`),de(Pt,"animation-timing-function",Ki()),de(Pt,"animation-delay",void 0!==et?`-${et*Oi()}ms`:`${pi()}ms`),de(Pt,"animation-fill-mode",_n()||null),de(Pt,"animation-direction",Vn()||null);const cn=ki()===1/0?"infinite":ki().toString();de(Pt,"animation-iteration-count",cn),Ue&&de(Pt,"animation-name",`${En}-alt`),(0,o.r)(()=>{de(Pt,"animation-name",En||null)})})})},Ri=(Ue=!1,et=!0,Pt)=>(Ue&&yi.forEach(cn=>{cn.update(Ue,et,Pt)}),Kn?Mi(Pt):bi(et,Pt),Ut),pr=()=>{Ee&&(Kn?Ni.forEach(Ue=>{Ue.pause()}):zn.forEach(Ue=>{de(Ue,"animation-play-state","paused")}),bn=!0)},Cr=()=>{mt=void 0,Qt()},Fs=()=>{mt&&clearTimeout(mt)},ts=Ue=>new Promise(et=>{Ue?.sync&&(Mt=!0,Ot(()=>Mt=!1,{oneTimeCallback:!0})),Ee||Gn(),xt&&(Kn?(di(0),Mi()):bi(),xt=!1),$t&&(At=yi.length+1,$t=!1),Ot(()=>et(),{oneTimeCallback:!0}),yi.forEach(Pt=>{Pt.play()}),Kn?(Ni.forEach(Ue=>{Ue.play()}),(0===We.length||0===zn.length)&&Qt()):(()=>{if(Fs(),(0,o.r)(()=>{zn.forEach(Ue=>{We.length>0&&de(Ue,"animation-play-state","running")})}),0===We.length||0===zn.length)Qt();else{const Ue=pi()||0,et=Oi()||0,Pt=ki()||1;isFinite(Pt)&&(mt=setTimeout(Cr,Ue+et*Pt+100)),((Ve,Be)=>{let Ge;const Lt={passive:!0},Et=Qe=>{Ve===Qe.target&&(Ge&&Ge(),Fs(),(0,o.r)(()=>{zn.forEach(Ue=>{_e(Ue,"animation-duration"),_e(Ue,"animation-delay"),_e(Ue,"animation-play-state")}),(0,o.r)(Qt)}))};Ve&&(Ve.addEventListener("webkitAnimationEnd",Et,Lt),Ve.addEventListener("animationend",Et,Lt),Ge=()=>{Ve.removeEventListener("webkitAnimationEnd",Et,Lt),Ve.removeEventListener("animationend",Et,Lt)})})(zn[0])}})(),bn=!1}),$e=(Ue,et)=>{const Pt=We[0];return void 0===Pt||void 0!==Pt.offset&&0!==Pt.offset?We=[{offset:0,[Ue]:et},...We]:Pt[Ue]=et,Ut};return Ut={parentAnimation:ve,elements:zn,childAnimations:yi,id:Te,animationFinish:Qt,from:$e,to:(Ue,et)=>{const Pt=We[We.length-1];return void 0===Pt||void 0!==Pt.offset&&1!==Pt.offset?We=[...We,{offset:1,[Ue]:et}]:Pt[Ue]=et,Ut},fromTo:(Ue,et,Pt)=>$e(Ue,et).to(Ue,Pt),parent:Ue=>(ve=Ue,Ut),play:ts,pause:()=>(yi.forEach(Ue=>{Ue.pause()}),pr(),Ut),stop:()=>{yi.forEach(Ue=>{Ue.stop()}),Ee&&(Tn(),Ee=!1),St=!1,Mt=!1,$t=!0,Je=void 0,Ye=void 0,at=void 0,At=0,xt=!1,ht=!0,bn=!1},destroy:Ue=>(yi.forEach(et=>{et.destroy(Ue)}),(Ue=>{Tn(),Ue&&Bn()})(Ue),zn.length=0,yi.length=0,We.length=0,Cn.length=0,Zn.length=0,Ee=!1,$t=!0,Ut),keyframes:Ue=>{const et=We!==Ue;return We=Ue,et&&(Ue=>{Kn?vi().forEach(et=>{if(et.effect.setKeyframes)et.effect.setKeyframes(Ue);else{const Pt=new KeyframeEffect(et.effect.target,Ue,et.effect.getTiming());et.effect=Pt}}):kn()})(We),Ut},addAnimation:Ue=>{if(null!=Ue)if(Array.isArray(Ue))for(const et of Ue)et.parent(Ut),yi.push(et);else Ue.parent(Ut),yi.push(Ue);return Ut},addElement:Ue=>{if(null!=Ue)if(1===Ue.nodeType)zn.push(Ue);else if(Ue.length>=0)for(let et=0;et<Ue.length;et++)zn.push(Ue[et]);else console.error("Invalid addElement value");return Ut},update:Ri,fill:Ue=>(Et=Ue,Ri(!0),Ut),direction:Ue=>(Qe=Ue,Ri(!0),Ut),iterations:Ue=>(vt=Ue,Ri(!0),Ut),duration:Ue=>(!Kn&&0===Ue&&(Ue=1),Ge=Ue,Ri(!0),Ut),easing:Ue=>(Lt=Ue,Ri(!0),Ut),delay:Ue=>(Be=Ue,Ri(!0),Ut),getWebAnimations:vi,getKeyframes:()=>We,getFill:_n,getDirection:Vn,getDelay:pi,getIterations:ki,getEasing:Ki,getDuration:Oi,afterAddRead:Ue=>(sn.push(Ue),Ut),afterAddWrite:Ue=>(dn.push(Ue),Ut),afterClearStyles:(Ue=[])=>{for(const et of Ue)me[et]="";return Ut},afterStyles:(Ue={})=>(me=Ue,Ut),afterRemoveClass:Ue=>(Ce=je(Ce,Ue),Ut),afterAddClass:Ue=>(ue=je(ue,Ue),Ut),beforeAddRead:Ue=>($n.push(Ue),Ut),beforeAddWrite:Ue=>(ei.push(Ue),Ut),beforeClearStyles:(Ue=[])=>{for(const et of Ue)Ie[et]="";return Ut},beforeStyles:(Ue={})=>(Ie=Ue,Ut),beforeRemoveClass:Ue=>(tt=je(tt,Ue),Ut),beforeAddClass:Ue=>(ke=je(ke,Ue),Ut),onFinish:Ot,isRunning:()=>0!==At&&!bn,progressStart:(Ue=!1,et)=>(yi.forEach(Pt=>{Pt.progressStart(Ue,et)}),pr(),St=Ue,Ee||Gn(),Ri(!1,!0,et),Ut),progressStep:Ue=>(yi.forEach(et=>{et.progressStep(Ue)}),di(Ue),Ut),progressEnd:(Ue,et,Pt)=>(St=!1,yi.forEach(cn=>{cn.progressEnd(Ue,et,Pt)}),void 0!==Pt&&(Ye=Pt),xt=!1,ht=!0,0===Ue?(Je="reverse"===Vn()?"normal":"reverse","reverse"===Je&&(ht=!1),Kn?(Ri(),di(1-et)):(at=(1-et)*Oi()*-1,Ri(!1,!1))):1===Ue&&(Kn?(Ri(),di(et)):(at=et*Oi()*-1,Ri(!1,!1))),void 0!==Ue&&(Ot(()=>{Ye=void 0,Je=void 0,at=void 0},{oneTimeCallback:!0}),ve||ts()),Ut)}}},3509:(Sn,bt,L)=>{"use strict";L.d(bt,{G:()=>ie});class q{constructor(_e,ge,Se,he,oe){this.id=ge,this.name=Se,this.disableScroll=oe,this.priority=1e6*he+ge,this.ctrl=_e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const _e=this.ctrl.capture(this.name,this.id,this.priority);return _e&&this.disableScroll&&this.ctrl.disableScroll(this.id),_e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Q{constructor(_e,ge,Se,he){this.id=ge,this.disable=Se,this.disableScroll=he,this.ctrl=_e}block(){if(this.ctrl){if(this.disable)for(const _e of this.disable)this.ctrl.disableGesture(_e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const _e of this.disable)this.ctrl.enableGesture(_e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Fe="backdrop-no-scroll",ie=new class o{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(_e){return new q(this,this.newID(),_e.name,_e.priority||0,!!_e.disableScroll)}createBlocker(_e={}){return new Q(this,this.newID(),_e.disable,!!_e.disableScroll)}start(_e,ge,Se){return this.canStart(_e)?(this.requestedStart.set(ge,Se),!0):(this.requestedStart.delete(ge),!1)}capture(_e,ge,Se){if(!this.start(_e,ge,Se))return!1;const he=this.requestedStart;let oe=-1e4;if(he.forEach(fe=>{oe=Math.max(oe,fe)}),oe===Se){this.capturedId=ge,he.clear();const fe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:_e}});return document.dispatchEvent(fe),!0}return he.delete(ge),!1}release(_e){this.requestedStart.delete(_e),this.capturedId===_e&&(this.capturedId=void 0)}disableGesture(_e,ge){let Se=this.disabledGestures.get(_e);void 0===Se&&(Se=new Set,this.disabledGestures.set(_e,Se)),Se.add(ge)}enableGesture(_e,ge){const Se=this.disabledGestures.get(_e);void 0!==Se&&Se.delete(ge)}disableScroll(_e){this.disabledScroll.add(_e),1===this.disabledScroll.size&&document.body.classList.add(Fe)}enableScroll(_e){this.disabledScroll.delete(_e),0===this.disabledScroll.size&&document.body.classList.remove(Fe)}canStart(_e){return!(void 0!==this.capturedId||this.isDisabled(_e))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(_e){const ge=this.disabledGestures.get(_e);return!!(ge&&ge.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Sn,bt,L)=>{"use strict";L.r(bt),L.d(bt,{MENU_BACK_BUTTON_PRIORITY:()=>ie,OVERLAY_BACK_BUTTON_PRIORITY:()=>Fe,blockHardwareBackButton:()=>q,startHardwareBackButton:()=>Q});var o=L(5861);const q=()=>{document.addEventListener("backbutton",()=>{})},Q=()=>{const de=document;let _e=!1;de.addEventListener("backbutton",()=>{if(_e)return;let ge=0,Se=[];const he=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ye,je){Se.push({priority:ye,handler:je,id:ge++})}}});de.dispatchEvent(he);const oe=function(){var ye=(0,o.Z)(function*(je){try{if(je?.handler){const ft=je.handler(fe);null!=ft&&(yield ft)}}catch(ft){console.error(ft)}});return function(ft){return ye.apply(this,arguments)}}(),fe=()=>{if(Se.length>0){let ye={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Se.forEach(je=>{je.priority>=ye.priority&&(ye=je)}),_e=!0,Se=Se.filter(je=>je.id!==ye.id),oe(ye).then(()=>_e=!1)}};fe()})},Fe=100,ie=99},3756:(Sn,bt,L)=>{"use strict";L.d(bt,{a:()=>_e,b:()=>ge,c:()=>Q,d:()=>je,e:()=>ft,f:()=>ye,g:()=>Se,h:()=>Et,i:()=>de,j:()=>Fe,k:()=>fe,l:()=>Ve,m:()=>oe,n:()=>Be,o:()=>vt,p:()=>Lt,q:()=>Qe,r:()=>he,s:()=>We,t:()=>o,u:()=>Ge});const o=(ke,tt=0)=>new Promise(Ee=>{q(ke,tt,Ee)}),q=(ke,tt=0,Ee)=>{let ve,Ie;const ue={passive:!0},me=()=>{ve&&ve()},At=St=>{(void 0===St||ke===St.target)&&(me(),Ee(St))};return ke&&(ke.addEventListener("webkitTransitionEnd",At,ue),ke.addEventListener("transitionend",At,ue),Ie=setTimeout(At,tt+500),ve=()=>{Ie&&(clearTimeout(Ie),Ie=void 0),ke.removeEventListener("webkitTransitionEnd",At,ue),ke.removeEventListener("transitionend",At,ue)}),me},Q=(ke,tt)=>{ke.componentOnReady?ke.componentOnReady().then(Ee=>tt(Ee)):he(()=>tt(ke))},Fe=(ke,tt=[])=>{const Ee={};return tt.forEach(ve=>{ke.hasAttribute(ve)&&(null!==ke.getAttribute(ve)&&(Ee[ve]=ke.getAttribute(ve)),ke.removeAttribute(ve))}),Ee},ie=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],de=ke=>Fe(ke,ie),_e=(ke,tt,Ee,ve)=>{var Ie;if(typeof window<"u"){const Ce=null===(Ie=window?.Ionic)||void 0===Ie?void 0:Ie.config;if(Ce){const me=Ce.get("_ael");if(me)return me(ke,tt,Ee,ve);if(Ce._ael)return Ce._ael(ke,tt,Ee,ve)}}return ke.addEventListener(tt,Ee,ve)},ge=(ke,tt,Ee,ve)=>{var Ie;if(typeof window<"u"){const Ce=null===(Ie=window?.Ionic)||void 0===Ie?void 0:Ie.config;if(Ce){const me=Ce.get("_rel");if(me)return me(ke,tt,Ee,ve);if(Ce._rel)return Ce._rel(ke,tt,Ee,ve)}}return ke.removeEventListener(tt,Ee,ve)},Se=(ke,tt=ke)=>ke.shadowRoot||tt,he=ke=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ke):"function"==typeof requestAnimationFrame?requestAnimationFrame(ke):setTimeout(ke),oe=ke=>!!ke.shadowRoot&&!!ke.attachShadow,fe=ke=>{const tt=ke.closest("ion-item");return tt?tt.querySelector("ion-label"):null},ye=ke=>{if(ke.focus(),ke.classList.contains("ion-focusable")){const tt=ke.closest("ion-app");tt&&tt.setFocus([ke])}},je=(ke,tt)=>{let Ee;const ve=ke.getAttribute("aria-labelledby"),Ie=ke.id;let ue=null!==ve&&""!==ve.trim()?ve:tt+"-lbl",Ce=null!==ve&&""!==ve.trim()?document.getElementById(ve):fe(ke);return Ce?(null===ve&&(Ce.id=ue),Ee=Ce.textContent,Ce.setAttribute("aria-hidden","true")):""!==Ie.trim()&&(Ce=document.querySelector(`label[for="${Ie}"]`),Ce&&(""!==Ce.id?ue=Ce.id:Ce.id=ue=`${Ie}-lbl`,Ee=Ce.textContent)),{label:Ce,labelId:ue,labelText:Ee}},ft=(ke,tt,Ee,ve,Ie)=>{if(ke||oe(tt)){let ue=tt.querySelector("input.aux-input");ue||(ue=tt.ownerDocument.createElement("input"),ue.type="hidden",ue.classList.add("aux-input"),tt.appendChild(ue)),ue.disabled=Ie,ue.name=Ee,ue.value=ve||""}},Ve=(ke,tt,Ee)=>Math.max(ke,Math.min(tt,Ee)),Be=(ke,tt)=>{if(!ke){const Ee="ASSERT: "+tt;throw console.error(Ee),new Error(Ee)}},Ge=ke=>ke.timeStamp||Date.now(),Lt=ke=>{if(ke){const tt=ke.changedTouches;if(tt&&tt.length>0){const Ee=tt[0];return{x:Ee.clientX,y:Ee.clientY}}if(void 0!==ke.pageX)return{x:ke.pageX,y:ke.pageY}}return{x:0,y:0}},vt=ke=>{const tt="rtl"===document.dir;switch(ke){case"start":return tt;case"end":return!tt;default:throw new Error(`"${ke}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Et=(ke,tt)=>{const Ee=ke._original||ke;return{_original:ke,emit:Qe(Ee.emit.bind(Ee),tt)}},Qe=(ke,tt=0)=>{let Ee;return(...ve)=>{clearTimeout(Ee),Ee=setTimeout(ke,tt,...ve)}},We=(ke,tt)=>{if(ke??(ke={}),tt??(tt={}),ke===tt)return!0;const Ee=Object.keys(ke);if(Ee.length!==Object.keys(tt).length)return!1;for(const ve of Ee)if(!(ve in tt)||ke[ve]!==tt[ve])return!1;return!0}},7936:(Sn,bt,L)=>{"use strict";L.d(bt,{B:()=>ts,H:()=>yi,a:()=>xt,b:()=>Zt,c:()=>Jr,e:()=>ct,f:()=>fs,g:()=>$t,h:()=>Zn,i:()=>ci,j:()=>Ki,k:()=>Qt,p:()=>Ve,r:()=>Gn,s:()=>je});var o=L(5861);let Q,Fe,ie,de=!1,_e=!1,ge=!1,Se=!1,he=!1;const oe=typeof window<"u"?window:{},fe=oe.document||{head:{}},ye={$flags$:0,$resourcesUrl$:"",jmp:we=>we(),raf:we=>requestAnimationFrame(we),ael:(we,$e,Ct,Nt)=>we.addEventListener($e,Ct,Nt),rel:(we,$e,Ct,Nt)=>we.removeEventListener($e,Ct,Nt),ce:(we,$e)=>new CustomEvent(we,$e)},je=we=>{Object.assign(ye,we)},Ve=we=>Promise.resolve(we),Be=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ge=(we,$e,Ct,Nt)=>{Ct&&Ct.map(([Ue,et,Pt])=>{const cn=vt(we,Ue),rn=Lt($e,Pt),hn=Et(Ue);ye.ael(cn,et,rn,hn),($e.$rmListeners$=$e.$rmListeners$||[]).push(()=>ye.rel(cn,et,rn,hn))})},Lt=(we,$e)=>Ct=>{try{256&we.$flags$?we.$lazyInstance$[$e](Ct):(we.$queuedListeners$=we.$queuedListeners$||[]).push([$e,Ct])}catch(Nt){bi(Nt)}},vt=(we,$e)=>4&$e?fe:8&$e?oe:16&$e?fe.body:we,Et=we=>0!=(2&we),Ee="s-id",ve="sty-id",Ce="http://www.w3.org/1999/xlink",St=new WeakMap,Mt=(we,$e,Ct)=>{let Nt=qr.get(we);Be&&Ct?(Nt=Nt||new CSSStyleSheet,"string"==typeof Nt?Nt=$e:Nt.replaceSync($e)):Nt=$e,qr.set(we,Nt)},mt=(we,$e,Ct,Nt)=>{let Ue=Ye($e,Ct);const et=qr.get(Ue);if(we=11===we.nodeType?we:fe,et)if("string"==typeof et){let cn,Pt=St.get(we=we.head||we);Pt||St.set(we,Pt=new Set),Pt.has(Ue)||(we.host&&(cn=we.querySelector(`[${ve}="${Ue}"]`))?cn.innerHTML=et:(cn=fe.createElement("style"),cn.innerHTML=et,we.insertBefore(cn,we.querySelector("link"))),Pt&&Pt.add(Ue))}else we.adoptedStyleSheets.includes(et)||(we.adoptedStyleSheets=[...we.adoptedStyleSheets,et]);return Ue},Ye=(we,$e)=>"sc-"+($e&&32&we.$flags$?we.$tagName$+"-"+$e:we.$tagName$),at=we=>we.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),xt=we=>Or.push(we),$t=we=>tn(we).$modeName$,En={},Cn=we=>"object"==(we=typeof we)||"function"===we,Zn=(we,$e,...Ct)=>{let Nt=null,Ue=null,et=null,Pt=!1,cn=!1;const rn=[],hn=_i=>{for(let Fi=0;Fi<_i.length;Fi++)Nt=_i[Fi],Array.isArray(Nt)?hn(Nt):null!=Nt&&"boolean"!=typeof Nt&&((Pt="function"!=typeof we&&!Cn(Nt))&&(Nt=String(Nt)),Pt&&cn?rn[rn.length-1].$text$+=Nt:rn.push(Pt?zn(null,Nt):Nt),cn=Pt)};if(hn(Ct),$e){$e.key&&(Ue=$e.key),$e.name&&(et=$e.name);{const _i=$e.className||$e.class;_i&&($e.class="object"!=typeof _i?_i:Object.keys(_i).filter(Fi=>_i[Fi]).join(" "))}}if("function"==typeof we)return we(null===$e?{}:$e,rn,$n);const Wn=zn(we,null);return Wn.$attrs$=$e,rn.length>0&&(Wn.$children$=rn),Wn.$key$=Ue,Wn.$name$=et,Wn},zn=(we,$e)=>({$flags$:0,$tag$:we,$text$:$e,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),yi={},$n={forEach:(we,$e)=>we.map(ei).forEach($e),map:(we,$e)=>we.map(ei).map($e).map(sn)},ei=we=>({vattrs:we.$attrs$,vchildren:we.$children$,vkey:we.$key$,vname:we.$name$,vtag:we.$tag$,vtext:we.$text$}),sn=we=>{if("function"==typeof we.vtag){const Ct=Object.assign({},we.vattrs);return we.vkey&&(Ct.key=we.vkey),we.vname&&(Ct.name=we.vname),Zn(we.vtag,Ct,...we.vchildren||[])}const $e=zn(we.vtag,we.vtext);return $e.$attrs$=we.vattrs,$e.$children$=we.vchildren,$e.$key$=we.vkey,$e.$name$=we.vname,$e},dn=(we,$e,Ct,Nt,Ue,et)=>{if(Ct!==Nt){let Pt=Mi(we,$e),cn=$e.toLowerCase();if("class"===$e){const rn=we.classList,hn=xi(Ct),Wn=xi(Nt);rn.remove(...hn.filter(_i=>_i&&!Wn.includes(_i))),rn.add(...Wn.filter(_i=>_i&&!hn.includes(_i)))}else if("style"===$e){for(const rn in Ct)(!Nt||null==Nt[rn])&&(rn.includes("-")?we.style.removeProperty(rn):we.style[rn]="");for(const rn in Nt)(!Ct||Nt[rn]!==Ct[rn])&&(rn.includes("-")?we.style.setProperty(rn,Nt[rn]):we.style[rn]=Nt[rn])}else if("key"!==$e)if("ref"===$e)Nt&&Nt(we);else if(Pt||"o"!==$e[0]||"n"!==$e[1]){const rn=Cn(Nt);if((Pt||rn&&null!==Nt)&&!Ue)try{if(we.tagName.includes("-"))we[$e]=Nt;else{const Wn=Nt??"";"list"===$e?Pt=!1:(null==Ct||we[$e]!=Wn)&&(we[$e]=Wn)}}catch{}let hn=!1;cn!==(cn=cn.replace(/^xlink\:?/,""))&&($e=cn,hn=!0),null==Nt||!1===Nt?(!1!==Nt||""===we.getAttribute($e))&&(hn?we.removeAttributeNS(Ce,$e):we.removeAttribute($e)):(!Pt||4&et||Ue)&&!rn&&(Nt=!0===Nt?"":Nt,hn?we.setAttributeNS(Ce,$e,Nt):we.setAttribute($e,Nt))}else $e="-"===$e[2]?$e.slice(3):Mi(oe,cn)?cn.slice(2):cn[2]+$e.slice(3),Ct&&ye.rel(we,$e,Ct,!1),Nt&&ye.ael(we,$e,Nt,!1)}},Ni=/\s/,xi=we=>we?we.split(Ni):[],Kn=(we,$e,Ct,Nt)=>{const Ue=11===$e.$elm$.nodeType&&$e.$elm$.host?$e.$elm$.host:$e.$elm$,et=we&&we.$attrs$||En,Pt=$e.$attrs$||En;for(Nt in et)Nt in Pt||dn(Ue,Nt,et[Nt],void 0,Ct,$e.$flags$);for(Nt in Pt)dn(Ue,Nt,et[Nt],Pt[Nt],Ct,$e.$flags$)},mi=(we,$e,Ct,Nt)=>{const Ue=$e.$children$[Ct];let Pt,cn,rn,et=0;if(de||(ge=!0,"slot"===Ue.$tag$&&(Q&&Nt.classList.add(Q+"-s"),Ue.$flags$|=Ue.$children$?2:1)),null!==Ue.$text$)Pt=Ue.$elm$=fe.createTextNode(Ue.$text$);else if(1&Ue.$flags$)Pt=Ue.$elm$=fe.createTextNode("");else{if(Se||(Se="svg"===Ue.$tag$),Pt=Ue.$elm$=fe.createElementNS(Se?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ue.$flags$?"slot-fb":Ue.$tag$),Se&&"foreignObject"===Ue.$tag$&&(Se=!1),Kn(null,Ue,Se),(we=>null!=we)(Q)&&Pt["s-si"]!==Q&&Pt.classList.add(Pt["s-si"]=Q),Ue.$children$)for(et=0;et<Ue.$children$.length;++et)cn=mi(we,Ue,et,Pt),cn&&Pt.appendChild(cn);"svg"===Ue.$tag$?Se=!1:"foreignObject"===Pt.tagName&&(Se=!0)}return Pt["s-hn"]=ie,3&Ue.$flags$&&(Pt["s-sr"]=!0,Pt["s-cr"]=Fe,Pt["s-sn"]=Ue.$name$||"",rn=we&&we.$children$&&we.$children$[Ct],rn&&rn.$tag$===Ue.$tag$&&we.$elm$&&vi(we.$elm$,!1)),Pt},vi=(we,$e)=>{ye.$flags$|=1;const Ct=we.childNodes;for(let Nt=Ct.length-1;Nt>=0;Nt--){const Ue=Ct[Nt];Ue["s-hn"]!==ie&&Ue["s-ol"]&&(jt(Ue).insertBefore(Ue,Ot(Ue)),Ue["s-ol"].remove(),Ue["s-ol"]=void 0,ge=!0),$e&&vi(Ue,$e)}ye.$flags$&=-2},Di=(we,$e,Ct,Nt,Ue,et)=>{let cn,Pt=we["s-cr"]&&we["s-cr"].parentNode||we;for(Pt.shadowRoot&&Pt.tagName===ie&&(Pt=Pt.shadowRoot);Ue<=et;++Ue)Nt[Ue]&&(cn=mi(null,Ct,Ue,we),cn&&(Nt[Ue].$elm$=cn,Pt.insertBefore(cn,Ot($e))))},zt=(we,$e,Ct,Nt,Ue)=>{for(;$e<=Ct;++$e)(Nt=we[$e])&&(Ue=Nt.$elm$,Nn(Nt),_e=!0,Ue["s-ol"]?Ue["s-ol"].remove():vi(Ue,!0),Ue.remove())},He=(we,$e)=>we.$tag$===$e.$tag$&&("slot"===we.$tag$?we.$name$===$e.$name$:we.$key$===$e.$key$),Ot=we=>we&&we["s-ol"]||we,jt=we=>(we["s-ol"]?we["s-ol"]:we).parentNode,Tn=(we,$e)=>{const Ct=$e.$elm$=we.$elm$,Nt=we.$children$,Ue=$e.$children$,et=$e.$tag$,Pt=$e.$text$;let cn;null===Pt?(Se="svg"===et||"foreignObject"!==et&&Se,"slot"===et||Kn(we,$e,Se),null!==Nt&&null!==Ue?((we,$e,Ct,Nt)=>{let Ir,wt,Ue=0,et=0,Pt=0,cn=0,rn=$e.length-1,hn=$e[0],Wn=$e[rn],_i=Nt.length-1,Fi=Nt[0],jr=Nt[_i];for(;Ue<=rn&&et<=_i;)if(null==hn)hn=$e[++Ue];else if(null==Wn)Wn=$e[--rn];else if(null==Fi)Fi=Nt[++et];else if(null==jr)jr=Nt[--_i];else if(He(hn,Fi))Tn(hn,Fi),hn=$e[++Ue],Fi=Nt[++et];else if(He(Wn,jr))Tn(Wn,jr),Wn=$e[--rn],jr=Nt[--_i];else if(He(hn,jr))("slot"===hn.$tag$||"slot"===jr.$tag$)&&vi(hn.$elm$.parentNode,!1),Tn(hn,jr),we.insertBefore(hn.$elm$,Wn.$elm$.nextSibling),hn=$e[++Ue],jr=Nt[--_i];else if(He(Wn,Fi))("slot"===hn.$tag$||"slot"===jr.$tag$)&&vi(Wn.$elm$.parentNode,!1),Tn(Wn,Fi),we.insertBefore(Wn.$elm$,hn.$elm$),Wn=$e[--rn],Fi=Nt[++et];else{for(Pt=-1,cn=Ue;cn<=rn;++cn)if($e[cn]&&null!==$e[cn].$key$&&$e[cn].$key$===Fi.$key$){Pt=cn;break}Pt>=0?(wt=$e[Pt],wt.$tag$!==Fi.$tag$?Ir=mi($e&&$e[et],Ct,Pt,we):(Tn(wt,Fi),$e[Pt]=void 0,Ir=wt.$elm$),Fi=Nt[++et]):(Ir=mi($e&&$e[et],Ct,et,we),Fi=Nt[++et]),Ir&&jt(hn.$elm$).insertBefore(Ir,Ot(hn.$elm$))}Ue>rn?Di(we,null==Nt[_i+1]?null:Nt[_i+1].$elm$,Ct,Nt,et,_i):et>_i&&zt($e,Ue,rn)})(Ct,Nt,$e,Ue):null!==Ue?(null!==we.$text$&&(Ct.textContent=""),Di(Ct,null,$e,Ue,0,Ue.length-1)):null!==Nt&&zt(Nt,0,Nt.length-1),Se&&"svg"===et&&(Se=!1)):(cn=Ct["s-cr"])?cn.parentNode.textContent=Pt:we.$text$!==Pt&&(Ct.data=Pt)},Bn=we=>{const $e=we.childNodes;let Ct,Nt,Ue,et,Pt,cn;for(Nt=0,Ue=$e.length;Nt<Ue;Nt++)if(Ct=$e[Nt],1===Ct.nodeType){if(Ct["s-sr"])for(Pt=Ct["s-sn"],Ct.hidden=!1,et=0;et<Ue;et++)if(cn=$e[et].nodeType,$e[et]["s-hn"]!==Ct["s-hn"]||""!==Pt){if(1===cn&&Pt===$e[et].getAttribute("slot")){Ct.hidden=!0;break}}else if(1===cn||3===cn&&""!==$e[et].textContent.trim()){Ct.hidden=!0;break}Bn(Ct)}},ni=[],mn=we=>{let $e,Ct,Nt,Ue,et,Pt,cn=0;const rn=we.childNodes,hn=rn.length;for(;cn<hn;cn++){if($e=rn[cn],$e["s-sr"]&&(Ct=$e["s-cr"])&&Ct.parentNode)for(Nt=Ct.parentNode.childNodes,Ue=$e["s-sn"],Pt=Nt.length-1;Pt>=0;Pt--)Ct=Nt[Pt],!Ct["s-cn"]&&!Ct["s-nr"]&&Ct["s-hn"]!==$e["s-hn"]&&(ai(Ct,Ue)?(et=ni.find(Wn=>Wn.$nodeToRelocate$===Ct),_e=!0,Ct["s-sn"]=Ct["s-sn"]||Ue,et?et.$slotRefNode$=$e:ni.push({$slotRefNode$:$e,$nodeToRelocate$:Ct}),Ct["s-sr"]&&ni.map(Wn=>{ai(Wn.$nodeToRelocate$,Ct["s-sn"])&&(et=ni.find(_i=>_i.$nodeToRelocate$===Ct),et&&!Wn.$slotRefNode$&&(Wn.$slotRefNode$=et.$slotRefNode$))})):ni.some(Wn=>Wn.$nodeToRelocate$===Ct)||ni.push({$nodeToRelocate$:Ct}));1===$e.nodeType&&mn($e)}},ai=(we,$e)=>1===we.nodeType?null===we.getAttribute("slot")&&""===$e||we.getAttribute("slot")===$e:we["s-sn"]===$e||""===$e,Nn=we=>{we.$attrs$&&we.$attrs$.ref&&we.$attrs$.ref(null),we.$children$&&we.$children$.map(Nn)},ci=we=>tn(we).$hostElement$,ct=(we,$e,Ct)=>{const Nt=ci(we);return{emit:Ue=>nt(Nt,$e,{bubbles:!!(4&Ct),composed:!!(2&Ct),cancelable:!!(1&Ct),detail:Ue})}},nt=(we,$e,Ct)=>{const Nt=ye.ce($e,Ct);return we.dispatchEvent(Nt),Nt},Xe=(we,$e)=>{$e&&!we.$onRenderResolve$&&$e["s-p"]&&$e["s-p"].push(new Promise(Ct=>we.$onRenderResolve$=Ct))},ut=(we,$e)=>{if(we.$flags$|=16,!(4&we.$flags$))return Xe(we,we.$ancestorComponent$),Jr(()=>rt(we,$e));we.$flags$|=512},rt=(we,$e)=>{const Nt=we.$lazyInstance$;let Ue;return $e&&(we.$flags$|=256,we.$queuedListeners$&&(we.$queuedListeners$.map(([et,Pt])=>ki(Nt,et,Pt)),we.$queuedListeners$=null),Ue=ki(Nt,"componentWillLoad")),Ue=pi(Ue,()=>ki(Nt,"componentWillRender")),pi(Ue,()=>on(we,Nt,$e))},on=function(){var we=(0,o.Z)(function*($e,Ct,Nt){const Ue=$e.$hostElement$,Pt=Ue["s-rc"];Nt&&(we=>{const $e=we.$cmpMeta$,Ct=we.$hostElement$,Nt=$e.$flags$,et=mt(Ct.shadowRoot?Ct.shadowRoot:Ct.getRootNode(),$e,we.$modeName$);10&Nt&&(Ct["s-sc"]=et,Ct.classList.add(et+"-h"),2&Nt&&Ct.classList.add(et+"-s"))})($e);_n($e,Ct),Pt&&(Pt.map(rn=>rn()),Ue["s-rc"]=void 0);{const rn=Ue["s-p"],hn=()=>Vn($e);0===rn.length?hn():(Promise.all(rn).then(hn),$e.$flags$|=4,rn.length=0)}});return function(Ct,Nt,Ue){return we.apply(this,arguments)}}(),_n=(we,$e,Ct)=>{try{$e=$e.render&&$e.render(),we.$flags$&=-17,we.$flags$|=2,((we,$e)=>{const Ct=we.$hostElement$,Nt=we.$cmpMeta$,Ue=we.$vnode$||zn(null,null),et=(we=>we&&we.$tag$===yi)($e)?$e:Zn(null,null,$e);if(ie=Ct.tagName,Nt.$attrsToReflect$&&(et.$attrs$=et.$attrs$||{},Nt.$attrsToReflect$.map(([Pt,cn])=>et.$attrs$[cn]=Ct[Pt])),et.$tag$=null,et.$flags$|=4,we.$vnode$=et,et.$elm$=Ue.$elm$=Ct.shadowRoot||Ct,Q=Ct["s-sc"],Fe=Ct["s-cr"],de=0!=(1&Nt.$flags$),_e=!1,Tn(Ue,et),ye.$flags$|=1,ge){mn(et.$elm$);let Pt,cn,rn,hn,Wn,_i,Fi=0;for(;Fi<ni.length;Fi++)Pt=ni[Fi],cn=Pt.$nodeToRelocate$,cn["s-ol"]||(rn=fe.createTextNode(""),rn["s-nr"]=cn,cn.parentNode.insertBefore(cn["s-ol"]=rn,cn));for(Fi=0;Fi<ni.length;Fi++)if(Pt=ni[Fi],cn=Pt.$nodeToRelocate$,Pt.$slotRefNode$){for(hn=Pt.$slotRefNode$.parentNode,Wn=Pt.$slotRefNode$.nextSibling,rn=cn["s-ol"];rn=rn.previousSibling;)if(_i=rn["s-nr"],_i&&_i["s-sn"]===cn["s-sn"]&&hn===_i.parentNode&&(_i=_i.nextSibling,!_i||!_i["s-nr"])){Wn=_i;break}(!Wn&&hn!==cn.parentNode||cn.nextSibling!==Wn)&&cn!==Wn&&(!cn["s-hn"]&&cn["s-ol"]&&(cn["s-hn"]=cn["s-ol"].parentNode.nodeName),hn.insertBefore(cn,Wn))}else 1===cn.nodeType&&(cn.hidden=!0)}_e&&Bn(et.$elm$),ye.$flags$&=-2,ni.length=0})(we,$e)}catch(Nt){bi(Nt,we.$hostElement$)}return null},Vn=we=>{const Ct=we.$hostElement$,Ue=we.$lazyInstance$,et=we.$ancestorComponent$;ki(Ue,"componentDidRender"),64&we.$flags$?ki(Ue,"componentDidUpdate"):(we.$flags$|=64,Hn(Ct),ki(Ue,"componentDidLoad"),we.$onReadyResolve$(Ct),et||Oi()),we.$onInstanceResolve$(Ct),we.$onRenderResolve$&&(we.$onRenderResolve$(),we.$onRenderResolve$=void 0),512&we.$flags$&&bs(()=>ut(we,!1)),we.$flags$&=-517},Ki=we=>{{const $e=tn(we),Ct=$e.$hostElement$.isConnected;return Ct&&2==(18&$e.$flags$)&&ut($e,!1),Ct}},Oi=we=>{Hn(fe.documentElement),bs(()=>nt(oe,"appload",{detail:{namespace:"ionic"}}))},ki=(we,$e,Ct)=>{if(we&&we[$e])try{return we[$e](Ct)}catch(Nt){bi(Nt)}},pi=(we,$e)=>we&&we.then?we.then($e):$e(),Hn=we=>we.classList.add("hydrated"),tr=(we,$e,Ct,Nt,Ue,et,Pt)=>{let cn,rn,hn,Wn;if(1===et.nodeType){for(cn=et.getAttribute("c-id"),cn&&(rn=cn.split("."),(rn[0]===Pt||"0"===rn[0])&&(hn={$flags$:0,$hostId$:rn[0],$nodeId$:rn[1],$depth$:rn[2],$index$:rn[3],$tag$:et.tagName.toLowerCase(),$elm$:et,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},$e.push(hn),et.removeAttribute("c-id"),we.$children$||(we.$children$=[]),we.$children$[hn.$index$]=hn,we=hn,Nt&&"0"===hn.$depth$&&(Nt[hn.$index$]=hn.$elm$))),Wn=et.childNodes.length-1;Wn>=0;Wn--)tr(we,$e,Ct,Nt,Ue,et.childNodes[Wn],Pt);if(et.shadowRoot)for(Wn=et.shadowRoot.childNodes.length-1;Wn>=0;Wn--)tr(we,$e,Ct,Nt,Ue,et.shadowRoot.childNodes[Wn],Pt)}else if(8===et.nodeType)rn=et.nodeValue.split("."),(rn[1]===Pt||"0"===rn[1])&&(cn=rn[0],hn={$flags$:0,$hostId$:rn[1],$nodeId$:rn[2],$depth$:rn[3],$index$:rn[4],$elm$:et,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===cn?(hn.$elm$=et.nextSibling,hn.$elm$&&3===hn.$elm$.nodeType&&(hn.$text$=hn.$elm$.textContent,$e.push(hn),et.remove(),we.$children$||(we.$children$=[]),we.$children$[hn.$index$]=hn,Nt&&"0"===hn.$depth$&&(Nt[hn.$index$]=hn.$elm$))):hn.$hostId$===Pt&&("s"===cn?(hn.$tag$="slot",et["s-sn"]=rn[5]?hn.$name$=rn[5]:"",et["s-sr"]=!0,Nt&&(hn.$elm$=fe.createElement(hn.$tag$),hn.$name$&&hn.$elm$.setAttribute("name",hn.$name$),et.parentNode.insertBefore(hn.$elm$,et),et.remove(),"0"===hn.$depth$&&(Nt[hn.$index$]=hn.$elm$)),Ct.push(hn),we.$children$||(we.$children$=[]),we.$children$[hn.$index$]=hn):"r"===cn&&(Nt?et.remove():(Ue["s-cr"]=et,et["s-cn"]=!0))));else if(we&&"style"===we.$tag$){const _i=zn(null,et.textContent);_i.$elm$=et,_i.$index$="0",we.$children$=[_i]}},mr=(we,$e)=>{if(1===we.nodeType){let Ct=0;for(;Ct<we.childNodes.length;Ct++)mr(we.childNodes[Ct],$e);if(we.shadowRoot)for(Ct=0;Ct<we.shadowRoot.childNodes.length;Ct++)mr(we.shadowRoot.childNodes[Ct],$e)}else if(8===we.nodeType){const Ct=we.nodeValue.split(".");"o"===Ct[0]&&($e.set(Ct[1]+"."+Ct[2],we),we.nodeValue="",we["s-en"]=Ct[3])}},Ze=(we,$e,Ct)=>{if($e.$members$){we.watchers&&($e.$watchers$=we.watchers);const Nt=Object.entries($e.$members$),Ue=we.prototype;if(Nt.map(([et,[Pt]])=>{31&Pt||2&Ct&&32&Pt?Object.defineProperty(Ue,et,{get(){return((we,$e)=>tn(this).$instanceValues$.get($e))(0,et)},set(cn){((we,$e,Ct,Nt)=>{const Ue=tn(we),et=Ue.$hostElement$,Pt=Ue.$instanceValues$.get($e),cn=Ue.$flags$,rn=Ue.$lazyInstance$;Ct=((we,$e)=>null==we||Cn(we)?we:4&$e?"false"!==we&&(""===we||!!we):2&$e?parseFloat(we):1&$e?String(we):we)(Ct,Nt.$members$[$e][0]);const hn=Number.isNaN(Pt)&&Number.isNaN(Ct);if((!(8&cn)||void 0===Pt)&&Ct!==Pt&&!hn&&(Ue.$instanceValues$.set($e,Ct),rn)){if(Nt.$watchers$&&128&cn){const _i=Nt.$watchers$[$e];_i&&_i.map(Fi=>{try{rn[Fi](Ct,Pt,$e)}catch(jr){bi(jr,et)}})}2==(18&cn)&&ut(Ue,!1)}})(this,et,cn,$e)},configurable:!0,enumerable:!0}):1&Ct&&64&Pt&&Object.defineProperty(Ue,et,{value(...cn){const rn=tn(this);return rn.$onInstancePromise$.then(()=>rn.$lazyInstance$[et](...cn))}})}),1&Ct){const et=new Map;Ue.attributeChangedCallback=function(Pt,cn,rn){ye.jmp(()=>{const hn=et.get(Pt);if(this.hasOwnProperty(hn))rn=this[hn],delete this[hn];else if(Ue.hasOwnProperty(hn)&&"number"==typeof this[hn]&&this[hn]==rn)return;this[hn]=(null!==rn||"boolean"!=typeof this[hn])&&rn})},we.observedAttributes=Nt.filter(([Pt,cn])=>15&cn[0]).map(([Pt,cn])=>{const rn=cn[1]||Pt;return et.set(rn,Pt),512&cn[0]&&$e.$attrsToReflect$.push([Pt,rn]),rn})}}return we},te=function(){var we=(0,o.Z)(function*($e,Ct,Nt,Ue,et){if(0==(32&Ct.$flags$)){{if(Ct.$flags$|=32,(et=Sr(Nt)).then){const hn=()=>{};et=yield et,hn()}et.isProxied||(Nt.$watchers$=et.watchers,Ze(et,Nt,2),et.isProxied=!0);const rn=()=>{};Ct.$flags$|=8;try{new et(Ct)}catch(hn){bi(hn)}Ct.$flags$&=-9,Ct.$flags$|=128,rn(),be(Ct.$lazyInstance$)}if(et.style){let rn=et.style;"string"!=typeof rn&&(rn=rn[Ct.$modeName$=(we=>Or.map($e=>$e(we)).find($e=>!!$e))($e)]);const hn=Ye(Nt,Ct.$modeName$);if(!qr.has(hn)){const Wn=()=>{};Mt(hn,rn,!!(1&Nt.$flags$)),Wn()}}}const Pt=Ct.$ancestorComponent$,cn=()=>ut(Ct,!0);Pt&&Pt["s-rc"]?Pt["s-rc"].push(cn):cn()});return function(Ct,Nt,Ue,et,Pt){return we.apply(this,arguments)}}(),be=we=>{ki(we,"connectedCallback")},_t=we=>{const $e=we["s-cr"]=fe.createComment("");$e["s-cn"]=!0,we.insertBefore($e,we.firstChild)},Zt=(we,$e={})=>{const Nt=[],Ue=$e.exclude||[],et=oe.customElements,Pt=fe.head,cn=Pt.querySelector("meta[charset]"),rn=fe.createElement("style"),hn=[],Wn=fe.querySelectorAll(`[${ve}]`);let _i,Fi=!0,jr=0;for(Object.assign(ye,$e),ye.$resourcesUrl$=new URL($e.resourcesUrl||"./",fe.baseURI).href,ye.$flags$|=2;jr<Wn.length;jr++)Mt(Wn[jr].getAttribute(ve),at(Wn[jr].innerHTML),!0);we.map(Ir=>{Ir[1].map(wt=>{const Tt={$flags$:wt[0],$tagName$:wt[1],$members$:wt[2],$listeners$:wt[3]};Tt.$members$=wt[2],Tt.$listeners$=wt[3],Tt.$attrsToReflect$=[],Tt.$watchers$={};const Gt=Tt.$tagName$,yn=class extends HTMLElement{constructor(Fn){super(Fn),di(Fn=this,Tt),1&Tt.$flags$&&Fn.attachShadow({mode:"open",delegatesFocus:!!(16&Tt.$flags$)})}connectedCallback(){_i&&(clearTimeout(_i),_i=null),Fi?hn.push(this):ye.jmp(()=>(we=>{if(0==(1&ye.$flags$)){const $e=tn(we),Ct=$e.$cmpMeta$,Nt=()=>{};if(1&$e.$flags$)Ge(we,$e,Ct.$listeners$),be($e.$lazyInstance$);else{let Ue;if($e.$flags$|=1,Ue=we.getAttribute(Ee),Ue){if(1&Ct.$flags$){const et=mt(we.shadowRoot,Ct,we.getAttribute("s-mode"));we.classList.remove(et+"-h",et+"-s")}((we,$e,Ct,Nt)=>{const et=we.shadowRoot,Pt=[],rn=et?[]:null,hn=Nt.$vnode$=zn($e,null);ye.$orgLocNodes$||mr(fe.body,ye.$orgLocNodes$=new Map),we[Ee]=Ct,we.removeAttribute(Ee),tr(hn,Pt,[],rn,we,we,Ct),Pt.map(Wn=>{const _i=Wn.$hostId$+"."+Wn.$nodeId$,Fi=ye.$orgLocNodes$.get(_i),jr=Wn.$elm$;Fi&&""===Fi["s-en"]&&Fi.parentNode.insertBefore(jr,Fi.nextSibling),et||(jr["s-hn"]=$e,Fi&&(jr["s-ol"]=Fi,jr["s-ol"]["s-nr"]=jr)),ye.$orgLocNodes$.delete(_i)}),et&&rn.map(Wn=>{Wn&&et.appendChild(Wn)})})(we,Ct.$tagName$,Ue,$e)}Ue||12&Ct.$flags$&&_t(we);{let et=we;for(;et=et.parentNode||et.host;)if(1===et.nodeType&&et.hasAttribute("s-id")&&et["s-p"]||et["s-p"]){Xe($e,$e.$ancestorComponent$=et);break}}Ct.$members$&&Object.entries(Ct.$members$).map(([et,[Pt]])=>{if(31&Pt&&we.hasOwnProperty(et)){const cn=we[et];delete we[et],we[et]=cn}}),bs(()=>te(we,$e,Ct))}Nt()}})(this))}disconnectedCallback(){ye.jmp(()=>(we=>{if(0==(1&ye.$flags$)){const $e=tn(this),Ct=$e.$lazyInstance$;$e.$rmListeners$&&($e.$rmListeners$.map(Nt=>Nt()),$e.$rmListeners$=void 0),ki(Ct,"disconnectedCallback")}})())}componentOnReady(){return tn(this).$onReadyPromise$}};Tt.$lazyBundleId$=Ir[0],!Ue.includes(Gt)&&!et.get(Gt)&&(Nt.push(Gt),et.define(Gt,Ze(yn,Tt,1)))})}),rn.innerHTML=Nt+"{visibility:hidden}.hydrated{visibility:inherit}",rn.setAttribute("data-styles",""),Pt.insertBefore(rn,cn?cn.nextSibling:Pt.firstChild),Fi=!1,hn.length?hn.map(Ir=>Ir.connectedCallback()):ye.jmp(()=>_i=setTimeout(Oi,30))},Qt=we=>{const $e=new URL(we,ye.$resourcesUrl$);return $e.origin!==oe.location.origin?$e.href:$e.pathname},kn=new WeakMap,tn=we=>kn.get(we),Gn=(we,$e)=>kn.set($e.$lazyInstance$=we,$e),di=(we,$e)=>{const Ct={$flags$:0,$hostElement$:we,$cmpMeta$:$e,$instanceValues$:new Map};return Ct.$onInstancePromise$=new Promise(Nt=>Ct.$onInstanceResolve$=Nt),Ct.$onReadyPromise$=new Promise(Nt=>Ct.$onReadyResolve$=Nt),we["s-p"]=[],we["s-rc"]=[],Ge(we,Ct,$e.$listeners$),kn.set(we,Ct)},Mi=(we,$e)=>$e in we,bi=(we,$e)=>(0,console.error)(we,$e),Ri=new Map,Sr=(we,$e,Ct)=>{const Nt=we.$tagName$.replace(/-/g,"_"),Ue=we.$lazyBundleId$,et=Ri.get(Ue);return et?et[Nt]:L(863)(`./${Ue}.entry.js`).then(Pt=>(Ri.set(Ue,Pt),Pt[Nt]),bi)},qr=new Map,Or=[],pr=[],ss=[],Cr=(we,$e)=>Ct=>{we.push(Ct),he||(he=!0,$e&&4&ye.$flags$?bs(hs):ye.raf(hs))},Fs=we=>{for(let $e=0;$e<we.length;$e++)try{we[$e](performance.now())}catch(Ct){bi(Ct)}we.length=0},hs=()=>{Fs(pr),Fs(ss),(he=pr.length>0)&&ye.raf(hs)},bs=we=>Ve().then(we),fs=Cr(pr,!1),Jr=Cr(ss,!0),ts={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},3139:(Sn,bt,L)=>{"use strict";L.r(bt),L.d(bt,{GESTURE_CONTROLLER:()=>o.G,createGesture:()=>Se});var o=L(3509);const q=(ye,je,ft,Ve)=>{const Be=Q(ye)?{capture:!!Ve.capture,passive:!!Ve.passive}:!!Ve.capture;let Ge,Lt;return ye.__zone_symbol__addEventListener?(Ge="__zone_symbol__addEventListener",Lt="__zone_symbol__removeEventListener"):(Ge="addEventListener",Lt="removeEventListener"),ye[Ge](je,ft,Be),()=>{ye[Lt](je,ft,Be)}},Q=ye=>{if(void 0===Fe)try{const je=Object.defineProperty({},"passive",{get:()=>{Fe=!0}});ye.addEventListener("optsTest",()=>{},je)}catch{Fe=!1}return!!Fe};let Fe;const _e=ye=>ye instanceof Document?ye:ye.ownerDocument,Se=ye=>{let je=!1,ft=!1,Ve=!0,Be=!1;const Ge=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ye),Lt=Ge.canStart,vt=Ge.onWillStart,Et=Ge.onStart,Qe=Ge.onEnd,We=Ge.notCaptured,ke=Ge.onMove,tt=Ge.threshold,Ee=Ge.passive,ve=Ge.blurOnStart,Ie={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ue=((ye,je,ft)=>{const Ve=ft*(Math.PI/180),Be="x"===ye,Ge=Math.cos(Ve),Lt=je*je;let vt=0,Et=0,Qe=!1,We=0;return{start(ke,tt){vt=ke,Et=tt,We=0,Qe=!0},detect(ke,tt){if(!Qe)return!1;const Ee=ke-vt,ve=tt-Et,Ie=Ee*Ee+ve*ve;if(Ie<Lt)return!1;const ue=Math.sqrt(Ie),Ce=(Be?Ee:ve)/ue;return We=Ce>Ge?1:Ce<-Ge?-1:0,Qe=!1,!0},isGesture:()=>0!==We,getDirection:()=>We}})(Ge.direction,Ge.threshold,Ge.maxAngle),Ce=o.G.createGesture({name:ye.gestureName,priority:ye.gesturePriority,disableScroll:ye.disableScroll}),St=()=>{!je||(Be=!1,ke&&ke(Ie))},Mt=()=>!(Ce&&!Ce.capture()||(je=!0,Ve=!1,Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime,vt?vt(Ie).then(Je):Je(),0)),Je=()=>{ve&&(()=>{if(typeof document<"u"){const $t=document.activeElement;$t?.blur&&$t.blur()}})(),Et&&Et(Ie),Ve=!0},Ye=()=>{je=!1,ft=!1,Be=!1,Ve=!0,Ce.release()},at=$t=>{const En=je,Ut=Ve;if(Ye(),Ut){if(he(Ie,$t),En)return void(Qe&&Qe(Ie));We&&We(Ie)}},ht=((ye,je,ft,Ve,Be)=>{let Ge,Lt,vt,Et,Qe,We,ke,tt=0;const Ee=mt=>{tt=Date.now()+2e3,je(mt)&&(!Lt&&ft&&(Lt=q(ye,"touchmove",ft,Be)),vt||(vt=q(mt.target,"touchend",Ie,Be)),Et||(Et=q(mt.target,"touchcancel",Ie,Be)))},ve=mt=>{tt>Date.now()||!je(mt)||(!We&&ft&&(We=q(_e(ye),"mousemove",ft,Be)),ke||(ke=q(_e(ye),"mouseup",ue,Be)))},Ie=mt=>{Ce(),Ve&&Ve(mt)},ue=mt=>{me(),Ve&&Ve(mt)},Ce=()=>{Lt&&Lt(),vt&&vt(),Et&&Et(),Lt=vt=Et=void 0},me=()=>{We&&We(),ke&&ke(),We=ke=void 0},At=()=>{Ce(),me()},St=(mt=!0)=>{mt?(Ge||(Ge=q(ye,"touchstart",Ee,Be)),Qe||(Qe=q(ye,"mousedown",ve,Be))):(Ge&&Ge(),Qe&&Qe(),Ge=Qe=void 0,At())};return{enable:St,stop:At,destroy:()=>{St(!1),Ve=ft=je=void 0}}})(Ge.el,$t=>{const En=fe($t);return!(ft||!Ve||(oe($t,Ie),Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime=En,Ie.velocityX=Ie.velocityY=Ie.deltaX=Ie.deltaY=0,Ie.event=$t,Lt&&!1===Lt(Ie))||(Ce.release(),!Ce.start()))&&(ft=!0,0===tt?Mt():(ue.start(Ie.startX,Ie.startY),!0))},$t=>{je?!Be&&Ve&&(Be=!0,he(Ie,$t),requestAnimationFrame(St)):(he(Ie,$t),ue.detect(Ie.currentX,Ie.currentY)&&(!ue.isGesture()||!Mt())&&xt())},at,{capture:!1,passive:Ee}),xt=()=>{Ye(),ht.stop(),We&&We(Ie)};return{enable($t=!0){$t||(je&&at(void 0),Ye()),ht.enable($t)},destroy(){Ce.destroy(),ht.destroy()}}},he=(ye,je)=>{if(!je)return;const ft=ye.currentX,Ve=ye.currentY,Be=ye.currentTime;oe(je,ye);const Ge=ye.currentX,Lt=ye.currentY,Et=(ye.currentTime=fe(je))-Be;if(Et>0&&Et<100){const We=(Lt-Ve)/Et;ye.velocityX=(Ge-ft)/Et*.7+.3*ye.velocityX,ye.velocityY=.7*We+.3*ye.velocityY}ye.deltaX=Ge-ye.startX,ye.deltaY=Lt-ye.startY,ye.event=je},oe=(ye,je)=>{let ft=0,Ve=0;if(ye){const Be=ye.changedTouches;if(Be&&Be.length>0){const Ge=Be[0];ft=Ge.clientX,Ve=Ge.clientY}else void 0!==ye.pageX&&(ft=ye.pageX,Ve=ye.pageY)}je.currentX=ft,je.currentY=Ve},fe=ye=>ye.timeStamp||Date.now()},471:(Sn,bt,L)=>{"use strict";L.d(bt,{L:()=>Fe,a:()=>ie,b:()=>de,c:()=>_e,d:()=>ge,e:()=>tt,g:()=>Ie,l:()=>We,s:()=>Ee,t:()=>oe});var o=L(5861),q=L(7936),Q=L(3756);const Fe="ionViewWillEnter",ie="ionViewDidEnter",de="ionViewWillLeave",_e="ionViewDidLeave",ge="ionViewWillUnload",oe=ue=>new Promise((Ce,me)=>{(0,q.c)(()=>{fe(ue),ye(ue).then(At=>{At.animation&&At.animation.destroy(),je(ue),Ce(At)},At=>{je(ue),me(At)})})}),fe=ue=>{const Ce=ue.enteringEl,me=ue.leavingEl;ve(Ce,me,ue.direction),ue.showGoBack?Ce.classList.add("can-go-back"):Ce.classList.remove("can-go-back"),Ee(Ce,!1),Ce.style.setProperty("pointer-events","none"),me&&(Ee(me,!1),me.style.setProperty("pointer-events","none"))},ye=function(){var ue=(0,o.Z)(function*(Ce){const me=yield ft(Ce);return me&&q.B.isBrowser?Ve(me,Ce):Be(Ce)});return function(me){return ue.apply(this,arguments)}}(),je=ue=>{const Ce=ue.enteringEl,me=ue.leavingEl;Ce.classList.remove("ion-page-invisible"),Ce.style.removeProperty("pointer-events"),void 0!==me&&(me.classList.remove("ion-page-invisible"),me.style.removeProperty("pointer-events"))},ft=function(){var ue=(0,o.Z)(function*(Ce){return Ce.leavingEl&&Ce.animated&&0!==Ce.duration?Ce.animationBuilder?Ce.animationBuilder:"ios"===Ce.mode?(yield Promise.resolve().then(L.bind(L,9950))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,4802))).mdTransitionAnimation:void 0});return function(me){return ue.apply(this,arguments)}}(),Ve=function(){var ue=(0,o.Z)(function*(Ce,me){yield Ge(me,!0);const At=Ce(me.baseEl,me);Et(me.enteringEl,me.leavingEl);const St=yield vt(At,me);return me.progressCallback&&me.progressCallback(void 0),St&&Qe(me.enteringEl,me.leavingEl),{hasCompleted:St,animation:At}});return function(me,At){return ue.apply(this,arguments)}}(),Be=function(){var ue=(0,o.Z)(function*(Ce){const me=Ce.enteringEl,At=Ce.leavingEl;return yield Ge(Ce,!1),Et(me,At),Qe(me,At),{hasCompleted:!0}});return function(me){return ue.apply(this,arguments)}}(),Ge=function(){var ue=(0,o.Z)(function*(Ce,me){const St=(void 0!==Ce.deepWait?Ce.deepWait:me)?[tt(Ce.enteringEl),tt(Ce.leavingEl)]:[ke(Ce.enteringEl),ke(Ce.leavingEl)];yield Promise.all(St),yield Lt(Ce.viewIsReady,Ce.enteringEl)});return function(me,At){return ue.apply(this,arguments)}}(),Lt=function(){var ue=(0,o.Z)(function*(Ce,me){Ce&&(yield Ce(me))});return function(me,At){return ue.apply(this,arguments)}}(),vt=(ue,Ce)=>{const me=Ce.progressCallback,At=new Promise(St=>{ue.onFinish(Mt=>St(1===Mt))});return me?(ue.progressStart(!0),me(ue)):ue.play(),At},Et=(ue,Ce)=>{We(Ce,de),We(ue,Fe)},Qe=(ue,Ce)=>{We(ue,ie),We(Ce,_e)},We=(ue,Ce)=>{if(ue){const me=new CustomEvent(Ce,{bubbles:!1,cancelable:!1});ue.dispatchEvent(me)}},ke=ue=>ue?new Promise(Ce=>(0,Q.c)(ue,Ce)):Promise.resolve(),tt=function(){var ue=(0,o.Z)(function*(Ce){const me=Ce;if(me){if(null!=me.componentOnReady){if(null!=(yield me.componentOnReady()))return}else if(null!=me.__registerHost)return void(yield new Promise(St=>(0,Q.r)(St)));yield Promise.all(Array.from(me.children).map(tt))}});return function(me){return ue.apply(this,arguments)}}(),Ee=(ue,Ce)=>{Ce?(ue.setAttribute("aria-hidden","true"),ue.classList.add("ion-page-hidden")):(ue.hidden=!1,ue.removeAttribute("aria-hidden"),ue.classList.remove("ion-page-hidden"))},ve=(ue,Ce,me)=>{void 0!==ue&&(ue.style.zIndex="back"===me?"99":"101"),void 0!==Ce&&(Ce.style.zIndex="100")},Ie=ue=>ue.classList.contains("ion-page")?ue:ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ue},604:(Sn,bt,L)=>{"use strict";L.d(bt,{m:()=>oe});var o=L(5861),q=L(7593),Q=L(3756),Fe=L(1671),ie=L(9442);const de=fe=>(0,ie.c)().duration(fe?400:300),_e=fe=>{let ye,je;const ft=fe.width+8,Ve=(0,ie.c)(),Be=(0,ie.c)();fe.isEndSide?(ye=ft+"px",je="0px"):(ye=-ft+"px",je="0px"),Ve.addElement(fe.menuInnerEl).fromTo("transform",`translateX(${ye})`,`translateX(${je})`);const Lt="ios"===(0,Fe.b)(fe),vt=Lt?.2:.25;return Be.addElement(fe.backdropEl).fromTo("opacity",.01,vt),de(Lt).addAnimation([Ve,Be])},ge=fe=>{let ye,je;const ft=(0,Fe.b)(fe),Ve=fe.width;fe.isEndSide?(ye=-Ve+"px",je=Ve+"px"):(ye=Ve+"px",je=-Ve+"px");const Be=(0,ie.c)().addElement(fe.menuInnerEl).fromTo("transform",`translateX(${je})`,"translateX(0px)"),Ge=(0,ie.c)().addElement(fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ye})`),Lt=(0,ie.c)().addElement(fe.backdropEl).fromTo("opacity",.01,.32);return de("ios"===ft).addAnimation([Be,Ge,Lt])},Se=fe=>{const ye=(0,Fe.b)(fe),je=fe.width*(fe.isEndSide?-1:1)+"px",ft=(0,ie.c)().addElement(fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${je})`);return de("ios"===ye).addAnimation(ft)},oe=(()=>{const fe=new Map,ye=[],je=function(){var Je=(0,o.Z)(function*(Ye){const at=yield Et(Ye);return!!at&&at.open()});return function(at){return Je.apply(this,arguments)}}(),ft=function(){var Je=(0,o.Z)(function*(Ye){const at=yield void 0!==Ye?Et(Ye):Qe();return void 0!==at&&at.close()});return function(at){return Je.apply(this,arguments)}}(),Ve=function(){var Je=(0,o.Z)(function*(Ye){const at=yield Et(Ye);return!!at&&at.toggle()});return function(at){return Je.apply(this,arguments)}}(),Be=function(){var Je=(0,o.Z)(function*(Ye,at){const ht=yield Et(at);return ht&&(ht.disabled=!Ye),ht});return function(at,ht){return Je.apply(this,arguments)}}(),Ge=function(){var Je=(0,o.Z)(function*(Ye,at){const ht=yield Et(at);return ht&&(ht.swipeGesture=Ye),ht});return function(at,ht){return Je.apply(this,arguments)}}(),Lt=function(){var Je=(0,o.Z)(function*(Ye){if(null!=Ye){const at=yield Et(Ye);return void 0!==at&&at.isOpen()}return void 0!==(yield Qe())});return function(at){return Je.apply(this,arguments)}}(),vt=function(){var Je=(0,o.Z)(function*(Ye){const at=yield Et(Ye);return!!at&&!at.disabled});return function(at){return Je.apply(this,arguments)}}(),Et=function(){var Je=(0,o.Z)(function*(Ye){return yield mt(),"start"===Ye||"end"===Ye?Mt(xt=>xt.side===Ye&&!xt.disabled)||Mt(xt=>xt.side===Ye):null!=Ye?Mt(ht=>ht.menuId===Ye):Mt(ht=>!ht.disabled)||(ye.length>0?ye[0].el:void 0)});return function(at){return Je.apply(this,arguments)}}(),Qe=function(){var Je=(0,o.Z)(function*(){return yield mt(),me()});return function(){return Je.apply(this,arguments)}}(),We=function(){var Je=(0,o.Z)(function*(){return yield mt(),At()});return function(){return Je.apply(this,arguments)}}(),ke=function(){var Je=(0,o.Z)(function*(){return yield mt(),St()});return function(){return Je.apply(this,arguments)}}(),tt=(Je,Ye)=>{fe.set(Je,Ye)},Ie=Je=>{const Ye=Je.side;ye.filter(at=>at.side===Ye&&at!==Je).forEach(at=>at.disabled=!0)},ue=function(){var Je=(0,o.Z)(function*(Ye,at,ht){if(St())return!1;if(at){const xt=yield Qe();xt&&Ye.el!==xt&&(yield xt.setOpen(!1,!1))}return Ye._setOpen(at,ht)});return function(at,ht,xt){return Je.apply(this,arguments)}}(),me=()=>Mt(Je=>Je._isOpen),At=()=>ye.map(Je=>Je.el),St=()=>ye.some(Je=>Je.isAnimating),Mt=Je=>{const Ye=ye.find(Je);if(void 0!==Ye)return Ye.el},mt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Je=>new Promise(Ye=>(0,Q.c)(Je,Ye))));return tt("reveal",Se),tt("push",ge),tt("overlay",_e),typeof document<"u"&&document.addEventListener("ionBackButton",Je=>{const Ye=me();Ye&&Je.detail.register(q.MENU_BACK_BUTTON_PRIORITY,()=>Ye.close())}),{registerAnimation:tt,get:Et,getMenus:We,getOpen:Qe,isEnabled:vt,swipeGesture:Ge,isAnimating:ke,isOpen:Lt,enable:Be,toggle:Ve,close:ft,open:je,_getOpenSync:me,_createAnimation:(Je,Ye)=>{const at=fe.get(Je);if(!at)throw new Error("animation not registered");return at(Ye)},_register:Je=>{ye.indexOf(Je)<0&&(Je.disabled||Ie(Je),ye.push(Je))},_unregister:Je=>{const Ye=ye.indexOf(Je);Ye>-1&&ye.splice(Ye,1)},_setOpen:ue,_setActiveMenu:Ie}})()},1671:(Sn,bt,L)=>{"use strict";L.d(bt,{a:()=>oe,b:()=>St,c:()=>Q,g:()=>he,i:()=>Mt});var o=L(7936);class q{constructor(){this.m=new Map}reset(Je){this.m=new Map(Object.entries(Je))}get(Je,Ye){const at=this.m.get(Je);return void 0!==at?at:Ye}getBoolean(Je,Ye=!1){const at=this.m.get(Je);return void 0===at?Ye:"string"==typeof at?"true"===at:!!at}getNumber(Je,Ye){const at=parseFloat(this.m.get(Je));return isNaN(at)?void 0!==Ye?Ye:NaN:at}set(Je,Ye){this.m.set(Je,Ye)}}const Q=new q,Se="ionic-persist-config",he=mt=>fe(mt),oe=(mt,Je)=>("string"==typeof mt&&(Je=mt,mt=void 0),he(mt).includes(Je)),fe=(mt=window)=>{if(typeof mt>"u")return[];mt.Ionic=mt.Ionic||{};let Je=mt.Ionic.platforms;return null==Je&&(Je=mt.Ionic.platforms=ye(mt),Je.forEach(Ye=>mt.document.documentElement.classList.add(`plt-${Ye}`))),Je},ye=mt=>{const Je=Q.get("platform");return Object.keys(me).filter(Ye=>{const at=Je?.[Ye];return"function"==typeof at?at(mt):me[Ye](mt)})},ft=mt=>!!(ue(mt,/iPad/i)||ue(mt,/Macintosh/i)&&Qe(mt)),Ge=mt=>ue(mt,/android|sink/i),Qe=mt=>Ce(mt,"(any-pointer:coarse)"),ke=mt=>tt(mt)||Ee(mt),tt=mt=>!!(mt.cordova||mt.phonegap||mt.PhoneGap),Ee=mt=>!!mt.Capacitor?.isNative,ue=(mt,Je)=>Je.test(mt.navigator.userAgent),Ce=(mt,Je)=>{var Ye;return null===(Ye=mt.matchMedia)||void 0===Ye?void 0:Ye.call(mt,Je).matches},me={ipad:ft,iphone:mt=>ue(mt,/iPhone/i),ios:mt=>ue(mt,/iPhone|iPod/i)||ft(mt),android:Ge,phablet:mt=>{const Je=mt.innerWidth,Ye=mt.innerHeight,at=Math.min(Je,Ye),ht=Math.max(Je,Ye);return at>390&&at<520&&ht>620&&ht<800},tablet:mt=>{const Je=mt.innerWidth,Ye=mt.innerHeight,at=Math.min(Je,Ye),ht=Math.max(Je,Ye);return ft(mt)||(mt=>Ge(mt)&&!ue(mt,/mobile/i))(mt)||at>460&&at<820&&ht>780&&ht<1400},cordova:tt,capacitor:Ee,electron:mt=>ue(mt,/electron/i),pwa:mt=>{var Je;return!(!(null===(Je=mt.matchMedia)||void 0===Je?void 0:Je.call(mt,"(display-mode: standalone)").matches)&&!mt.navigator.standalone)},mobile:Qe,mobileweb:mt=>Qe(mt)&&!ke(mt),desktop:mt=>!Qe(mt),hybrid:ke};let At;const St=mt=>mt&&(0,o.g)(mt)||At,Mt=(mt={})=>{if(typeof window>"u")return;const Je=window.document,Ye=window,at=Ye.Ionic=Ye.Ionic||{},ht={};mt._ael&&(ht.ael=mt._ael),mt._rel&&(ht.rel=mt._rel),mt._ce&&(ht.ce=mt._ce),(0,o.s)(ht);const xt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(mt=>{try{const Je=mt.sessionStorage.getItem(Se);return null!==Je?JSON.parse(Je):{}}catch{return{}}})(Ye)),{persistConfig:!1}),at.config),(mt=>{const Je={};return mt.location.search.slice(1).split("&").map(Ye=>Ye.split("=")).map(([Ye,at])=>[decodeURIComponent(Ye),decodeURIComponent(at)]).filter(([Ye])=>((mt,Je)=>mt.substr(0,Je.length)===Je)(Ye,"ionic:")).map(([Ye,at])=>[Ye.slice("ionic:".length),at]).forEach(([Ye,at])=>{Je[Ye]=at}),Je})(Ye)),mt);Q.reset(xt),Q.getBoolean("persistConfig")&&((mt,Je)=>{try{mt.sessionStorage.setItem(Se,JSON.stringify(Je))}catch{return}})(Ye,xt),fe(Ye),at.config=Q,at.mode=At=Q.get("mode",Je.documentElement.getAttribute("mode")||(oe(Ye,"ios")?"ios":"md")),Q.set("mode",At),Je.documentElement.setAttribute("mode",At),Je.documentElement.classList.add(At),Q.getBoolean("_testing")&&Q.set("animated",!1);const $t=Ut=>{var bn;return null===(bn=Ut.tagName)||void 0===bn?void 0:bn.startsWith("ION-")},En=Ut=>["ios","md"].includes(Ut);(0,o.a)(Ut=>{for(;Ut;){const bn=Ut.mode||Ut.getAttribute("mode");if(bn){if(En(bn))return bn;$t(Ut)&&console.warn('Invalid ionic mode: "'+bn+'", expected: "ios" or "md"')}Ut=Ut.parentElement}return At})}},9950:(Sn,bt,L)=>{"use strict";L.r(bt),L.d(bt,{iosTransitionAnimation:()=>fe,shadow:()=>de});var o=L(9442),q=L(471);L(7936);const ie=ye=>document.querySelector(`${ye}.ion-cloned-element`),de=ye=>ye.shadowRoot||ye,_e=ye=>{const je="ION-TABS"===ye.tagName?ye:ye.querySelector("ion-tabs"),ft="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=je){const Ve=je.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ve?Ve.querySelector(ft):null}return ye.querySelector(ft)},ge=(ye,je)=>{const ft="ION-TABS"===ye.tagName?ye:ye.querySelector("ion-tabs");let Ve=[];if(null!=ft){const Be=ft.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Be&&(Ve=Be.querySelectorAll("ion-buttons"))}else Ve=ye.querySelectorAll("ion-buttons");for(const Be of Ve){const Ge=Be.closest("ion-header"),Lt=Ge&&!Ge.classList.contains("header-collapse-condense-inactive"),vt=Be.querySelector("ion-back-button"),Et=Be.classList.contains("buttons-collapse"),Qe="start"===Be.slot||""===Be.slot;if(null!==vt&&Qe&&(Et&&Lt&&je||!Et))return vt}return null},he=(ye,je,ft,Ve,Be,Ge)=>{const Lt=je?`calc(100% - ${Ge.right+4}px)`:Ge.left-4+"px",vt=je?"7px":"-7px",Et=je?"-4px":"4px",Qe=je?"-4px":"4px",We=je?"right":"left",ke=je?"left":"right",ve=ft?[{offset:0,opacity:1,transform:`translate3d(${Et}, ${Ge.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${vt}, ${Be.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${vt}, ${Be.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Et}, ${Ge.top-46}px, 0) scale(1)`}],Ce=ft?[{offset:0,opacity:1,transform:`translate3d(${Qe}, ${Ge.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Qe}, ${Ge.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Qe}, ${Ge.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Qe}, ${Ge.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Qe}, ${Ge.top-46}px, 0) scale(1)`}],me=(0,o.c)(),At=(0,o.c)(),St=ie("ion-back-button"),Mt=de(St).querySelector(".button-text"),mt=de(St).querySelector("ion-icon");St.text=Ve.text,St.mode=Ve.mode,St.icon=Ve.icon,St.color=Ve.color,St.disabled=Ve.disabled,St.style.setProperty("display","block"),St.style.setProperty("position","fixed"),At.addElement(mt),me.addElement(Mt),me.beforeStyles({"transform-origin":`${We} center`}).beforeAddWrite(()=>{Ve.style.setProperty("display","none"),St.style.setProperty(We,Lt)}).afterAddWrite(()=>{Ve.style.setProperty("display",""),St.style.setProperty("display","none"),St.style.removeProperty(We)}).keyframes(ve),At.beforeStyles({"transform-origin":`${ke} center`}).keyframes(Ce),ye.addAnimation([me,At])},oe=(ye,je,ft,Ve,Be,Ge)=>{const Lt=je?`calc(100% - ${Be.right}px)`:`${Be.left}px`,vt=je?"-18px":"18px",Et=je?"right":"left",ke=ft?[{offset:0,opacity:0,transform:`translate3d(${vt}, ${Ge.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Be.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Be.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${vt}, ${Ge.top-4}px, 0) scale(0.5)`}],tt=ie("ion-title"),Ee=(0,o.c)();tt.innerText=Ve.innerText,tt.size=Ve.size,tt.color=Ve.color,Ee.addElement(tt),Ee.beforeStyles({"transform-origin":`${Et} center`,height:"46px",display:"",position:"relative",[Et]:Lt}).beforeAddWrite(()=>{Ve.style.setProperty("display","none")}).afterAddWrite(()=>{Ve.style.setProperty("display",""),tt.style.setProperty("display","none")}).keyframes(ke),ye.addAnimation(Ee)},fe=(ye,je)=>{try{const ft="cubic-bezier(0.32,0.72,0,1)",Ve="opacity",Be="transform",Ge="0%",vt="rtl"===ye.ownerDocument.dir,Et=vt?"-99.5%":"99.5%",Qe=vt?"33%":"-33%",We=je.enteringEl,ke=je.leavingEl,tt="back"===je.direction,Ee=We.querySelector(":scope > ion-content"),ve=We.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ie=We.querySelectorAll(":scope > ion-header > ion-toolbar"),ue=(0,o.c)(),Ce=(0,o.c)();if(ue.addElement(We).duration(je.duration||540).easing(je.easing||ft).fill("both").beforeRemoveClass("ion-page-invisible"),ke&&ye){const Mt=(0,o.c)();Mt.addElement(ye),ue.addAnimation(Mt)}if(Ee||0!==Ie.length||0!==ve.length?(Ce.addElement(Ee),Ce.addElement(ve)):Ce.addElement(We.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ue.addAnimation(Ce),tt?Ce.beforeClearStyles([Ve]).fromTo("transform",`translateX(${Qe})`,`translateX(${Ge})`).fromTo(Ve,.8,1):Ce.beforeClearStyles([Ve]).fromTo("transform",`translateX(${Et})`,`translateX(${Ge})`),Ee){const Mt=de(Ee).querySelector(".transition-effect");if(Mt){const mt=Mt.querySelector(".transition-cover"),Je=Mt.querySelector(".transition-shadow"),Ye=(0,o.c)(),at=(0,o.c)(),ht=(0,o.c)();Ye.addElement(Mt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),at.addElement(mt).beforeClearStyles([Ve]).fromTo(Ve,0,.1),ht.addElement(Je).beforeClearStyles([Ve]).fromTo(Ve,.03,.7),Ye.addAnimation([at,ht]),Ce.addAnimation([Ye])}}const me=We.querySelector("ion-header.header-collapse-condense"),{forward:At,backward:St}=((ye,je,ft,Ve,Be)=>{const Ge=ge(Ve,ft),Lt=_e(Be),vt=_e(Ve),Et=ge(Be,ft),Qe=null!==Ge&&null!==Lt&&!ft,We=null!==vt&&null!==Et&&ft;if(Qe){const ke=Lt.getBoundingClientRect(),tt=Ge.getBoundingClientRect();oe(ye,je,ft,Lt,ke,tt),he(ye,je,ft,Ge,ke,tt)}else if(We){const ke=vt.getBoundingClientRect(),tt=Et.getBoundingClientRect();oe(ye,je,ft,vt,ke,tt),he(ye,je,ft,Et,ke,tt)}return{forward:Qe,backward:We}})(ue,vt,tt,We,ke);if(Ie.forEach(Mt=>{const mt=(0,o.c)();mt.addElement(Mt),ue.addAnimation(mt);const Je=(0,o.c)();Je.addElement(Mt.querySelector("ion-title"));const Ye=(0,o.c)(),at=Array.from(Mt.querySelectorAll("ion-buttons,[menuToggle]")),ht=Mt.closest("ion-header"),xt=ht?.classList.contains("header-collapse-condense-inactive");let $t;$t=at.filter(tt?Cn=>{const Zn=Cn.classList.contains("buttons-collapse");return Zn&&!xt||!Zn}:Cn=>!Cn.classList.contains("buttons-collapse")),Ye.addElement($t);const En=(0,o.c)();En.addElement(Mt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ut=(0,o.c)();Ut.addElement(de(Mt).querySelector(".toolbar-background"));const bn=(0,o.c)(),Te=Mt.querySelector("ion-back-button");if(Te&&bn.addElement(Te),mt.addAnimation([Je,Ye,En,Ut,bn]),Ye.fromTo(Ve,.01,1),En.fromTo(Ve,.01,1),tt)xt||Je.fromTo("transform",`translateX(${Qe})`,`translateX(${Ge})`).fromTo(Ve,.01,1),En.fromTo("transform",`translateX(${Qe})`,`translateX(${Ge})`),bn.fromTo(Ve,.01,1);else if(me||Je.fromTo("transform",`translateX(${Et})`,`translateX(${Ge})`).fromTo(Ve,.01,1),En.fromTo("transform",`translateX(${Et})`,`translateX(${Ge})`),Ut.beforeClearStyles([Ve,"transform"]),ht?.translucent?Ut.fromTo("transform",vt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ut.fromTo(Ve,.01,"var(--opacity)"),At||bn.fromTo(Ve,.01,1),Te&&!At){const Zn=(0,o.c)();Zn.addElement(de(Te).querySelector(".button-text")).fromTo("transform",vt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),mt.addAnimation(Zn)}}),ke){const Mt=(0,o.c)(),mt=ke.querySelector(":scope > ion-content"),Je=ke.querySelectorAll(":scope > ion-header > ion-toolbar"),Ye=ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(mt||0!==Je.length||0!==Ye.length?(Mt.addElement(mt),Mt.addElement(Ye)):Mt.addElement(ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ue.addAnimation(Mt),tt){Mt.beforeClearStyles([Ve]).fromTo("transform",`translateX(${Ge})`,vt?"translateX(-100%)":"translateX(100%)");const at=(0,q.g)(ke);ue.afterAddWrite(()=>{"normal"===ue.getDirection()&&at.style.setProperty("display","none")})}else Mt.fromTo("transform",`translateX(${Ge})`,`translateX(${Qe})`).fromTo(Ve,1,.8);if(mt){const at=de(mt).querySelector(".transition-effect");if(at){const ht=at.querySelector(".transition-cover"),xt=at.querySelector(".transition-shadow"),$t=(0,o.c)(),En=(0,o.c)(),Ut=(0,o.c)();$t.addElement(at).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),En.addElement(ht).beforeClearStyles([Ve]).fromTo(Ve,.1,0),Ut.addElement(xt).beforeClearStyles([Ve]).fromTo(Ve,.7,.03),$t.addAnimation([En,Ut]),Mt.addAnimation([$t])}}Je.forEach(at=>{const ht=(0,o.c)();ht.addElement(at);const xt=(0,o.c)();xt.addElement(at.querySelector("ion-title"));const $t=(0,o.c)(),En=at.querySelectorAll("ion-buttons,[menuToggle]"),Ut=at.closest("ion-header"),bn=Ut?.classList.contains("header-collapse-condense-inactive"),Te=Array.from(En).filter($n=>{const ei=$n.classList.contains("buttons-collapse");return ei&&!bn||!ei});$t.addElement(Te);const Cn=(0,o.c)(),Zn=at.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Zn.length>0&&Cn.addElement(Zn);const zn=(0,o.c)();zn.addElement(de(at).querySelector(".toolbar-background"));const yi=(0,o.c)(),Er=at.querySelector("ion-back-button");if(Er&&yi.addElement(Er),ht.addAnimation([xt,$t,Cn,yi,zn]),ue.addAnimation(ht),yi.fromTo(Ve,.99,0),$t.fromTo(Ve,.99,0),Cn.fromTo(Ve,.99,0),tt){if(bn||xt.fromTo("transform",`translateX(${Ge})`,vt?"translateX(-100%)":"translateX(100%)").fromTo(Ve,.99,0),Cn.fromTo("transform",`translateX(${Ge})`,vt?"translateX(-100%)":"translateX(100%)"),zn.beforeClearStyles([Ve,"transform"]),Ut?.translucent?zn.fromTo("transform","translateX(0px)",vt?"translateX(-100%)":"translateX(100%)"):zn.fromTo(Ve,"var(--opacity)",0),Er&&!St){const ei=(0,o.c)();ei.addElement(de(Er).querySelector(".button-text")).fromTo("transform",`translateX(${Ge})`,`translateX(${(vt?-124:124)+"px"})`),ht.addAnimation(ei)}}else bn||xt.fromTo("transform",`translateX(${Ge})`,`translateX(${Qe})`).fromTo(Ve,.99,0).afterClearStyles([Be,Ve]),Cn.fromTo("transform",`translateX(${Ge})`,`translateX(${Qe})`).afterClearStyles([Be,Ve]),yi.afterClearStyles([Ve]),xt.afterClearStyles([Ve]),$t.afterClearStyles([Ve])})}return ue}catch(ft){throw ft}}},4802:(Sn,bt,L)=>{"use strict";L.r(bt),L.d(bt,{mdTransitionAnimation:()=>Fe});var o=L(9442),q=L(471);L(7936);const Fe=(ie,de)=>{const Se="back"===de.direction,oe=de.leavingEl,fe=(0,q.g)(de.enteringEl),ye=fe.querySelector("ion-toolbar"),je=(0,o.c)();if(je.addElement(fe).fill("both").beforeRemoveClass("ion-page-invisible"),Se?je.duration(de.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):je.duration(de.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ye){const ft=(0,o.c)();ft.addElement(ye),je.addAnimation(ft)}if(oe&&Se){je.duration(de.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ft=(0,o.c)();ft.addElement((0,q.g)(oe)).onFinish(Ve=>{1===Ve&&ft.elements.length>0&&ft.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),je.addAnimation(ft)}return je}},4239:(Sn,bt,L)=>{"use strict";L.d(bt,{B:()=>Ye,a:()=>ge,b:()=>Se,c:()=>ye,d:()=>ve,e:()=>ft,f:()=>ue,g:()=>At,h:()=>de,i:()=>Mt,j:()=>Ge,k:()=>tt,m:()=>oe,s:()=>Je,t:()=>je});var o=L(5861),q=L(1671),Q=L(7593),Fe=L(3756);let ie=0;const de=new WeakMap,_e=at=>({create:ht=>Ve(at,ht),dismiss:(ht,xt,$t)=>We(document,ht,xt,at,$t),getTop:()=>(0,o.Z)(function*(){return tt(document,at)})()}),ge=_e("ion-alert"),Se=_e("ion-action-sheet"),oe=_e("ion-modal"),ye=_e("ion-popover"),je=_e("ion-toast"),ft=at=>{typeof document<"u"&&Qe(document);const ht=ie++;at.overlayIndex=ht,at.hasAttribute("id")||(at.id=`ion-overlay-${ht}`)},Ve=(at,ht)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(at).then(()=>{const xt=document.createElement(at);return xt.classList.add("overlay-hidden"),Object.assign(xt,Object.assign(Object.assign({},ht),{hasController:!0})),Ce(document).appendChild(xt),new Promise($t=>(0,Fe.c)(xt,$t))}):Promise.resolve(),Be='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Ge=(at,ht)=>{let xt=at.querySelector(Be);const $t=xt?.shadowRoot;$t&&(xt=$t.querySelector(Be)||xt),xt?(0,Fe.f)(xt):ht.focus()},vt=(at,ht)=>{const xt=Array.from(at.querySelectorAll(Be));let $t=xt.length>0?xt[xt.length-1]:null;const En=$t?.shadowRoot;En&&($t=En.querySelector(Be)||$t),$t?$t.focus():ht.focus()},Qe=at=>{0===ie&&(ie=1,at.addEventListener("focus",ht=>{((at,ht)=>{const xt=tt(ht,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),$t=at.target;xt&&$t&&!xt.classList.contains("ion-disable-focus-trap")&&(xt.shadowRoot?(()=>{if(xt.contains($t))xt.lastFocus=$t;else{const bn=xt.lastFocus;Ge(xt,xt),bn===ht.activeElement&&vt(xt,xt),xt.lastFocus=ht.activeElement}})():(()=>{if(xt===$t)xt.lastFocus=void 0;else{const bn=(0,Fe.g)(xt);if(!bn.contains($t))return;const Te=bn.querySelector(".ion-overlay-wrapper");if(!Te)return;if(Te.contains($t))xt.lastFocus=$t;else{const Cn=xt.lastFocus;Ge(Te,xt),Cn===ht.activeElement&&vt(Te,xt),xt.lastFocus=ht.activeElement}}})())})(ht,at)},!0),at.addEventListener("ionBackButton",ht=>{const xt=tt(at);xt?.backdropDismiss&&ht.detail.register(Q.OVERLAY_BACK_BUTTON_PRIORITY,()=>xt.dismiss(void 0,Ye))}),at.addEventListener("keyup",ht=>{if("Escape"===ht.key){const xt=tt(at);xt?.backdropDismiss&&xt.dismiss(void 0,Ye)}}))},We=(at,ht,xt,$t,En)=>{const Ut=tt(at,$t,En);return Ut?Ut.dismiss(ht,xt):Promise.reject("overlay does not exist")},tt=(at,ht,xt)=>{const $t=((at,ht)=>(void 0===ht&&(ht="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(at.querySelectorAll(ht)).filter(xt=>xt.overlayIndex>0)))(at,ht).filter(En=>!(at=>at.classList.contains("overlay-hidden"))(En));return void 0===xt?$t[$t.length-1]:$t.find(En=>En.id===xt)},Ee=(at=!1)=>{const xt=Ce(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!xt||(at?xt.setAttribute("aria-hidden","true"):xt.removeAttribute("aria-hidden"))},ve=function(){var at=(0,o.Z)(function*(ht,xt,$t,En,Ut){var bn,Te;if(ht.presented)return;Ee(!0),ht.presented=!0,ht.willPresent.emit(),null===(bn=ht.willPresentShorthand)||void 0===bn||bn.emit();const Cn=(0,q.b)(ht),Zn=ht.enterAnimation?ht.enterAnimation:q.c.get(xt,"ios"===Cn?$t:En);(yield me(ht,Zn,ht.el,Ut))&&(ht.didPresent.emit(),null===(Te=ht.didPresentShorthand)||void 0===Te||Te.emit()),"ION-TOAST"!==ht.el.tagName&&Ie(ht.el),ht.keyboardClose&&(null===document.activeElement||!ht.el.contains(document.activeElement))&&ht.el.focus()});return function(xt,$t,En,Ut,bn){return at.apply(this,arguments)}}(),Ie=function(){var at=(0,o.Z)(function*(ht){let xt=document.activeElement;if(!xt)return;const $t=xt?.shadowRoot;$t&&(xt=$t.querySelector(Be)||xt),yield ht.onDidDismiss(),xt.focus()});return function(xt){return at.apply(this,arguments)}}(),ue=function(){var at=(0,o.Z)(function*(ht,xt,$t,En,Ut,bn,Te){var Cn,Zn;if(!ht.presented)return!1;Ee(!1),ht.presented=!1;try{ht.el.style.setProperty("pointer-events","none"),ht.willDismiss.emit({data:xt,role:$t}),null===(Cn=ht.willDismissShorthand)||void 0===Cn||Cn.emit({data:xt,role:$t});const zn=(0,q.b)(ht),yi=ht.leaveAnimation?ht.leaveAnimation:q.c.get(En,"ios"===zn?Ut:bn);"gesture"!==$t&&(yield me(ht,yi,ht.el,Te)),ht.didDismiss.emit({data:xt,role:$t}),null===(Zn=ht.didDismissShorthand)||void 0===Zn||Zn.emit({data:xt,role:$t}),de.delete(ht),ht.el.classList.add("overlay-hidden"),ht.el.style.removeProperty("pointer-events")}catch(zn){console.error(zn)}return ht.el.remove(),!0});return function(xt,$t,En,Ut,bn,Te,Cn){return at.apply(this,arguments)}}(),Ce=at=>at.querySelector("ion-app")||at.body,me=function(){var at=(0,o.Z)(function*(ht,xt,$t,En){$t.classList.remove("overlay-hidden");const bn=xt(ht.el,En);(!ht.animated||!q.c.getBoolean("animated",!0))&&bn.duration(0),ht.keyboardClose&&bn.beforeAddWrite(()=>{const Cn=$t.ownerDocument.activeElement;Cn?.matches("input,ion-input, ion-textarea")&&Cn.blur()});const Te=de.get(ht)||[];return de.set(ht,[...Te,bn]),yield bn.play(),!0});return function(xt,$t,En,Ut){return at.apply(this,arguments)}}(),At=(at,ht)=>{let xt;const $t=new Promise(En=>xt=En);return St(at,ht,En=>{xt(En.detail)}),$t},St=(at,ht,xt)=>{const $t=En=>{(0,Fe.b)(at,ht,$t),xt(En)};(0,Fe.a)(at,ht,$t)},Mt=at=>"cancel"===at||at===Ye,mt=at=>at(),Je=(at,ht)=>{if("function"==typeof at)return q.c.get("_zoneGate",mt)(()=>{try{return at(ht)}catch($t){throw $t}})},Ye="backdrop"},6738:(Sn,bt,L)=>{"use strict";L.d(bt,{H:()=>dn,a:()=>$t,b:()=>mr,c:()=>hr,d:()=>lt,g:()=>Ze,h:()=>ei,r:()=>Ge});var o=L(5861);let ie,de,Q=0,Fe=!1,_e=!1;const ge=typeof window<"u"?window:{},Se=ge.CSS,he=ge.document||{head:{}},oe={$flags$:0,$resourcesUrl$:"",jmp:te=>te(),raf:te=>requestAnimationFrame(te),ael:(te,be,it,_t)=>te.addEventListener(be,it,_t),rel:(te,be,it,_t)=>te.removeEventListener(be,it,_t)},fe=(()=>(he.head.attachShadow+"").indexOf("[native")>-1)(),ye=te=>Promise.resolve(te),je=(()=>{try{return new CSSStyleSheet,!0}catch{}return!1})(),ft={},Ve=new WeakMap,Be=te=>Ve.get(te),Ge=(te,be)=>Ve.set(be.$lazyInstance$=te,be),vt=(te,be)=>be in te,Et=te=>console.error(te),Qe=new Map,ke=new Map,tt=[],Ee=[],ve=[],Ie=(te,be)=>it=>{te.push(it),Fe||(Fe=!0,be&&4&oe.$flags$?At(me):oe.raf(me))},Ce=(te,be)=>{let it=0,_t=0;for(;it<te.length&&(_t=performance.now())<be;)try{te[it++](_t)}catch(Ht){Et(Ht)}it===te.length?te.length=0:0!==it&&te.splice(0,it)},me=()=>{Q++,(te=>{for(let be=0;be<te.length;be++)try{te[be](performance.now())}catch(it){Et(it)}te.length=0})(tt);const te=2==(6&oe.$flags$)?performance.now()+10*Math.ceil(Q*(1/22)):1/0;Ce(Ee,te),Ce(ve,te),Ee.length>0&&(ve.push(...Ee),Ee.length=0),(Fe=tt.length+Ee.length+ve.length>0)?oe.raf(me):Q=0},At=te=>ye().then(te),St=Ie(tt,!1),Mt=Ie(Ee,!0),mt={},ht=te=>"object"==(te=typeof te)||"function"===te,$t=()=>Se&&Se.supports&&Se.supports("color","var(--c)")?ye():L.e(4952).then(L.t.bind(L,9723,23)).then(()=>(oe.$cssShim$=ge.__cssshim)?oe.$cssShim$.i():0),Zn=new WeakMap,$n=(te,be)=>"sc-"+te,ei=(te,be,...it)=>{let _t=null,Ht=!1,Zt=!1,Qt=[];const kn=Gn=>{for(let di=0;di<Gn.length;di++)_t=Gn[di],Array.isArray(_t)?kn(_t):null!=_t&&"boolean"!=typeof _t&&((Ht="function"!=typeof te&&!ht(_t))&&(_t=String(_t)),Ht&&Zt?Qt[Qt.length-1].$text$+=_t:Qt.push(Ht?sn(null,_t):_t),Zt=Ht)};if(kn(it),be){const Gn=be.className||be.class;Gn&&(be.class="object"!=typeof Gn?Gn:Object.keys(Gn).filter(di=>Gn[di]).join(" "))}const tn=sn(te,null);return tn.$attrs$=be,Qt.length>0&&(tn.$children$=Qt),tn},sn=(te,be)=>({$flags$:0,$tag$:te,$text$:be,$elm$:null,$children$:null,$attrs$:null}),dn={},xi=(te,be,it,_t,Ht,Zt)=>{if(it!==_t){let Qt=vt(te,be),kn=be.toLowerCase();if("class"===be){const tn=te.classList,Gn=mi(it),di=mi(_t);tn.remove(...Gn.filter(Mi=>Mi&&!di.includes(Mi))),tn.add(...di.filter(Mi=>Mi&&!Gn.includes(Mi)))}else if("style"===be){for(const tn in it)(!_t||null==_t[tn])&&(tn.includes("-")?te.style.removeProperty(tn):te.style[tn]="");for(const tn in _t)(!it||_t[tn]!==it[tn])&&(tn.includes("-")?te.style.setProperty(tn,_t[tn]):te.style[tn]=_t[tn])}else if("ref"===be)_t&&_t(te);else if(Qt||"o"!==be[0]||"n"!==be[1]){const tn=ht(_t);if((Qt||tn&&null!==_t)&&!Ht)try{if(te.tagName.includes("-"))te[be]=_t;else{let Gn=_t??"";"list"===be?Qt=!1:(null==it||te[be]!=Gn)&&(te[be]=Gn)}}catch{}null==_t||!1===_t?te.removeAttribute(be):(!Qt||4&Zt||Ht)&&!tn&&te.setAttribute(be,_t=!0===_t?"":_t)}else be="-"===be[2]?be.slice(3):vt(ge,kn)?kn.slice(2):kn[2]+be.slice(3),it&&oe.rel(te,be,it,!1),_t&&oe.ael(te,be,_t,!1)}},Kn=/\s/,mi=te=>te?te.split(Kn):[],vi=(te,be,it,_t)=>{const Ht=11===be.$elm$.nodeType&&be.$elm$.host?be.$elm$.host:be.$elm$,Zt=te&&te.$attrs$||mt,Qt=be.$attrs$||mt;for(_t in Zt)_t in Qt||xi(Ht,_t,Zt[_t],void 0,it,be.$flags$);for(_t in Qt)xi(Ht,_t,Zt[_t],Qt[_t],it,be.$flags$)},Di=(te,be,it,_t)=>{let Qt,kn,Ht=be.$children$[it],Zt=0;if(null!==Ht.$text$)Qt=Ht.$elm$=he.createTextNode(Ht.$text$);else{if(_e||(_e="svg"===Ht.$tag$),Qt=Ht.$elm$=he.createElementNS(_e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Ht.$tag$),_e&&"foreignObject"===Ht.$tag$&&(_e=!1),vi(null,Ht,_e),(te=>null!=te)(ie)&&Qt["s-si"]!==ie&&Qt.classList.add(Qt["s-si"]=ie),Ht.$children$)for(Zt=0;Zt<Ht.$children$.length;++Zt)kn=Di(te,Ht,Zt),kn&&Qt.appendChild(kn);"svg"===Ht.$tag$?_e=!1:"foreignObject"===Qt.tagName&&(_e=!0)}return Qt},zt=(te,be,it,_t,Ht,Zt)=>{let kn,Qt=te;for(Qt.shadowRoot&&Qt.tagName===de&&(Qt=Qt.shadowRoot);Ht<=Zt;++Ht)_t[Ht]&&(kn=Di(null,it,Ht),kn&&(_t[Ht].$elm$=kn,Qt.insertBefore(kn,be)))},ot=(te,be,it,_t,Ht)=>{for(;be<=it;++be)(_t=te[be])&&(Ht=_t.$elm$,Tn(_t),Ht.remove())},Ot=(te,be)=>te.$tag$===be.$tag$,jt=(te,be)=>{const it=be.$elm$=te.$elm$,_t=te.$children$,Ht=be.$children$,Zt=be.$tag$,Qt=be.$text$;null===Qt?(_e="svg"===Zt||"foreignObject"!==Zt&&_e,vi(te,be,_e),null!==_t&&null!==Ht?((te,be,it,_t)=>{let bi,Ht=0,Zt=0,Qt=be.length-1,kn=be[0],tn=be[Qt],Gn=_t.length-1,di=_t[0],Mi=_t[Gn];for(;Ht<=Qt&&Zt<=Gn;)null==kn?kn=be[++Ht]:null==tn?tn=be[--Qt]:null==di?di=_t[++Zt]:null==Mi?Mi=_t[--Gn]:Ot(kn,di)?(jt(kn,di),kn=be[++Ht],di=_t[++Zt]):Ot(tn,Mi)?(jt(tn,Mi),tn=be[--Qt],Mi=_t[--Gn]):Ot(kn,Mi)?(jt(kn,Mi),te.insertBefore(kn.$elm$,tn.$elm$.nextSibling),kn=be[++Ht],Mi=_t[--Gn]):Ot(tn,di)?(jt(tn,di),te.insertBefore(tn.$elm$,kn.$elm$),tn=be[--Qt],di=_t[++Zt]):(bi=Di(be&&be[Zt],it,Zt),di=_t[++Zt],bi&&kn.$elm$.parentNode.insertBefore(bi,kn.$elm$));Ht>Qt?zt(te,null==_t[Gn+1]?null:_t[Gn+1].$elm$,it,_t,Zt,Gn):Zt>Gn&&ot(be,Ht,Qt)})(it,_t,be,Ht):null!==Ht?(null!==te.$text$&&(it.textContent=""),zt(it,null,be,Ht,0,Ht.length-1)):null!==_t&&ot(_t,0,_t.length-1),_e&&"svg"===Zt&&(_e=!1)):te.$text$!==Qt&&(it.data=Qt)},Tn=te=>{te.$attrs$&&te.$attrs$.ref&&te.$attrs$.ref(null),te.$children$&&te.$children$.forEach(Tn)},ni=(te,be)=>{be&&!te.$onRenderResolve$&&be["s-p"].push(new Promise(it=>te.$onRenderResolve$=it))},mn=(te,be,it,_t)=>{if(be.$flags$|=16,4&be.$flags$)return void(be.$flags$|=512);const Qt=be.$lazyInstance$,kn=()=>ai(te,be,it,Qt,_t);return ni(be,be.$ancestorComponent$),_t&&(be.$flags$|=256,be.$queuedListeners$&&(be.$queuedListeners$.forEach(([Gn,di])=>nt(Qt,Gn,di)),be.$queuedListeners$=null)),Xe(void 0,()=>Mt(kn))},ai=(te,be,it,_t,Ht)=>{const Qt=te["s-rc"];Ht&&((te,be,it)=>{const Ht=((te,be,it,_t)=>{let Ht=$n(be.$tagName$),Zt=ke.get(Ht);if(te=11===te.nodeType?te:he,Zt)if("string"==typeof Zt){let kn,Qt=Zn.get(te=te.head||te);if(Qt||Zn.set(te,Qt=new Set),!Qt.has(Ht)){if(oe.$cssShim$){kn=oe.$cssShim$.createHostStyle(_t,Ht,Zt,!!(10&be.$flags$));const tn=kn["s-sc"];tn&&(Ht=tn,Qt=null)}else kn=he.createElement("style"),kn.innerHTML=Zt;te.insertBefore(kn,te.querySelector("link")),Qt&&Qt.add(Ht)}}else te.adoptedStyleSheets.includes(Zt)||(te.adoptedStyleSheets=[...te.adoptedStyleSheets,Zt]);return Ht})(fe&&te.shadowRoot?te.shadowRoot:te.getRootNode(),be,0,te);10&be.$flags$&&(te["s-sc"]=Ht,te.classList.add(Ht+"-h"))})(te,it);((te,be,it,_t)=>{de=te.tagName;const Ht=be.$vnode$||sn(null,null),Zt=(te=>te&&te.$tag$===dn)(_t)?_t:ei(null,null,_t);Zt.$tag$=null,Zt.$flags$|=4,be.$vnode$=Zt,Zt.$elm$=Ht.$elm$=te.shadowRoot||te,ie=te["s-sc"],jt(Ht,Zt)})(te,be,0,Nn(_t)),oe.$cssShim$&&oe.$cssShim$.updateHost(te),be.$flags$&=-17,be.$flags$|=2,Qt&&(Qt.forEach(tn=>tn()),te["s-rc"]=void 0);{const tn=te["s-p"],Gn=()=>Pi(te,be,it);0===tn.length?Gn():(Promise.all(tn).then(Gn),be.$flags$|=4,tn.length=0)}},Nn=(te,be)=>{try{te=te.render()}catch(it){Et(it)}return te},Pi=(te,be,it)=>{const Ht=be.$lazyInstance$,Zt=be.$ancestorComponent$;64&be.$flags$||(be.$flags$|=64,ut(te),nt(Ht,"componentDidLoad"),be.$onReadyResolve$(te),Zt||ct()),be.$onInstanceResolve$(te),be.$onRenderResolve$&&(be.$onRenderResolve$(),be.$onRenderResolve$=void 0),512&be.$flags$&&At(()=>mn(te,be,it,!1)),be.$flags$&=-517},ct=te=>{ut(he.documentElement),oe.$flags$|=2},nt=(te,be,it)=>{if(te&&te[be])try{return te[be](it)}catch(_t){Et(_t)}},Xe=(te,be)=>te&&te.then?te.then(be):be(),ut=te=>te.classList.add("hydrated"),pi=(te,be,it)=>{if(be.$members$){const _t=Object.entries(be.$members$),Ht=te.prototype;if(_t.forEach(([Zt,[Qt]])=>{31&Qt||2&it&&32&Qt?Object.defineProperty(Ht,Zt,{get(){return((te,be)=>Be(this).$instanceValues$.get(be))(0,Zt)},set(kn){((te,be,it,_t)=>{const Ht=Be(te),Zt=Ht.$hostElement$,Qt=Ht.$instanceValues$.get(be),kn=Ht.$flags$,tn=Ht.$lazyInstance$;it=((te,be)=>null==te||ht(te)?te:4&be?"false"!==te&&(""===te||!!te):2&be?parseFloat(te):1&be?String(te):te)(it,_t.$members$[be][0]),it!==Qt&&(!(8&kn)||void 0===Qt)&&(Ht.$instanceValues$.set(be,it),tn&&2==(18&kn)&&mn(Zt,Ht,_t,!1))})(this,Zt,kn,be)},configurable:!0,enumerable:!0}):1&it&&64&Qt&&Object.defineProperty(Ht,Zt,{value(...kn){const tn=Be(this);return tn.$onInstancePromise$.then(()=>tn.$lazyInstance$[Zt](...kn))}})}),1&it){const Zt=new Map;Ht.attributeChangedCallback=function(Qt,kn,tn){oe.jmp(()=>{const Gn=Zt.get(Qt);this[Gn]=(null!==tn||"boolean"!=typeof this[Gn])&&tn})},te.observedAttributes=_t.filter(([Qt,kn])=>15&kn[0]).map(([Qt,kn])=>{const tn=kn[1]||Qt;return Zt.set(tn,Qt),tn})}}return te},Hn=function(){var te=(0,o.Z)(function*(be,it,_t,Ht,Zt){if(0==(32&it.$flags$)){it.$flags$|=32;{if(Zt=((te,be,it)=>{const _t=te.$tagName$.replace(/-/g,"_"),Ht=te.$lazyBundleIds$,Zt=Qe.get(Ht);return Zt?Zt[_t]:L(5899)(`./${Ht}.entry.js`).then(Qt=>(Qe.set(Ht,Qt),Qt[_t]),Et)})(_t),Zt.then){const di=()=>{};Zt=yield Zt,di()}Zt.isProxied||(pi(Zt,_t,2),Zt.isProxied=!0);const Gn=()=>{};it.$flags$|=8;try{new Zt(it)}catch(di){Et(di)}it.$flags$&=-9,Gn()}const tn=$n(_t.$tagName$);if(!ke.has(tn)&&Zt.style){const Gn=()=>{};let di=Zt.style;8&_t.$flags$&&(di=yield L.e(5487).then(L.bind(L,5487)).then(Mi=>Mi.scopeCss(di,tn,!1))),((te,be,it)=>{let _t=ke.get(te);je&&it?(_t=_t||new CSSStyleSheet,_t.replace(be)):_t=be,ke.set(te,_t)})(tn,di,!!(1&_t.$flags$)),Gn()}}const Qt=it.$ancestorComponent$,kn=()=>mn(be,it,_t,!0);Qt&&Qt["s-rc"]?Qt["s-rc"].push(kn):kn()});return function(it,_t,Ht,Zt,Qt){return te.apply(this,arguments)}}(),Bi=(te,be)=>{if(0==(1&oe.$flags$)){const it=()=>{},_t=Be(te);if(be.$listeners$&&(_t.$rmListeners$=((te,be,it)=>{be.$queuedListeners$=be.$queuedListeners$||[];const _t=it.map(([Ht,Zt,Qt])=>{const kn=((te,be)=>32&be?he.body:te)(te,Ht),tn=((te,be)=>it=>{256&te.$flags$?te.$lazyInstance$[be](it):te.$queuedListeners$.push([be,it])})(be,Qt),Gn=(te=>0!=(2&te))(Ht);return oe.ael(kn,Zt,tn,Gn),()=>oe.rel(kn,Zt,tn,Gn)});return()=>_t.forEach(Ht=>Ht())})(te,_t,be.$listeners$)),!(1&_t.$flags$)){_t.$flags$|=1;{let Ht=te;for(;Ht=Ht.parentNode||Ht.host;)if(Ht["s-p"]){ni(_t,_t.$ancestorComponent$=Ht);break}}be.$members$&&Object.entries(be.$members$).forEach(([Ht,[Zt]])=>{if(31&Zt&&te.hasOwnProperty(Ht)){const Qt=te[Ht];delete te[Ht],te[Ht]=Qt}}),At(()=>Hn(te,_t,be))}it()}},mr=(te,be={})=>{const _t=[],Ht=be.exclude||[],Zt=ge.customElements,Qt=he.head,kn=Qt.querySelector("meta[charset]"),tn=he.createElement("style"),Gn=[];let di,Mi=!0;Object.assign(oe,be),oe.$resourcesUrl$=new URL(be.resourcesUrl||"./",he.baseURI).href,be.syncQueue&&(oe.$flags$|=4),te.forEach(bi=>bi[1].forEach(Ri=>{const Sr={$flags$:Ri[0],$tagName$:Ri[1],$members$:Ri[2],$listeners$:Ri[3]};Sr.$members$=Ri[2],Sr.$listeners$=Ri[3],!fe&&1&Sr.$flags$&&(Sr.$flags$|=8);const qr=Sr.$tagName$,Or=class extends HTMLElement{constructor(pr){super(pr),(te=>{const be={$flags$:0,$hostElement$:te,$instanceValues$:new Map};be.$onInstancePromise$=new Promise(it=>be.$onInstanceResolve$=it),be.$onReadyPromise$=new Promise(it=>be.$onReadyResolve$=it),te["s-p"]=[],te["s-rc"]=[],Ve.set(te,be)})(pr=this),1&Sr.$flags$&&(fe?pr.attachShadow({mode:"open"}):"shadowRoot"in pr||(pr.shadowRoot=pr))}connectedCallback(){di&&(clearTimeout(di),di=null),Mi?Gn.push(this):oe.jmp(()=>Bi(this,Sr))}disconnectedCallback(){oe.jmp(()=>(te=>{if(0==(1&oe.$flags$)){const be=Be(te),it=be.$lazyInstance$;be.$rmListeners$&&(be.$rmListeners$(),be.$rmListeners$=void 0),oe.$cssShim$&&oe.$cssShim$.removeHost(te),nt(it,"componentDidUnload")}})(this))}forceUpdate(){((te,be)=>{{const it=Be(te);it.$hostElement$.isConnected&&2==(18&it.$flags$)&&mn(te,it,be,!1)}})(this,Sr)}componentOnReady(){return Be(this).$onReadyPromise$}};Sr.$lazyBundleIds$=bi[0],!Ht.includes(qr)&&!Zt.get(qr)&&(_t.push(qr),Zt.define(qr,pi(Or,Sr,1)))})),tn.innerHTML=_t+"{visibility:hidden}.hydrated{visibility:inherit}",tn.setAttribute("data-styles",""),Qt.insertBefore(tn,kn?kn.nextSibling:Qt.firstChild),Mi=!1,Gn.length>0?Gn.forEach(bi=>bi.connectedCallback()):oe.jmp(()=>di=setTimeout(ct,30))},hr=(te,be,it)=>{const _t=Ze(te);return{emit:Ht=>{const Zt=new CustomEvent(be,{bubbles:!!(4&it),composed:!!(2&it),cancelable:!!(1&it),detail:Ht});return _t.dispatchEvent(Zt),Zt}}},lt=(te,be)=>be in ft?ft[be]:"window"===be?ge:"document"===be?he:"isServer"!==be&&"isPrerender"!==be&&("isClient"===be||("resourcesUrl"===be||"publicPath"===be?(te=>{const be=new URL(".",oe.$resourcesUrl$);return be.origin!==ge.location.origin?be.href:be.pathname})():"queue"===be?{write:Mt,read:St,tick:{then:it=>At(it)}}:void 0)),Ze=te=>Be(te).$hostElement$},2662:(Sn,bt,L)=>{"use strict";L.d(bt,{a:()=>Fe});var o=L(4650),q=L(9404),Q=L(1808);let Fe=(()=>{class ie{constructor(_e,ge){this.AuthService=_e,this.router=ge}canActivate(_e,ge){return!!this.AuthService.isAuthenticated()||(this.router.navigate(["login"]),!1)}}return ie.\u0275fac=function(_e){return new(_e||ie)(o.LFG(q.$),o.LFG(Q.F0))},ie.\u0275prov=o.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})()},7214:(Sn,bt,L)=>{"use strict";L.d(bt,{L:()=>Lt});var o=L(5861),q=L(4321),Q=L(3682),Fe=L(4719),ie=L(4650),de=L(191),_e=L(1808),ge=L(9463),Se=L(4037),he=L(9404),oe=L(6895);function fe(vt,Et){if(1&vt){const Qe=ie.EpF();ie.TgZ(0,"ion-item",17),ie.NdJ("click",function(){const tt=ie.CHM(Qe).$implicit,Ee=ie.oxw();return ie.KtG(Ee.selected(tt))}),ie._uU(1),ie.qZA()}if(2&vt){const Qe=Et.$implicit;ie.xp6(1),ie.hij(" ",Qe.productName," ")}}function ye(vt,Et){if(1&vt&&(ie.TgZ(0,"ion-select-option",34),ie._uU(1),ie.qZA()),2&vt){const Qe=Et.$implicit;ie.s9C("value",null==Qe?null:Qe.subweight),ie.xp6(1),ie.hij(" ",null==Qe?null:Qe.subweight," ")}}function je(vt,Et){if(1&vt&&(ie.TgZ(0,"ion-select-option",34),ie._uU(1),ie.qZA()),2&vt){const Qe=Et.$implicit;ie.s9C("value",Qe.id),ie.xp6(1),ie.Oqu(Qe.name)}}function ft(vt,Et){if(1&vt){const Qe=ie.EpF();ie.TgZ(0,"button",35),ie.NdJ("click",function(){ie.CHM(Qe);const ke=ie.oxw(),tt=ke.$implicit,Ee=ke.index,ve=ie.oxw();return ie.KtG(ve.addtocart(tt,Ee,"bottom"))}),ie._uU(1,"Add"),ie.qZA()}if(2&vt){const Qe=ie.oxw().$implicit;ie.Q6J("disabled",Qe.btnDisabled)}}function Ve(vt,Et){if(1&vt){const Qe=ie.EpF();ie.TgZ(0,"button",35),ie.NdJ("click",function(){ie.CHM(Qe);const ke=ie.oxw(),tt=ke.$implicit,Ee=ke.index,ve=ie.oxw();return ie.KtG(ve.addtoReorder(tt,Ee,"bottom"))}),ie._uU(1,"Add"),ie.qZA()}if(2&vt){const Qe=ie.oxw().$implicit;ie.Q6J("disabled",Qe.btnDisabled)}}function Be(vt,Et){if(1&vt){const Qe=ie.EpF();ie.TgZ(0,"button",36),ie.NdJ("click",function(){ie.CHM(Qe);const ke=ie.oxw(),tt=ke.$implicit,Ee=ke.index,ve=ie.oxw();return ie.KtG(ve.remove(tt,Ee))})("click",function(){ie.CHM(Qe);const ke=ie.oxw(),tt=ke.$implicit,Ee=ke.index,ve=ie.oxw();return ie.KtG(ve.addtocart(tt,Ee,"bottom"))}),ie._UZ(1,"ion-icon",37),ie._uU(2,"Added"),ie.qZA()}if(2&vt){const Qe=ie.oxw(2);ie.Q6J("disabled",Qe.isDisabled)}}function Ge(vt,Et){if(1&vt){const Qe=ie.EpF();ie.TgZ(0,"ion-list")(1,"ion-item",18)(2,"ion-grid",19)(3,"ion-row")(4,"ion-col",20),ie._UZ(5,"img",21),ie.qZA(),ie.TgZ(6,"ion-col")(7,"p",22),ie._uU(8),ie.qZA(),ie.TgZ(9,"p",23),ie._uU(10),ie.ALo(11,"titlecase"),ie.qZA(),ie.TgZ(12,"p",23),ie._uU(13),ie.ALo(14,"lowercase"),ie.qZA(),ie.TgZ(15,"span",23),ie._uU(16,"MRP: "),ie.TgZ(17,"b"),ie._uU(18),ie.ALo(19,"currency"),ie.ALo(20,"currency"),ie.qZA()(),ie.TgZ(21,"span",24)(22,"ion-select",25),ie.NdJ("ionChange",function(ke){const tt=ie.CHM(Qe),Ee=tt.$implicit,ve=tt.index,Ie=ie.oxw();return ie.KtG(Ie.onChange(ke,Ee,ve))}),ie.YNc(23,ye,2,2,"ion-select-option",26),ie.qZA()()()()()(),ie.TgZ(24,"ion-grid",19)(25,"ion-row")(26,"ion-col",27)(27,"ion-input",28,29),ie.NdJ("keyup",function(ke){const tt=ie.CHM(Qe),Ee=tt.index,ve=tt.$implicit,Ie=ie.oxw();return ie.KtG(Ie.quantityValueChange(ke,Ee,ve))}),ie.qZA()(),ie.TgZ(29,"ion-col",30)(30,"ion-select",31),ie.NdJ("ionChange",function(ke){const Ee=ie.CHM(Qe).index,ve=ie.MAs(28),Ie=ie.oxw();return ie.KtG(Ie.onWeightChange(ke,Ee,ve.value))})("ngModelChange",function(ke){ie.CHM(Qe);const tt=ie.oxw();return ie.KtG(tt.weightValue=ke)}),ie.YNc(31,je,2,2,"ion-select-option",26),ie.qZA()(),ie.TgZ(32,"ion-col"),ie.YNc(33,ft,2,1,"button",32),ie.YNc(34,Ve,2,1,"button",32),ie.YNc(35,Be,3,1,"button",33),ie.qZA()()()()}if(2&vt){const Qe=Et.$implicit,We=ie.oxw();ie.xp6(2),ie.Q6J("fixed",!0),ie.xp6(3),ie.Q6J("src",Qe.fireBaseUrl,ie.LSH),ie.xp6(3),ie.Oqu(Qe.productName),ie.xp6(2),ie.Oqu(ie.lcZ(11,14,Qe.dscription)),ie.xp6(3),ie.hij(" ",ie.lcZ(14,16,(Qe.weightValue?Qe.weightValue:Qe.priceArray[0].subweight).replace(".","")),""),ie.xp6(5),ie.Oqu(Qe.priceValue?ie.Dn7(19,18,Qe.priceValue,"INR","symbol"):ie.Dn7(20,22,Qe.priceArray[0].price,"INR","symbol")),ie.xp6(5),ie.Q6J("ngForOf",Qe.priceArray),ie.xp6(1),ie.Q6J("fixed",!0),ie.xp6(6),ie.Q6J("ngModel",We.weightValue)("disabled",!Qe.btnDisabled),ie.xp6(1),ie.Q6J("ngForOf",We.listOfWeight),ie.xp6(2),ie.Q6J("ngIf",!Qe.itemAdded&&!We.isReorder),ie.xp6(1),ie.Q6J("ngIf",!Qe.itemAdded&&We.isReorder),ie.xp6(1),ie.Q6J("ngIf",Qe.itemAdded)}}let Lt=(()=>{class vt{constructor(Qe,We,ke,tt,Ee,ve,Ie){this.modalCtrl=Qe,this.ActivateRouter=We,this.router=ke,this.productService=tt,this.cartService=Ee,this.toastController=ve,this.authService=Ie,this.productData=[],this.valueOfSearch="",this.weightValue=0,this.isDisabled=!1,this.btnDisabled=!1,this.isweightShow=!1,this.filterCategory=[],this.searchKey="",this.isSpinner=!1,this.currentNumber=1,this.isReorder=!1,this.reorderData=[],this.listOfWeight=[{id:1,name:"kg"},{id:2,name:"gm"},{id:3,name:"lt"},{id:4,name:"ml"},{id:5,name:"pcs"}],this.productPrice="",this.isQuantity=!1,this.isSearchbar=!1,this.items=[],this.isSearchContainer=!1,this.specificWeight="",this.form=new Fe.cw({seletedItem:new Fe.NI(null)})}ionViewWillEnter(){let Qe=this.ActivateRouter.snapshot.queryParamMap.get("order");this.cartService.productListAfterReorder.subscribe(We=>{We?(this.isReorder=!0,this.reorderData=We):this.isReorder=!1}),this.getValueByRoutung(Qe)}ionViewWillLeave(){this.filterCategory=[]}showModal(){var Qe=this;return(0,o.Z)(function*(){return yield(yield Qe.modalCtrl.create({component:q.Y})).present()})()}onChange(Qe,We,ke){!0===this.filterCategory[ke].itemAdded?(this.filterCategory[ke].itemAdded=!1,this.remove(We,ke)):this.filterCategory[ke].itemAdded=!1;let tt=this.filterCategory[ke].priceArray.filter(Ee=>Ee.subweight===Qe.target.value);this.filterCategory[ke].priceValue=tt[0]?.price,this.filterCategory[ke].weightValue=tt[0]?.subweight}addItem(){this.isQuantity=!0}remove(Qe,We){this.filterCategory[We].itemAdded=!1,this.cartService.getCartByidForData(localStorage.getItem(Q.lq)).subscribe(ke=>{let tt=ke.user;tt.cartArray.map((Ee,ve)=>{Qe.id===Ee.id&&tt.cartArray.splice(ve,1)}),this.cartService.updateCart(tt._id,tt).subscribe(Ee=>{})})}addtocart(Qe,We,ke){1==this.authService.checkisLoggedin()?(this.filterCategory[We].itemAdded=!0,this.editingIndex=We,this.isQuantity=!0,this.cartService.getCartByidForData(localStorage.getItem(Q.lq)).subscribe(Ee=>{if(!0===Ee.status){let ve=Ee.user;ve.cartArray.push(Qe),this.cartService.updateCart(ve._id,ve).subscribe(Ie=>{}),this.presentToast(ke)}else!1===Ee.status&&this.cartService.addCart(Qe).subscribe(ve=>{this.isSpinner=!1,this.presentToast(ke)})})):this.router.navigateByUrl("/login")}presentToast(Qe){var We=this;return(0,o.Z)(function*(){yield(yield We.toastController.create({message:"Item added in cart",duration:1500,position:Qe})).present()})()}selected(Qe){this.valueOfSearch="",this.filterCategory=this.filterCategory.filter(We=>We.productName===Qe.productName),this.isSearchbar=!1,this.items=[]}openSearchBar(){this.isSearchbar=!this.isSearchbar}inputChanged(Qe){var We=this;return(0,o.Z)(function*(){const ke=Qe.target.value;ke.length<=0?We.items=[]:yield We.productService.productData.subscribe(tt=>{let Ee=tt.filter(ve=>ve.productName.toLocaleLowerCase().includes(ke.toLocaleLowerCase()));We.items=Ee})})()}getValueByRoutung(Qe){this.productService.productData.subscribe(We=>{this.filterCategory=We?.map(ke=>(ke.quantity=1,ke.itemAdded=!1,ke.priceValue=ke.priceArray[0].price,ke.weightValue=ke.priceArray[0].subweight,ke.btnDisabled=!1,ke)),"View All"!==Qe&&void 0!==Qe&&(this.filterCategory=this.filterCategory?.filter(ke=>ke.category===Qe||ke.productName===Qe))})}addtoReorder(Qe,We,ke){this.isDisabled=!1,!0===this.authService.checkisLoggedin()?(this.filterCategory[We].itemAdded=!0,this.editingIndex=We,this.isQuantity=!0,this.reorderData?.cartArray.push(Qe),this.presentToast(ke),this.cartService.productListAfterReorder.next(this.reorderData)):this.isDisabled=!0}quantityValueChange(Qe,We,ke){Qe.target.value?this.filterCategory[We].btnDisabled=!0:(this.weightValue=0,this.filterCategory[We].btnDisabled=!1),1==ke.itemAdded&&this.remove(ke,We)}onWeightChange(Qe,We,ke){this.filterCategory[We].btnDisabled=!1;let tt=this.filterCategory[We].priceArray[0].price,Ee=this.filterCategory[We].priceArray[0].subweight,ve=Qe.target.value;1==ve&&ke&&(this.filterCategory[We].priceValue=this.priceValueChange(Ee,ve,ke,tt),this.filterCategory[We].weightValue=ke+"kg"),2==ve&&ke&&(this.filterCategory[We].priceValue=this.priceValueChange(Ee,ve,ke,tt),this.filterCategory[We].weightValue=ke+"gm"),3==ve&&ke&&(this.filterCategory[We].priceValue=this.priceValueChange(Ee,ve,ke,tt),this.filterCategory[We].weightValue=ke+"lt"),4==ve&&ke&&(this.filterCategory[We].priceValue=this.priceValueChange(Ee,ve,ke,tt),this.filterCategory[We].weightValue=ke+"ml"),5==ve&&ke&&(this.filterCategory[We].priceValue=Number(this.filterCategory[We].priceArray[0].price)*Number(ke),this.filterCategory[We].weightValue=ke+"pcs")}priceValueChange(Qe,We,ke,tt){if(1==We){if(Qe?.toLocaleLowerCase().includes("gm")){let Ee=Number(ke)*Number(1e3),ve=this.replaceChar(Qe);return Number(tt)/Number(ve)*Ee}if(Qe?.toLocaleLowerCase().includes("kg")){let Ee=this.replaceChar(Qe);return Number(tt)/Number(Ee)*ke}}if(2==We){if(Qe?.toLocaleLowerCase().includes("kg")){let Ee=Number(ke)/Number(1e3),ve=this.replaceChar(Qe);return Number(tt)/Number(ve)*Ee}if(Qe?.toLocaleLowerCase().includes("gm")){let Ee=this.replaceChar(Qe);return Number(tt)/Number(Ee)*ke}}if(3==We){if(Qe?.toLocaleLowerCase().includes("ml")){let Ee=Number(ke)*Number(1e3),ve=this.replaceChar(Qe);return Number(tt)/Number(ve)*Ee}if(Qe?.toLocaleLowerCase().includes("lt")){let Ee=this.replaceChar(Qe);return Number(tt)/Number(Ee)*ke}}if(4==We){if(Qe?.toLocaleLowerCase().includes("lt")){let Ee=Number(ke)/Number(1e3),ve=this.replaceChar(Qe);return Number(tt)/Number(ve)*Ee}if(Qe?.toLocaleLowerCase().includes("ml")){let Ee=this.replaceChar(Qe);return Number(tt)/Number(Ee)*ke}}}replaceChar(Qe){return String(Qe.replace(/\D+/g,""))}}return vt.\u0275fac=function(Qe){return new(Qe||vt)(ie.Y36(de.IN),ie.Y36(_e.gz),ie.Y36(_e.F0),ie.Y36(ge.M),ie.Y36(Se.N),ie.Y36(de.yF),ie.Y36(he.$))},vt.\u0275cmp=ie.Xpm({type:vt,selectors:[["app-product-list"]],decls:20,vars:4,consts:[["color","primary"],[1,"parent-header-btn"],[1,"header-child-btn"],["slot","start",1,"button-header"],["name","menu"],[1,"logo-img"],["src","../../assets/img/login-logo-1.png"],[1,"row"],[1,"col"],[1,"search-parent-btn","search-box"],[1,"search-header-child"],["type","text","slot","start",3,"ngModel","ngModelChange","ionInput"],["name","search","slot","end",3,"click"],[1,"search-list",3,"hidden"],[3,"click",4,"ngFor","ngForOf"],["fullscreen","","scroll-y","true"],[4,"ngFor","ngForOf"],[3,"click"],[2,"border","none"],[3,"fixed"],["size","4"],["height","100px","width","100px",3,"src"],[2,"font-size","13px"],[2,"font-size","12px"],[1,"details-select"],[3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"numberinput"],["type","number","placeholder","Quantity",3,"keyup"],["quantity",""],[1,"price-selected"],[3,"ngModel","disabled","ionChange","ngModelChange"],["class","btn btn-danger btn-height",3,"disabled","click",4,"ngIf"],["class","btn btn-success btn-height",3,"disabled","click",4,"ngIf"],[3,"value"],[1,"btn","btn-danger","btn-height",3,"disabled","click"],[1,"btn","btn-success","btn-height",3,"disabled","click"],["name","checkmark"]],template:function(Qe,We){1&Qe&&(ie.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"div",1)(3,"div",2)(4,"ion-buttons",3)(5,"ion-menu-button"),ie._UZ(6,"ion-icon",4),ie.qZA(),ie.TgZ(7,"div",5),ie._UZ(8,"img",6),ie.qZA()()()(),ie.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"ion-input",11),ie.NdJ("ngModelChange",function(tt){return We.valueOfSearch=tt})("ionInput",function(tt){return We.inputChanged(tt)}),ie.qZA()(),ie.TgZ(14,"div",10)(15,"ion-icon",12),ie.NdJ("click",function(){return We.openSearchBar()}),ie.qZA()()()()()(),ie.TgZ(16,"ion-list",13),ie.YNc(17,fe,2,1,"ion-item",14),ie.qZA()(),ie.TgZ(18,"ion-content",15),ie.YNc(19,Ge,36,26,"ion-list",16),ie.qZA()),2&Qe&&(ie.xp6(13),ie.Q6J("ngModel",We.valueOfSearch),ie.xp6(3),ie.Q6J("hidden",We.items.length<=0),ie.xp6(1),ie.Q6J("ngForOf",We.items),ie.xp6(2),ie.Q6J("ngForOf",We.filterCategory))},dependencies:[oe.sg,oe.O5,de.Sm,de.wI,de.W2,de.jY,de.Gu,de.gu,de.pK,de.Ie,de.q_,de.fG,de.Nd,de.t9,de.n0,de.sr,de.as,de.QI,de.j9,Fe.JJ,Fe.On,oe.i8,oe.rS,oe.H9],styles:[".product-detail-parent[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.product-detail-child[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;position:relative;top:10px}.product-detail-child[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px;position:relative;top:5px}.product-detail-child[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:5px;border-radius:15px}.product-button-parent[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_ngcontent-%COMP%]::-webkit-input-placeholder{overflow:visible;font-size:10px}.details-select[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{position:absolute;width:150px;bottom:0;right:10px}.numberinput[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{width:100px;height:30px;border:2px solid #FF2E2E;background-color:transparent;position:absolute;border-radius:.375rem;padding:10px!important}.btn-height[_ngcontent-%COMP%]{height:30px;width:100%;padding:0!important}.price-selected[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{border:2px solid red;height:30px;border-radius:.375rem}"]}),vt})()},4321:(Sn,bt,L)=>{"use strict";L.d(bt,{Y:()=>Q});var o=L(4650),q=L(191);let Q=(()=>{class Fe{constructor(){}ionViewWillEnter(){}}return Fe.\u0275fac=function(de){return new(de||Fe)},Fe.\u0275cmp=o.Xpm({type:Fe,selectors:[["app-prooduct-details"]],decls:45,vars:0,consts:[["slot","end"],[1,"parent"],[1,"child"],[1,"product-image"],["src","../../assets/2.jpg","alt","",1,"product-pic"],[1,"product-details"],[1,"title"],[1,"colorCat"],[1,"price"],[1,"before"],[1,"current"],[1,"rate"],["href","#!",1,"active"],["href","#!"],[1,"footer"],["color","primary"],["src","http://co0kie.github.io/codepen/nike-product-page/cart.png","alt",""]],template:function(de,_e){1&de&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3,"Product Details"),o.qZA(),o.TgZ(4,"ion-buttons",0)(5,"ion-button"),o._uU(6,"Close"),o.qZA()()()(),o.TgZ(7,"ion-content")(8,"div",1)(9,"div",2)(10,"div",3),o._UZ(11,"img",4),o.qZA()(),o.TgZ(12,"div",2)(13,"div",5)(14,"header")(15,"h1",6),o._uU(16,"Nike Roshe Run"),o.qZA(),o.TgZ(17,"span",7),o._uU(18,"mint green"),o.qZA(),o.TgZ(19,"div",8)(20,"span",9),o._uU(21,"$150"),o.qZA(),o.TgZ(22,"span",10),o._uU(23,"$144.99"),o.qZA()(),o.TgZ(24,"div",11)(25,"a",12),o._uU(26,"\u2605"),o.qZA(),o.TgZ(27,"a",12),o._uU(28,"\u2605"),o.qZA(),o.TgZ(29,"a",12),o._uU(30,"\u2605"),o.qZA(),o.TgZ(31,"a",13),o._uU(32,"\u2605"),o.qZA(),o.TgZ(33,"a",13),o._uU(34,"\u2605"),o.qZA()()(),o.TgZ(35,"article")(36,"h5"),o._uU(37,"Description"),o.qZA(),o.TgZ(38,"p"),o._uU(39,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."),o.qZA()(),o.TgZ(40,"div",14)(41,"ion-button",15),o._UZ(42,"img",16),o.TgZ(43,"span"),o._uU(44,"add to cart"),o.qZA()()()()()()())},dependencies:[q.YG,q.Sm,q.W2,q.Gu,q.wd,q.sr],styles:['.parent[_ngcontent-%COMP%]{display:block}.child[_ngcontent-%COMP%]{width:100%}body[_ngcontent-%COMP%]{background-color:#f5f5f5;height:100vh;margin:auto;display:flex;color:#444}.container[_ngcontent-%COMP%]{margin:30px;width:100%;max-width:900px;justify-content:center;flex-direction:column;align-items:center}h5[_ngcontent-%COMP%]{text-transform:uppercase;margin:0;font-size:14px}ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}a[_ngcontent-%COMP%]{text-decoration:none;color:#bbb}.product-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-radius:20px 20px 0 0;padding:55px 0;width:100%;margin:auto}.product-pic[_ngcontent-%COMP%]{max-width:79%;position:relative;left:0;margin:-44px 0}.product-details[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 20px 20px;margin:18px}.product-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0;font-size:12px}.product-details[_ngcontent-%COMP%]   .colorCat[_ngcontent-%COMP%]{text-transform:uppercase;font-style:italic;color:#bbb;font-weight:700;font-size:14px}.product-details[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;margin-top:5px;font-size:18px}.product-details[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#fe6168;margin-left:6px}.product-details[_ngcontent-%COMP%]   .before[_ngcontent-%COMP%]{text-decoration:line-through}.product-details[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin-bottom:50px;position:relative}.product-details[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{position:relative;bottom:10px}.product-details[_ngcontent-%COMP%]   article[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{margin:0}.product-details[_ngcontent-%COMP%]   article[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#bbb;margin:.5em 0;font-size:14px;line-height:1.6}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{margin:3em 0}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{margin-top:12px;display:inline-block;position:relative}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{color:#444}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:before{content:"";position:absolute;border-width:2px 2px 0 0;border-style:solid;top:0;bottom:0;height:5px;width:5px;right:-18px;margin:auto;transform:rotate(135deg)}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:20px;flex:none}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;margin:15px 5px}.product-details[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:15px}.product-details[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;display:block}.product-details[_ngcontent-%COMP%]   .color-bdot1[_ngcontent-%COMP%]{background-color:#59e8c8}.product-details[_ngcontent-%COMP%]   .color-bdot1[_ngcontent-%COMP%]:hover, .product-details[_ngcontent-%COMP%]   .color-bdot1.active[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fff,0 0 0 5px #59e8c8}.product-details[_ngcontent-%COMP%]   .color-bdot2[_ngcontent-%COMP%]{background-color:#ffee71}.product-details[_ngcontent-%COMP%]   .color-bdot2[_ngcontent-%COMP%]:hover, .product-details[_ngcontent-%COMP%]   .color-bdot2.active[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fff,0 0 0 5px #ffee71}.product-details[_ngcontent-%COMP%]   .color-bdot3[_ngcontent-%COMP%]{background-color:#6654af}.product-details[_ngcontent-%COMP%]   .color-bdot3[_ngcontent-%COMP%]:hover, .product-details[_ngcontent-%COMP%]   .color-bdot3.active[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fff,0 0 0 5px #6654af}.product-details[_ngcontent-%COMP%]   .color-bdot4[_ngcontent-%COMP%]{background-color:#343434}.product-details[_ngcontent-%COMP%]   .color-bdot4[_ngcontent-%COMP%]:hover, .product-details[_ngcontent-%COMP%]   .color-bdot4.active[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fff,0 0 0 5px #343434}.product-details[_ngcontent-%COMP%]   .color-bdot5[_ngcontent-%COMP%]{background-color:#dfdfdf}.product-details[_ngcontent-%COMP%]   .color-bdot5[_ngcontent-%COMP%]:hover, .product-details[_ngcontent-%COMP%]   .color-bdot5.active[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fff,0 0 0 5px #dfdfdf}.product-details[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{position:static;margin-top:10px}.product-details[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#bbb}.product-details[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .product-details[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fe6067}.dots[_ngcontent-%COMP%]{display:flex;margin-top:40px}.dots[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background-color:#349a98;width:10px;height:10px;margin:0 4px;border-radius:50%}.dots[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .dots[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]{background-color:#fff}.dots[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:flex;border:0;font-size:10px;align-items:center;cursor:pointer;transition:.2s}.footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20px}.footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;font-weight:700;margin-left:10px;color:#fff}.footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;opacity:.8}.footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1}@media (min-width: 37.5em){.product-details[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{position:absolute;top:12px;right:10px;margin-top:0}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > div.qty[_ngcontent-%COMP%]{width:60px}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{border-left:2px solid rgba(187,187,187,.5);padding-left:25px;padding-right:25px;width:100px;margin-top:0}.product-details[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex}}@media (min-width: 56.25em){.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:normal;margin:auto}.product-image[_ngcontent-%COMP%]{border-radius:20px 0 0 20px;max-width:330px}.product-pic[_ngcontent-%COMP%]{left:-40px;max-width:330px}.product-details[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 20px 20px;margin:18px}}']}),Fe})()},9404:(Sn,bt,L)=>{"use strict";L.d(bt,{$:()=>ge});var o=L(529),q=L(591),Q=L(2340),_e=L(4650);let ge=(()=>{class Se{constructor(oe){this.http=oe,this.baseUri=Q.N.baseUrl,this.headers=(new o.WM).set("Content-Type","application/json"),this.sideBar=new q.X(!0)}login(oe){return this.http.post(Q.N.baseUrl+"/users/authenticate",oe)}mobileValidation(oe){return this.http.post(Q.N.baseUrl+"/users/mobile-validation",oe)}setToken(oe){localStorage.setItem("token",oe)}getToken(){return localStorage.getItem("token")}deleteToken(){localStorage.removeItem("token")}getUserPayload(){var oe=this.getToken();if(oe){var fe=atob(oe.split(".")[1]);return JSON.parse(fe)}return null}isLoggedIn(){var oe=this.getUserPayload();return function Fe(Se,he,oe){var fe=new Date;fe.setTime(fe.getTime()+24*oe*60*60*1e3);var ye="expires="+fe.toUTCString();document.cookie=Se+"="+he+";"+ye+";path=/"}("userid",oe._id,1),!!oe}checkisLoggedin(){return!!localStorage.getItem("userid")}isAuthenticated(){return!!localStorage.getItem("token")}}return Se.\u0275fac=function(oe){return new(oe||Se)(_e.LFG(o.eN))},Se.\u0275prov=_e.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},8806:(Sn,bt,L)=>{"use strict";L.d(bt,{y:()=>vt});var o=L(5861),q=L(7423),Q=L(76);const Fe=(0,q.fo)("Camera",{web:()=>L.e(3954).then(L.bind(L,3954)).then(Et=>new Et.CameraWeb)});var ie=(()=>{return(Et=ie||(ie={})).Documents="DOCUMENTS",Et.Data="DATA",Et.Library="LIBRARY",Et.Cache="CACHE",Et.External="EXTERNAL",Et.ExternalStorage="EXTERNAL_STORAGE",ie;var Et})();const Se=(0,q.fo)("Filesystem",{web:()=>L.e(6364).then(L.bind(L,6364)).then(Et=>new Et.FilesystemWeb)}),he=(0,q.fo)("Preferences",{web:()=>L.e(8359).then(L.bind(L,8359)).then(Et=>new Et.PreferencesWeb)});var oe=L(591),fe=L(1737),ye=L(7221),je=L(529),ft=L(2340),Ve=L(3682),Be=L(4650),Ge=L(191),Lt=L(4586);let vt=(()=>{class Et{constructor(We,ke,tt){this.storage=ke,this.http=tt,this.photos=[],this.PHOTO_STORAGE="photos",this.imageUrlSubject=new oe.X(null),this.baseUri=ft.N.baseUrl,this.selectedFile=null,this.arrayForImage=[],this.file=null,this.headers=(new je.WM).set("Content-Type","application/json"),this.convertBlobToBase64=Ee=>new Promise((ve,Ie)=>{const ue=new FileReader;ue.onerror=Ie,ue.onload=()=>{ve(ue.result)},ue.readAsDataURL(Ee)}),this.platform=We}handleError(We){return We.error instanceof ErrorEvent?console.error("An error occurred:",We.error.message):console.error(`Backend returned code ${We.status}, body was: ${We.error}`),(0,fe._)("Something bad happened; please try again later.")}addNewToGallery(){var We=this;return(0,o.Z)(function*(){const ke=yield Fe.getPhoto({resultType:Q.dk.Uri,source:Q.oK.Camera,quality:100}),tt=yield We.savePicture(ke);We.photos.unshift(tt),he.set({key:We.PHOTO_STORAGE,value:JSON.stringify(We.photos)}),We.loadSaved()})()}savePicture(We){var ke=this;return(0,o.Z)(function*(){const tt=yield ke.readAsBase64(We),Ee=(new Date).getTime()+".jpeg";return yield Se.writeFile({path:Ee,data:tt,directory:ie.Data}),{filepath:Ee,webviewPath:We.webPath}})()}readAsBase64(We){var ke=this;return(0,o.Z)(function*(){const Ee=yield(yield fetch(We.webPath)).blob();return yield ke.convertBlobToBase64(Ee)})()}loadSaved(){var We=this;return(0,o.Z)(function*(){const ke=yield he.get({key:We.PHOTO_STORAGE});We.photos=JSON.parse(ke.value)||[];for(let tt of We.photos){const Ee=yield Se.readFile({path:tt.filepath,directory:ie.Data});tt.webviewPath=`data:image/jpeg;base64,${Ee.data}`}})()}getCameraByIdforcamera(){this.getCameraById(localStorage.getItem(Ve.lq)).subscribe(We=>{We.user.length>0&&sessionStorage.setItem("cameraId",We?.user?._id),this.imageUrlSubject.next(We?.user?.fireBaseUrl)})}base64ToImage(We){const ke=We.split(","),tt=atob(ke[1]),Ee=new ArrayBuffer(tt.length),ve=new Uint8Array(Ee);for(let ue=0;ue<tt.length;ue++)ve[ue]=tt.charCodeAt(ue);return new Blob([Ee],{type:"image/png"})}getCameraById(We){return this.http.get(`${this.baseUri}/camera/get-camera-by-id/${We}`).pipe((0,ye.K)(this.errorMgmt))}addCamera(We){return this.http.post(`${this.baseUri}/camera/add-camera`,We).pipe((0,ye.K)(this.errorMgmt))}getCamera(){return this.http.get(`${this.baseUri}/camera/get-camera`)}deleteCamera(We){const ke=new je.WM;return this.http.delete(`${this.baseUri}/camera/deletecamera/${We}`,{headers:ke}).pipe((0,ye.K)(this.errorMgmt))}updateCamera(We,ke){return this.http.put(`${this.baseUri}/camera/updatecamera/${We}`,ke,{headers:this.headers}).pipe((0,ye.K)(this.errorMgmt))}errorMgmt(We){let ke="";return ke=We.error instanceof ErrorEvent?We.error.message:`Error Code: ${We.status}\nMessage: ${We.message}`,console.log(ke),(0,fe._)(ke)}deletePicture(We,ke){var tt=this;return(0,o.Z)(function*(){tt.photos.splice(ke,1),he.set({key:tt.PHOTO_STORAGE,value:JSON.stringify(tt.photos)});const Ee=We.filepath.substr(We.filepath.lastIndexOf("/")+1);yield Se.deleteFile({path:Ee,directory:ie.Data})})()}deleteAllPicture(We){var ke=this;return(0,o.Z)(function*(){ke.photos=[],he.set({key:ke.PHOTO_STORAGE,value:JSON.stringify(ke.photos)})})()}}return Et.\u0275fac=function(We){return new(We||Et)(Be.LFG(Ge.t4),Be.LFG(Lt.Q1),Be.LFG(je.eN))},Et.\u0275prov=Be.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})()},4037:(Sn,bt,L)=>{"use strict";L.d(bt,{N:()=>Se});var o=L(5861),q=L(591),Q=L(1737),Fe=L(3682),ie=L(529),de=L(2340),_e=L(7221),ge=L(4650);let Se=(()=>{class he{constructor(fe){this.http=fe,this.baseUri=de.N.baseUrl,this.productListAfterReorder=new q.X(null),this.cartItemList=[],this.checkoutProduct=new q.X(null),this.totalCostOfCustomerProudct=new q.X(null),this.productList=new q.X(null),this.routingBehaviour=new q.X(null),this.addressChange=new q.X(null),this.search=new q.X(""),this.headers=(new ie.WM).set("Content-Type","application/json"),this.getCartById(localStorage.getItem(Fe.lq))}getProducts(){return this.productList.asObservable()}setProduct(fe){this.cartItemList.push(...fe),this.productList.next(fe)}addtoCart(fe){this.cartItemList.push(fe),this.productList.next(this.cartItemList);let ye={userId:localStorage.getItem(Fe.lq),cartArray:this.cartItemList,status:"Pending"};return this.productList.next(ye),this.http.post(`${this.baseUri}/cart/add-cart`,ye)}addCart(fe){this.cartItemList.push(fe),this.productList.next(this.cartItemList.length);let ye={userId:localStorage.getItem(Fe.lq),cartArray:this.cartItemList,status:"Pending",date:new Date,type:"cart"};return this.http.post(`${this.baseUri}/cart/add-cart`,ye).pipe((0,_e.K)(this.errorMgmt))}getTotalPrice(fe){let ye=0;return fe.map(je=>{ye+=parseInt(je.priceValue)}),this.totalCostOfCustomerProudct.next(ye),ye}removeCartItem(fe){this.cartItemList.map((ye,je)=>{fe.id===ye.id&&this.cartItemList.splice(je,1)}),this.productList.next(this.cartItemList)}removeAllCart(fe){const ye=new ie.WM;return this.http.delete(`${this.baseUri}/cart/deletecart/${fe}`,{headers:ye}).pipe((0,_e.K)(this.errorMgmt))}errorMgmt(fe){let ye="";return ye=fe.error instanceof ErrorEvent?fe.error.message:`Error Code: ${fe.status}\nMessage: ${fe.message}`,console.log(ye),(0,Q._)(ye)}getCartById(fe){var ye=this;return(0,o.Z)(function*(){return ye.http.get(`${ye.baseUri}/cart/get-cart-by-id/${fe}`).toPromise().then(je=>ye.productList.next(je?.user?.cartArray?.length)).catch(ye.errorMgmt)})()}getCart(){return this.http.get(`${this.baseUri}/cart/get-cart`).pipe((0,_e.K)(this.errorMgmt))}getCartByidForData(fe){return this.http.get(`${this.baseUri}/cart/get-cart-by-id/${fe}`).pipe((0,_e.K)(this.errorMgmt))}updateCart(fe,ye){return this.productList.next(ye.cartArray.length),this.http.put(`${this.baseUri}/cart/updatecart/${fe}`,ye,{headers:this.headers}).pipe((0,_e.K)(this.errorMgmt))}}return he.\u0275fac=function(fe){return new(fe||he)(ge.LFG(ie.eN))},he.\u0275prov=ge.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},9463:(Sn,bt,L)=>{"use strict";L.d(bt,{M:()=>$y});var o=L(591),q=L(8929),Q=L(1737),Fe=L(529),ie=L(7221),de=L(4850),_e=L(2340),ge=L(4650),Se=L(4586),he=L(353),oe=L(6498),fe=L(5254),ye=L(1086),je=L(6351),ft=L(1059),Ve=L(3489);function Be(){return r=>r.lift(new Ge)}class Ge{call(e,t){return t.subscribe(new Lt(e))}}class Lt extends Ve.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Mt,vt=L(2014),Et=L(5778),Qe=L(2198),We=L(2011),ke=L(6895),Ee=(L(2476),L(3942)),ve=L(5861),Ie=L(9681),ue=L(4859),Ce=L(1877),me=L(2090),At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},St={},mt=mt||{},Je=At||self;function Ye(){}function at(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function ht(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var $t="closure_uid_"+(1e9*Math.random()>>>0),En=0;function Ut(r,e,t){return r.call.apply(r.bind,arguments)}function bn(r,e,t){if(!r)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,c),r.apply(e,f)}}return function(){return r.apply(e,arguments)}}function Te(r,e,t){return(Te=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ut:bn).apply(null,arguments)}function Cn(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var c=t.slice();return c.push.apply(c,arguments),r.apply(this,c)}}function Zn(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(c,f,y){for(var I=Array(arguments.length-2),U=2;U<arguments.length;U++)I[U-2]=arguments[U];return e.prototype[f].apply(c,I)}}function zn(){this.s=this.s,this.o=this.o}var Er={};zn.prototype.s=!1,zn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function xt(r){return Object.prototype.hasOwnProperty.call(r,$t)&&r[$t]||(r[$t]=++En)}(this);delete Er[r]}},zn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $n=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function ei(r){const e=r.length;if(0<e){const t=Array(e);for(let c=0;c<e;c++)t[c]=r[c];return t}return[]}function sn(r,e){for(let t=1;t<arguments.length;t++){const c=arguments[t];if(at(c)){const f=r.length||0,y=c.length||0;r.length=f+y;for(let I=0;I<y;I++)r[f+I]=c[I]}else r.push(c)}}function dn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};var Ni=function(){if(!Je.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Je.addEventListener("test",Ye,e),Je.removeEventListener("test",Ye,e)}catch{}return r}();function xi(r){return/^[\s\xa0]*$/.test(r)}var Kn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function mi(r,e){return r<e?-1:r>e?1:0}function vi(){var r=Je.navigator;return r&&(r=r.userAgent)?r:""}function Di(r){return-1!=vi().indexOf(r)}function zt(r){return zt[" "](r),r}zt[" "]=Ye;var ai,r,He=Di("Opera"),Ot=Di("Trident")||Di("MSIE"),jt=Di("Edge"),Tn=jt||Ot,Bn=Di("Gecko")&&!(-1!=vi().toLowerCase().indexOf("webkit")&&!Di("Edge"))&&!(Di("Trident")||Di("MSIE"))&&!Di("Edge"),ni=-1!=vi().toLowerCase().indexOf("webkit")&&!Di("Edge");function mn(){var r=Je.document;return r?r.documentMode:void 0}e:{var Nn="",Pi=(r=vi(),Bn?/rv:([^\);]+)(\)|;)/.exec(r):jt?/Edge\/([\d\.]+)/.exec(r):Ot?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ni?/WebKit\/(\S+)/.exec(r):He?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Pi&&(Nn=Pi?Pi[1]:""),Ot){var ci=mn();if(null!=ci&&ci>parseFloat(Nn)){ai=String(ci);break e}}ai=Nn}var ct={};var rt=Je.document&&Ot&&(mn()||parseInt(ai,10))||void 0;function on(r,e){if(dn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Bn){e:{try{zt(e.nodeName);var f=!0;break e}catch{}f=!1}f||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:_n[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&on.X.h.call(this)}}Zn(on,dn);var _n={2:"touch",3:"pen",4:"mouse"};on.prototype.h=function(){on.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Vn="closure_listenable_"+(1e6*Math.random()|0),Ki=0;function Oi(r,e,t,c,f){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!c,this.ha=f,this.key=++Ki,this.ba=this.ea=!1}function ki(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function pi(r,e,t){for(const c in r)e.call(t,r[c],c,r)}function Hn(r){const e={};for(const t in r)e[t]=r[t];return e}const Bi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tr(r,e){let t,c;for(let f=1;f<arguments.length;f++){for(t in c=arguments[f],c)r[t]=c[t];for(let y=0;y<Bi.length;y++)t=Bi[y],Object.prototype.hasOwnProperty.call(c,t)&&(r[t]=c[t])}}function mr(r){this.src=r,this.g={},this.h=0}function hr(r,e){var t=e.type;if(t in r.g){var y,c=r.g[t],f=$n(c,e);(y=0<=f)&&Array.prototype.splice.call(c,f,1),y&&(ki(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function fr(r,e,t,c){for(var f=0;f<r.length;++f){var y=r[f];if(!y.ba&&y.listener==e&&y.capture==!!t&&y.ha==c)return f}return-1}mr.prototype.add=function(r,e,t,c,f){var y=r.toString();(r=this.g[y])||(r=this.g[y]=[],this.h++);var I=fr(r,e,c,f);return-1<I?(e=r[I],t||(e.ea=!1)):((e=new Oi(e,this.src,y,!!c,f)).ea=t,r.push(e)),e};var lt="closure_lm_"+(1e6*Math.random()|0),Ze={};function te(r,e,t,c,f){if(c&&c.once)return _t(r,e,t,c,f);if(Array.isArray(e)){for(var y=0;y<e.length;y++)te(r,e[y],t,c,f);return null}return t=di(t),r&&r[Vn]?r.N(e,t,ht(c)?!!c.capture:!!c,f):be(r,e,t,!1,c,f)}function be(r,e,t,c,f,y){if(!e)throw Error("Invalid event type");var I=ht(f)?!!f.capture:!!f,U=tn(r);if(U||(r[lt]=U=new mr(r)),(t=U.add(e,t,c,I,y)).proxy)return t;if(c=function it(){const e=kn;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=c,c.src=r,c.listener=t,r.addEventListener)Ni||(f=I),void 0===f&&(f=!1),r.addEventListener(e.toString(),c,f);else if(r.attachEvent)r.attachEvent(Qt(e.toString()),c);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(c)}return t}function _t(r,e,t,c,f){if(Array.isArray(e)){for(var y=0;y<e.length;y++)_t(r,e[y],t,c,f);return null}return t=di(t),r&&r[Vn]?r.O(e,t,ht(c)?!!c.capture:!!c,f):be(r,e,t,!0,c,f)}function Ht(r,e,t,c,f){if(Array.isArray(e))for(var y=0;y<e.length;y++)Ht(r,e[y],t,c,f);else c=ht(c)?!!c.capture:!!c,t=di(t),r&&r[Vn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=fr(y=r.g[e],t,c,f))&&(ki(y[t]),Array.prototype.splice.call(y,t,1),0==y.length&&(delete r.g[e],r.h--))):r&&(r=tn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=fr(e,t,c,f)),(t=-1<r?e[r]:null)&&Zt(t))}function Zt(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[Vn])hr(e.i,r);else{var t=r.type,c=r.proxy;e.removeEventListener?e.removeEventListener(t,c,r.capture):e.detachEvent?e.detachEvent(Qt(t),c):e.addListener&&e.removeListener&&e.removeListener(c),(t=tn(e))?(hr(t,r),0==t.h&&(t.src=null,e[lt]=null)):ki(r)}}}function Qt(r){return r in Ze?Ze[r]:Ze[r]="on"+r}function kn(r,e){if(r.ba)r=!0;else{e=new on(e,this);var t=r.listener,c=r.ha||r.src;r.ea&&Zt(r),r=t.call(c,e)}return r}function tn(r){return(r=r[lt])instanceof mr?r:null}var Gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(r){return"function"==typeof r?r:(r[Gn]||(r[Gn]=function(e){return r.handleEvent(e)}),r[Gn])}function Mi(){zn.call(this),this.i=new mr(this),this.P=this,this.I=null}function bi(r,e){var t,c=r.I;if(c)for(t=[];c;c=c.I)t.push(c);if(r=r.P,c=e.type||e,"string"==typeof e)e=new dn(e,r);else if(e instanceof dn)e.target=e.target||r;else{var f=e;tr(e=new dn(c,r),f)}if(f=!0,t)for(var y=t.length-1;0<=y;y--){var I=e.g=t[y];f=Ri(I,c,!0,e)&&f}if(f=Ri(I=e.g=r,c,!0,e)&&f,f=Ri(I,c,!1,e)&&f,t)for(y=0;y<t.length;y++)f=Ri(I=e.g=t[y],c,!1,e)&&f}function Ri(r,e,t,c){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,y=0;y<e.length;++y){var I=e[y];if(I&&!I.ba&&I.capture==t){var U=I.listener,re=I.ha||I.src;I.ea&&hr(r.i,I),f=!1!==U.call(re,c)&&f}}return f&&!c.defaultPrevented}Zn(Mi,zn),Mi.prototype[Vn]=!0,Mi.prototype.removeEventListener=function(r,e,t,c){Ht(this,r,e,t,c)},Mi.prototype.M=function(){if(Mi.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],c=0;c<t.length;c++)ki(t[c]);delete r.g[e],r.h--}}this.I=null},Mi.prototype.N=function(r,e,t,c){return this.i.add(String(r),e,!1,t,c)},Mi.prototype.O=function(r,e,t,c){return this.i.add(String(r),e,!0,t,c)};var Sr=Je.JSON.stringify;function qr(){var r=Jr;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var hs,pr=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new ss,r=>r.reset());class ss{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Cr(r){Je.setTimeout(()=>{throw r},0)}function Fs(r,e){hs||function bs(){var r=Je.Promise.resolve(void 0);hs=function(){r.then(ts)}}(),fs||(hs(),fs=!0),Jr.add(r,e)}var fs=!1,Jr=new class Or{constructor(){this.h=this.g=null}add(e,t){const c=pr.get();c.set(e,t),this.h?this.h.next=c:this.g=c,this.h=c}};function ts(){for(var r;r=qr();){try{r.h.call(r.g)}catch(t){Cr(t)}var e=pr;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}fs=!1}function we(r,e){Mi.call(this),this.h=r||1,this.g=e||Je,this.j=Te(this.kb,this),this.l=Date.now()}function $e(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function Ct(r,e,t){if("function"==typeof r)t&&(r=Te(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Te(r.handleEvent,r)}return 2147483647<Number(e)?-1:Je.setTimeout(r,e||0)}function Nt(r){r.g=Ct(()=>{r.g=null,r.i&&(r.i=!1,Nt(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Zn(we,Mi),(Mt=we.prototype).ca=!1,Mt.R=null,Mt.kb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),bi(this,"tick"),this.ca&&($e(this),this.start()))}},Mt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.M=function(){we.X.M.call(this),$e(this),delete this.g};class Ue extends zn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Nt(this)}M(){super.M(),this.g&&(Je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function et(r){zn.call(this),this.h=r,this.g={}}Zn(et,zn);var Pt=[];function cn(r,e,t,c){Array.isArray(t)||(t&&(Pt[0]=t.toString()),t=Pt);for(var f=0;f<t.length;f++){var y=te(e,t[f],c||r.handleEvent,!1,r.h||r);if(!y)break;r.g[y.key]=y}}function rn(r){pi(r.g,function(e,t){this.g.hasOwnProperty(t)&&Zt(e)},r),r.g={}}function hn(){this.g=!0}function Fi(r,e,t,c){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ir(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var c=t[r];if(!(2>c.length)){var f=c[1];if(Array.isArray(f)&&!(1>f.length)){var y=f[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var I=1;I<f.length;I++)f[I]=""}}}return Sr(t)}catch{return e}}(r,t)+(c?" "+c:"")})}et.prototype.M=function(){et.X.M.call(this),rn(this)},et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hn.prototype.Aa=function(){this.g=!1},hn.prototype.info=function(){};var wt={},Tt=null;function Gt(){return Tt=Tt||new Mi}function yn(r){dn.call(this,wt.Oa,r)}function Fn(r){const e=Gt();bi(e,new yn(e,r))}function li(r,e){dn.call(this,wt.STAT_EVENT,r),this.stat=e}function Ei(r){const e=Gt();bi(e,new li(e,r))}function ms(r,e){dn.call(this,wt.Pa,r),this.size=e}function nr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Je.setTimeout(function(){r()},e)}wt.Oa="serverreachability",Zn(yn,dn),wt.STAT_EVENT="statevent",Zn(li,dn),wt.Pa="timingevent",Zn(ms,dn);var Cs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Ls={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xs(){}function to(){}Xs.prototype.h=null;var _s,jo={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Ss(){dn.call(this,"d")}function ma(){dn.call(this,"c")}function Ds(){}function ps(r,e,t,c){this.l=r,this.j=e,this.m=t,this.U=c||1,this.S=new et(this),this.O=no,this.T=new we(r=Tn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new so}function so(){this.i=null,this.g="",this.h=!1}Zn(Ss,dn),Zn(ma,dn),Zn(Ds,Xs),Ds.prototype.g=function(){return new XMLHttpRequest},Ds.prototype.i=function(){return{}},_s=new Ds;var no=45e3,Qi={},ar={};function Yi(r,e,t){r.K=1,r.v=as(Xr(e)),r.s=t,r.P=!0,As(r,null)}function As(r,e){r.F=Date.now(),Bs(r),r.A=Xr(r.v);var t=r.A,c=r.U;Array.isArray(c)||(c=[String(c)]),S(t.i,"t",c),r.C=0,t=r.l.H,r.h=new so,r.g=$c(r.l,t?e:null,!r.s),0<r.N&&(r.L=new Ue(Te(r.Ka,r,r.g),r.N)),cn(r.S,r.g,"readystatechange",r.hb),e=r.H?Hn(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),Fn(1),function Wn(r,e,t,c,f,y){r.info(function(){if(r.g)if(y)for(var I="",U=y.split("&"),re=0;re<U.length;re++){var pe=U[re].split("=");if(1<pe.length){var Le=pe[0];pe=pe[1];var yt=Le.split("_");I=2<=yt.length&&"type"==yt[1]?I+(Le+"=")+pe+"&":I+(Le+"=redacted&")}}else I=null;else I=y;return"XMLHTTP REQ ("+c+") [attempt "+f+"]: "+e+"\n"+t+"\n"+I})}(r.j,r.u,r.A,r.m,r.U,r.s)}function ur(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function Is(r,e,t){let f,c=!0;for(;!r.I&&r.C<t.length;){if(f=Gs(r,t),f==ar){4==e&&(r.o=4,Ei(14),c=!1),Fi(r.j,r.m,null,"[Incomplete Response]");break}if(f==Qi){r.o=4,Ei(15),Fi(r.j,r.m,t,"[Invalid Chunk]"),c=!1;break}Fi(r.j,r.m,f,null),kr(r,f)}ur(r)&&f!=ar&&f!=Qi&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Ei(16),c=!1),r.i=r.i&&c,c?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ha(e),e.K=!0,Ei(11))):(Fi(r.j,r.m,t,"[Invalid Chunked Response]"),os(r),ji(r))}function Gs(r,e){var t=r.C,c=e.indexOf("\n",t);return-1==c?ar:(t=Number(e.substring(t,c)),isNaN(t)?Qi:(c+=1)+t>e.length?ar:(e=e.substr(c,t),r.C=c+t,e))}function Bs(r){r.V=Date.now()+r.O,ca(r,r.O)}function ca(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=nr(Te(r.fb,r),e)}function ir(r){r.B&&(Je.clearTimeout(r.B),r.B=null)}function ji(r){0==r.l.G||r.I||va(r.l,r)}function os(r){ir(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,$e(r.T),rn(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function kr(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||D(t.h,r)))if(!r.J&&D(t.h,r)&&3==t.G){try{var c=t.Fa.g.parse(e)}catch{c=null}if(Array.isArray(c)&&3==c.length){var f=c;if(0==f[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;ua(t),Ur(t)}Do(t),Ei(18)}}else t.Ba=f[1],0<t.Ba-t.T&&37500>f[2]&&t.L&&0==t.A&&!t.v&&(t.v=nr(Te(t.bb,t),6e3));if(1>=gi(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Es(t,11)}else if((r.J||t.g==r)&&ua(t),!xi(e))for(f=t.Fa.g.parse(e),e=0;e<f.length;e++){let pe=f[e];if(t.T=pe[0],pe=pe[1],2==t.G)if("c"==pe[0]){t.I=pe[1],t.ka=pe[2];const Le=pe[3];null!=Le&&(t.ma=Le,t.j.info("VER="+t.ma));const yt=pe[4];null!=yt&&(t.Ca=yt,t.j.info("SVER="+t.Ca));const Xt=pe[5];null!=Xt&&"number"==typeof Xt&&0<Xt&&(t.J=c=1.5*Xt,t.j.info("backChannelRequestTimeoutMs_="+c)),c=t;const In=r.g;if(In){const xn=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xn){var y=c.h;y.g||-1==xn.indexOf("spdy")&&-1==xn.indexOf("quic")&&-1==xn.indexOf("h2")||(y.j=y.l,y.g=new Set,y.h&&(C(y,y.h),y.h=null))}if(c.D){const ui=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;ui&&(c.za=ui,Pr(c.F,c.D,ui))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var I=r;if((c=t).sa=_u(c,c.H?c.ka:null,c.V),I.J){A(c.h,I);var U=I,re=c.J;re&&U.setTimeout(re),U.B&&(ir(U),Bs(U)),c.g=I}else ya(c);0<t.i.length&&vr(t)}else"stop"!=pe[0]&&"close"!=pe[0]||Es(t,7);else 3==t.G&&("stop"==pe[0]||"close"==pe[0]?"stop"==pe[0]?Es(t,7):yr(t):"noop"!=pe[0]&&t.l&&t.l.wa(pe),t.A=0)}Fn(4)}catch{}}function fo(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(at(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function ys(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(at(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const c in r)e[t++]=c;return e}}}(r),c=function ho(r){if(r.W&&"function"==typeof r.W)return r.W();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(at(r)){for(var e=[],t=r.length,c=0;c<t;c++)e.push(r[c]);return e}for(c in e=[],t=0,r)e[t++]=r[c];return e}(r),f=c.length,y=0;y<f;y++)e.call(void 0,c[y],t&&t[y],r)}(Mt=ps.prototype).setTimeout=function(r){this.O=r},Mt.hb=function(r){r=r.target;const e=this.L;e&&3==K(r)?e.l():this.Ka(r)},Mt.Ka=function(r){try{if(r==this.g)e:{const Le=K(this.g);var e=this.g.Ea();const yt=this.g.aa();if(!(3>Le)&&(3!=Le||Tn||this.g&&(this.h.h||this.g.fa()||Ae(this.g)))){this.I||4!=Le||7==e||Fn(8==e||0>=yt?3:2),ir(this);var t=this.g.aa();this.Y=t;t:if(ur(this)){var c=Ae(this.g);r="";var f=c.length,y=4==K(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){os(this),ji(this);var I="";break t}this.h.i=new Je.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,r+=this.h.i.decode(c[e],{stream:y&&e==f-1});c.splice(0,f),this.h.g+=r,this.C=0,I=this.h.g}else I=this.g.fa();if(this.i=200==t,function _i(r,e,t,c,f,y,I){r.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+f+"]: "+e+"\n"+t+"\n"+y+" "+I})}(this.j,this.u,this.A,this.m,this.U,Le,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var U,re=this.g;if((U=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xi(U)){var pe=U;break t}}pe=null}if(!(t=pe)){this.i=!1,this.o=3,Ei(12),os(this),ji(this);break e}Fi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kr(this,t)}this.P?(Is(this,Le,I),Tn&&this.i&&3==Le&&(cn(this.S,this.T,"tick",this.gb),this.T.start())):(Fi(this.j,this.m,I,null),kr(this,I)),4==Le&&os(this),this.i&&!this.I&&(4==Le?va(this.l,this):(this.i=!1,Bs(this)))}else 400==t&&0<I.indexOf("Unknown SID")?(this.o=3,Ei(12)):(this.o=0,Ei(13)),os(this),ji(this)}}}catch{}},Mt.gb=function(){if(this.g){var r=K(this.g),e=this.g.fa();this.C<e.length&&(ir(this),Is(this,r,e),this.i&&4!=r&&Bs(this))}},Mt.cancel=function(){this.I=!0,os(this)},Mt.fb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function jr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fn(3),Ei(17)),os(this),this.o=2,ji(this)):ca(this,this.V-r)};var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof io){this.h=void 0!==e?e:r.h,Tr(this,r.j),this.s=r.s,this.g=r.g,Ws(this,r.m),this.l=r.l,e=r.i;var t=new cs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zo(this,t),this.o=r.o}else r&&(t=String(r).match($s))?(this.h=!!e,Tr(this,t[1]||"",!0),this.s=Oo(t[2]||""),this.g=Oo(t[3]||"",!0),Ws(this,t[4]),this.l=Oo(t[5]||"",!0),zo(this,t[6]||"",!0),this.o=Oo(t[7]||"")):(this.h=!!e,this.i=new cs(null,this.h))}function Xr(r){return new io(r)}function Tr(r,e,t){r.j=t?Oo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ws(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function zo(r,e,t){e instanceof cs?(r.i=e,function M(r,e){e&&!r.j&&(Vs(r),r.i=null,r.g.forEach(function(t,c){var f=c.toLowerCase();c!=f&&(zs(this,c),S(this,f,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Hr(e,xa)),r.i=new cs(e,r.h))}function Pr(r,e,t){r.i.set(e,t)}function as(r){return Pr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Oo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Hr(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ui),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ui(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}io.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Hr(e,ls,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Hr(e,ls,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Hr(t,"/"==t.charAt(0)?Ro:_r,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Hr(t,Ua)),r.join("")};var ls=/[#\/\?@]/g,_r=/[#\?:]/g,Ro=/[#\?]/g,xa=/[#\?@]/g,Ua=/#/g;function cs(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Vs(r){r.g||(r.g=new Map,r.h=0,r.i&&function _a(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var c=r[t].indexOf("="),f=null;if(0<=c){var y=r[t].substring(0,c);f=r[t].substring(c+1)}else y=r[t];e(y,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zs(r,e){Vs(r),e=X(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function wn(r,e){return Vs(r),e=X(r,e),r.g.has(e)}function S(r,e,t){zs(r,e),0<t.length&&(r.i=null,r.g.set(X(r,e),ei(t)),r.h+=t.length)}function X(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Oe(r){this.l=r||Kt,r=Je.PerformanceNavigationTiming?0<(r=Je.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Je.g&&Je.g.Ga&&Je.g.Ga()&&Je.g.Ga().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Mt=cs.prototype).add=function(r,e){Vs(this),this.i=null,r=X(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Mt.forEach=function(r,e){Vs(this),this.g.forEach(function(t,c){t.forEach(function(f){r.call(e,f,c,this)},this)},this)},Mt.oa=function(){Vs(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let c=0;c<e.length;c++){const f=r[c];for(let y=0;y<f.length;y++)t.push(e[c])}return t},Mt.W=function(r){Vs(this);let e=[];if("string"==typeof r)wn(this,r)&&(e=e.concat(this.g.get(X(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Mt.set=function(r,e){return Vs(this),this.i=null,wn(this,r=X(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Mt.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var c=e[t];const y=encodeURIComponent(String(c)),I=this.W(c);for(c=0;c<I.length;c++){var f=y;""!==I[c]&&(f+="="+encodeURIComponent(String(I[c]))),r.push(f)}}return this.i=r.join("&")};var Kt=10;function jn(r){return!!r.h||!!r.g&&r.g.size>=r.j}function gi(r){return r.h?1:r.g?r.g.size:0}function D(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function C(r,e){r.g?r.g.add(e):r.h=e}function A(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function G(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return ei(r.i)}function xe(){}function gt(){this.g=new xe}function Wt(r,e,t){const c=t||"";try{fo(r,function(f,y){let I=f;ht(f)&&(I=Sr(f)),e.push(c+y+"="+encodeURIComponent(I))})}catch(f){throw e.push(c+"type="+encodeURIComponent("_badmap")),f}}function Ln(r,e,t,c,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(c)}catch{}}function Ai(r){this.l=r.$b||null,this.j=r.ib||!1}function lr(r,e){Mi.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Fr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oe.prototype.cancel=function(){if(this.i=G(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},xe.prototype.stringify=function(r){return Je.JSON.stringify(r,void 0)},xe.prototype.parse=function(r){return Je.JSON.parse(r,void 0)},Zn(Ai,Xs),Ai.prototype.g=function(){return new lr(this.l,this.j)},Ai.prototype.i=function(r){return function(){return r}}({}),Zn(lr,Mi);var Fr=0;function Vr(r){r.j.read().then(r.Sa.bind(r)).catch(r.ga.bind(r))}function Zr(r){r.readyState=4,r.l=null,r.j=null,r.A=null,hi(r)}function hi(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Mt=lr.prototype).open=function(r,e){if(this.readyState!=Fr)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,hi(this)},Mt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||Je).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zr(this)),this.readyState=Fr},Mt.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Je.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vr(this)}else r.text().then(this.Ua.bind(this),this.ga.bind(this))},Mt.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Zr(this):hi(this),3==this.readyState&&Vr(this)}},Mt.Ua=function(r){this.g&&(this.response=this.responseText=r,Zr(this))},Mt.Ta=function(r){this.g&&(this.response=r,Zr(this))},Mt.ga=function(){this.g&&Zr(this)},Mt.setRequestHeader=function(r,e){this.v.append(r,e)},Mt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var po=Je.JSON.parse;function rr(r){Mi.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Po,this.K=this.L=!1}Zn(rr,Mi);var Po="",Lr=/^https?$/i,Ns=["POST","PUT"];function Ko(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,go(r),j(r)}function go(r){r.D||(r.D=!0,bi(r,"complete"),bi(r,"error"))}function Zo(r){if(r.h&&typeof mt<"u"&&(!r.C[1]||4!=K(r)||2!=r.aa()))if(r.v&&4==K(r))Ct(r.Ha,0,r);else if(bi(r,"readystatechange"),4==K(r)){r.h=!1;try{const U=r.aa();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var c;if(c=0===U){var f=String(r.H).match($s)[1]||null;if(!f&&Je.self&&Je.self.location){var y=Je.self.location.protocol;f=y.substr(0,y.length-1)}c=!Lr.test(f?f.toLowerCase():"")}t=c}if(t)bi(r,"complete"),bi(r,"success");else{r.m=6;try{var I=2<K(r)?r.g.statusText:""}catch{I=""}r.j=I+" ["+r.aa()+"]",go(r)}}finally{j(r)}}}function j(r,e){if(r.g){le(r);const t=r.g,c=r.C[0]?Ye:null;r.g=null,r.C=null,e||bi(r,"ready");try{t.onreadystatechange=c}catch{}}}function le(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Je.clearTimeout(r.A),r.A=null)}function K(r){return r.g?r.g.readyState:0}function Ae(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case Po:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function dt(r){let e="";return pi(r,function(t,c){e+=c,e+=":",e+=t,e+="\r\n"}),e}function Yt(r,e,t){e:{for(c in t){var c=!1;break e}c=!0}c||(t=dt(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Pr(r,e,t))}function ln(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function si(r){this.Ca=0,this.i=[],this.j=new hn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=ln("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=ln("baseRetryDelayMs",5e3,r),this.ab=ln("retryDelaySeedMs",1e4,r),this.Za=ln("forwardChannelMaxRetries",2,r),this.ta=ln("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Yb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new Oe(r&&r.concurrentRequestLimit),this.Fa=new gt,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=r&&r.Wb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function yr(r){if(Rr(r),3==r.G){var e=r.U++,t=Xr(r.F);Pr(t,"SID",r.I),Pr(t,"RID",e),Pr(t,"TYPE","terminate"),ws(r,t),(e=new ps(r,r.j,e,void 0)).K=2,e.v=as(Xr(t)),t=!1,Je.navigator&&Je.navigator.sendBeacon&&(t=Je.navigator.sendBeacon(e.v.toString(),"")),!t&&Je.Image&&((new Image).src=e.v,t=!0),t||(e.g=$c(e.l,null),e.g.da(e.v)),e.F=Date.now(),Bs(e)}Il(r)}function Ur(r){r.g&&(Ha(r),r.g.cancel(),r.g=null)}function Rr(r){Ur(r),r.u&&(Je.clearTimeout(r.u),r.u=null),ua(r),r.h.cancel(),r.m&&("number"==typeof r.m&&Je.clearTimeout(r.m),r.m=null)}function vr(r){jn(r.h)||r.m||(r.m=!0,Fs(r.Ja,r),r.C=0)}function Qr(r,e){var t;t=e?e.m:r.U++;const c=Xr(r.F);Pr(c,"SID",r.I),Pr(c,"RID",t),Pr(c,"AID",r.T),ws(r,c),r.o&&r.s&&Yt(c,r.o,r.s),t=new ps(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=ja(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),C(r.h,t),Yi(t,c,e)}function ws(r,e){r.ia&&pi(r.ia,function(t,c){Pr(e,c,t)}),r.l&&fo({},function(t,c){Pr(e,c,t)})}function ja(r,e,t){t=Math.min(r.i.length,t);var c=r.l?Te(r.l.Qa,r.l,r):null;e:{var f=r.i;let y=-1;for(;;){const I=["count="+t];-1==y?0<t?(y=f[0].h,I.push("ofs="+y)):y=0:I.push("ofs="+y);let U=!0;for(let re=0;re<t;re++){let pe=f[re].h;const Le=f[re].g;if(pe-=y,0>pe)y=Math.max(0,f[re].h-100),U=!1;else try{Wt(Le,I,"req"+pe+"_")}catch{c&&c(Le)}}if(U){c=I.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,c}function ya(r){r.g||r.u||(r.Z=1,Fs(r.Ia,r),r.A=0)}function Do(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=nr(Te(r.Ia,r),pc(r,r.A)),r.A++,0))}function Ha(r){null!=r.B&&(Je.clearTimeout(r.B),r.B=null)}function Qo(r){r.g=new ps(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=Xr(r.sa);Pr(e,"RID","rpc"),Pr(e,"SID",r.I),Pr(e,"CI",r.L?"0":"1"),Pr(e,"AID",r.T),Pr(e,"TYPE","xmlhttp"),ws(r,e),r.o&&r.s&&Yt(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=as(Xr(e)),t.s=null,t.P=!0,As(t,r)}function ua(r){null!=r.v&&(Je.clearTimeout(r.v),r.v=null)}function va(r,e){var t=null;if(r.g==e){ua(r),Ha(r),r.g=null;var c=2}else{if(!D(r.h,e))return;t=e.D,A(r.h,e),c=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==c){t=e.s?e.s.length:0,e=Date.now()-e.F;var f=r.C;bi(c=Gt(),new ms(c,t,e,f)),vr(r)}else ya(r);else if(3==(f=e.o)||0==f&&0<r.pa||!(1==c&&function Co(r,e){return!(gi(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Ya?0:r.Za)||(r.m=nr(Te(r.Ja,r,e),pc(r,r.C)),r.C++,0)))}(r,e)||2==c&&Do(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),f){case 1:Es(r,5);break;case 4:Es(r,10);break;case 3:Es(r,6);break;default:Es(r,2)}}function pc(r,e){let t=r.Wa+Math.floor(Math.random()*r.ab);return r.l||(t*=2),t*e}function Es(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var c=Te(r.jb,r);t||(t=new io("//www.google.com/images/cleardot.gif"),Je.location&&"http"==Je.location.protocol||Tr(t,"https"),as(t)),function Yn(r,e){const t=new hn;if(Je.Image){const c=new Image;c.onload=Cn(Ln,t,c,"TestLoadImage: loaded",!0,e),c.onerror=Cn(Ln,t,c,"TestLoadImage: error",!1,e),c.onabort=Cn(Ln,t,c,"TestLoadImage: abort",!1,e),c.ontimeout=Cn(Ln,t,c,"TestLoadImage: timeout",!1,e),Je.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=r}else e(!1)}(t.toString(),c)}else Ei(2);r.G=0,r.l&&r.l.va(e),Il(r),Rr(r)}function Il(r){if(r.G=0,r.la=[],r.l){const e=G(r.h);(0!=e.length||0!=r.i.length)&&(sn(r.la,e),sn(r.la,r.i),r.h.i.length=0,ei(r.i),r.i.length=0),r.l.ua()}}function _u(r,e,t){var c=t instanceof io?Xr(t):new io(t,void 0);if(""!=c.g)e&&(c.g=e+"."+c.g),Ws(c,c.m);else{var f=Je.location;c=f.protocol,e=e?e+"."+f.hostname:f.hostname,f=+f.port;var y=new io(null,void 0);c&&Tr(y,c),e&&(y.g=e),f&&Ws(y,f),t&&(y.l=t),c=y}return e=r.za,(t=r.D)&&e&&Pr(c,t,e),Pr(c,"VER",r.ma),ws(r,c),c}function $c(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rr(t&&r.Da&&!r.ra?new Ai({ib:!0}):r.ra)).L=r.H,e}function Tl(){}function dl(){if(Ot&&!(10<=Number(rt)))throw Error("Environmental error: no available transport.")}function ko(r,e){Mi.call(this),this.g=new si(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Xb)&&!xi(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xi(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Xa(this)}function Sl(r){Ss.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function gc(){ma.call(this),this.status=1}function Xa(r){this.g=r}(Mt=rr.prototype).da=function(r,e,t,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_s.g(),this.C=function eo(r){return r.h||(r.h=r.i())}(this.u?this.u:_s),this.g.onreadystatechange=Te(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(y){return void Ko(this,y)}if(r=t||"",t=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var f in c)t.set(f,c[f]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const y of c.keys())t.set(y,c.get(y))}c=Array.from(t.keys()).find(y=>"content-type"==y.toLowerCase()),f=Je.FormData&&r instanceof Je.FormData,!(0<=$n(Ns,e))||c||f||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,I]of t)this.g.setRequestHeader(y,I);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{le(this),0<this.B&&((this.K=function Ts(r){return Ot&&function nt(){return function ot(r){var e=ct;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Kn(String(ai)).split("."),t=Kn("9").split("."),c=Math.max(e.length,t.length);for(let I=0;0==r&&I<c;I++){var f=e[I]||"",y=t[I]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==f[0].length&&0==y[0].length)break;r=mi(0==f[1].length?0:parseInt(f[1],10),0==y[1].length?0:parseInt(y[1],10))||mi(0==f[2].length,0==y[2].length)||mi(f[2],y[2]),f=f[3],y=y[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Te(this.qa,this)):this.A=Ct(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(y){Ko(this,y)}},Mt.qa=function(){typeof mt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bi(this,"timeout"),this.abort(8))},Mt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,bi(this,"complete"),bi(this,"abort"),j(this))},Mt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),j(this,!0)),rr.X.M.call(this)},Mt.Ha=function(){this.s||(this.F||this.v||this.l?Zo(this):this.eb())},Mt.eb=function(){Zo(this)},Mt.aa=function(){try{return 2<K(this)?this.g.status:-1}catch{return-1}},Mt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Mt.Ra=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),po(e)}},Mt.Ea=function(){return this.m},Mt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Mt=si.prototype).ma=8,Mt.G=1,Mt.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const f=new ps(this,this.j,r,void 0);let y=this.s;if(this.S&&(y?(y=Hn(y),tr(y,this.S)):y=this.S),null!==this.o||this.N||(f.H=y,y=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var c=this.i[t];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(e+=c)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ja(this,f,e),Pr(t=Xr(this.F),"RID",r),Pr(t,"CVER",22),this.D&&Pr(t,"X-HTTP-Session-Id",this.D),ws(this,t),y&&(this.N?e="headers="+encodeURIComponent(String(dt(y)))+"&"+e:this.o&&Yt(t,this.o,y)),C(this.h,f),this.Xa&&Pr(t,"TYPE","init"),this.O?(Pr(t,"$req",e),Pr(t,"SID","null"),f.Z=!0,Yi(f,t,null)):Yi(f,t,e),this.G=2}}else 3==this.G&&(r?Qr(this,r):0==this.i.length||jn(this.h)||Qr(this))},Mt.Ia=function(){if(this.u=null,Qo(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=nr(Te(this.cb,this),r)}},Mt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ei(10),Ur(this),Qo(this))},Mt.bb=function(){null!=this.v&&(this.v=null,Ur(this),Do(this),Ei(19))},Mt.jb=function(r){r?(this.j.info("Successfully pinged google.com"),Ei(2)):(this.j.info("Failed to ping google.com"),Ei(1))},(Mt=Tl.prototype).xa=function(){},Mt.wa=function(){},Mt.va=function(){},Mt.ua=function(){},Mt.Qa=function(){},dl.prototype.g=function(r,e){return new ko(r,e)},Zn(ko,Mi),ko.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;Ei(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=_u(r,null,r.V),vr(r)},ko.prototype.close=function(){yr(this.g)},ko.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Sr(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.$a++,r)),3==e.G&&vr(e)},ko.prototype.M=function(){this.g.l=null,delete this.j,yr(this.g),delete this.g,ko.X.M.call(this)},Zn(Sl,Ss),Zn(gc,ma),Zn(Xa,Tl),Xa.prototype.xa=function(){bi(this.g,"a")},Xa.prototype.wa=function(r){bi(this.g,new Sl(r))},Xa.prototype.va=function(r){bi(this.g,new gc(r))},Xa.prototype.ua=function(){bi(this.g,"b")},dl.prototype.createWebChannel=dl.prototype.g,ko.prototype.send=ko.prototype.u,ko.prototype.open=ko.prototype.m,ko.prototype.close=ko.prototype.close,Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Ls.COMPLETE="complete",to.EventType=jo,jo.OPEN="a",jo.CLOSE="b",jo.ERROR="c",jo.MESSAGE="d",Mi.prototype.listen=Mi.prototype.N,rr.prototype.listenOnce=rr.prototype.O,rr.prototype.getLastError=rr.prototype.Na,rr.prototype.getLastErrorCode=rr.prototype.Ea,rr.prototype.getStatus=rr.prototype.aa,rr.prototype.getResponseJson=rr.prototype.Ra,rr.prototype.getResponseText=rr.prototype.fa,rr.prototype.send=rr.prototype.da;var $u=St.createWebChannelTransport=function(){return new dl},Vu=St.getStatEventTarget=function(){return Gt()},Io=St.ErrorCode=Cs,Jo=St.EventType=Ls,Ql=St.Event=wt,ba=St.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hl=St.FetchXmlHttpFactory=Ai,Jl=St.WebChannel=to,Ga=St.XhrIo=rr;const el="@firebase/firestore";class xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let Ks="9.10.0";const Wa=new Ce.Yd("@firebase/firestore");function fl(){return Wa.logLevel}function On(r,...e){if(Wa.logLevel<=Ce.in.DEBUG){const t=e.map(pl);Wa.debug(`Firestore (${Ks}): ${r}`,...t)}}function Ms(r,...e){if(Wa.logLevel<=Ce.in.ERROR){const t=e.map(pl);Wa.error(`Firestore (${Ks}): ${r}`,...t)}}function Fo(r,...e){if(Wa.logLevel<=Ce.in.WARN){const t=e.map(pl);Wa.warn(`Firestore (${Ks}): ${r}`,...t)}}function pl(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function ii(r="Unexpected state"){const e=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: `+r;throw Ms(e),new Error(e)}function $i(r,e){r||ii()}function Xn(r,e){return r}const un={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pn extends me.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xr.UNAUTHENTICATED))}shutdown(){}}class Ll{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tl{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var c=this;let f=this.i;const y=pe=>this.i!==f?(f=this.i,t(pe)):Promise.resolve();let I=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new Kr,e.enqueueRetryable(()=>y(this.currentUser))};const U=()=>{const pe=I;e.enqueueRetryable((0,ve.Z)(function*(){yield pe.promise,yield y(c.currentUser)}))},re=pe=>{On("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=pe,this.auth.addAuthTokenListener(this.o),U()};this.t.onInit(pe=>re(pe)),setTimeout(()=>{if(!this.auth){const pe=this.t.getImmediate({optional:!0});pe?re(pe):(On("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new Kr)}},0),U()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(c=>this.i!==e?(On("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?($i("string"==typeof c.accessToken),new gl(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $i(null===e||"string"==typeof e),new xr(e)}}class Ka{constructor(e,t,c,f){this.h=e,this.l=t,this.m=c,this.g=f,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():($i(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Bl{constructor(e,t,c,f){this.h=e,this.l=t,this.m=c,this.g=f}getToken(){return Promise.resolve(new Ka(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Al{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const c=y=>{null!=y.error&&On("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const I=y.token!==this.A;return this.A=y.token,On("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?t(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>c(y))};const f=y=>{On("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.T.onInit(y=>f(y)),setTimeout(()=>{if(!this.appCheck){const y=this.T.getImmediate({optional:!0});y?f(y):On("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($i("string"==typeof t.token),this.A=t.token,new Oa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lo(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let c=0;c<r;c++)t[c]=Math.floor(256*Math.random());return t}class Ho{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let c="";for(;c.length<20;){const f=Lo(40);for(let y=0;y<f.length;++y)c.length<20&&f[y]<t&&(c+=e.charAt(f[y]%e.length))}return c}}function qi(r,e){return r<e?-1:r>e?1:0}function Xo(r,e,t){return r.length===e.length&&r.every((c,f)=>t(c,e[f]))}function Ya(r){return r+"\0"}class ns{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pn(un.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pn(un.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pn(un.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pn(un.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ns.fromMillis(Date.now())}static fromDate(e){return ns.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),c=Math.floor(1e6*(e-1e3*t));return new ns(t,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qi(this.nanoseconds,e.nanoseconds):qi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Hi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Hi(e)}static min(){return new Hi(new ns(0,0))}static max(){return new Hi(new ns(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ea{constructor(e,t,c){void 0===t?t=0:t>e.length&&ii(),void 0===c?c=e.length-t:c>e.length-t&&ii(),this.segments=e,this.offset=t,this.len=c}get length(){return this.len}isEqual(e){return 0===ea.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(c=>{t.push(c)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,c=this.limit();t<c;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const c=Math.min(e.length,t.length);for(let f=0;f<c;f++){const y=e.get(f),I=t.get(f);if(y<I)return-1;if(y>I)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class br extends ea{construct(e,t,c){return new br(e,t,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const c of e){if(c.indexOf("//")>=0)throw new pn(un.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);t.push(...c.split("/").filter(f=>f.length>0))}return new br(t)}static emptyPath(){return new br([])}}const us=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ys extends ea{construct(e,t,c){return new Ys(e,t,c)}static isValidIdentifier(e){return us.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ys.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ys(["__name__"])}static fromServerFormat(e){const t=[];let c="",f=0;const y=()=>{if(0===c.length)throw new pn(un.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(c),c=""};let I=!1;for(;f<e.length;){const U=e[f];if("\\"===U){if(f+1===e.length)throw new pn(un.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const re=e[f+1];if("\\"!==re&&"."!==re&&"`"!==re)throw new pn(un.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=re,f+=2}else"`"===U?(I=!I,f++):"."!==U||I?(c+=U,f++):(y(),f++)}if(y(),I)throw new pn(un.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ys(t)}static emptyPath(){return new Ys([])}}class ri{constructor(e){this.path=e}static fromPath(e){return new ri(br.fromString(e))}static fromName(e){return new ri(br.fromString(e).popFirst(5))}static empty(){return new ri(br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===br.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return br.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ri(new br(e.slice()))}}class Xl{constructor(e,t,c,f){this.indexId=e,this.collectionGroup=t,this.fields=c,this.indexState=f}}function mc(r){return r.fields.find(e=>2===e.kind)}function _c(r){return r.fields.filter(e=>2!==e.kind)}Xl.UNKNOWN_ID=-1;class Uu{constructor(e,t){this.fieldPath=e,this.kind=t}}class yc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yc(0,ta.min())}}function ju(r,e){const t=r.toTimestamp().seconds,c=r.toTimestamp().nanoseconds+1,f=Hi.fromTimestamp(1e9===c?new ns(t+1,0):new ns(t,c));return new ta(f,ri.empty(),e)}function es(r){return new ta(r.readTime,r.key,-1)}class ta{constructor(e,t,c){this.readTime=e,this.documentKey=t,this.largestBatchId=c}static min(){return new ta(Hi.min(),ri.empty(),-1)}static max(){return new ta(Hi.max(),ri.empty(),-1)}}function na(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=ri.comparator(r.documentKey,e.documentKey),0!==t?t:qi(r.largestBatchId,e.largestBatchId))}const ec="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _o(r){return da.apply(this,arguments)}function da(){return da=(0,ve.Z)(function*(r){if(r.code!==un.FAILED_PRECONDITION||r.message!==ec)throw r;On("LocalStore","Unexpectedly lost primary lease")}),da.apply(this,arguments)}class en{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ii(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new en((c,f)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(c,f)},this.catchCallback=y=>{this.wrapFailure(t,y).next(c,f)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof en?t:en.resolve(t)}catch(t){return en.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):en.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):en.reject(t)}static resolve(e){return new en((t,c)=>{t(e)})}static reject(e){return new en((t,c)=>{c(e)})}static waitFor(e){return new en((t,c)=>{let f=0,y=0,I=!1;e.forEach(U=>{++f,U.next(()=>{++y,I&&y===f&&t()},re=>c(re))}),I=!0,y===f&&t()})}static or(e){let t=en.resolve(!1);for(const c of e)t=t.next(f=>f?en.resolve(f):c());return t}static forEach(e,t){const c=[];return e.forEach((f,y)=>{c.push(t.call(this,f,y))}),this.waitFor(c)}static mapArray(e,t){return new en((c,f)=>{const y=e.length,I=new Array(y);let U=0;for(let re=0;re<y;re++){const pe=re;t(e[pe]).next(Le=>{I[pe]=Le,++U,U===y&&c(I)},Le=>f(Le))}})}static doWhile(e,t){return new en((c,f)=>{const y=()=>{!0===e()?t().next(()=>{y()},f):c()};y()})}}class Ea{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Kr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new vc(e,t.error)):this.P.resolve()},this.transaction.onerror=c=>{const f=O(c.target.error);this.P.reject(new vc(e,f))}}static open(e,t,c,f){try{return new Ea(t,e.transaction(f,c))}catch(y){throw new vc(t,y)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(On("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bc(t)}}class yo{constructor(e,t,c){this.name=e,this.version=t,this.S=c,12.2===yo.D((0,me.z$)())&&Ms("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return On("SimpleDb","Removing database:",e),P(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,me.hl)())return!1;if(yo.N())return!0;const e=(0,me.z$)(),t=yo.D(e),c=0<t&&t<10,f=yo.k(e),y=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||c||y)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static k(e){const t=e.match(/Android ([\d.]+)/i),c=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(c)}F(e){var t=this;return(0,ve.Z)(function*(){return t.db||(On("SimpleDb","Opening database:",t.name),t.db=yield new Promise((c,f)=>{const y=indexedDB.open(t.name,t.version);y.onsuccess=I=>{c(I.target.result)},y.onblocked=()=>{f(new vc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=I=>{const U=I.target.error;f("VersionError"===U.name?new pn(un.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===U.name?new pn(un.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+U):new vc(e,U))},y.onupgradeneeded=I=>{On("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',I.oldVersion),t.S.$(I.target.result,y.transaction,I.oldVersion,t.version).next(()=>{On("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=c=>t.B(c)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,c,f){var y=this;return(0,ve.Z)(function*(){const I="readonly"===t;let U=0;for(;;){++U;try{y.db=yield y.F(e);const re=Ea.open(y.db,e,I?"readonly":"readwrite",c),pe=f(re).next(Le=>(re.V(),Le)).catch(Le=>(re.abort(Le),en.reject(Le))).toPromise();return pe.catch(()=>{}),yield re.v,pe}catch(re){const pe=re,Le="FirebaseError"!==pe.name&&U<3;if(On("SimpleDb","Transaction failed with error:",pe.message,"Retrying:",Le),y.close(),!Le)return Promise.reject(pe)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nl{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return P(this.U.delete())}}class vc extends pn{constructor(e,t){super(un.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ca(r){return"IndexedDbTransactionError"===r.name}class bc{constructor(e){this.store=e}put(e,t){let c;return void 0!==t?(On("SimpleDb","PUT",this.store.name,e,t),c=this.store.put(t,e)):(On("SimpleDb","PUT",this.store.name,"<auto-key>",e),c=this.store.put(e)),P(c)}add(e){return On("SimpleDb","ADD",this.store.name,e,e),P(this.store.add(e))}get(e){return P(this.store.get(e)).next(t=>(void 0===t&&(t=null),On("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return On("SimpleDb","DELETE",this.store.name,e),P(this.store.delete(e))}count(){return On("SimpleDb","COUNT",this.store.name),P(this.store.count())}W(e,t){const c=this.options(e,t);if(c.index||"function"!=typeof this.store.getAll){const f=this.cursor(c),y=[];return this.H(f,(I,U)=>{y.push(U)}).next(()=>y)}{const f=this.store.getAll(c.range);return new en((y,I)=>{f.onerror=U=>{I(U.target.error)},f.onsuccess=U=>{y(U.target.result)}})}}J(e,t){const c=this.store.getAll(e,null===t?void 0:t);return new en((f,y)=>{c.onerror=I=>{y(I.target.error)},c.onsuccess=I=>{f(I.target.result)}})}Y(e,t){On("SimpleDb","DELETE ALL",this.store.name);const c=this.options(e,t);c.X=!1;const f=this.cursor(c);return this.H(f,(y,I,U)=>U.delete())}Z(e,t){let c;t?c=e:(c={},t=e);const f=this.cursor(c);return this.H(f,t)}tt(e){const t=this.cursor({});return new en((c,f)=>{t.onerror=y=>{const I=O(y.target.error);f(I)},t.onsuccess=y=>{const I=y.target.result;I?e(I.primaryKey,I.value).next(U=>{U?I.continue():c()}):c()}})}H(e,t){const c=[];return new en((f,y)=>{e.onerror=I=>{y(I.target.error)},e.onsuccess=I=>{const U=I.target.result;if(!U)return void f();const re=new nl(U),pe=t(U.primaryKey,U.value,re);if(pe instanceof en){const Le=pe.catch(yt=>(re.done(),en.reject(yt)));c.push(Le)}re.isDone?f():null===re.G?U.continue():U.continue(re.G)}}).next(()=>en.waitFor(c))}options(e,t){let c;return void 0!==e&&("string"==typeof e?c=e:t=e),{index:c,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const c=this.store.index(e.index);return e.X?c.openKeyCursor(e.range,t):c.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function P(r){return new en((e,t)=>{r.onsuccess=c=>{e(c.target.result)},r.onerror=c=>{const f=O(c.target.error);t(f)}})}let F=!1;function O(r){const e=yo.D((0,me.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const c=new pn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return F||(F=!0,setTimeout(()=>{throw c},0)),c}}return r}class W{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;On("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{On("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(c){Ca(c)?On("IndexBackiller","Ignoring IndexedDB error during index backfill: ",c):yield _o(c)}yield t.nt(6e4)}))}}class J{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",c=>t.it(c,e))})()}it(e,t){const c=new Set;let f=t,y=!0;return en.doWhile(()=>!0===y&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(I=>{if(null!==I&&!c.has(I))return On("IndexBackiller",`Processing collection: ${I}`),this.rt(e,I,f).next(U=>{f-=U,c.add(I)});y=!1})).next(()=>t-f)}rt(e,t,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(f=>this.localStore.localDocuments.getNextDocuments(e,t,f,c).next(y=>{const I=y.changes;return this.localStore.indexManager.updateIndexEntries(e,I).next(()=>this.ot(f,y)).next(U=>(On("IndexBackiller",`Updating offset: ${U}`),this.localStore.indexManager.updateCollectionGroup(e,t,U))).next(()=>I.size)}))}ot(e,t){let c=e;return t.changes.forEach((f,y)=>{const I=es(y);na(I,c)>0&&(c=I)}),new ta(c.readTime,c.documentKey,Math.max(t.batchId,e.largestBatchId))}}class De{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=c=>this.ut(c),this.ct=c=>t.writeSequenceNumber(c))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function st(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function pt(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function gn(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}De.at=-1;class Rn{constructor(e,t){this.comparator=e,this.root=t||Jn.EMPTY}insert(e,t){return new Rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new Rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const c=this.comparator(e,t.key);if(0===c)return t.value;c<0?t=t.left:c>0&&(t=t.right)}return null}indexOf(e){let t=0,c=this.root;for(;!c.isEmpty();){const f=this.comparator(e,c.key);if(0===f)return t+c.left.size;f<0?c=c.left:(t+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,c)=>(e(t,c),!1))}toString(){const e=[];return this.inorderTraversal((t,c)=>(e.push(`${t}:${c}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dr(this.root,e,this.comparator,!1)}getReverseIterator(){return new dr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dr(this.root,e,this.comparator,!0)}}class dr{constructor(e,t,c,f){this.isReverse=f,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=t?c(e.key,t):1,t&&f&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jn{constructor(e,t,c,f,y){this.key=e,this.value=t,this.color=c??Jn.RED,this.left=f??Jn.EMPTY,this.right=y??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,c,f,y){return new Jn(e??this.key,t??this.value,c??this.color,f??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,c){let f=this;const y=c(e,f.key);return f=y<0?f.copy(null,null,null,f.left.insert(e,t,c),null):0===y?f.copy(null,t,null,null,null):f.copy(null,null,null,null,f.right.insert(e,t,c)),f.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let c,f=this;if(t(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,t),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===t(e,f.key)){if(f.right.isEmpty())return Jn.EMPTY;c=f.right.min(),f=f.copy(c.key,c.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,t))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ii();const e=this.left.check();if(e!==this.right.check())throw ii();return e+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1,Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw ii()}get value(){throw ii()}get color(){throw ii()}get left(){throw ii()}get right(){throw ii()}copy(r,e,t,c,f){return this}insert(r,e,t){return new Jn(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gi{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,c)=>(e(t),!1))}forEachInRange(e,t){const c=this.data.getIteratorFrom(e[0]);for(;c.hasNext();){const f=c.getNext();if(this.comparator(f.key,e[1])>=0)return;t(f.key)}}forEachWhile(e,t){let c;for(c=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();c.hasNext();)if(!e(c.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new To(this.data.getIterator())}getIteratorFrom(e){return new To(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(c=>{t=t.add(c)}),t}isEqual(e){if(!(e instanceof Gi)||this.size!==e.size)return!1;const t=this.data.getIterator(),c=e.data.getIterator();for(;t.hasNext();){const f=t.getNext().key,y=c.getNext().key;if(0!==this.comparator(f,y))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gi(this.comparator);return t.data=e,t}}class To{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xs(r){return r.hasNext()?r.getNext():void 0}class So{constructor(e){this.fields=e,e.sort(Ys.comparator)}static empty(){return new So([])}unionWith(e){let t=new Gi(Ys.comparator);for(const c of this.fields)t=t.add(c);for(const c of e)t=t.add(c);return new So(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(t,c)=>t.isEqual(c))}}class oo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new oo(t)}static fromUint8Array(e){const t=function(c){let f="";for(let y=0;y<c.length;++y)f+=String.fromCharCode(c[y]);return f}(e);return new oo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let c=0;c<e.length;c++)t[c]=e.charCodeAt(c);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oo.EMPTY_BYTE_STRING=new oo("");const Vl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(r){if($i(!!r),"string"==typeof r){let e=0;const t=Vl.exec(r);if($i(!!t),t[1]){let f=t[1];f=(f+"000000000").substr(0,9),e=Number(f)}const c=new Date(r);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:qs(r.seconds),nanos:qs(r.nanos)}}function qs(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function nc(r){return"string"==typeof r?oo.fromBase64String(r):oo.fromUint8Array(r)}function md(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function z(r){const e=r.mapValue.fields.__previous_value__;return md(e)?z(e):e}function ee(r){const e=Da(r.mapValue.fields.__local_write_time__.timestampValue);return new ns(e.seconds,e.nanos)}class Ne{constructor(e,t,c,f,y,I,U,re){this.databaseId=e,this.appId=t,this.persistenceKey=c,this.host=f,this.ssl=y,this.forceLongPolling=I,this.autoDetectLongPolling=U,this.useFetchStreams=re}}class qe{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qe("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qe&&e.projectId===this.projectId&&e.database===this.database}}function Vt(r){return null==r}function nn(r){return 0===r&&1/r==-1/0}function An(r){return"number"==typeof r&&Number.isInteger(r)&&!nn(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Qn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zi={nullValue:"NULL_VALUE"};function Ji(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?md(r)?4:ic(r)?9007199254740991:10:ii()}function Ci(r,e){if(r===e)return!0;const t=Ji(r);if(t!==Ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ee(r).isEqual(ee(e));case 3:return function(c,f){if("string"==typeof c.timestampValue&&"string"==typeof f.timestampValue&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;const y=Da(c.timestampValue),I=Da(f.timestampValue);return y.seconds===I.seconds&&y.nanos===I.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return f=e,nc(r.bytesValue).isEqual(nc(f.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(c,f){return qs(c.geoPointValue.latitude)===qs(f.geoPointValue.latitude)&&qs(c.geoPointValue.longitude)===qs(f.geoPointValue.longitude)}(r,e);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return qs(c.integerValue)===qs(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){const y=qs(c.doubleValue),I=qs(f.doubleValue);return y===I?nn(y)===nn(I):isNaN(y)&&isNaN(I)}return!1}(r,e);case 9:return Xo(r.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:return function(c,f){const y=c.mapValue.fields||{},I=f.mapValue.fields||{};if(st(y)!==st(I))return!1;for(const U in y)if(y.hasOwnProperty(U)&&(void 0===I[U]||!Ci(y[U],I[U])))return!1;return!0}(r,e);default:return ii()}var f}function Li(r,e){return void 0!==(r.values||[]).find(t=>Ci(t,e))}function Us(r,e){if(r===e)return 0;const t=Ji(r),c=Ji(e);if(t!==c)return qi(t,c);switch(t){case 0:case 9007199254740991:return 0;case 1:return qi(r.booleanValue,e.booleanValue);case 2:return function(f,y){const I=qs(f.integerValue||f.doubleValue),U=qs(y.integerValue||y.doubleValue);return I<U?-1:I>U?1:I===U?0:isNaN(I)?isNaN(U)?0:-1:1}(r,e);case 3:return ha(r.timestampValue,e.timestampValue);case 4:return ha(ee(r),ee(e));case 5:return qi(r.stringValue,e.stringValue);case 6:return function(f,y){const I=nc(f),U=nc(y);return I.compareTo(U)}(r.bytesValue,e.bytesValue);case 7:return function(f,y){const I=f.split("/"),U=y.split("/");for(let re=0;re<I.length&&re<U.length;re++){const pe=qi(I[re],U[re]);if(0!==pe)return pe}return qi(I.length,U.length)}(r.referenceValue,e.referenceValue);case 8:return function(f,y){const I=qi(qs(f.latitude),qs(y.latitude));return 0!==I?I:qi(qs(f.longitude),qs(y.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(f,y){const I=f.values||[],U=y.values||[];for(let re=0;re<I.length&&re<U.length;++re){const pe=Us(I[re],U[re]);if(pe)return pe}return qi(I.length,U.length)}(r.arrayValue,e.arrayValue);case 10:return function(f,y){if(f===Qn.mapValue&&y===Qn.mapValue)return 0;if(f===Qn.mapValue)return 1;if(y===Qn.mapValue)return-1;const I=f.fields||{},U=Object.keys(I),re=y.fields||{},pe=Object.keys(re);U.sort(),pe.sort();for(let Le=0;Le<U.length&&Le<pe.length;++Le){const yt=qi(U[Le],pe[Le]);if(0!==yt)return yt;const Xt=Us(I[U[Le]],re[pe[Le]]);if(0!==Xt)return Xt}return qi(U.length,pe.length)}(r.mapValue,e.mapValue);default:throw ii()}}function ha(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return qi(r,e);const t=Da(r),c=Da(e),f=qi(t.seconds,c.seconds);return 0!==f?f:qi(t.nanos,c.nanos)}function Ia(r){return qa(r)}function qa(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(c){const f=Da(c);return`time(${f.seconds},${f.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?nc(r.bytesValue).toBase64():"referenceValue"in r?ri.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(c){let f="[",y=!0;for(const I of c.values||[])y?y=!1:f+=",",f+=qa(I);return f+"]"}(r.arrayValue):"mapValue"in r?function(c){const f=Object.keys(c.fields||{}).sort();let y="{",I=!0;for(const U of f)I?I=!1:y+=",",y+=`${U}:${qa(c.fields[U])}`;return y+"}"}(r.mapValue):ii();var e}function ia(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ul(r){return!!r&&"integerValue"in r}function ra(r){return!!r&&"arrayValue"in r}function il(r){return!!r&&"nullValue"in r}function Nl(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ml(r){return!!r&&"mapValue"in r}function _l(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return pt(r.mapValue.fields,(t,c)=>e.mapValue.fields[t]=_l(c)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_l(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ic(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function _d(r){return"nullValue"in r?zi:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ia(qe.empty(),ri.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ii()}function np(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ia(qe.empty(),ri.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Qn:ii()}function Hu(r,e){const t=Us(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Gu(r,e){const t=Us(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class fa{constructor(e){this.value=e}static empty(){return new fa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let c=0;c<e.length-1;++c)if(t=(t.mapValue.fields||{})[e.get(c)],!ml(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(t)}setAll(e){let t=Ys.emptyPath(),c={},f=[];e.forEach((I,U)=>{if(!t.isImmediateParentOf(U)){const re=this.getFieldsMap(t);this.applyChanges(re,c,f),c={},f=[],t=U.popLast()}I?c[U.lastSegment()]=_l(I):f.push(U.lastSegment())});const y=this.getFieldsMap(t);this.applyChanges(y,c,f)}delete(e){const t=this.field(e.popLast());ml(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let c=0;c<e.length;++c){let f=t.mapValue.fields[e.get(c)];ml(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},t.mapValue.fields[e.get(c)]=f),t=f}return t.mapValue.fields}applyChanges(e,t,c){pt(t,(f,y)=>e[f]=y);for(const f of c)delete e[f]}clone(){return new fa(_l(this.value))}}function Jc(r){const e=[];return pt(r.fields,(t,c)=>{const f=new Ys([t]);if(ml(c)){const y=Jc(c.mapValue).fields;if(0===y.length)e.push(f);else for(const I of y)e.push(f.child(I))}else e.push(f)}),new So(e)}class Zs{constructor(e,t,c,f,y,I){this.key=e,this.documentType=t,this.version=c,this.readTime=f,this.data=y,this.documentState=I}static newInvalidDocument(e){return new Zs(e,0,Hi.min(),Hi.min(),fa.empty(),0)}static newFoundDocument(e,t,c){return new Zs(e,1,t,Hi.min(),c,0)}static newNoDocument(e,t){return new Zs(e,2,t,Hi.min(),fa.empty(),0)}static newUnknownDocument(e,t){return new Zs(e,3,t,Hi.min(),fa.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Hi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zs(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jd{constructor(e,t=null,c=[],f=[],y=null,I=null,U=null){this.path=e,this.collectionGroup=t,this.orderBy=c,this.filters=f,this.limit=y,this.startAt=I,this.endAt=U,this.ht=null}}function Xc(r,e=null,t=[],c=[],f=null,y=null,I=null){return new Jd(r,e,t,c,f,y,I)}function Ra(r){const e=Xn(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(c=>{return(f=c).field.canonicalString()+f.op.toString()+Ia(f.value);var f}).join(","),t+="|ob:",t+=e.orderBy.map(c=>{return(f=c).field.canonicalString()+f.dir;var f}).join(","),Vt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(c=>Ia(c)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(c=>Ia(c)).join(",")),e.ht=t}return e.ht}function eu(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let f=0;f<r.orderBy.length;f++)if(!Xd(r.orderBy[f],e.orderBy[f]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let f=0;f<r.filters.length;f++)if((t=r.filters[f]).op!==(c=e.filters[f]).op||!t.field.isEqual(c.field)||!Ci(t.value,c.value))return!1;var t,c;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!tu(r.startAt,e.startAt)&&tu(r.endAt,e.endAt)}function Wu(r){return ri.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function yu(r,e){return r.filters.filter(t=>t instanceof Ta&&t.field.isEqual(e))}function ip(r,e,t){let c=zi,f=!0;for(const y of yu(r,e)){let I=zi,U=!0;switch(y.op){case"<":case"<=":I=_d(y.value);break;case"==":case"in":case">=":I=y.value;break;case">":I=y.value,U=!1;break;case"!=":case"not-in":I=zi}Hu({value:c,inclusive:f},{value:I,inclusive:U})<0&&(c=I,f=U)}if(null!==t)for(let y=0;y<r.orderBy.length;++y)if(r.orderBy[y].field.isEqual(e)){const I=t.position[y];Hu({value:c,inclusive:f},{value:I,inclusive:t.inclusive})<0&&(c=I,f=t.inclusive);break}return{value:c,inclusive:f}}function Vc(r,e,t){let c=Qn,f=!0;for(const y of yu(r,e)){let I=Qn,U=!0;switch(y.op){case">=":case">":I=np(y.value),U=!1;break;case"==":case"in":case"<=":I=y.value;break;case"<":I=y.value,U=!1;break;case"!=":case"not-in":I=Qn}Gu({value:c,inclusive:f},{value:I,inclusive:U})>0&&(c=I,f=U)}if(null!==t)for(let y=0;y<r.orderBy.length;++y)if(r.orderBy[y].field.isEqual(e)){const I=t.position[y];Gu({value:c,inclusive:f},{value:I,inclusive:t.inclusive})>0&&(c=I,f=t.inclusive);break}return{value:c,inclusive:f}}class Ta extends class{}{constructor(e,t,c){super(),this.field=e,this.op=t,this.value=c}static create(e,t,c){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,c):new uf(e,t,c):"array-contains"===t?new rp(e,c):"in"===t?new df(e,c):"not-in"===t?new Kp(e,c):"array-contains-any"===t?new bd(e,c):new Ta(e,t,c)}static lt(e,t,c){return"in"===t?new zu(e,c):new vd(e,c)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Us(t,this.value)):null!==t&&Ji(this.value)===Ji(t)&&this.ft(Us(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ii()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class uf extends Ta{constructor(e,t,c){super(e,t,c),this.key=ri.fromName(c.referenceValue)}matches(e){const t=ri.comparator(e.key,this.key);return this.ft(t)}}class zu extends Ta{constructor(e,t){super(e,"in",t),this.keys=Uc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vd extends Ta{constructor(e,t){super(e,"not-in",t),this.keys=Uc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Uc(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(c=>ri.fromName(c.referenceValue))}class rp extends Ta{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ra(t)&&Li(t.arrayValue,this.value)}}class df extends Ta{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Li(this.value.arrayValue,t)}}class Kp extends Ta{constructor(e,t){super(e,"not-in",t)}matches(e){if(Li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Li(this.value.arrayValue,t)}}class bd extends Ta{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ra(t)||!t.arrayValue.values)&&t.arrayValue.values.some(c=>Li(this.value.arrayValue,c))}}class rc{constructor(e,t){this.position=e,this.inclusive=t}}class jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function wd(r,e,t){let c=0;for(let f=0;f<r.position.length;f++){const y=e[f],I=r.position[f];if(c=y.field.isKeyField()?ri.comparator(ri.fromName(I.referenceValue),t.key):Us(I,t.data.field(y.field)),"desc"===y.dir&&(c*=-1),0!==c)break}return c}function tu(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ci(r.position[t],e.position[t]))return!1;return!0}class rl{constructor(e,t=null,c=[],f=[],y=null,I="F",U=null,re=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=c,this.filters=f,this.limit=y,this.limitType=I,this.startAt=U,this.endAt=re,this._t=null,this.wt=null}}function vu(r,e,t,c,f,y,I,U){return new rl(r,e,t,c,f,y,I,U)}function bu(r){return new rl(r)}function Th(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Ku(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Ml(r){for(const e of r.filters)if(e.dt())return e.field;return null}function wu(r){return null!==r.collectionGroup}function sc(r){const e=Xn(r);if(null===e._t){e._t=[];const t=Ml(e),c=Ku(e);if(null!==t&&null===c)t.isKeyField()||e._t.push(new jc(t)),e._t.push(new jc(Ys.keyField(),"asc"));else{let f=!1;for(const y of e.explicitOrderBy)e._t.push(y),y.field.isKeyField()&&(f=!0);if(!f){const y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new jc(Ys.keyField(),y))}}}return e._t}function Sa(r){const e=Xn(r);if(!e.wt)if("F"===e.limitType)e.wt=Xc(e.path,e.collectionGroup,sc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const y of sc(e))t.push(new jc(y.field,"desc"===y.dir?"asc":"desc"));const c=e.endAt?new rc(e.endAt.position,e.endAt.inclusive):null,f=e.startAt?new rc(e.startAt.position,e.startAt.inclusive):null;e.wt=Xc(e.path,e.collectionGroup,t,e.filters,e.limit,c,f)}return e.wt}function Sh(r,e,t){return new rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function sl(r,e){return eu(Sa(r),Sa(e))&&r.limitType===e.limitType}function vo(r){return`${Ra(Sa(r))}|lt:${r.limitType}`}function Yu(r){return`Query(target=${function yd(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(c=t).field.canonicalString()} ${c.op} ${Ia(c.value)}`;var c}).join(", ")}]`),Vt(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(c=t).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>Ia(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>Ia(t)).join(",")),`Target(${e})`}(Sa(r))}; limitType=${r.limitType})`}function ol(r,e){return e.isFoundDocument()&&function(t,c){const f=c.key.path;return null!==t.collectionGroup?c.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(f):ri.isDocumentKey(t.path)?t.path.isEqual(f):t.path.isImmediateParentOf(f)}(r,e)&&function(t,c){for(const f of t.explicitOrderBy)if(!f.field.isKeyField()&&null===c.data.field(f.field))return!1;return!0}(r,e)&&function(t,c){for(const f of t.filters)if(!f.matches(c))return!1;return!0}(r,e)&&(c=e,!((t=r).startAt&&!function(f,y,I){const U=wd(f,y,I);return f.inclusive?U<=0:U<0}(t.startAt,sc(t),c)||t.endAt&&!function(f,y,I){const U=wd(f,y,I);return f.inclusive?U>=0:U>0}(t.endAt,sc(t),c)));var t,c}function qu(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ah(r){return(e,t)=>{let c=!1;for(const f of sc(r)){const y=nu(f,e,t);if(0!==y)return y;c=c||f.field.isKeyField()}return 0}}function nu(r,e,t){const c=r.field.isKeyField()?ri.comparator(e.key,t.key):function(f,y,I){const U=y.data.field(f),re=I.data.field(f);return null!==U&&null!==re?Us(U,re):ii()}(r.field,e,t);switch(r.dir){case"asc":return c;case"desc":return-1*c;default:return ii()}}function yl(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nn(e)?"-0":e}}function wc(r){return{integerValue:""+r}}function al(r,e){return An(e)?wc(e):yl(r,e)}class xl{constructor(){this._=void 0}}function iu(r,e,t){return r instanceof su?function(c,f){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return f&&(y.fields.__previous_value__=f),{mapValue:y}}(t,e):r instanceof Aa?ou(r,e):r instanceof Za?jl(r,e):function(c,f){const y=ru(c,f),I=Qa(y)+Qa(c.yt);return Ul(y)&&Ul(c.yt)?wc(I):yl(c.It,I)}(r,e)}function Eu(r,e,t){return r instanceof Aa?ou(r,e):r instanceof Za?jl(r,e):t}function ru(r,e){return r instanceof Ec?Ul(t=e)||(c=t)&&"doubleValue"in c?e:{integerValue:0}:null;var c,t}class su extends xl{}class Aa extends xl{constructor(e){super(),this.elements=e}}function ou(r,e){const t=Cc(e);for(const c of r.elements)t.some(f=>Ci(f,c))||t.push(c);return{arrayValue:{values:t}}}class Za extends xl{constructor(e){super(),this.elements=e}}function jl(r,e){let t=Cc(e);for(const c of r.elements)t=t.filter(f=>!Ci(f,c));return{arrayValue:{values:t}}}class Ec extends xl{constructor(e,t){super(),this.It=e,this.yt=t}}function Qa(r){return qs(r.integerValue||r.doubleValue)}function Cc(r){return ra(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Hl{constructor(e,t){this.field=e,this.transform=t}}class Nh{constructor(e,t){this.version=e,this.transformResults=t}}class ao{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ao}static exists(e){return new ao(void 0,e)}static updateTime(e){return new ao(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class au{}function Hc(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Ju(r.key,ao.none()):new Gc(r.key,r.data,ao.none());{const t=r.data,c=fa.empty();let f=new Gi(Ys.comparator);for(let y of e.fields)if(!f.has(y)){let I=t.field(y);null===I&&y.length>1&&(y=y.popLast(),I=t.field(y)),null===I?c.delete(y):c.set(y,I),f=f.add(y)}return new oc(r.key,c,new So(f.toArray()),ao.none())}}function th(r,e,t){r instanceof Gc?function(c,f,y){const I=c.value.clone(),U=hf(c.fieldTransforms,f,y.transformResults);I.setAll(U),f.convertToFoundDocument(y.version,I).setHasCommittedMutations()}(r,e,t):r instanceof oc?function(c,f,y){if(!Ed(c.precondition,f))return void f.convertToUnknownDocument(y.version);const I=hf(c.fieldTransforms,f,y.transformResults),U=f.data;U.setAll(Dd(c)),U.setAll(I),f.convertToFoundDocument(y.version,U).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zu(r,e,t,c){return r instanceof Gc?function(f,y,I,U){if(!Ed(f.precondition,y))return I;const re=f.value.clone(),pe=Qu(f.fieldTransforms,U,y);return re.setAll(pe),y.convertToFoundDocument(y.version,re).setHasLocalMutations(),null}(r,e,t,c):r instanceof oc?function(f,y,I,U){if(!Ed(f.precondition,y))return I;const re=Qu(f.fieldTransforms,U,y),pe=y.data;return pe.setAll(Dd(f)),pe.setAll(re),y.convertToFoundDocument(y.version,pe).setHasLocalMutations(),null===I?null:I.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Le=>Le.field))}(r,e,t,c):(I=t,Ed(r.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):I);var y,I}function sa(r,e){let t=null;for(const c of r.fieldTransforms){const f=e.data.field(c.field),y=ru(c.transform,f||null);null!=y&&(null===t&&(t=fa.empty()),t.set(c.field,y))}return t||null}function Cd(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===c||t&&c&&Xo(t,c,(f,y)=>function eh(r,e){return r.field.isEqual(e.field)&&(c=e.transform,(t=r.transform)instanceof Aa&&c instanceof Aa||t instanceof Za&&c instanceof Za?Xo(t.elements,c.elements,Ci):t instanceof Ec&&c instanceof Ec?Ci(t.yt,c.yt):t instanceof su&&c instanceof su);var t,c}(f,y))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,c}class Gc extends au{constructor(e,t,c,f=[]){super(),this.key=e,this.value=t,this.precondition=c,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class oc extends au{constructor(e,t,c,f,y=[]){super(),this.key=e,this.data=t,this.fieldMask=c,this.precondition=f,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Dd(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const c=r.data.field(t);e.set(t,c)}}),e}function hf(r,e,t){const c=new Map;$i(r.length===t.length);for(let f=0;f<t.length;f++){const y=r[f],I=y.transform,U=e.data.field(y.field);c.set(y.field,Eu(I,U,t[f]))}return c}function Qu(r,e,t){const c=new Map;for(const f of r){const y=f.transform,I=t.data.field(f.field);c.set(f.field,iu(y,I,e))}return c}class Ju extends au{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cu extends au{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ff{constructor(e){this.count=e}}var Yo,ds;function Dc(r){switch(r){default:return ii();case un.CANCELLED:case un.UNKNOWN:case un.DEADLINE_EXCEEDED:case un.RESOURCE_EXHAUSTED:case un.INTERNAL:case un.UNAVAILABLE:case un.UNAUTHENTICATED:return!1;case un.INVALID_ARGUMENT:case un.NOT_FOUND:case un.ALREADY_EXISTS:case un.PERMISSION_DENIED:case un.FAILED_PRECONDITION:case un.ABORTED:case un.OUT_OF_RANGE:case un.UNIMPLEMENTED:case un.DATA_LOSS:return!0}}function Ic(r){if(void 0===r)return Ms("GRPC error has no .code"),un.UNKNOWN;switch(r){case Yo.OK:return un.OK;case Yo.CANCELLED:return un.CANCELLED;case Yo.UNKNOWN:return un.UNKNOWN;case Yo.DEADLINE_EXCEEDED:return un.DEADLINE_EXCEEDED;case Yo.RESOURCE_EXHAUSTED:return un.RESOURCE_EXHAUSTED;case Yo.INTERNAL:return un.INTERNAL;case Yo.UNAVAILABLE:return un.UNAVAILABLE;case Yo.UNAUTHENTICATED:return un.UNAUTHENTICATED;case Yo.INVALID_ARGUMENT:return un.INVALID_ARGUMENT;case Yo.NOT_FOUND:return un.NOT_FOUND;case Yo.ALREADY_EXISTS:return un.ALREADY_EXISTS;case Yo.PERMISSION_DENIED:return un.PERMISSION_DENIED;case Yo.FAILED_PRECONDITION:return un.FAILED_PRECONDITION;case Yo.ABORTED:return un.ABORTED;case Yo.OUT_OF_RANGE:return un.OUT_OF_RANGE;case Yo.UNIMPLEMENTED:return un.UNIMPLEMENTED;case Yo.DATA_LOSS:return un.DATA_LOSS;default:return ii()}}(ds=Yo||(Yo={}))[ds.OK=0]="OK",ds[ds.CANCELLED=1]="CANCELLED",ds[ds.UNKNOWN=2]="UNKNOWN",ds[ds.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ds[ds.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ds[ds.NOT_FOUND=5]="NOT_FOUND",ds[ds.ALREADY_EXISTS=6]="ALREADY_EXISTS",ds[ds.PERMISSION_DENIED=7]="PERMISSION_DENIED",ds[ds.UNAUTHENTICATED=16]="UNAUTHENTICATED",ds[ds.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ds[ds.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ds[ds.ABORTED=10]="ABORTED",ds[ds.OUT_OF_RANGE=11]="OUT_OF_RANGE",ds[ds.UNIMPLEMENTED=12]="UNIMPLEMENTED",ds[ds.INTERNAL=13]="INTERNAL",ds[ds.UNAVAILABLE=14]="UNAVAILABLE",ds[ds.DATA_LOSS=15]="DATA_LOSS";class Gl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),c=this.inner[t];if(void 0!==c)for(const[f,y]of c)if(this.equalsFn(f,e))return y}has(e){return void 0!==this.get(e)}set(e,t){const c=this.mapKeyFn(e),f=this.inner[c];if(void 0===f)return this.inner[c]=[[e,t]],void this.innerSize++;for(let y=0;y<f.length;y++)if(this.equalsFn(f[y][0],e))return void(f[y]=[e,t]);f.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),c=this.inner[t];if(void 0===c)return!1;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return 1===c.length?delete this.inner[t]:c.splice(f,1),this.innerSize--,!0;return!1}forEach(e){pt(this.inner,(t,c)=>{for(const[f,y]of c)e(f,y)})}isEmpty(){return gn(this.inner)}size(){return this.innerSize}}const Ol=new Rn(ri.comparator);function Bo(){return Ol}const nh=new Rn(ri.comparator);function Pa(...r){let e=nh;for(const t of r)e=e.insert(t.key,t);return e}function Xu(r){let e=nh;return r.forEach((t,c)=>e=e.insert(t,c.overlayedDocument)),e}function bo(){return Du()}function Wl(){return Du()}function Du(){return new Gl(r=>r.toString(),(r,e)=>r.isEqual(e))}const Wc=new Rn(ri.comparator),ed=new Gi(ri.comparator);function Ar(...r){let e=ed;for(const t of r)e=e.add(t);return e}const ac=new Gi(qi);function lu(){return ac}class Tc{constructor(e,t,c,f,y){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=c,this.documentUpdates=f,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,t){const c=new Map;return c.set(e,ka.createSynthesizedTargetChangeForCurrentChange(e,t)),new Tc(Hi.min(),c,lu(),Bo(),Ar())}}class ka{constructor(e,t,c,f,y){this.resumeToken=e,this.current=t,this.addedDocuments=c,this.modifiedDocuments=f,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ka(oo.EMPTY_BYTE_STRING,t,Ar(),Ar(),Ar())}}class td{constructor(e,t,c,f){this.Tt=e,this.removedTargetIds=t,this.key=c,this.Et=f}}class cu{constructor(e,t){this.targetId=e,this.At=t}}class nd{constructor(e,t,c=oo.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=t,this.resumeToken=c,this.cause=f}}class lc{constructor(){this.Rt=0,this.bt=Tu(),this.Pt=oo.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ar(),t=Ar(),c=Ar();return this.bt.forEach((f,y)=>{switch(y){case 0:e=e.add(f);break;case 2:t=t.add(f);break;case 1:c=c.add(f);break;default:ii()}}),new ka(this.Pt,this.vt,e,t,c)}Nt(){this.Vt=!1,this.bt=Tu()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Iu{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Bo(),this.qt=Go(),this.Kt=new Gi(qi)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const c=this.zt(t);switch(e.state){case 0:this.Ht(t)&&c.Ct(e.resumeToken);break;case 1:c.Ft(),c.St||c.Nt(),c.Ct(e.resumeToken);break;case 2:c.Ft(),c.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(c.$t(),c.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),c.Ct(e.resumeToken));break;default:ii()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((c,f)=>{this.Ht(f)&&t(f)})}Yt(e){const t=e.targetId,c=e.At.count,f=this.Xt(t);if(f){const y=f.target;if(Wu(y))if(0===c){const I=new ri(y.path);this.jt(t,I,Zs.newNoDocument(I,Hi.min()))}else $i(1===c);else this.Zt(t)!==c&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((y,I)=>{const U=this.Xt(I);if(U){if(y.current&&Wu(U.target)){const re=new ri(U.target.path);null!==this.Ut.get(re)||this.ee(I,re)||this.jt(I,re,Zs.newNoDocument(re,e))}y.Dt&&(t.set(I,y.xt()),y.Nt())}});let c=Ar();this.qt.forEach((y,I)=>{let U=!0;I.forEachWhile(re=>{const pe=this.Xt(re);return!pe||2===pe.purpose||(U=!1,!1)}),U&&(c=c.add(y))}),this.Ut.forEach((y,I)=>I.setReadTime(e));const f=new Tc(e,t,this.Kt,this.Ut,c);return this.Ut=Bo(),this.qt=Go(),this.Kt=new Gi(qi),f}Qt(e,t){if(!this.Ht(e))return;const c=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,c),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,c){if(!this.Ht(e))return;const f=this.zt(e);this.ee(e,t)?f.kt(t,1):f.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),c&&(this.Ut=this.Ut.insert(t,c))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new lc,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Gi(qi),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||On("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new lc),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Go(){return new Rn(ri.comparator)}function Tu(){return new Rn(ri.comparator)}const Fa={asc:"ASCENDING",desc:"DESCENDING"},id={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ao{constructor(e,t){this.databaseId=e,this.gt=t}}function zl(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vl(r,e){return r.gt?e.toBase64():e.toUint8Array()}function Sc(r,e){return zl(r,e.toTimestamp())}function oa(r){return $i(!!r),Hi.fromTimestamp(function(e){const t=Da(e);return new ns(t.seconds,t.nanos)}(r))}function Ac(r,e){return(t=r,new br(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Nc(r){const e=br.fromString(r);return $i(Sd(e)),e}function Su(r,e){return Ac(r.databaseId,e.path)}function Kl(r,e){const t=Nc(e);if(t.get(1)!==r.databaseId.projectId)throw new pn(un.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new pn(un.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ri(w(t))}function rd(r,e){return Ac(r.databaseId,e)}function x(r){const e=Nc(r);return 4===e.length?br.emptyPath():w(e)}function _(r){return new br(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function w(r){return $i(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function k(r,e,t){return{name:Su(r,e),fields:t.value.mapValue.fields}}function ae(r,e,t){const c=Kl(r,e.name),f=oa(e.updateTime),y=new fa({mapValue:{fields:e.fields}}),I=Zs.newFoundDocument(c,f,y);return t&&I.setHasCommittedMutations(),t?I.setHasCommittedMutations():I}function an(r,e){let t;if(e instanceof Gc)t={update:k(r,e.key,e.value)};else if(e instanceof Ju)t={delete:Su(r,e.key)};else if(e instanceof oc)t={update:k(r,e.key,e.data),updateMask:sp(e.fieldMask)};else{if(!(e instanceof Cu))return ii();t={verify:Su(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(c=>function(f,y){const I=y.transform;if(I instanceof su)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof Aa)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof Za)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof Ec)return{fieldPath:y.field.canonicalString(),increment:I.yt};throw ii()}(0,c))),e.precondition.isNone||(t.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Sc(r,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:ii()),t;var f}function qn(r,e){const t=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?ao.updateTime(oa(f.updateTime)):void 0!==f.exists?ao.exists(f.exists):ao.none():ao.none(),c=e.updateTransforms?e.updateTransforms.map(f=>function(y,I){let U=null;"setToServerValue"in I?($i("REQUEST_TIME"===I.setToServerValue),U=new su):"appendMissingElements"in I?U=new Aa(I.appendMissingElements.values||[]):"removeAllFromArray"in I?U=new Za(I.removeAllFromArray.values||[]):"increment"in I?U=new Ec(y,I.increment):ii();const re=Ys.fromServerFormat(I.fieldPath);return new Hl(re,U)}(r,f)):[];var f;if(e.update){const f=Kl(r,e.update.name),y=new fa({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new So((e.updateMask.fieldPaths||[]).map(pe=>Ys.fromServerFormat(pe)));return new oc(f,y,I,t,c)}return new Gc(f,y,t,c)}if(e.delete){const f=Kl(r,e.delete);return new Ju(f,t)}if(e.verify){const f=Kl(r,e.verify);return new Cu(f,t)}return ii()}function sr(r,e){return{documents:[rd(r,e.path)]}}function Xi(r,e){const t={structuredQuery:{}},c=e.path;null!==e.collectionGroup?(t.parent=rd(r,c),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=rd(r,c.popLast()),t.structuredQuery.from=[{collectionId:c.lastSegment()}]);const f=function(re){if(0===re.length)return;const pe=re.map(Le=>function(yt){if("=="===yt.op){if(Nl(yt.value))return{unaryFilter:{field:zc(yt.field),op:"IS_NAN"}};if(il(yt.value))return{unaryFilter:{field:zc(yt.field),op:"IS_NULL"}}}else if("!="===yt.op){if(Nl(yt.value))return{unaryFilter:{field:zc(yt.field),op:"IS_NOT_NAN"}};if(il(yt.value))return{unaryFilter:{field:zc(yt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(yt.field),op:Id(yt.op),value:yt.value}}}(Le));return 1===pe.length?pe[0]:{compositeFilter:{op:"AND",filters:pe}}}(e.filters);f&&(t.structuredQuery.where=f);const y=function(re){if(0!==re.length)return re.map(pe=>{return{field:zc((Le=pe).field),direction:Mh(Le.dir)};var Le})}(e.orderBy);y&&(t.structuredQuery.orderBy=y);const I=(pe=e.limit,r.gt||Vt(pe)?pe:{value:pe});var pe,U,re;return null!==I&&(t.structuredQuery.limit=I),e.startAt&&(t.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(t.structuredQuery.endAt={before:!(re=e.endAt).inclusive,values:re.position}),t}function Wo(r){let e=x(r.parent);const t=r.structuredQuery,c=t.from?t.from.length:0;let f=null;if(c>0){$i(1===c);const Le=t.from[0];Le.allDescendants?f=Le.collectionId:e=e.child(Le.collectionId)}let y=[];t.where&&(y=La(t.where));let I=[];t.orderBy&&(I=t.orderBy.map(Le=>{return new jc(sd((yt=Le).field),function(Xt){switch(Xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(yt.direction));var yt}));let U=null;t.limit&&(U=function(Le){let yt;return yt="object"==typeof Le?Le.value:Le,Vt(yt)?null:yt}(t.limit));let re=null;var Le;t.startAt&&(re=new rc((Le=t.startAt).values||[],!!Le.before));let pe=null;return t.endAt&&(pe=function(Le){return new rc(Le.values||[],!Le.before)}(t.endAt)),vu(e,f,I,y,U,"F",re,pe)}function La(r){return r?void 0!==r.unaryFilter?[ih(r)]:void 0!==r.fieldFilter?[Td(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>La(e)).reduce((e,t)=>e.concat(t)):ii():[]}function Mh(r){return Fa[r]}function Id(r){return id[r]}function zc(r){return{fieldPath:r.canonicalString()}}function sd(r){return Ys.fromServerFormat(r.fieldPath)}function Td(r){return Ta.create(sd(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ii()}}(r.fieldFilter.op),r.fieldFilter.value)}function ih(r){switch(r.unaryFilter.op){case"IS_NAN":const e=sd(r.unaryFilter.field);return Ta.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=sd(r.unaryFilter.field);return Ta.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=sd(r.unaryFilter.field);return Ta.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=sd(r.unaryFilter.field);return Ta.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ii()}}function sp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Sd(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function ll(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=xh(e)),e=Yp(r.get(t),e);return xh(e)}function Yp(r,e){let t=e;const c=r.length;for(let f=0;f<c;f++){const y=r.charAt(f);switch(y){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=y}}return t}function xh(r){return r+"\x01\x01"}function Mc(r){const e=r.length;if($i(e>=2),2===e)return $i("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),br.emptyPath();const t=e-2,c=[];let f="";for(let y=0;y<e;){const I=r.indexOf("\x01",y);switch((I<0||I>t)&&ii(),r.charAt(I+1)){case"\x01":const U=r.substring(y,I);let re;0===f.length?re=U:(f+=U,re=f,f=""),c.push(re);break;case"\x10":f+=r.substring(y,I),f+="\0";break;case"\x11":f+=r.substring(y,I+1);break;default:ii()}y=I+2}return new br(c)}const pf=["userId","batchId"];function rh(r,e){return[r,ll(e)]}function op(r,e,t){return[r,ll(e),t]}const ap={},qp=["prefixPath","collectionGroup","readTime","documentId"],lp=["prefixPath","collectionGroup","documentId"],cp=["collectionGroup","readTime","prefixPath","documentId"],up=["canonicalId","targetId"],Oh=["targetId","path"],rm=["path","targetId"],Kc=["collectionId","parent"],sm=["indexId","uid"],sh=["uid","sequenceNumber"],Zp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],om=["indexId","uid","orderedDocumentKey"],Qp=["userId","collectionPath","documentId"],am=["userId","collectionPath","largestBatchId"],Rh=["userId","collectionGroup","largestBatchId"],Jp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lm=[...Jp,"documentOverlays"],dp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hp=dp,Xp=[...hp,"indexConfiguration","indexState","indexEntries"];class eg extends tc{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Rs(r,e){const t=Xn(r);return yo.O(t.ie,e)}class Ph{constructor(e,t,c,f){this.batchId=e,this.localWriteTime=t,this.baseMutations=c,this.mutations=f}applyToRemoteDocument(e,t){const c=t.mutationResults;for(let f=0;f<this.mutations.length;f++){const y=this.mutations[f];y.key.isEqual(e.key)&&th(y,e,c[f])}}applyToLocalView(e,t){for(const c of this.baseMutations)c.key.isEqual(e.key)&&(t=Zu(c,e,t,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(e.key)&&(t=Zu(c,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const c=Wl();return this.mutations.forEach(f=>{const y=e.get(f.key),I=y.overlayedDocument;let U=this.applyToLocalView(I,y.mutatedFields);U=t.has(f.key)?null:U;const re=Hc(I,U);null!==re&&c.set(f.key,re),I.isValidDocument()||I.convertToNoDocument(Hi.min())}),c}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ar())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(t,c)=>Cd(t,c))&&Xo(this.baseMutations,e.baseMutations,(t,c)=>Cd(t,c))}}class gf{constructor(e,t,c,f){this.batch=e,this.commitVersion=t,this.mutationResults=c,this.docVersions=f}static from(e,t,c){$i(e.mutations.length===c.length);let f=Wc;const y=e.mutations;for(let I=0;I<y.length;I++)f=f.insert(y[I].key,c[I].version);return new gf(e,t,c,f)}}class Ad{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qo{constructor(e,t,c,f,y=Hi.min(),I=Hi.min(),U=oo.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=c,this.sequenceNumber=f,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=U}withSequenceNumber(e){return new qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class oh{constructor(e){this.re=e}}function ng(r,e){const t=e.key,c={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:mf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())c.document={name:Su(f=r.re,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:zl(f,y.version.toTimestamp())};else if(e.isNoDocument())c.noDocument={path:t.path.toArray(),readTime:od(e.version)};else{if(!e.isUnknownDocument())return ii();c.unknownDocument={path:t.path.toArray(),version:od(e.version)}}var f,y;return c}function mf(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function od(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ah(r){const e=new ns(r.seconds,r.nanoseconds);return Hi.fromTimestamp(e)}function Nd(r,e){const t=(e.baseMutations||[]).map(y=>qn(r.re,y));for(let y=0;y<e.mutations.length-1;++y){const I=e.mutations[y];y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(I.updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y)}const c=e.mutations.map(y=>qn(r.re,y)),f=ns.fromMillis(e.localWriteTimeMs);return new Ph(e.batchId,f,t,c)}function Md(r){const e=ah(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?ah(r.lastLimboFreeSnapshotVersion):Hi.min();let c;var f;return void 0!==r.query.documents?($i(1===(f=r.query).documents.length),c=Sa(bu(x(f.documents[0])))):c=Sa(Wo(r.query)),new qo(c,r.targetId,0,r.lastListenSequenceNumber,e,t,oo.fromBase64String(r.resumeToken))}function _f(r,e){const t=od(e.snapshotVersion),c=od(e.lastLimboFreeSnapshotVersion);let f;f=Wu(e.target)?sr(r.re,e.target):Xi(r.re,e.target);const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ra(e.target),readTime:t,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:f}}function yf(r){const e=Wo({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Sh(e,e.limit,"L"):e}function m(r,e){return new Ad(e.largestBatchId,qn(r.re,e.overlayMutation))}function E(r,e){const t=e.path.lastSegment();return[r,ll(e.path.popLast()),t]}function p(r,e,t,c){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:od(c.readTime),documentKey:ll(c.documentKey.path),largestBatchId:c.largestBatchId}}class T{getBundleMetadata(e,t){return V(e).get(t).next(c=>{if(c)return{id:(f=c).bundleId,createTime:ah(f.createTime),version:f.version};var f})}saveBundleMetadata(e,t){return V(e).put({bundleId:(c=t).id,createTime:od(oa(c.createTime)),version:c.version});var c}getNamedQuery(e,t){return ne(e).get(t).next(c=>{if(c)return{name:(f=c).name,query:yf(f.bundledQuery),readTime:ah(f.readTime)};var f})}saveNamedQuery(e,t){return ne(e).put({name:(c=t).name,readTime:od(oa(c.readTime)),bundledQuery:c.bundledQuery});var c}}function V(r){return Rs(r,"bundles")}function ne(r){return Rs(r,"namedQueries")}class ze{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new ze(e,t.uid||"")}getOverlay(e,t){return It(e).get(E(this.userId,t)).next(c=>c?m(this.It,c):null)}getOverlays(e,t){const c=bo();return en.forEach(t,f=>this.getOverlay(e,f).next(y=>{null!==y&&c.set(f,y)})).next(()=>c)}saveOverlays(e,t,c){const f=[];return c.forEach((y,I)=>{const U=new Ad(t,I);f.push(this.ue(e,U))}),en.waitFor(f)}removeOverlaysForBatchId(e,t,c){const f=new Set;t.forEach(I=>f.add(ll(I.getCollectionPath())));const y=[];return f.forEach(I=>{const U=IDBKeyRange.bound([this.userId,I,c],[this.userId,I,c+1],!1,!0);y.push(It(e).Y("collectionPathOverlayIndex",U))}),en.waitFor(y)}getOverlaysForCollection(e,t,c){const f=bo(),y=ll(t),I=IDBKeyRange.bound([this.userId,y,c],[this.userId,y,Number.POSITIVE_INFINITY],!0);return It(e).W("collectionPathOverlayIndex",I).next(U=>{for(const re of U){const pe=m(this.It,re);f.set(pe.getKey(),pe)}return f})}getOverlaysForCollectionGroup(e,t,c,f){const y=bo();let I;const U=IDBKeyRange.bound([this.userId,t,c],[this.userId,t,Number.POSITIVE_INFINITY],!0);return It(e).Z({index:"collectionGroupOverlayIndex",range:U},(re,pe,Le)=>{const yt=m(this.It,pe);y.size()<f||yt.largestBatchId===I?(y.set(yt.getKey(),yt),I=yt.largestBatchId):Le.done()}).next(()=>y)}ue(e,t){return It(e).put(function(c,f,y){const[I,U,re]=E(f,y.mutation.key);return{userId:f,collectionPath:U,documentId:re,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:an(c.re,y.mutation)}}(this.It,this.userId,t))}}function It(r){return Rs(r,"documentOverlays")}class Bt{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(qs(e.integerValue));else if("doubleValue"in e){const c=qs(e.doubleValue);isNaN(c)?this.le(t,13):(this.le(t,15),nn(c)?t.fe(0):t.fe(c))}else if("timestampValue"in e){const c=e.timestampValue;this.le(t,20),"string"==typeof c?t.de(c):(t.de(`${c.seconds||""}`),t.fe(c.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(nc(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const c=e.geoPointValue;this.le(t,45),t.fe(c.latitude||0),t.fe(c.longitude||0)}else"mapValue"in e?ic(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ii()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const c=e.fields||{};this.le(t,55);for(const f of Object.keys(c))this._e(f,t),this.ae(c[f],t)}pe(e,t){const c=e.values||[];this.le(t,50);for(const f of c)this.ae(f,t)}ge(e,t){this.le(t,37),ri.fromName(e).path.forEach(c=>{this.le(t,60),this.Ie(c,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function fn(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function vn(r){const e=64-function(t){let c=0;for(let f=0;f<8;++f){const y=fn(255&t[f]);if(c+=y,8!==y)break}return c}(r);return Math.ceil(e/8)}Bt.Te=new Bt;class Ti{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let c=t.next();for(;!c.done;)this.Ae(c.value),c=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let c=t.next();for(;!c.done;)this.Pe(c.value),c=t.next();this.ve()}Ve(e){for(const t of e){const c=t.charCodeAt(0);if(c<128)this.Ae(c);else if(c<2048)this.Ae(960|c>>>6),this.Ae(128|63&c);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|c>>>12),this.Ae(128|63&c>>>6),this.Ae(128|63&c);else{const f=t.codePointAt(0);this.Ae(240|f>>>18),this.Ae(128|63&f>>>12),this.Ae(128|63&f>>>6),this.Ae(128|63&f)}}this.Re()}Se(e){for(const t of e){const c=t.charCodeAt(0);if(c<128)this.Pe(c);else if(c<2048)this.Pe(960|c>>>6),this.Pe(128|63&c);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|c>>>12),this.Pe(128|63&c>>>6),this.Pe(128|63&c);else{const f=t.codePointAt(0);this.Pe(240|f>>>18),this.Pe(128|63&f>>>12),this.Pe(128|63&f>>>6),this.Pe(128|63&f)}}this.ve()}De(e){const t=this.Ce(e),c=vn(t);this.xe(1+c),this.buffer[this.position++]=255&c;for(let f=t.length-c;f<t.length;++f)this.buffer[this.position++]=255&t[f]}Ne(e){const t=this.Ce(e),c=vn(t);this.xe(1+c),this.buffer[this.position++]=~(255&c);for(let f=t.length-c;f<t.length;++f)this.buffer[this.position++]=~(255&t[f])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(f){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,f,!1),new Uint8Array(y.buffer)}(e),c=0!=(128&t[0]);t[0]^=c?255:128;for(let f=1;f<t.length;++f)t[f]^=c?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let c=2*this.buffer.length;c<t&&(c=t);const f=new Uint8Array(c);f.set(this.buffer),this.buffer=f}}class fi{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Si{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class zr{constructor(){this.Be=new Ti,this.Le=new fi(this.Be),this.Ue=new Si(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Zi{constructor(e,t,c,f){this.indexId=e,this.documentKey=t,this.arrayValue=c,this.directionalValue=f}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,c=new Uint8Array(t);return c.set(this.directionalValue,0),t!==e?c.set([0],this.directionalValue.length):++c[c.length-1],new Zi(this.indexId,this.documentKey,this.arrayValue,c)}}function Nr(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=is(r.arrayValue,e.arrayValue),0!==t?t:(t=is(r.directionalValue,e.directionalValue),0!==t?t:ri.comparator(r.documentKey,e.documentKey)))}function is(r,e){for(let t=0;t<r.length&&t<e.length;++t){const c=r[t]-e[t];if(0!==c)return c}return r.length-e.length}class Gr{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const c=t;c.dt()?this.je=c:this.Qe.push(c)}}We(e){const t=mc(e);if(void 0!==t&&!this.ze(t))return!1;const c=_c(e);let f=0,y=0;for(;f<c.length&&this.ze(c[f]);++f);if(f===c.length)return!0;if(void 0!==this.je){const I=c[f];if(!this.He(this.je,I)||!this.Je(this.Ge[y++],I))return!1;++f}for(;f<c.length;++f){const I=c[f];if(y>=this.Ge.length||!this.Je(this.Ge[y++],I))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class wo{constructor(){this.Ye=new rs}addToCollectionParentIndex(e,t){return this.Ye.add(t),en.resolve()}getCollectionParents(e,t){return en.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return en.resolve()}deleteFieldIndex(e,t){return en.resolve()}getDocumentsMatchingTarget(e,t){return en.resolve(null)}getIndexType(e,t){return en.resolve(0)}getFieldIndexes(e,t){return en.resolve([])}getNextCollectionGroupToUpdate(e){return en.resolve(null)}getMinOffset(e,t){return en.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,t){return en.resolve(ta.min())}updateCollectionGroup(e,t,c){return en.resolve()}updateIndexEntries(e,t){return en.resolve()}}class rs{constructor(){this.index={}}add(e){const t=e.lastSegment(),c=e.popLast(),f=this.index[t]||new Gi(br.comparator),y=!f.has(c);return this.index[t]=f.add(c),y}has(e){const t=e.lastSegment(),c=e.popLast(),f=this.index[t];return f&&f.has(c)}getEntries(e){return(this.index[e]||new Gi(br.comparator)).toArray()}}const Br=new Uint8Array(0);class gs{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new rs,this.Ze=new Gl(c=>Ra(c),(c,f)=>eu(c,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const c=t.lastSegment(),f=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const y={collectionId:c,parent:ll(f)};return Qs(e).put(y)}return en.resolve()}getCollectionParents(e,t){const c=[],f=IDBKeyRange.bound([t,""],[Ya(t),""],!1,!0);return Qs(e).W(f).next(y=>{for(const I of y){if(I.collectionId!==t)break;c.push(Mc(I.parent))}return c})}addFieldIndex(e,t){const c=lo(e),f={indexId:(I=t).indexId,collectionGroup:I.collectionGroup,fields:I.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var I;delete f.indexId;const y=c.add(f);if(t.indexState){const I=Eo(e);return y.next(U=>{I.put(p(U,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return y.next()}deleteFieldIndex(e,t){const c=lo(e),f=Eo(e),y=Ps(e);return c.delete(t.indexId).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const c=Ps(e);let f=!0;const y=new Map;return en.forEach(this.tn(t),I=>this.en(e,I).next(U=>{f&&(f=!!U),y.set(I,U)})).next(()=>{if(f){let I=Ar();const U=[];return en.forEach(y,(re,pe)=>{var Le;On("IndexedDbIndexManager",`Using index ${Le=re,`id=${Le.indexId}|cg=${Le.collectionGroup}|f=${Le.fields.map(co=>`${co.fieldPath}:${co.kind}`).join(",")}`} to execute ${Ra(t)}`);const yt=function(co,ga){const Js=mc(ga);if(void 0===Js)return null;for(const uo of yu(co,Js.fieldPath))switch(uo.op){case"array-contains-any":return uo.value.arrayValue.values||[];case"array-contains":return[uo.value]}return null}(pe,re),Xt=function(co,ga){const Js=new Map;for(const uo of _c(ga))for(const Dl of yu(co,uo.fieldPath))switch(Dl.op){case"==":case"in":Js.set(uo.fieldPath.canonicalString(),Dl.value);break;case"not-in":case"!=":return Js.set(uo.fieldPath.canonicalString(),Dl.value),Array.from(Js.values())}return null}(pe,re),In=function(co,ga){const Js=[];let uo=!0;for(const Dl of _c(ga)){const Wp=0===Dl.kind?ip(co,Dl.fieldPath,co.startAt):Vc(co,Dl.fieldPath,co.startAt);Js.push(Wp.value),uo&&(uo=Wp.inclusive)}return new rc(Js,uo)}(pe,re),xn=function(co,ga){const Js=[];let uo=!0;for(const Dl of _c(ga)){const Wp=0===Dl.kind?Vc(co,Dl.fieldPath,co.endAt):ip(co,Dl.fieldPath,co.endAt);Js.push(Wp.value),uo&&(uo=Wp.inclusive)}return new rc(Js,uo)}(pe,re),ui=this.nn(re,pe,In),Vi=this.nn(re,pe,xn),Hs=this.sn(re,pe,Xt),Uo=this.rn(re.indexId,yt,ui,In.inclusive,Vi,xn.inclusive,Hs);return en.forEach(Uo,co=>c.J(co,t.limit).next(ga=>{ga.forEach(Js=>{const uo=ri.fromSegments(Js.documentKey);I.has(uo)||(I=I.add(uo),U.push(uo))})}))}).next(()=>U)}return en.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,c,f,y,I,U){const re=(null!=t?t.length:1)*Math.max(c.length,y.length),pe=re/(null!=t?t.length:1),Le=[];for(let yt=0;yt<re;++yt){const Xt=t?this.on(t[yt/pe]):Br,In=this.un(e,Xt,c[yt%pe],f),xn=this.cn(e,Xt,y[yt%pe],I),ui=U.map(Vi=>this.un(e,Xt,Vi,!0));Le.push(...this.createRange(In,xn,ui))}return Le}un(e,t,c,f){const y=new Zi(e,ri.empty(),t,c);return f?y:y.Ke()}cn(e,t,c,f){const y=new Zi(e,ri.empty(),t,c);return f?y.Ke():y}en(e,t){const c=new Gr(t),f=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,f).next(y=>{let I=null;for(const U of y)c.We(U)&&(!I||U.fields.length>I.fields.length)&&(I=U);return I})}getIndexType(e,t){let c=2;return en.forEach(this.tn(t),f=>this.en(e,f).next(y=>{y?0!==c&&y.fields.length<function(I){let U=new Gi(Ys.comparator),re=!1;for(const pe of I.filters){const Le=pe;Le.field.isKeyField()||("array-contains"===Le.op||"array-contains-any"===Le.op?re=!0:U=U.add(Le.field))}for(const pe of I.orderBy)pe.field.isKeyField()||(U=U.add(pe.field));return U.size+(re?1:0)}(f)&&(c=1):c=0})).next(()=>c)}an(e,t){const c=new zr;for(const f of _c(e)){const y=t.data.field(f.fieldPath);if(null==y)return null;const I=c.qe(f.kind);Bt.Te.ce(y,I)}return c.$e()}on(e){const t=new zr;return Bt.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const c=new zr;return Bt.Te.ce(ia(this.databaseId,t),c.qe(function(f){const y=_c(f);return 0===y.length?0:y[y.length-1].kind}(e))),c.$e()}sn(e,t,c){if(null===c)return[];let f=[];f.push(new zr);let y=0;for(const I of _c(e)){const U=c[y++];for(const re of f)if(this.ln(t,I.fieldPath)&&ra(U))f=this.fn(f,I,U);else{const pe=re.qe(I.kind);Bt.Te.ce(U,pe)}}return this.dn(f)}nn(e,t,c){return this.sn(e,t,c.position)}dn(e){const t=[];for(let c=0;c<e.length;++c)t[c]=e[c].$e();return t}fn(e,t,c){const f=[...e],y=[];for(const I of c.arrayValue.values||[])for(const U of f){const re=new zr;re.seed(U.$e()),Bt.Te.ce(I,re.qe(t.kind)),y.push(re)}return y}ln(e,t){return!!e.filters.find(c=>c instanceof Ta&&c.field.isEqual(t)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(e,t){const c=lo(e),f=Eo(e);return(t?c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):c.W()).next(y=>{const I=[];return en.forEach(y,U=>f.get([U.indexId,this.uid]).next(re=>{I.push(function(pe,Le){const yt=Le?new yc(Le.sequenceNumber,new ta(ah(Le.readTime),new ri(Mc(Le.documentKey)),Le.largestBatchId)):yc.empty(),Xt=pe.fields.map(([In,xn])=>new Uu(Ys.fromServerFormat(In),xn));return new Xl(pe.indexId,pe.collectionGroup,Xt,yt)}(U,re))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((c,f)=>{const y=c.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==y?y:qi(c.collectionGroup,f.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,c){const f=lo(e),y=Eo(e);return this._n(e).next(I=>f.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(U=>en.forEach(U,re=>y.put(p(re.indexId,this.user,I,c)))))}updateIndexEntries(e,t){const c=new Map;return en.forEach(t,(f,y)=>{const I=c.get(f.collectionGroup);return(I?en.resolve(I):this.getFieldIndexes(e,f.collectionGroup)).next(U=>(c.set(f.collectionGroup,U),en.forEach(U,re=>this.wn(e,f,re).next(pe=>{const Le=this.mn(y,re);return pe.isEqual(Le)?en.resolve():this.gn(e,y,re,pe,Le)}))))})}yn(e,t,c,f){return Ps(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.hn(c,t.key),documentKey:t.key.path.toArray()})}pn(e,t,c,f){return Ps(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.hn(c,t.key),t.key.path.toArray()])}wn(e,t,c){const f=Ps(e);let y=new Gi(Nr);return f.Z({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.hn(c,t)])},(I,U)=>{y=y.add(new Zi(c.indexId,t,U.arrayValue,U.directionalValue))}).next(()=>y)}mn(e,t){let c=new Gi(Nr);const f=this.an(t,e);if(null==f)return c;const y=mc(t);if(null!=y){const I=e.data.field(y.fieldPath);if(ra(I))for(const U of I.arrayValue.values||[])c=c.add(new Zi(t.indexId,e.key,this.on(U),f))}else c=c.add(new Zi(t.indexId,e.key,Br,f));return c}gn(e,t,c,f,y){On("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const I=[];return function(U,re,pe,Le,yt){const Xt=U.getIterator(),In=re.getIterator();let xn=xs(Xt),ui=xs(In);for(;xn||ui;){let Vi=!1,Hs=!1;if(xn&&ui){const Uo=pe(xn,ui);Uo<0?Hs=!0:Uo>0&&(Vi=!0)}else null!=xn?Hs=!0:Vi=!0;Vi?(Le(ui),ui=xs(In)):Hs?(yt(xn),xn=xs(Xt)):(xn=xs(Xt),ui=xs(In))}}(f,y,Nr,U=>{I.push(this.yn(e,t,c,U))},U=>{I.push(this.pn(e,t,c,U))}),en.waitFor(I)}_n(e){let t=1;return Eo(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,f,y)=>{y.done(),t=f.sequenceNumber+1}).next(()=>t)}createRange(e,t,c){c=c.sort((I,U)=>Nr(I,U)).filter((I,U,re)=>!U||0!==Nr(I,re[U-1]));const f=[];f.push(e);for(const I of c){const U=Nr(I,e),re=Nr(I,t);if(0===U)f[0]=e.Ke();else if(U>0&&re<0)f.push(I),f.push(I.Ke());else if(re>0)break}f.push(t);const y=[];for(let I=0;I<f.length;I+=2)y.push(IDBKeyRange.bound([f[I].indexId,this.uid,f[I].arrayValue,f[I].directionalValue,Br,[]],[f[I+1].indexId,this.uid,f[I+1].arrayValue,f[I+1].directionalValue,Br,[]]));return y}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($o)}getMinOffset(e,t){return en.mapArray(this.tn(t),c=>this.en(e,c).next(f=>f||ii())).next($o)}}function Qs(r){return Rs(r,"collectionParents")}function Ps(r){return Rs(r,"indexEntries")}function lo(r){return Rs(r,"indexConfiguration")}function Eo(r){return Rs(r,"indexState")}function $o(r){$i(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let c=1;c<r.length;c++){const f=r[c].indexState.offset;na(f,e)<0&&(e=f),t<f.largestBatchId&&(t=f.largestBatchId)}return new ta(e.readTime,e.documentKey,t)}const Yl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class js{constructor(e,t,c){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=c}static withCacheSize(e){return new js(e,js.DEFAULT_COLLECTION_PERCENTILE,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Au(r,e,t){const c=r.store("mutations"),f=r.store("documentMutations"),y=[],I=IDBKeyRange.only(t.batchId);let U=0;const re=c.Z({range:I},(Le,yt,Xt)=>(U++,Xt.delete()));y.push(re.next(()=>{$i(1===U)}));const pe=[];for(const Le of t.mutations){const yt=op(e,Le.key.path,t.batchId);y.push(f.delete(yt)),pe.push(Le.key)}return en.waitFor(y).next(()=>pe)}function Yc(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ii();e=r.noDocument}return JSON.stringify(e).length}js.DEFAULT_COLLECTION_PERCENTILE=10,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,js.DEFAULT=new js(41943040,js.DEFAULT_COLLECTION_PERCENTILE,js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),js.DISABLED=new js(-1,0,0);class Ja{constructor(e,t,c,f){this.userId=e,this.It=t,this.indexManager=c,this.referenceDelegate=f,this.In={}}static oe(e,t,c,f){$i(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new Ja(y,t,c,f)}checkEmpty(e){let t=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xc(e).Z({index:"userMutationsIndex",range:c},(f,y,I)=>{t=!1,I.done()}).next(()=>t)}addMutationBatch(e,t,c,f){const y=ql(e),I=xc(e);return I.add({}).next(U=>{$i("number"==typeof U);const re=new Ph(U,t,c,f),pe=function(Xt,In,xn){const ui=xn.baseMutations.map(Hs=>an(Xt.re,Hs)),Vi=xn.mutations.map(Hs=>an(Xt.re,Hs));return{userId:In,batchId:xn.batchId,localWriteTimeMs:xn.localWriteTime.toMillis(),baseMutations:ui,mutations:Vi}}(this.It,this.userId,re),Le=[];let yt=new Gi((Xt,In)=>qi(Xt.canonicalString(),In.canonicalString()));for(const Xt of f){const In=op(this.userId,Xt.key.path,U);yt=yt.add(Xt.key.path.popLast()),Le.push(I.put(pe)),Le.push(y.put(In,ap))}return yt.forEach(Xt=>{Le.push(this.indexManager.addToCollectionParentIndex(e,Xt))}),e.addOnCommittedListener(()=>{this.In[U]=re.keys()}),en.waitFor(Le).next(()=>re)})}lookupMutationBatch(e,t){return xc(e).get(t).next(c=>c?($i(c.userId===this.userId),Nd(this.It,c)):null)}Tn(e,t){return this.In[t]?en.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(c=>{if(c){const f=c.keys();return this.In[t]=f,f}return null})}getNextMutationBatchAfterBatchId(e,t){const c=t+1,f=IDBKeyRange.lowerBound([this.userId,c]);let y=null;return xc(e).Z({index:"userMutationsIndex",range:f},(I,U,re)=>{U.userId===this.userId&&($i(U.batchId>=c),y=Nd(this.It,U)),re.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return xc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(f,y,I)=>{c=y.batchId,I.done()}).next(()=>c)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xc(e).W("userMutationsIndex",t).next(c=>c.map(f=>Nd(this.It,f)))}getAllMutationBatchesAffectingDocumentKey(e,t){const c=rh(this.userId,t.path),f=IDBKeyRange.lowerBound(c),y=[];return ql(e).Z({range:f},(I,U,re)=>{const[pe,Le,yt]=I,Xt=Mc(Le);if(pe===this.userId&&t.path.isEqual(Xt))return xc(e).get(yt).next(In=>{if(!In)throw ii();$i(In.userId===this.userId),y.push(Nd(this.It,In))});re.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let c=new Gi(qi);const f=[];return t.forEach(y=>{const I=rh(this.userId,y.path),U=IDBKeyRange.lowerBound(I),re=ql(e).Z({range:U},(pe,Le,yt)=>{const[Xt,In,xn]=pe,ui=Mc(In);Xt===this.userId&&y.path.isEqual(ui)?c=c.add(xn):yt.done()});f.push(re)}),en.waitFor(f).next(()=>this.En(e,c))}getAllMutationBatchesAffectingQuery(e,t){const c=t.path,f=c.length+1,y=rh(this.userId,c),I=IDBKeyRange.lowerBound(y);let U=new Gi(qi);return ql(e).Z({range:I},(re,pe,Le)=>{const[yt,Xt,In]=re,xn=Mc(Xt);yt===this.userId&&c.isPrefixOf(xn)?xn.length===f&&(U=U.add(In)):Le.done()}).next(()=>this.En(e,U))}En(e,t){const c=[],f=[];return t.forEach(y=>{f.push(xc(e).get(y).next(I=>{if(null===I)throw ii();$i(I.userId===this.userId),c.push(Nd(this.It,I))}))}),en.waitFor(f).next(()=>c)}removeMutationBatch(e,t){return Au(e.ie,this.userId,t).next(c=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),en.forEach(c,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return en.resolve();const c=IDBKeyRange.lowerBound([this.userId]),f=[];return ql(e).Z({range:c},(y,I,U)=>{if(y[0]===this.userId){const re=Mc(y[1]);f.push(re)}else U.done()}).next(()=>{$i(0===f.length)})})}containsKey(e,t){return cc(e,this.userId,t)}Rn(e){return xd(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cc(r,e,t){const c=rh(e,t.path),f=c[1],y=IDBKeyRange.lowerBound(c);let I=!1;return ql(r).Z({range:y,X:!0},(U,re,pe)=>{const[Le,yt,Xt]=U;Le===e&&yt===f&&(I=!0),pe.done()}).next(()=>I)}function xc(r){return Rs(r,"mutations")}function ql(r){return Rs(r,"documentMutations")}function xd(r){return Rs(r,"mutationQueues")}class Oc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Oc(0)}static vn(){return new Oc(-1)}}class Od{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const c=new Oc(t.highestTargetId);return t.highestTargetId=c.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Hi.fromTimestamp(new ns(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,c){return this.Vn(e).next(f=>(f.highestListenSequenceNumber=t,c&&(f.lastRemoteSnapshotVersion=c.toTimestamp()),t>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=t),this.Sn(e,f)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(c=>(c.targetCount+=1,this.Cn(t,c),this.Sn(e,c))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Rc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(c=>($i(c.targetCount>0),c.targetCount-=1,this.Sn(e,c)))}removeTargets(e,t,c){let f=0;const y=[];return Rc(e).Z((I,U)=>{const re=Md(U);re.sequenceNumber<=t&&null===c.get(re.targetId)&&(f++,y.push(this.removeTargetData(e,re)))}).next(()=>en.waitFor(y)).next(()=>f)}forEachTarget(e,t){return Rc(e).Z((c,f)=>{const y=Md(f);t(y)})}Vn(e){return ad(e).get("targetGlobalKey").next(t=>($i(null!==t),t))}Sn(e,t){return ad(e).put("targetGlobalKey",t)}Dn(e,t){return Rc(e).put(_f(this.It,t))}Cn(e,t){let c=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,c=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,c=!0),c}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const c=Ra(t),f=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let y=null;return Rc(e).Z({range:f,index:"queryTargetsIndex"},(I,U,re)=>{const pe=Md(U);eu(t,pe.target)&&(y=pe,re.done())}).next(()=>y)}addMatchingKeys(e,t,c){const f=[],y=bl(e);return t.forEach(I=>{const U=ll(I.path);f.push(y.put({targetId:c,path:U})),f.push(this.referenceDelegate.addReference(e,c,I))}),en.waitFor(f)}removeMatchingKeys(e,t,c){const f=bl(e);return en.forEach(t,y=>{const I=ll(y.path);return en.waitFor([f.delete([c,I]),this.referenceDelegate.removeReference(e,c,y)])})}removeMatchingKeysForTargetId(e,t){const c=bl(e),f=IDBKeyRange.bound([t],[t+1],!1,!0);return c.delete(f)}getMatchingKeysForTargetId(e,t){const c=IDBKeyRange.bound([t],[t+1],!1,!0),f=bl(e);let y=Ar();return f.Z({range:c,X:!0},(I,U,re)=>{const pe=Mc(I[1]),Le=new ri(pe);y=y.add(Le)}).next(()=>y)}containsKey(e,t){const c=ll(t.path),f=IDBKeyRange.bound([c],[Ya(c)],!1,!0);let y=0;return bl(e).Z({index:"documentTargetsIndex",X:!0,range:f},([I,U],re,pe)=>{0!==I&&(y++,pe.done())}).next(()=>y>0)}se(e,t){return Rc(e).get(t).next(c=>c?Md(c):null)}}function Rc(r){return Rs(r,"targets")}function ad(r){return Rs(r,"targetGlobal")}function bl(r){return Rs(r,"targetDocuments")}function ld([r,e],[t,c]){const f=qi(r,t);return 0===f?qi(e,c):f}class Rd{constructor(e){this.xn=e,this.buffer=new Gi(ld),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const c=this.buffer.last();ld(t,c)<0&&(this.buffer=this.buffer.delete(c).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zl{constructor(e,t,c){this.garbageCollector=e,this.asyncQueue=t,this.localStore=c,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;On("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(c){Ca(c)?On("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield _o(c)}yield t.Fn(3e5)}))}}class uc{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(c=>Math.floor(t/100*c))}nthSequenceNumber(e,t){if(0===t)return en.resolve(De.at);const c=new Rd(t);return this.$n.forEachTarget(e,f=>c.Mn(f.sequenceNumber)).next(()=>this.$n.Ln(e,f=>c.Mn(f))).next(()=>c.maxValue)}removeTargets(e,t,c){return this.$n.removeTargets(e,t,c)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(On("LruGarbageCollector","Garbage collection skipped; disabled"),en.resolve(Yl)):this.getCacheSize(e).next(c=>c<this.params.cacheSizeCollectionThreshold?(On("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yl):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let c,f,y,I,U,re,pe;const Le=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(yt=>(yt>this.params.maximumSequenceNumbersToCollect?(On("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${yt}`),f=this.params.maximumSequenceNumbersToCollect):f=yt,I=Date.now(),this.nthSequenceNumber(e,f))).next(yt=>(c=yt,U=Date.now(),this.removeTargets(e,c,t))).next(yt=>(y=yt,re=Date.now(),this.removeOrphanedDocuments(e,c))).next(yt=>(pe=Date.now(),fl()<=Ce.in.DEBUG&&On("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-Le}ms\n\tDetermined least recently used ${f} in `+(U-I)+`ms\n\tRemoved ${y} targets in `+(re-U)+`ms\n\tRemoved ${yt} documents in `+(pe-re)+`ms\nTotal Duration: ${pe-Le}ms`),en.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:y,documentsRemoved:yt})))}}class ig{constructor(e,t){this.db=e,this.garbageCollector=new uc(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(c=>t.next(f=>c+f))}qn(e){let t=0;return this.Ln(e,c=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(c,f)=>t(f))}addReference(e,t,c){return lh(e,c)}removeReference(e,t,c){return lh(e,c)}removeTargets(e,t,c){return this.db.getTargetCache().removeTargets(e,t,c)}markPotentiallyOrphaned(e,t){return lh(e,t)}Gn(e,t){return function(c,f){let y=!1;return xd(c).tt(I=>cc(c,I,f).next(U=>(U&&(y=!0),en.resolve(!U)))).next(()=>y)}(e,t)}removeOrphanedDocuments(e,t){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let y=0;return this.Kn(e,(I,U)=>{if(U<=t){const re=this.Gn(e,I).next(pe=>{if(!pe)return y++,c.getEntry(e,I).next(()=>(c.removeEntry(I,Hi.min()),bl(e).delete([0,ll(I.path)])))});f.push(re)}}).next(()=>en.waitFor(f)).next(()=>c.apply(e)).next(()=>y)}removeTarget(e,t){const c=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,c)}updateLimboDocument(e,t){return lh(e,t)}Kn(e,t){const c=bl(e);let f,y=De.at;return c.Z({index:"documentTargetsIndex"},([I,U],{path:re,sequenceNumber:pe})=>{0===I?(y!==De.at&&t(new ri(Mc(f)),y),y=pe,f=re):y=De.at}).next(()=>{y!==De.at&&t(new ri(Mc(f)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lh(r,e){return bl(r).put((c=r.currentSequenceNumber,{targetId:0,path:ll(e.path),sequenceNumber:c}));var c}class cm{constructor(){this.changes=new Gl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const c=this.changes.get(t);return void 0!==c?en.resolve(c):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pd{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,c){return Nu(e).put(c)}removeEntry(e,t,c){return Nu(e).delete(function(f,y){const I=f.path.toArray();return[I.slice(0,I.length-2),I[I.length-2],mf(y),I[I.length-1]]}(t,c))}updateMetadata(e,t){return this.getMetadata(e).next(c=>(c.byteSize+=t,this.Qn(e,c)))}getEntry(e,t){let c=Zs.newInvalidDocument(t);return Nu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(kd(t))},(f,y)=>{c=this.jn(t,y)}).next(()=>c)}Wn(e,t){let c={size:0,document:Zs.newInvalidDocument(t)};return Nu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(kd(t))},(f,y)=>{c={document:this.jn(t,y),size:Yc(y)}}).next(()=>c)}getEntries(e,t){let c=Bo();return this.zn(e,t,(f,y)=>{const I=this.jn(f,y);c=c.insert(f,I)}).next(()=>c)}Hn(e,t){let c=Bo(),f=new Rn(ri.comparator);return this.zn(e,t,(y,I)=>{const U=this.jn(y,I);c=c.insert(y,U),f=f.insert(y,Yc(I))}).next(()=>({documents:c,Jn:f}))}zn(e,t,c){if(t.isEmpty())return en.resolve();let f=new Gi(qc);t.forEach(re=>f=f.add(re));const y=IDBKeyRange.bound(kd(f.first()),kd(f.last())),I=f.getIterator();let U=I.getNext();return Nu(e).Z({index:"documentKeyIndex",range:y},(re,pe,Le)=>{const yt=ri.fromSegments([...pe.prefixPath,pe.collectionGroup,pe.documentId]);for(;U&&qc(U,yt)<0;)c(U,null),U=I.getNext();U&&U.isEqual(yt)&&(c(U,pe),U=I.hasNext()?I.getNext():null),U?Le.j(kd(U)):Le.done()}).next(()=>{for(;U;)c(U,null),U=I.hasNext()?I.getNext():null})}getAllFromCollection(e,t,c){const f=[t.popLast().toArray(),t.lastSegment(),mf(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],y=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nu(e).W(IDBKeyRange.bound(f,y,!0)).next(I=>{let U=Bo();for(const re of I){const pe=this.jn(ri.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);U=U.insert(pe.key,pe)}return U})}getAllFromCollectionGroup(e,t,c,f){let y=Bo();const I=fp(t,c),U=fp(t,ta.max());return Nu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,U,!0)},(re,pe,Le)=>{const yt=this.jn(ri.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);y=y.insert(yt.key,yt),y.size===f&&Le.done()}).next(()=>y)}newChangeBuffer(e){return new rg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return bf(e).get("remoteDocumentGlobalKey").next(t=>($i(!!t),t))}Qn(e,t){return bf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const c=function tg(r,e){let t;if(e.document)t=ae(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const c=ri.fromSegments(e.noDocument.path),f=ah(e.noDocument.readTime);t=Zs.newNoDocument(c,f),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ii();{const c=ri.fromSegments(e.unknownDocument.path),f=ah(e.unknownDocument.version);t=Zs.newUnknownDocument(c,f)}}return e.readTime&&t.setReadTime(function(c){const f=new ns(c[0],c[1]);return Hi.fromTimestamp(f)}(e.readTime)),t}(this.It,t);if(!c.isNoDocument()||!c.version.isEqual(Hi.min()))return c}return Zs.newInvalidDocument(e)}}function vf(r){return new Pd(r)}class rg extends cm{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Gl(c=>c.toString(),(c,f)=>c.isEqual(f))}applyChanges(e){const t=[];let c=0,f=new Gi((y,I)=>qi(y.canonicalString(),I.canonicalString()));return this.changes.forEach((y,I)=>{const U=this.Xn.get(y);if(t.push(this.Yn.removeEntry(e,y,U.readTime)),I.isValidDocument()){const re=ng(this.Yn.It,I);f=f.add(y.path.popLast()),c+=Yc(re)-U.size,t.push(this.Yn.addEntry(e,y,re))}else if(c-=U.size,this.trackRemovals){const re=ng(this.Yn.It,I.convertToNoDocument(Hi.min()));t.push(this.Yn.addEntry(e,y,re))}}),f.forEach(y=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,y))}),t.push(this.Yn.updateMetadata(e,c)),en.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(c=>(this.Xn.set(t,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:c,Jn:f})=>(f.forEach((y,I)=>{this.Xn.set(y,{size:I,readTime:c.get(y).readTime})}),c))}}function bf(r){return Rs(r,"remoteDocumentGlobal")}function Nu(r){return Rs(r,"remoteDocumentsV14")}function kd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fp(r,e){const t=e.documentKey.path.toArray();return[r,mf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qc(r,e){const t=r.path.toArray(),c=e.path.toArray();let f=0;for(let y=0;y<t.length-2&&y<c.length-2;++y)if(f=qi(t[y],c[y]),f)return f;return f=qi(t.length,c.length),f||(f=qi(t[t.length-2],c[c.length-2]),f||qi(t[t.length-1],c[c.length-1]))}class Fd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wf{constructor(e,t,c,f){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=c,this.indexManager=f}getDocument(e,t){let c=null;return this.documentOverlayCache.getOverlay(e,t).next(f=>(c=f,this.getBaseDocument(e,t,c))).next(f=>(null!==c&&Zu(c.mutation,f,So.empty(),ns.now()),f))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(c=>this.getLocalViewOfDocuments(e,c,Ar()).next(()=>c))}getLocalViewOfDocuments(e,t,c=Ar()){const f=bo();return this.populateOverlays(e,f,t).next(()=>this.computeViews(e,t,f,c).next(y=>{let I=Pa();return y.forEach((U,re)=>{I=I.insert(U,re.overlayedDocument)}),I}))}getOverlayedDocuments(e,t){const c=bo();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,Ar()))}populateOverlays(e,t,c){const f=[];return c.forEach(y=>{t.has(y)||f.push(y)}),this.documentOverlayCache.getOverlays(e,f).next(y=>{y.forEach((I,U)=>{t.set(I,U)})})}computeViews(e,t,c,f){let y=Bo();const I=Du(),U=Du();return t.forEach((re,pe)=>{const Le=c.get(pe.key);f.has(pe.key)&&(void 0===Le||Le.mutation instanceof oc)?y=y.insert(pe.key,pe):void 0!==Le&&(I.set(pe.key,Le.mutation.getFieldMask()),Zu(Le.mutation,pe,Le.mutation.getFieldMask(),ns.now()))}),this.recalculateAndSaveOverlays(e,y).next(re=>(re.forEach((pe,Le)=>I.set(pe,Le)),t.forEach((pe,Le)=>{var yt;return U.set(pe,new Fd(Le,null!==(yt=I.get(pe))&&void 0!==yt?yt:null))}),U))}recalculateAndSaveOverlays(e,t){const c=Du();let f=new Rn((I,U)=>I-U),y=Ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(I=>{for(const U of I)U.keys().forEach(re=>{const pe=t.get(re);if(null===pe)return;let Le=c.get(re)||So.empty();Le=U.applyToLocalView(pe,Le),c.set(re,Le);const yt=(f.get(U.batchId)||Ar()).add(re);f=f.insert(U.batchId,yt)})}).next(()=>{const I=[],U=f.getReverseIterator();for(;U.hasNext();){const re=U.getNext(),pe=re.key,Le=re.value,yt=Wl();Le.forEach(Xt=>{if(!y.has(Xt)){const In=Hc(t.get(Xt),c.get(Xt));null!==In&&yt.set(Xt,In),y=y.add(Xt)}}),I.push(this.documentOverlayCache.saveOverlays(e,pe,yt))}return en.waitFor(I)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(c=>this.recalculateAndSaveOverlays(e,c))}getDocumentsMatchingQuery(e,t,c){return ri.isDocumentKey((f=t).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,c):this.getDocumentsMatchingCollectionQuery(e,t,c);var f}getNextDocuments(e,t,c,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,c,f).next(y=>{const I=f-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,c.largestBatchId,f-y.size):en.resolve(bo());let U=-1,re=y;return I.next(pe=>en.forEach(pe,(Le,yt)=>(U<yt.largestBatchId&&(U=yt.largestBatchId),y.get(Le)?en.resolve():this.getBaseDocument(e,Le,yt).next(Xt=>{re=re.insert(Le,Xt)}))).next(()=>this.populateOverlays(e,pe,y)).next(()=>this.computeViews(e,re,pe,Ar())).next(Le=>({batchId:U,changes:Xu(Le)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ri(t)).next(c=>{let f=Pa();return c.isFoundDocument()&&(f=f.insert(c.key,c)),f})}getDocumentsMatchingCollectionGroupQuery(e,t,c){const f=t.collectionGroup;let y=Pa();return this.indexManager.getCollectionParents(e,f).next(I=>en.forEach(I,U=>{const re=(pe=t,Le=U.child(f),new rl(Le,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,Le;return this.getDocumentsMatchingCollectionQuery(e,re,c).next(pe=>{pe.forEach((Le,yt)=>{y=y.insert(Le,yt)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,t,c){let f;return this.remoteDocumentCache.getAllFromCollection(e,t.path,c).next(y=>(f=y,this.documentOverlayCache.getOverlaysForCollection(e,t.path,c.largestBatchId))).next(y=>{y.forEach((U,re)=>{const pe=re.getKey();null===f.get(pe)&&(f=f.insert(pe,Zs.newInvalidDocument(pe)))});let I=Pa();return f.forEach((U,re)=>{const pe=y.get(U);void 0!==pe&&Zu(pe.mutation,re,So.empty(),ns.now()),ol(t,re)&&(I=I.insert(U,re))}),I})}getBaseDocument(e,t,c){return null===c||1===c.mutation.type?this.remoteDocumentCache.getEntry(e,t):en.resolve(Zs.newInvalidDocument(t))}}class ch{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return en.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var c;return this.Zn.set(t.id,{id:(c=t).id,version:c.version,createTime:oa(c.createTime)}),en.resolve()}getNamedQuery(e,t){return en.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(c=t).name,query:yf(c.bundledQuery),readTime:oa(c.readTime)}),en.resolve();var c}}class Mu{constructor(){this.overlays=new Rn(ri.comparator),this.es=new Map}getOverlay(e,t){return en.resolve(this.overlays.get(t))}getOverlays(e,t){const c=bo();return en.forEach(t,f=>this.getOverlay(e,f).next(y=>{null!==y&&c.set(f,y)})).next(()=>c)}saveOverlays(e,t,c){return c.forEach((f,y)=>{this.ue(e,t,y)}),en.resolve()}removeOverlaysForBatchId(e,t,c){const f=this.es.get(c);return void 0!==f&&(f.forEach(y=>this.overlays=this.overlays.remove(y)),this.es.delete(c)),en.resolve()}getOverlaysForCollection(e,t,c){const f=bo(),y=t.length+1,I=new ri(t.child("")),U=this.overlays.getIteratorFrom(I);for(;U.hasNext();){const re=U.getNext().value,pe=re.getKey();if(!t.isPrefixOf(pe.path))break;pe.path.length===y&&re.largestBatchId>c&&f.set(re.getKey(),re)}return en.resolve(f)}getOverlaysForCollectionGroup(e,t,c,f){let y=new Rn((pe,Le)=>pe-Le);const I=this.overlays.getIterator();for(;I.hasNext();){const pe=I.getNext().value;if(pe.getKey().getCollectionGroup()===t&&pe.largestBatchId>c){let Le=y.get(pe.largestBatchId);null===Le&&(Le=bo(),y=y.insert(pe.largestBatchId,Le)),Le.set(pe.getKey(),pe)}}const U=bo(),re=y.getIterator();for(;re.hasNext()&&(re.getNext().value.forEach((pe,Le)=>U.set(pe,Le)),!(U.size()>=f)););return en.resolve(U)}ue(e,t,c){const f=this.overlays.get(c.key);if(null!==f){const I=this.es.get(f.largestBatchId).delete(c.key);this.es.set(f.largestBatchId,I)}this.overlays=this.overlays.insert(c.key,new Ad(t,c));let y=this.es.get(t);void 0===y&&(y=Ar(),this.es.set(t,y)),this.es.set(t,y.add(c.key))}}class cd{constructor(){this.ns=new Gi(No.ss),this.rs=new Gi(No.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const c=new No(e,t);this.ns=this.ns.add(c),this.rs=this.rs.add(c)}us(e,t){e.forEach(c=>this.addReference(c,t))}removeReference(e,t){this.cs(new No(e,t))}hs(e,t){e.forEach(c=>this.removeReference(c,t))}ls(e){const t=new ri(new br([])),c=new No(t,e),f=new No(t,e+1),y=[];return this.rs.forEachInRange([c,f],I=>{this.cs(I),y.push(I.key)}),y}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ri(new br([])),c=new No(t,e),f=new No(t,e+1);let y=Ar();return this.rs.forEachInRange([c,f],I=>{y=y.add(I.key)}),y}containsKey(e){const t=new No(e,0),c=this.ns.firstAfterOrEqual(t);return null!==c&&e.isEqual(c.key)}}class No{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ri.comparator(e.key,t.key)||qi(e._s,t._s)}static os(e,t){return qi(e._s,t._s)||ri.comparator(e.key,t.key)}}class sg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Gi(No.ss)}checkEmpty(e){return en.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,c,f){const y=this.ws;this.ws++;const I=new Ph(y,t,c,f);this.mutationQueue.push(I);for(const U of f)this.gs=this.gs.add(new No(U.key,y)),this.indexManager.addToCollectionParentIndex(e,U.key.path.popLast());return en.resolve(I)}lookupMutationBatch(e,t){return en.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const f=this.ps(t+1),y=f<0?0:f;return en.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return en.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return en.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const c=new No(t,0),f=new No(t,Number.POSITIVE_INFINITY),y=[];return this.gs.forEachInRange([c,f],I=>{const U=this.ys(I._s);y.push(U)}),en.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let c=new Gi(qi);return t.forEach(f=>{const y=new No(f,0),I=new No(f,Number.POSITIVE_INFINITY);this.gs.forEachInRange([y,I],U=>{c=c.add(U._s)})}),en.resolve(this.Is(c))}getAllMutationBatchesAffectingQuery(e,t){const c=t.path,f=c.length+1;let y=c;ri.isDocumentKey(y)||(y=y.child(""));const I=new No(new ri(y),0);let U=new Gi(qi);return this.gs.forEachWhile(re=>{const pe=re.key.path;return!!c.isPrefixOf(pe)&&(pe.length===f&&(U=U.add(re._s)),!0)},I),en.resolve(this.Is(U))}Is(e){const t=[];return e.forEach(c=>{const f=this.ys(c);null!==f&&t.push(f)}),t}removeMutationBatch(e,t){$i(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let c=this.gs;return en.forEach(t.mutations,f=>{const y=new No(f.key,t.batchId);return c=c.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.gs=c})}An(e){}containsKey(e,t){const c=new No(t,0),f=this.gs.firstAfterOrEqual(c);return en.resolve(t.isEqual(f&&f.key))}performConsistencyCheck(e){return en.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kh{constructor(e){this.Es=e,this.docs=new Rn(ri.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const c=t.key,f=this.docs.get(c),y=f?f.size:0,I=this.Es(t);return this.docs=this.docs.insert(c,{document:t.mutableCopy(),size:I}),this.size+=I-y,this.indexManager.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const c=this.docs.get(t);return en.resolve(c?c.document.mutableCopy():Zs.newInvalidDocument(t))}getEntries(e,t){let c=Bo();return t.forEach(f=>{const y=this.docs.get(f);c=c.insert(f,y?y.document.mutableCopy():Zs.newInvalidDocument(f))}),en.resolve(c)}getAllFromCollection(e,t,c){let f=Bo();const y=new ri(t.child("")),I=this.docs.getIteratorFrom(y);for(;I.hasNext();){const{key:U,value:{document:re}}=I.getNext();if(!t.isPrefixOf(U.path))break;U.path.length>t.length+1||na(es(re),c)<=0||(f=f.insert(re.key,re.mutableCopy()))}return en.resolve(f)}getAllFromCollectionGroup(e,t,c,f){ii()}As(e,t){return en.forEach(this.docs,c=>t(c))}newChangeBuffer(e){return new Xm(this)}getSize(e){return en.resolve(this.size)}}class Xm extends cm{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((c,f)=>{f.isValidDocument()?t.push(this.Yn.addEntry(e,f)):this.Yn.removeEntry(c)}),en.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class e_{constructor(e){this.persistence=e,this.Rs=new Gl(t=>Ra(t),eu),this.lastRemoteSnapshotVersion=Hi.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cd,this.targetCount=0,this.vs=Oc.Pn()}forEachTarget(e,t){return this.Rs.forEach((c,f)=>t(f)),en.resolve()}getLastRemoteSnapshotVersion(e){return en.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return en.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),en.resolve(this.highestTargetId)}setTargetsMetadata(e,t,c){return c&&(this.lastRemoteSnapshotVersion=c),t>this.bs&&(this.bs=t),en.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Oc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,en.resolve()}updateTargetData(e,t){return this.Dn(t),en.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,en.resolve()}removeTargets(e,t,c){let f=0;const y=[];return this.Rs.forEach((I,U)=>{U.sequenceNumber<=t&&null===c.get(U.targetId)&&(this.Rs.delete(I),y.push(this.removeMatchingKeysForTargetId(e,U.targetId)),f++)}),en.waitFor(y).next(()=>f)}getTargetCount(e){return en.resolve(this.targetCount)}getTargetData(e,t){const c=this.Rs.get(t)||null;return en.resolve(c)}addMatchingKeys(e,t,c){return this.Ps.us(t,c),en.resolve()}removeMatchingKeys(e,t,c){this.Ps.hs(t,c);const f=this.persistence.referenceDelegate,y=[];return f&&t.forEach(I=>{y.push(f.markPotentiallyOrphaned(e,I))}),en.waitFor(y)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),en.resolve()}getMatchingKeysForTargetId(e,t){const c=this.Ps.ds(t);return en.resolve(c)}containsKey(e,t){return en.resolve(this.Ps.containsKey(t))}}class og{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new De(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new e_(this),this.indexManager=new wo,this.remoteDocumentCache=new kh(c=>this.referenceDelegate.xs(c)),this.It=new oh(t),this.Ns=new ch(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let c=this.Vs[e.toKey()];return c||(c=new sg(t,this.referenceDelegate),this.Vs[e.toKey()]=c),c}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,c){On("MemoryPersistence","Starting transaction:",e);const f=new ag(this.Ss.next());return this.referenceDelegate.ks(),c(f).next(y=>this.referenceDelegate.Ms(f).next(()=>y)).toPromise().then(y=>(f.raiseOnCommittedEvent(),y))}Os(e,t){return en.or(Object.values(this.Vs).map(c=>()=>c.containsKey(e,t)))}}class ag extends tc{constructor(e){super(),this.currentSequenceNumber=e}}class Ef{constructor(e){this.persistence=e,this.Fs=new cd,this.$s=null}static Bs(e){return new Ef(e)}get Ls(){if(this.$s)return this.$s;throw ii()}addReference(e,t,c){return this.Fs.addReference(c,t),this.Ls.delete(c.toString()),en.resolve()}removeReference(e,t,c){return this.Fs.removeReference(c,t),this.Ls.add(c.toString()),en.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),en.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(f=>this.Ls.add(f.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,t.targetId).next(f=>{f.forEach(y=>this.Ls.add(y.toString()))}).next(()=>c.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return en.forEach(this.Ls,c=>{const f=ri.fromPath(c);return this.Us(e,f).next(y=>{y||t.removeEntry(f,Hi.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(c=>{c?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return en.or([()=>en.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Q_{constructor(e){this.It=e}$(e,t,c,f){const y=new Ea("createOrUpgrade",t);var U;c<1&&f>=1&&(e.createObjectStore("owner"),(U=e).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pf,{unique:!0}),U.createObjectStore("documentMutations"),lg(e),function(U){U.createObjectStore("remoteDocuments")}(e));let I=en.resolve();return c<3&&f>=3&&(0!==c&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(e),lg(e)),I=I.next(()=>function(U){const re=U.store("targetGlobal"),pe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Hi.min().toTimestamp(),targetCount:0};return re.put("targetGlobalKey",pe)}(y))),c<4&&f>=4&&(0!==c&&(I=I.next(()=>function(U,re){return re.store("mutations").W().next(pe=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pf,{unique:!0});const Le=re.store("mutations"),yt=pe.map(Xt=>Le.put(Xt));return en.waitFor(yt)})}(e,y))),I=I.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),c<5&&f>=5&&(I=I.next(()=>this.qs(y))),c<6&&f>=6&&(I=I.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(y)))),c<7&&f>=7&&(I=I.next(()=>this.Gs(y))),c<8&&f>=8&&(I=I.next(()=>this.Qs(e,y))),c<9&&f>=9&&(I=I.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(e)})),c<10&&f>=10&&(I=I.next(()=>this.js(y))),c<11&&f>=11&&(I=I.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),c<12&&f>=12&&(I=I.next(()=>{!function(U){const re=U.createObjectStore("documentOverlays",{keyPath:Qp});re.createIndex("collectionPathOverlayIndex",am,{unique:!1}),re.createIndex("collectionGroupOverlayIndex",Rh,{unique:!1})}(e)})),c<13&&f>=13&&(I=I.next(()=>function(U){const re=U.createObjectStore("remoteDocumentsV14",{keyPath:qp});re.createIndex("documentKeyIndex",lp),re.createIndex("collectionGroupIndex",cp)}(e)).next(()=>this.Ws(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),c<14&&f>=14&&(I=I.next(()=>this.zs(e,y))),c<15&&f>=15&&(I=I.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:sm}).createIndex("sequenceNumberIndex",sh,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Zp}).createIndex("documentKeyIndex",om,{unique:!1})}(e))),I}Ks(e){let t=0;return e.store("remoteDocuments").Z((c,f)=>{t+=Yc(f)}).next(()=>{const c={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}qs(e){const t=e.store("mutationQueues"),c=e.store("mutations");return t.W().next(f=>en.forEach(f,y=>{const I=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return c.W("userMutationsIndex",I).next(U=>en.forEach(U,re=>{$i(re.userId===y.userId);const pe=Nd(this.It,re);return Au(e,y.userId,pe).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),c=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const y=[];return c.Z((I,U)=>{const re=new br(I),pe=[0,ll(re)];y.push(t.get(pe).next(Le=>Le?en.resolve():t.put({targetId:0,path:ll(re),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>en.waitFor(y))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Kc});const c=t.store("collectionParents"),f=new rs,y=I=>{if(f.add(I)){const U=I.lastSegment(),re=I.popLast();return c.put({collectionId:U,parent:ll(re)})}};return t.store("remoteDocuments").Z({X:!0},(I,U)=>{const re=new br(I);return y(re.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([I,U,re],pe)=>{const Le=Mc(U);return y(Le.popLast())}))}js(e){const t=e.store("targets");return t.Z((c,f)=>{const y=Md(f),I=_f(this.It,y);return t.put(I)})}Ws(e,t){const c=t.store("remoteDocuments"),f=[];return c.Z((y,I)=>{const U=t.store("remoteDocumentsV14"),re=(pe=I,pe.document?new ri(br.fromString(pe.document.name).popFirst(5)):pe.noDocument?ri.fromSegments(pe.noDocument.path):pe.unknownDocument?ri.fromSegments(pe.unknownDocument.path):ii()).path.toArray();var pe;const Le={prefixPath:re.slice(0,re.length-2),collectionGroup:re[re.length-2],documentId:re[re.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};f.push(U.put(Le))}).next(()=>en.waitFor(f))}zs(e,t){const c=t.store("mutations"),f=vf(this.It),y=new og(Ef.Bs,this.It.re);return c.W().next(I=>{const U=new Map;return I.forEach(re=>{var pe;let Le=null!==(pe=U.get(re.userId))&&void 0!==pe?pe:Ar();Nd(this.It,re).keys().forEach(yt=>Le=Le.add(yt)),U.set(re.userId,Le)}),en.forEach(U,(re,pe)=>{const Le=new xr(pe),yt=ze.oe(this.It,Le),Xt=y.getIndexManager(Le),In=Ja.oe(Le,this.It,Xt,y.referenceDelegate);return new wf(f,In,yt,Xt).recalculateAndSaveOverlaysForDocumentKeys(new eg(t,De.at),re).next()})})}}function lg(r){r.createObjectStore("targetDocuments",{keyPath:Oh}).createIndex("documentTargetsIndex",rm,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",up,{unique:!0}),r.createObjectStore("targetGlobal")}const cg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pp{constructor(e,t,c,f,y,I,U,re,pe,Le,yt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=c,this.Hs=y,this.window=I,this.document=U,this.Js=pe,this.Ys=Le,this.Xs=yt,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Xt=>Promise.resolve(),!pp.C())throw new pn(un.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ig(this,f),this.ii=t+"main",this.It=new oh(re),this.ri=new yo(this.ii,this.Xs,new Q_(this.It)),this.Cs=new Od(this.referenceDelegate,this.It),this.remoteDocumentCache=vf(this.It),this.Ns=new T,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Le&&Ms("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new pn(un.FAILED_PRECONDITION,cg);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new De(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var c=(0,ve.Z)(function*(f){if(t.started)return e(f)});return function(f){return c.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ve.Z)(function*(c){null===c.newVersion&&(yield e())});return function(c){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ug(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ca(e))return On("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return On("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Cf(e).get("owner").next(t=>en.resolve(this.mi(t)))}gi(e){return ug(e).delete(this.clientId)}yi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const f=Rs(c,"clientMetadata");return f.W().next(y=>{const I=e.Ii(y,18e5),U=y.filter(re=>-1===I.indexOf(re));return en.forEach(U,re=>f.delete(re.clientId)).next(()=>U)})}).catch(()=>[]);if(e.oi)for(const c of t)e.oi.removeItem(e.Ti(c.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?en.resolve(!0):Cf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new pn(un.FAILED_PRECONDITION,cg);return!1}}return!(!this.networkEnabled||!this.inForeground)||ug(e).W().next(c=>void 0===this.Ii(c,5e3).find(f=>{if(this.clientId!==f.clientId){const I=!this.inForeground&&f.inForeground,U=this.networkEnabled===f.networkEnabled;if(!this.networkEnabled&&f.networkEnabled||I&&U)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&On("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const c=new eg(t,De.at);return e._i(c).next(()=>e.gi(c))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(c=>this.pi(c.updateTimeMs,t)&&!this.Ei(c.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>ug(e).W().next(t=>this.Ii(t,18e5).map(c=>c.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Ja.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gs(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return ze.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,c){On("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===t?"readonly":"readwrite",y=15===(I=this.Xs)?Xp:14===I?hp:13===I?dp:12===I?lm:11===I?Jp:void ii();var I;let U;return this.ri.runTransaction(e,f,y,re=>(U=new eg(re,this.Ss?this.Ss.next():De.at),"readwrite-primary"===t?this.fi(U).next(pe=>!!pe||this.di(U)).next(pe=>{if(!pe)throw Ms(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new pn(un.FAILED_PRECONDITION,ec);return c(U)}).next(pe=>this.wi(U).next(()=>pe)):this.Vi(U).next(()=>c(U)))).then(re=>(U.raiseOnCommittedEvent(),re))}Vi(e){return Cf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new pn(un.FAILED_PRECONDITION,cg)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cf(e).put("owner",t)}static C(){return yo.C()}_i(e){const t=Cf(e);return t.get("owner").next(c=>this.mi(c)?(On("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):en.resolve())}pi(e,t){const c=Date.now();return!(e<c-t||e>c&&(Ms(`Detected an update time that is in the future: ${e} > ${c}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,me.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const c=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return On("IndexedDbPersistence",`Client '${e}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return Ms("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ms("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cf(r){return Rs(r,"owner")}function ug(r){return Rs(r,"clientMetadata")}function Pc(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class dg{constructor(e,t,c,f){this.targetId=e,this.fromCache=t,this.Si=c,this.Di=f}static Ci(e,t){let c=Ar(),f=Ar();for(const y of t.docChanges)switch(y.type){case 0:c=c.add(y.doc.key);break;case 1:f=f.add(y.doc.key)}return new dg(e,t.fromCache,c,f)}}class hg{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,c,f){return this.ki(e,t).next(y=>y||this.Mi(e,t,f,c)).next(y=>y||this.Oi(e,t))}ki(e,t){if(Th(t))return en.resolve(null);let c=Sa(t);return this.indexManager.getIndexType(e,c).next(f=>0===f?null:(null!==t.limit&&1===f&&(t=Sh(t,null,"F"),c=Sa(t)),this.indexManager.getDocumentsMatchingTarget(e,c).next(y=>{const I=Ar(...y);return this.Ni.getDocuments(e,I).next(U=>this.indexManager.getMinOffset(e,c).next(re=>{const pe=this.Fi(t,U);return this.$i(t,pe,I,re.readTime)?this.ki(e,Sh(t,null,"F")):this.Bi(e,pe,t,re)}))})))}Mi(e,t,c,f){return Th(t)||f.isEqual(Hi.min())?this.Oi(e,t):this.Ni.getDocuments(e,c).next(y=>{const I=this.Fi(t,y);return this.$i(t,I,c,f)?this.Oi(e,t):(fl()<=Ce.in.DEBUG&&On("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),Yu(t)),this.Bi(e,I,t,ju(f,-1)))})}Fi(e,t){let c=new Gi(Ah(e));return t.forEach((f,y)=>{ol(e,y)&&(c=c.add(y))}),c}$i(e,t,c,f){if(null===e.limit)return!1;if(c.size!==t.size)return!0;const y="F"===e.limitType?t.last():t.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(f)>0)}Oi(e,t){return fl()<=Ce.in.DEBUG&&On("QueryEngine","Using full collection scan to execute query:",Yu(t)),this.Ni.getDocumentsMatchingQuery(e,t,ta.min())}Bi(e,t,c,f){return this.Ni.getDocumentsMatchingQuery(e,c,f).next(y=>(t.forEach(I=>{y=y.insert(I.key,I)}),y))}}class t_{constructor(e,t,c,f){this.persistence=e,this.Li=t,this.It=f,this.Ui=new Rn(qi),this.qi=new Gl(y=>Ra(y),eu),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(c)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function um(r,e,t,c){return new t_(r,e,t,c)}function dm(r,e){return fg.apply(this,arguments)}function fg(){return fg=(0,ve.Z)(function*(r,e){const t=Xn(r);return yield t.persistence.runTransaction("Handle user change","readonly",c=>{let f;return t.mutationQueue.getAllMutationBatches(c).next(y=>(f=y,t.Qi(e),t.mutationQueue.getAllMutationBatches(c))).next(y=>{const I=[],U=[];let re=Ar();for(const pe of f){I.push(pe.batchId);for(const Le of pe.mutations)re=re.add(Le.key)}for(const pe of y){U.push(pe.batchId);for(const Le of pe.mutations)re=re.add(Le.key)}return t.localDocuments.getDocuments(c,re).next(pe=>({ji:pe,removedBatchIds:I,addedBatchIds:U}))})})}),fg.apply(this,arguments)}function hm(r,e){const t=Xn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const f=e.batch.keys(),y=t.Gi.newChangeBuffer({trackRemovals:!0});return function(I,U,re,pe){const Le=re.batch,yt=Le.keys();let Xt=en.resolve();return yt.forEach(In=>{Xt=Xt.next(()=>pe.getEntry(U,In)).next(xn=>{const ui=re.docVersions.get(In);$i(null!==ui),xn.version.compareTo(ui)<0&&(Le.applyToRemoteDocument(xn,re),xn.isValidDocument()&&(xn.setReadTime(re.commitVersion),pe.addEntry(xn)))})}),Xt.next(()=>I.mutationQueue.removeMutationBatch(U,Le))}(t,c,e,y).next(()=>y.apply(c)).next(()=>t.mutationQueue.performConsistencyCheck(c)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(c,f,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(I){let U=Ar();for(let re=0;re<I.mutationResults.length;++re)I.mutationResults[re].transformResults.length>0&&(U=U.add(I.batch.mutations[re].key));return U}(e))).next(()=>t.localDocuments.getDocuments(c,f))})}function fm(r){const e=Xn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function n_(r,e){const t=Xn(r),c=e.snapshotVersion;let f=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const I=t.Gi.newChangeBuffer({trackRemovals:!0});f=t.Ui;const U=[];e.targetChanges.forEach((Le,yt)=>{const Xt=f.get(yt);if(!Xt)return;U.push(t.Cs.removeMatchingKeys(y,Le.removedDocuments,yt).next(()=>t.Cs.addMatchingKeys(y,Le.addedDocuments,yt)));let In=Xt.withSequenceNumber(y.currentSequenceNumber);var xn,ui,Vi;e.targetMismatches.has(yt)?In=In.withResumeToken(oo.EMPTY_BYTE_STRING,Hi.min()).withLastLimboFreeSnapshotVersion(Hi.min()):Le.resumeToken.approximateByteSize()>0&&(In=In.withResumeToken(Le.resumeToken,c)),f=f.insert(yt,In),ui=In,Vi=Le,(0===(xn=Xt).resumeToken.approximateByteSize()||ui.snapshotVersion.toMicroseconds()-xn.snapshotVersion.toMicroseconds()>=3e8||Vi.addedDocuments.size+Vi.modifiedDocuments.size+Vi.removedDocuments.size>0)&&U.push(t.Cs.updateTargetData(y,In))});let re=Bo(),pe=Ar();if(e.documentUpdates.forEach(Le=>{e.resolvedLimboDocuments.has(Le)&&U.push(t.persistence.referenceDelegate.updateLimboDocument(y,Le))}),U.push(pm(y,I,e.documentUpdates).next(Le=>{re=Le.Wi,pe=Le.zi})),!c.isEqual(Hi.min())){const Le=t.Cs.getLastRemoteSnapshotVersion(y).next(yt=>t.Cs.setTargetsMetadata(y,y.currentSequenceNumber,c));U.push(Le)}return en.waitFor(U).next(()=>I.apply(y)).next(()=>t.localDocuments.getLocalViewOfDocuments(y,re,pe)).next(()=>re)}).then(y=>(t.Ui=f,y))}function pm(r,e,t){let c=Ar(),f=Ar();return t.forEach(y=>c=c.add(y)),e.getEntries(r,c).next(y=>{let I=Bo();return t.forEach((U,re)=>{const pe=y.get(U);re.isFoundDocument()!==pe.isFoundDocument()&&(f=f.add(U)),re.isNoDocument()&&re.version.isEqual(Hi.min())?(e.removeEntry(U,re.readTime),I=I.insert(U,re)):!pe.isValidDocument()||re.version.compareTo(pe.version)>0||0===re.version.compareTo(pe.version)&&pe.hasPendingWrites?(e.addEntry(re),I=I.insert(U,re)):On("LocalStore","Ignoring outdated watch update for ",U,". Current version:",pe.version," Watch version:",re.version)}),{Wi:I,zi:f}})}function Wr(r,e){const t=Xn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(c,e)))}function uh(r,e){const t=Xn(r);return t.persistence.runTransaction("Allocate target","readwrite",c=>{let f;return t.Cs.getTargetData(c,e).next(y=>y?(f=y,en.resolve(f)):t.Cs.allocateTargetId(c).next(I=>(f=new qo(e,I,0,c.currentSequenceNumber),t.Cs.addTargetData(c,f).next(()=>f))))}).then(c=>{const f=t.Ui.get(c.targetId);return(null===f||c.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(c.targetId,c),t.qi.set(e,c.targetId)),c})}function dh(r,e,t){return gp.apply(this,arguments)}function gp(){return gp=(0,ve.Z)(function*(r,e,t){const c=Xn(r),f=c.Ui.get(e),y=t?"readwrite":"readwrite-primary";try{t||(yield c.persistence.runTransaction("Release target",y,I=>c.persistence.referenceDelegate.removeTarget(I,f)))}catch(I){if(!Ca(I))throw I;On("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}c.Ui=c.Ui.remove(e),c.qi.delete(f.target)}),gp.apply(this,arguments)}function mp(r,e,t){const c=Xn(r);let f=Hi.min(),y=Ar();return c.persistence.runTransaction("Execute query","readonly",I=>function(U,re,pe){const Le=Xn(U),yt=Le.qi.get(pe);return void 0!==yt?en.resolve(Le.Ui.get(yt)):Le.Cs.getTargetData(re,pe)}(c,I,Sa(e)).next(U=>{if(U)return f=U.lastLimboFreeSnapshotVersion,c.Cs.getMatchingKeysForTargetId(I,U.targetId).next(re=>{y=re})}).next(()=>c.Li.getDocumentsMatchingQuery(I,e,t?f:Hi.min(),t?y:Ar())).next(U=>(mm(c,qu(e),U),{documents:U,Hi:y})))}function gm(r,e){const t=Xn(r),c=Xn(t.Cs),f=t.Ui.get(e);return f?Promise.resolve(f.target):t.persistence.runTransaction("Get target data","readonly",y=>c.se(y,e).next(I=>I?I.target:null))}function pg(r,e){const t=Xn(r),c=t.Ki.get(e)||Hi.min();return t.persistence.runTransaction("Get new document changes","readonly",f=>t.Gi.getAllFromCollectionGroup(f,e,ju(c,-1),Number.MAX_SAFE_INTEGER)).then(f=>(mm(t,e,f),f))}function mm(r,e,t){let c=Hi.min();t.forEach((f,y)=>{y.readTime.compareTo(c)>0&&(c=y.readTime)}),r.Ki.set(e,c)}function gg(){return gg=(0,ve.Z)(function*(r,e,t,c){const f=Xn(r);let y=Ar(),I=Bo();for(const pe of t){const Le=e.Ji(pe.metadata.name);pe.document&&(y=y.add(Le));const yt=e.Yi(pe);yt.setReadTime(e.Xi(pe.metadata.readTime)),I=I.insert(Le,yt)}const U=f.Gi.newChangeBuffer({trackRemovals:!0}),re=yield uh(f,(pe=c,Sa(bu(br.fromString(`__bundle__/docs/${pe}`)))));var pe;return f.persistence.runTransaction("Apply bundle documents","readwrite",pe=>pm(pe,U,I).next(Le=>(U.apply(pe),Le)).next(Le=>f.Cs.removeMatchingKeysForTargetId(pe,re.targetId).next(()=>f.Cs.addMatchingKeys(pe,y,re.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(pe,Le.Wi,Le.zi)).next(()=>Le.Wi)))}),gg.apply(this,arguments)}function i_(r,e){return r_.apply(this,arguments)}function r_(){return r_=(0,ve.Z)(function*(r,e,t=Ar()){const c=yield uh(r,Sa(yf(e.bundledQuery))),f=Xn(r);return f.persistence.runTransaction("Save named query","readwrite",y=>{const I=oa(e.readTime);if(c.snapshotVersion.compareTo(I)>=0)return f.Ns.saveNamedQuery(y,e);const U=c.withResumeToken(oo.EMPTY_BYTE_STRING,I);return f.Ui=f.Ui.insert(U.targetId,U),f.Cs.updateTargetData(y,U).next(()=>f.Cs.removeMatchingKeysForTargetId(y,c.targetId)).next(()=>f.Cs.addMatchingKeys(y,t,c.targetId)).next(()=>f.Ns.saveNamedQuery(y,e))})}),r_.apply(this,arguments)}function mg(r,e){return`firestore_clients_${r}_${e}`}function _g(r,e,t){let c=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(c+=`_${e.uid}`),c}function ud(r,e){return`firestore_targets_${r}_${e}`}class Fh{constructor(e,t,c,f){this.user=e,this.batchId=t,this.state=c,this.error=f}static Zi(e,t,c){const f=JSON.parse(c);let y,I="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return I&&f.error&&(I="string"==typeof f.error.message&&"string"==typeof f.error.code,I&&(y=new pn(f.error.code,f.error.message))),I?new Fh(e,t,f.state,y):(Ms("SharedClientState",`Failed to parse mutation state for ID '${t}': ${c}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dc{constructor(e,t,c){this.targetId=e,this.state=t,this.error=c}static Zi(e,t){const c=JSON.parse(t);let f,y="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return y&&c.error&&(y="string"==typeof c.error.message&&"string"==typeof c.error.code,y&&(f=new pn(c.error.code,c.error.message))),y?new dc(e,c.state,f):(Ms("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const c=JSON.parse(t);let f="object"==typeof c&&c.activeTargetIds instanceof Array,y=lu();for(let I=0;f&&I<c.activeTargetIds.length;++I)f=An(c.activeTargetIds[I]),y=y.add(c.activeTargetIds[I]);return f?new hh(e,y):(Ms("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Df{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Df(t.clientId,t.onlineState):(Ms("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _p{constructor(){this.activeTargetIds=lu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yp{constructor(e,t,c,f,y){this.window=e,this.Hs=t,this.persistenceKey=c,this.sr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Rn(qi),this.started=!1,this.cr=[];const I=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ar=mg(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new _p),this.lr=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.vi();for(const f of t){if(f===e.sr)continue;const y=e.getItem(mg(e.persistenceKey,f));if(y){const I=hh.Zi(f,y);I&&(e.ur=e.ur.insert(I.clientId,I))}}e.gr();const c=e.storage.getItem(e.wr);if(c){const f=e.yr(c);f&&e.pr(f)}for(const f of e.cr)e.rr(f);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((c,f)=>{f.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,c){this.Tr(e,t,c),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const c=this.storage.getItem(ud(this.persistenceKey,e));if(c){const f=dc.Zi(e,c);f&&(t=f.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ud(this.persistenceKey,e))}updateQueryState(e,t,c){this.Rr(e,t,c)}handleUserChange(e,t,c){t.forEach(f=>{this.Er(f)}),this.currentUser=e,c.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return On("SharedClientState","READ",e,t),t}setItem(e,t){On("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){On("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const c=e;if(c.storageArea===this.storage){if(On("SharedClientState","EVENT",c.key,c.newValue),c.key===this.ar)return void Ms("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==c.key)if(t.lr.test(c.key)){if(null==c.newValue){const f=t.vr(c.key);return t.Vr(f,null)}{const f=t.Sr(c.key,c.newValue);if(f)return t.Vr(f.clientId,f)}}else if(t.dr.test(c.key)){if(null!==c.newValue){const f=t.Dr(c.key,c.newValue);if(f)return t.Cr(f)}}else if(t._r.test(c.key)){if(null!==c.newValue){const f=t.Nr(c.key,c.newValue);if(f)return t.kr(f)}}else if(c.key===t.wr){if(null!==c.newValue){const f=t.yr(c.newValue);if(f)return t.pr(f)}}else if(c.key===t.hr){const f=function(y){let I=De.at;if(null!=y)try{const U=JSON.parse(y);$i("number"==typeof U),I=U}catch(U){Ms("SharedClientState","Failed to read sequence number from WebStorage",U)}return I}(c.newValue);f!==De.at&&t.sequenceNumberHandler(f)}else if(c.key===t.mr){const f=t.Mr(c.newValue);yield Promise.all(f.map(y=>t.syncEngine.Or(y)))}}else t.cr.push(c)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,c){const f=new Fh(this.currentUser,e,t,c),y=_g(this.persistenceKey,this.currentUser,e);this.setItem(y,f.tr())}Er(e){const t=_g(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,c){const f=ud(this.persistenceKey,e),y=new dc(e,t,c);this.setItem(f,y.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const c=this.vr(e);return hh.Zi(c,t)}Dr(e,t){const c=this.dr.exec(e),f=Number(c[1]);return Fh.Zi(new xr(void 0!==c[2]?c[2]:null),f,t)}Nr(e,t){const c=this._r.exec(e),f=Number(c[1]);return dc.Zi(f,t)}yr(e){return Df.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);On("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const c=t?this.ur.insert(e,t):this.ur.remove(e),f=this.Ir(this.ur),y=this.Ir(c),I=[],U=[];return y.forEach(re=>{f.has(re)||I.push(re)}),f.forEach(re=>{y.has(re)||U.push(re)}),this.syncEngine.Br(I,U).then(()=>{this.ur=c})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=lu();return e.forEach((c,f)=>{t=t.unionWith(f.activeTargetIds)}),t}}class kc{constructor(){this.Lr=new _p,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,c){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,c){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new _p,Promise.resolve()}handleUserChange(e,t,c){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ym{qr(e){}shutdown(){}}class If{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){On("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){On("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const s_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vm{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Ld extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,c,f,y){const I=this.ao(e,t);On("RestConnection","Sending: ",I,c);const U={};return this.ho(U,f,y),this.lo(e,I,U,c).then(re=>(On("RestConnection","Received: ",re),re),re=>{throw Fo("RestConnection",`${e} failed with error: `,re,"url: ",I,"request:",c),re})}fo(e,t,c,f,y,I){return this.co(e,t,c,f,y)}ho(e,t,c){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ks,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((f,y)=>e[y]=f),c&&c.headers.forEach((f,y)=>e[y]=f)}ao(e,t){return`${this.oo}/v1/${t}:${s_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,c,f){return new Promise((y,I)=>{const U=new Ga;U.listenOnce(Jo.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Io.NO_ERROR:const pe=U.getResponseJson();On("Connection","XHR received:",JSON.stringify(pe)),y(pe);break;case Io.TIMEOUT:On("Connection",'RPC "'+e+'" timed out'),I(new pn(un.DEADLINE_EXCEEDED,"Request time out"));break;case Io.HTTP_ERROR:const Le=U.getStatus();if(On("Connection",'RPC "'+e+'" failed with status:',Le,"response text:",U.getResponseText()),Le>0){const yt=U.getResponseJson().error;if(yt&&yt.status&&yt.message){const Xt=function(In){const xn=In.toLowerCase().replace(/_/g,"-");return Object.values(un).indexOf(xn)>=0?xn:un.UNKNOWN}(yt.status);I(new pn(Xt,yt.message))}else I(new pn(un.UNKNOWN,"Server responded with status "+U.getStatus()))}else I(new pn(un.UNAVAILABLE,"Connection failed."));break;default:ii()}}finally{On("Connection",'RPC "'+e+'" completed.')}});const re=JSON.stringify(f);U.send(t,"POST",re,c,15)})}_o(e,t,c){const f=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=$u(),I=Vu(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(U.xmlHttpFactory=new hl({})),this.ho(U.initMessageHeaders,t,c),U.encodeInitMessageHeaders=!0;const re=f.join("");On("Connection","Creating WebChannel: "+re,U);const pe=y.createWebChannel(re,U);let Le=!1,yt=!1;const Xt=new vm({Hr:xn=>{yt?On("Connection","Not sending because WebChannel is closed:",xn):(Le||(On("Connection","Opening WebChannel transport."),pe.open(),Le=!0),On("Connection","WebChannel sending:",xn),pe.send(xn))},Jr:()=>pe.close()}),In=(xn,ui,Vi)=>{xn.listen(ui,Hs=>{try{Vi(Hs)}catch(Uo){setTimeout(()=>{throw Uo},0)}})};return In(pe,Jl.EventType.OPEN,()=>{yt||On("Connection","WebChannel transport opened.")}),In(pe,Jl.EventType.CLOSE,()=>{yt||(yt=!0,On("Connection","WebChannel transport closed"),Xt.io())}),In(pe,Jl.EventType.ERROR,xn=>{yt||(yt=!0,Fo("Connection","WebChannel transport errored:",xn),Xt.io(new pn(un.UNAVAILABLE,"The operation could not be completed")))}),In(pe,Jl.EventType.MESSAGE,xn=>{var ui;if(!yt){const Vi=xn.data[0];$i(!!Vi);const Hs=Vi,Uo=Hs.error||(null===(ui=Hs[0])||void 0===ui?void 0:ui.error);if(Uo){On("Connection","WebChannel received error:",Uo);const co=Uo.status;let ga=function(uo){const Dl=Yo[uo];if(void 0!==Dl)return Ic(Dl)}(co),Js=Uo.message;void 0===ga&&(ga=un.INTERNAL,Js="Unknown error status: "+co+" with message "+Uo.message),yt=!0,Xt.io(new pn(ga,Js)),pe.close()}else On("Connection","WebChannel received:",Vi),Xt.ro(Vi)}}),In(I,Ql.STAT_EVENT,xn=>{xn.stat===ba.PROXY?On("Connection","Detected buffering proxy"):xn.stat===ba.NOPROXY&&On("Connection","Detected no buffering proxy")}),setTimeout(()=>{Xt.so()},0),Xt}}function o_(){return typeof window<"u"?window:null}function Tf(){return typeof document<"u"?document:null}function hc(r){return new Ao(r,!0)}class vp{constructor(e,t,c=1e3,f=1.5,y=6e4){this.Hs=e,this.timerId=t,this.wo=c,this.mo=f,this.yo=y,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),c=Math.max(0,Date.now()-this.To),f=Math.max(0,t-c);f>0&&On("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${c} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,f,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class yg{constructor(e,t,c,f,y,I,U,re){this.Hs=e,this.Po=c,this.vo=f,this.Vo=y,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=U,this.listener=re,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new vp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ve.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ve.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var c=this;return(0,ve.Z)(function*(){c.Lo(),c.Uo(),c.xo.cancel(),c.So++,4!==e?c.xo.reset():t&&t.code===un.RESOURCE_EXHAUSTED?(Ms(t.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),c.xo.Eo()):t&&t.code===un.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.qo(),c.stream.close(),c.stream=null),c.state=e,yield c.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,f])=>{this.So===t&&this.Go(c,f)},c=>{e(()=>{const f=new pn(un.UNKNOWN,"Fetching auth token failed: "+c.message);return this.Qo(f)})})}Go(e,t){const c=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{c(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(f=>{c(()=>this.Qo(f))}),this.stream.onMessage(f=>{c(()=>this.onMessage(f))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ve.Z)(function*(){e.state=0,e.start()}))}Qo(e){return On("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(On("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J_ extends yg{constructor(e,t,c,f,y,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,c,f,I),this.It=y}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function kt(r,e){let t;if("targetChange"in e){const c="NO_CHANGE"===(re=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===re?1:"REMOVE"===re?2:"CURRENT"===re?3:"RESET"===re?4:ii(),f=e.targetChange.targetIds||[],y=function(re,pe){return re.gt?($i(void 0===pe||"string"==typeof pe),oo.fromBase64String(pe||"")):($i(void 0===pe||pe instanceof Uint8Array),oo.fromUint8Array(pe||new Uint8Array))}(r,e.targetChange.resumeToken),I=e.targetChange.cause,U=I&&function(re){const pe=void 0===re.code?un.UNKNOWN:Ic(re.code);return new pn(pe,re.message||"")}(I);t=new nd(c,f,y,U||null)}else if("documentChange"in e){const c=e.documentChange,f=Kl(r,c.document.name),y=oa(c.document.updateTime),I=new fa({mapValue:{fields:c.document.fields}}),U=Zs.newFoundDocument(f,y,I);t=new td(c.targetIds||[],c.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const c=e.documentDelete,f=Kl(r,c.document),y=c.readTime?oa(c.readTime):Hi.min(),I=Zs.newNoDocument(f,y);t=new td([],c.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const c=e.documentRemove,f=Kl(r,c.document);t=new td([],c.removedTargetIds||[],f,null)}else{if(!("filter"in e))return ii();{const c=e.filter,y=new ff(c.count||0);t=new cu(c.targetId,y)}}var re;return t}(this.It,e),c=function(f){if(!("targetChange"in f))return Hi.min();const y=f.targetChange;return y.targetIds&&y.targetIds.length?Hi.min():y.readTime?oa(y.readTime):Hi.min()}(e);return this.listener.Wo(t,c)}zo(e){const t={};t.database=_(this.It),t.addTarget=function(f,y){let I;const U=y.target;return I=Wu(U)?{documents:sr(f,U)}:{query:Xi(f,U)},I.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?I.resumeToken=vl(f,y.resumeToken):y.snapshotVersion.compareTo(Hi.min())>0&&(I.readTime=zl(f,y.snapshotVersion.toTimestamp())),I}(this.It,e);const c=function Rl(r,e){const t=function(c,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ii()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);c&&(t.labels=c),this.Bo(t)}Ho(e){const t={};t.database=_(this.It),t.removeTarget=e,this.Bo(t)}}class a_ extends yg{constructor(e,t,c,f,y,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,c,f,I),this.It=y,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if($i(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Ii(r,e){return r&&r.length>0?($i(void 0!==e),r.map(t=>function(c,f){let y=oa(c.updateTime?c.updateTime:f);return y.isEqual(Hi.min())&&(y=oa(f)),new Nh(y,c.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),c=oa(e.commitTime);return this.listener.Zo(c,t)}return $i(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=_(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(c=>an(this.It,c))};this.Bo(t)}}class bm extends class{}{constructor(e,t,c,f){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=c,this.It=f,this.nu=!1}su(){if(this.nu)throw new pn(un.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.Vo.co(e,t,c,f,y)).catch(f=>{throw"FirebaseError"===f.name?(f.code===un.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pn(un.UNKNOWN,f.toString())})}fo(e,t,c,f){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,I])=>this.Vo.fo(e,t,c,y,I,f)).catch(y=>{throw"FirebaseError"===y.name?(y.code===un.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new pn(un.UNKNOWN,y.toString())})}terminate(){this.nu=!0}}class wm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ms(t),this.ou=!1):On("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class X_{constructor(e,t,c,f,y){var I=this;this.localStore=e,this.datastore=t,this.asyncQueue=c,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=y,this.mu.qr(U=>{c.enqueueAndForget((0,ve.Z)(function*(){var re;uu(I)&&(On("RemoteStore","Restarting streams for network reachability change."),yield(re=(0,ve.Z)(function*(pe){const Le=Xn(pe);Le._u.add(4),yield ph(Le),Le.gu.set("Unknown"),Le._u.delete(4),yield fh(Le)}),function(pe){return re.apply(this,arguments)})(I))}))}),this.gu=new wm(c,f)}}function fh(r){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,ve.Z)(function*(r){if(uu(r))for(const e of r.wu)yield e(!0)}),Sf.apply(this,arguments)}function ph(r){return Af.apply(this,arguments)}function Af(){return Af=(0,ve.Z)(function*(r){for(const e of r.wu)yield e(!1)}),Af.apply(this,arguments)}function Lh(r,e){const t=Xn(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),dd(t)?Mf(t):yh(t).ko()&&Bd(t,e))}function Bh(r,e){const t=Xn(r),c=yh(t);t.du.delete(e),c.ko()&&Nf(t,e),0===t.du.size&&(c.ko()?c.Fo():uu(t)&&t.gu.set("Unknown"))}function Bd(r,e){r.yu.Ot(e.targetId),yh(r).zo(e)}function Nf(r,e){r.yu.Ot(e),yh(r).Ho(e)}function Mf(r){r.yu=new Iu({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),yh(r).start(),r.gu.uu()}function dd(r){return uu(r)&&!yh(r).No()&&r.du.size>0}function uu(r){return 0===Xn(r)._u.size}function du(r){r.yu=void 0}function $h(r){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,ve.Z)(function*(r){r.du.forEach((e,t)=>{Bd(r,e)})}),Pl.apply(this,arguments)}function Em(r,e){return gh.apply(this,arguments)}function gh(){return gh=(0,ve.Z)(function*(r,e){du(r),dd(r)?(r.gu.hu(e),Mf(r)):r.gu.set("Unknown")}),gh.apply(this,arguments)}function bp(r,e,t){return hu.apply(this,arguments)}function hu(){return hu=(0,ve.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof nd&&2===e.state&&e.cause)try{yield(c=(0,ve.Z)(function*(f,y){const I=y.cause;for(const U of y.targetIds)f.du.has(U)&&(yield f.remoteSyncer.rejectListen(U,I),f.du.delete(U),f.yu.removeTarget(U))}),function(f,y){return c.apply(this,arguments)})(r,e)}catch(c){On("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),c),yield mh(r,c)}else if(e instanceof td?r.yu.Gt(e):e instanceof cu?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Hi.min()))try{const c=yield fm(r.localStore);t.compareTo(c)>=0&&(yield function(f,y){const I=f.yu.te(y);return I.targetChanges.forEach((U,re)=>{if(U.resumeToken.approximateByteSize()>0){const pe=f.du.get(re);pe&&f.du.set(re,pe.withResumeToken(U.resumeToken,y))}}),I.targetMismatches.forEach(U=>{const re=f.du.get(U);if(!re)return;f.du.set(U,re.withResumeToken(oo.EMPTY_BYTE_STRING,re.snapshotVersion)),Nf(f,U);const pe=new qo(re.target,U,1,re.sequenceNumber);Bd(f,pe)}),f.remoteSyncer.applyRemoteEvent(I)}(r,t))}catch(c){On("RemoteStore","Failed to raise snapshot:",c),yield mh(r,c)}var c}),hu.apply(this,arguments)}function mh(r,e,t){return fu.apply(this,arguments)}function fu(){return fu=(0,ve.Z)(function*(r,e,t){if(!Ca(e))throw e;r._u.add(1),yield ph(r),r.gu.set("Offline"),t||(t=()=>fm(r.localStore)),r.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){On("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield fh(r)}))}),fu.apply(this,arguments)}function xf(r,e){return e().catch(t=>mh(r,t,e))}function Vh(r){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,ve.Z)(function*(r){const e=Xn(r),t=Vd(e);let c=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Uh(e);)try{const f=yield Wr(e.localStore,c);if(null===f){0===e.fu.length&&t.Fo();break}c=f.batchId,$d(e,f)}catch(f){yield mh(e,f)}Of(e)&&jh(e)}),Fc.apply(this,arguments)}function Uh(r){return uu(r)&&r.fu.length<10}function $d(r,e){r.fu.push(e);const t=Vd(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Of(r){return uu(r)&&!Vd(r).No()&&r.fu.length>0}function jh(r){Vd(r).start()}function wp(r){return hd.apply(this,arguments)}function hd(){return hd=(0,ve.Z)(function*(r){Vd(r).eu()}),hd.apply(this,arguments)}function vg(r){return bg.apply(this,arguments)}function bg(){return bg=(0,ve.Z)(function*(r){const e=Vd(r);for(const t of r.fu)e.Xo(t.mutations)}),bg.apply(this,arguments)}function wg(r,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,ve.Z)(function*(r,e,t){const c=r.fu.shift(),f=gf.from(c,e,t);yield xf(r,()=>r.remoteSyncer.applySuccessfulWrite(f)),yield Vh(r)}),Eg.apply(this,arguments)}function l_(r,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,ve.Z)(function*(r,e){var t;e&&Vd(r).Yo&&(yield(t=(0,ve.Z)(function*(c,f){if(Dc(y=f.code)&&y!==un.ABORTED){const I=c.fu.shift();Vd(c).Oo(),yield xf(c,()=>c.remoteSyncer.rejectFailedWrite(I.batchId,f)),yield Vh(c)}var y}),function(c,f){return t.apply(this,arguments)})(r,e)),Of(r)&&jh(r)}),Ep.apply(this,arguments)}function Lc(r,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,ve.Z)(function*(r,e){const t=Xn(r);t.asyncQueue.verifyOperationInProgress(),On("RemoteStore","RemoteStore received new credentials");const c=uu(t);t._u.add(3),yield ph(t),c&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield fh(t)}),Cp.apply(this,arguments)}function Rf(r,e){return _h.apply(this,arguments)}function _h(){return _h=(0,ve.Z)(function*(r,e){const t=Xn(r);e?(t._u.delete(2),yield fh(t)):e||(t._u.add(2),yield ph(t),t.gu.set("Unknown"))}),_h.apply(this,arguments)}function yh(r){return r.pu||(r.pu=function(e,t,c){const f=Xn(e);return f.su(),new J_(t,f.Vo,f.authCredentials,f.appCheckCredentials,f.It,c)}(r.datastore,r.asyncQueue,{Yr:$h.bind(null,r),Zr:Em.bind(null,r),Wo:bp.bind(null,r)}),r.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(r.pu.Oo(),dd(r)?Mf(r):r.gu.set("Unknown")):(yield r.pu.stop(),du(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function Vd(r){return r.Iu||(r.Iu=function(e,t,c){const f=Xn(e);return f.su(),new a_(t,f.Vo,f.authCredentials,f.appCheckCredentials,f.It,c)}(r.datastore,r.asyncQueue,{Yr:wp.bind(null,r),Zr:l_.bind(null,r),tu:vg.bind(null,r),Zo:wg.bind(null,r)}),r.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(r.Iu.Oo(),yield Vh(r)):(yield r.Iu.stop(),r.fu.length>0&&(On("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class Pf{constructor(e,t,c,f,y){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=c,this.op=f,this.removalCallback=y,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(e,t,c,f,y){const I=Date.now()+c,U=new Pf(e,t,I,f,y);return U.start(c),U}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pn(un.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dp(r,e){if(Ms("AsyncQueue",`${e}: ${r}`),Ca(r))return new pn(un.UNAVAILABLE,`${e}: ${r}`);throw r}class Ip{constructor(e){this.comparator=e?(t,c)=>e(t,c)||ri.comparator(t.key,c.key):(t,c)=>ri.comparator(t.key,c.key),this.keyedMap=Pa(),this.sortedSet=new Rn(this.comparator)}static emptySet(e){return new Ip(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,c)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ip)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),c=e.sortedSet.getIterator();for(;t.hasNext();){const f=t.getNext().key,y=c.getNext().key;if(!f.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const c=new Ip;return c.comparator=this.comparator,c.keyedMap=e,c.sortedSet=t,c}}class Tp{constructor(){this.Tu=new Rn(ri.comparator)}track(e){const t=e.doc.key,c=this.Tu.get(t);c?0!==e.type&&3===c.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==c.type?this.Tu=this.Tu.insert(t,{type:c.type,doc:e.doc}):2===e.type&&2===c.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===c.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===c.type?this.Tu=this.Tu.remove(t):1===e.type&&2===c.type?this.Tu=this.Tu.insert(t,{type:1,doc:c.doc}):0===e.type&&1===c.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ii():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,c)=>{e.push(c)}),e}}class kf{constructor(e,t,c,f,y,I,U,re){this.query=e,this.docs=t,this.oldDocs=c,this.docChanges=f,this.mutatedKeys=y,this.fromCache=I,this.syncStateChanged=U,this.excludesMetadataChanges=re}static fromInitialDocuments(e,t,c,f){const y=[];return t.forEach(I=>{y.push({type:0,doc:I})}),new kf(e,t,Ip.emptySet(t),y,c,f,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,c=e.docChanges;if(t.length!==c.length)return!1;for(let f=0;f<t.length;f++)if(t[f].type!==c[f].type||!t[f].doc.isEqual(c[f].doc))return!1;return!0}}class ey{constructor(){this.Au=void 0,this.listeners=[]}}class ty{constructor(){this.queries=new Gl(e=>vo(e),sl),this.onlineState="Unknown",this.Ru=new Set}}function Ff(r,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ve.Z)(function*(r,e){const t=Xn(r),c=e.query;let f=!1,y=t.queries.get(c);if(y||(f=!0,y=new ey),f)try{y.Au=yield t.onListen(c)}catch(I){const U=Dp(I,`Initialization of query '${Yu(e.query)}' failed`);return void e.onError(U)}t.queries.set(c,y),y.listeners.push(e),e.bu(t.onlineState),y.Au&&e.Pu(y.Au)&&Sp(t)}),Lf.apply(this,arguments)}function Cg(r,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,ve.Z)(function*(r,e){const t=Xn(r),c=e.query;let f=!1;const y=t.queries.get(c);if(y){const I=y.listeners.indexOf(e);I>=0&&(y.listeners.splice(I,1),f=0===y.listeners.length)}if(f)return t.queries.delete(c),t.onUnlisten(c)}),Dg.apply(this,arguments)}function Ud(r,e){const t=Xn(r);let c=!1;for(const f of e){const I=t.queries.get(f.query);if(I){for(const U of I.listeners)U.Pu(f)&&(c=!0);I.Au=f}}c&&Sp(t)}function Bf(r,e,t){const c=Xn(r),f=c.queries.get(e);if(f)for(const y of f.listeners)y.onError(t);c.queries.delete(e)}function Sp(r){r.Ru.forEach(e=>{e.next()})}class Ap{constructor(e,t,c){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=c||{}}Pu(e){if(!this.options.includeMetadataChanges){const c=[];for(const f of e.docChanges)3!==f.type&&c.push(f);e=new kf(e.query,e.docs,e.oldDocs,c,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=kf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Ig{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class Tg{constructor(e){this.It=e}Ji(e){return Kl(this.It,e)}Yi(e){return e.metadata.exists?ae(this.It,e.document,!1):Zs.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return oa(e)}}class Sg{constructor(e,t,c){this.Mu=e,this.localStore=t,this.It=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Cm(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const c=br.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,c=new Tg(this.It);for(const f of e)if(f.metadata.queries){const y=c.Ji(f.metadata.name);for(const I of f.metadata.queries){const U=(t.get(I)||Ar()).add(y);t.set(I,U)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function _m(r,e,t,c){return gg.apply(this,arguments)}(e.localStore,new Tg(e.It),e.documents,e.Mu.id),c=e.Fu(e.documents);for(const f of e.queries)yield i_(e.localStore,f,c.get(f.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Cm(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class fd{constructor(e){this.key=e}}class pd{constructor(e){this.key=e}}class Np{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Ar(),this.mutatedKeys=Ar(),this.Ku=Ah(e),this.Gu=new Ip(this.Ku)}get Qu(){return this.Lu}ju(e,t){const c=t?t.Wu:new Tp,f=t?t.Gu:this.Gu;let y=t?t.mutatedKeys:this.mutatedKeys,I=f,U=!1;const re="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,pe="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((Le,yt)=>{const Xt=f.get(Le),In=ol(this.query,yt)?yt:null,xn=!!Xt&&this.mutatedKeys.has(Xt.key),ui=!!In&&(In.hasLocalMutations||this.mutatedKeys.has(In.key)&&In.hasCommittedMutations);let Vi=!1;Xt&&In?Xt.data.isEqual(In.data)?xn!==ui&&(c.track({type:3,doc:In}),Vi=!0):this.zu(Xt,In)||(c.track({type:2,doc:In}),Vi=!0,(re&&this.Ku(In,re)>0||pe&&this.Ku(In,pe)<0)&&(U=!0)):!Xt&&In?(c.track({type:0,doc:In}),Vi=!0):Xt&&!In&&(c.track({type:1,doc:Xt}),Vi=!0,(re||pe)&&(U=!0)),Vi&&(In?(I=I.add(In),y=ui?y.add(Le):y.delete(Le)):(I=I.delete(Le),y=y.delete(Le)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const Le="F"===this.query.limitType?I.last():I.first();I=I.delete(Le.key),y=y.delete(Le.key),c.track({type:1,doc:Le})}return{Gu:I,Wu:c,$i:U,mutatedKeys:y}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,c){const f=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const y=e.Wu.Eu();y.sort((pe,Le)=>function(yt,Xt){const In=xn=>{switch(xn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ii()}};return In(yt)-In(Xt)}(pe.type,Le.type)||this.Ku(pe.doc,Le.doc)),this.Hu(c);const I=t?this.Ju():[],U=0===this.qu.size&&this.current?1:0,re=U!==this.Uu;return this.Uu=U,0!==y.length||re?{snapshot:new kf(this.query,e.Gu,f,y,e.mutatedKeys,0===U,re,!1),Yu:I}:{Yu:I}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Tp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Ar(),this.Gu.forEach(c=>{this.Xu(c.key)&&(this.qu=this.qu.add(c.key))});const t=[];return e.forEach(c=>{this.qu.has(c)||t.push(new pd(c))}),this.qu.forEach(c=>{e.has(c)||t.push(new fd(c))}),t}Zu(e){this.Lu=e.Hi,this.qu=Ar();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return kf.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Ag{constructor(e,t,c){this.query=e,this.targetId=t,this.view=c}}class $f{constructor(e){this.key=e,this.ec=!1}}class c_{constructor(e,t,c,f,y,I){this.localStore=e,this.remoteStore=t,this.eventManager=c,this.sharedClientState=f,this.currentUser=y,this.maxConcurrentLimboResolutions=I,this.nc={},this.sc=new Gl(U=>vo(U),sl),this.ic=new Map,this.rc=new Set,this.oc=new Rn(ri.comparator),this.uc=new Map,this.cc=new cd,this.ac={},this.hc=new Map,this.lc=Oc.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function u_(r,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,ve.Z)(function*(r,e){const t=Vg(r);let c,f;const y=t.sc.get(e);if(y)c=y.targetId,t.sharedClientState.addLocalQueryTarget(c),f=y.view.tc();else{const I=yield uh(t.localStore,Sa(e));t.isPrimaryClient&&Lh(t.remoteStore,I);const U=t.sharedClientState.addLocalQueryTarget(I.targetId);c=I.targetId,f=yield jd(t,e,c,"current"===U)}return f}),Hh.apply(this,arguments)}function jd(r,e,t,c){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,ve.Z)(function*(r,e,t,c){r.dc=(Le,yt,Xt)=>{return(In=(0,ve.Z)(function*(xn,ui,Vi,Hs){let Uo=ui.view.ju(Vi);Uo.$i&&(Uo=yield mp(xn.localStore,ui.query,!1).then(({documents:Js})=>ui.view.ju(Js,Uo)));const co=Hs&&Hs.targetChanges.get(ui.targetId),ga=ui.view.applyChanges(Uo,xn.isPrimaryClient,co);return xg(xn,ui.targetId,ga.Yu),ga.snapshot}),function(xn,ui,Vi,Hs){return In.apply(this,arguments)})(r,Le,yt,Xt);var In};const f=yield mp(r.localStore,e,!0),y=new Np(e,f.Hi),I=y.ju(f.documents),U=ka.createSynthesizedTargetChangeForCurrentChange(t,c&&"Offline"!==r.onlineState),re=y.applyChanges(I,r.isPrimaryClient,U);xg(r,t,re.Yu);const pe=new Ag(e,t,y);return r.sc.set(e,pe),r.ic.has(t)?r.ic.get(t).push(e):r.ic.set(t,[e]),re.snapshot}),Vf.apply(this,arguments)}function Hd(r,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,ve.Z)(function*(r,e){const t=Xn(r),c=t.sc.get(e),f=t.ic.get(c.targetId);if(f.length>1)return t.ic.set(c.targetId,f.filter(y=>!sl(y,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(c.targetId),t.sharedClientState.isActiveQueryTarget(c.targetId)||(yield dh(t.localStore,c.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(c.targetId),Bh(t.remoteStore,c.targetId),cl(t,c.targetId)}).catch(_o))):(cl(t,c.targetId),yield dh(t.localStore,c.targetId,!0))}),Uf.apply(this,arguments)}function Gh(){return Gh=(0,ve.Z)(function*(r,e,t){const c=Gd(r);try{const f=yield function(y,I){const U=Xn(y),re=ns.now(),pe=I.reduce((Xt,In)=>Xt.add(In.key),Ar());let Le,yt;return U.persistence.runTransaction("Locally write mutations","readwrite",Xt=>{let In=Bo(),xn=Ar();return U.Gi.getEntries(Xt,pe).next(ui=>{In=ui,In.forEach((Vi,Hs)=>{Hs.isValidDocument()||(xn=xn.add(Vi))})}).next(()=>U.localDocuments.getOverlayedDocuments(Xt,In)).next(ui=>{Le=ui;const Vi=[];for(const Hs of I){const Uo=sa(Hs,Le.get(Hs.key).overlayedDocument);null!=Uo&&Vi.push(new oc(Hs.key,Uo,Jc(Uo.value.mapValue),ao.exists(!0)))}return U.mutationQueue.addMutationBatch(Xt,re,Vi,I)}).next(ui=>{yt=ui;const Vi=ui.applyToLocalDocumentSet(Le,xn);return U.documentOverlayCache.saveOverlays(Xt,ui.batchId,Vi)})}).then(()=>({batchId:yt.batchId,changes:Xu(Le)}))}(c.localStore,e);c.sharedClientState.addPendingMutation(f.batchId),function(y,I,U){let re=y.ac[y.currentUser.toKey()];re||(re=new Rn(qi)),re=re.insert(I,U),y.ac[y.currentUser.toKey()]=re}(c,f.batchId,t),yield pu(c,f.changes),yield Vh(c.remoteStore)}catch(f){const y=Dp(f,"Failed to persist write");t.reject(y)}}),Gh.apply(this,arguments)}function Wh(r,e){return jf.apply(this,arguments)}function jf(){return jf=(0,ve.Z)(function*(r,e){const t=Xn(r);try{const c=yield n_(t.localStore,e);e.targetChanges.forEach((f,y)=>{const I=t.uc.get(y);I&&($i(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?I.ec=!0:f.modifiedDocuments.size>0?$i(I.ec):f.removedDocuments.size>0&&($i(I.ec),I.ec=!1))}),yield pu(t,c,e)}catch(c){yield _o(c)}}),jf.apply(this,arguments)}function Hf(r,e,t){const c=Xn(r);if(c.isPrimaryClient&&0===t||!c.isPrimaryClient&&1===t){const f=[];c.sc.forEach((y,I)=>{const U=I.view.bu(e);U.snapshot&&f.push(U.snapshot)}),function(y,I){const U=Xn(y);U.onlineState=I;let re=!1;U.queries.forEach((pe,Le)=>{for(const yt of Le.listeners)yt.bu(I)&&(re=!0)}),re&&Sp(U)}(c.eventManager,e),f.length&&c.nc.Wo(f),c.onlineState=e,c.isPrimaryClient&&c.sharedClientState.setOnlineState(e)}}function Dm(r,e,t){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ve.Z)(function*(r,e,t){const c=Xn(r);c.sharedClientState.updateQueryState(e,"rejected",t);const f=c.uc.get(e),y=f&&f.key;if(y){let I=new Rn(ri.comparator);I=I.insert(y,Zs.newNoDocument(y,Hi.min()));const U=Ar().add(y),re=new Tc(Hi.min(),new Map,new Gi(qi),I,U);yield Wh(c,re),c.oc=c.oc.remove(y),c.uc.delete(e),Og(c)}else yield dh(c.localStore,e,!1).then(()=>cl(c,e,t)).catch(_o)}),Mp.apply(this,arguments)}function Ng(r,e){return d_.apply(this,arguments)}function d_(){return d_=(0,ve.Z)(function*(r,e){const t=Xn(r),c=e.batch.batchId;try{const f=yield hm(t.localStore,e);Tm(t,c,null),Gf(t,c),t.sharedClientState.updateMutationState(c,"acknowledged"),yield pu(t,f)}catch(f){yield _o(f)}}),d_.apply(this,arguments)}function h_(r,e,t){return xp.apply(this,arguments)}function xp(){return xp=(0,ve.Z)(function*(r,e,t){const c=Xn(r);try{const f=yield function(y,I){const U=Xn(y);return U.persistence.runTransaction("Reject batch","readwrite-primary",re=>{let pe;return U.mutationQueue.lookupMutationBatch(re,I).next(Le=>($i(null!==Le),pe=Le.keys(),U.mutationQueue.removeMutationBatch(re,Le))).next(()=>U.mutationQueue.performConsistencyCheck(re)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(re,pe,I)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(re,pe)).next(()=>U.localDocuments.getDocuments(re,pe))})}(c.localStore,e);Tm(c,e,t),Gf(c,e),c.sharedClientState.updateMutationState(e,"rejected",t),yield pu(c,f)}catch(f){yield _o(f)}}),xp.apply(this,arguments)}function zh(){return zh=(0,ve.Z)(function*(r,e){const t=Xn(r);uu(t.remoteStore)||On("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(y){const I=Xn(y);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>I.mutationQueue.getHighestUnacknowledgedBatchId(U))}(t.localStore);if(-1===c)return void e.resolve();const f=t.hc.get(c)||[];f.push(e),t.hc.set(c,f)}catch(c){const f=Dp(c,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),zh.apply(this,arguments)}function Gf(r,e){(r.hc.get(e)||[]).forEach(t=>{t.resolve()}),r.hc.delete(e)}function Tm(r,e,t){const c=Xn(r);let f=c.ac[c.currentUser.toKey()];if(f){const y=f.get(e);y&&(t?y.reject(t):y.resolve(),f=f.remove(e)),c.ac[c.currentUser.toKey()]=f}}function cl(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const c of r.ic.get(e))r.sc.delete(c),t&&r.nc._c(c,t);r.ic.delete(e),r.isPrimaryClient&&r.cc.ls(e).forEach(c=>{r.cc.containsKey(c)||Mg(r,c)})}function Mg(r,e){r.rc.delete(e.path.canonicalString());const t=r.oc.get(e);null!==t&&(Bh(r.remoteStore,t),r.oc=r.oc.remove(e),r.uc.delete(t),Og(r))}function xg(r,e,t){for(const c of t)c instanceof fd?(r.cc.addReference(c.key,e),ny(r,c)):c instanceof pd?(On("SyncEngine","Document no longer in limbo: "+c.key),r.cc.removeReference(c.key,e),r.cc.containsKey(c.key)||Mg(r,c.key)):ii()}function ny(r,e){const t=e.key,c=t.path.canonicalString();r.oc.get(t)||r.rc.has(c)||(On("SyncEngine","New document in limbo: "+t),r.rc.add(c),Og(r))}function Og(r){for(;r.rc.size>0&&r.oc.size<r.maxConcurrentLimboResolutions;){const e=r.rc.values().next().value;r.rc.delete(e);const t=new ri(br.fromString(e)),c=r.lc.next();r.uc.set(c,new $f(t)),r.oc=r.oc.insert(t,c),Lh(r.remoteStore,new qo(Sa(bu(t.path)),c,2,De.at))}}function pu(r,e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,ve.Z)(function*(r,e,t){const c=Xn(r),f=[],y=[],I=[];var U;c.sc.isEmpty()||(c.sc.forEach((U,re)=>{I.push(c.dc(re,e,t).then(pe=>{if(pe){c.isPrimaryClient&&c.sharedClientState.updateQueryState(re.targetId,pe.fromCache?"not-current":"current"),f.push(pe);const Le=dg.Ci(re.targetId,pe);y.push(Le)}}))}),yield Promise.all(I),c.nc.Wo(f),yield(U=(0,ve.Z)(function*(re,pe){const Le=Xn(re);try{yield Le.persistence.runTransaction("notifyLocalViewChanges","readwrite",yt=>en.forEach(pe,Xt=>en.forEach(Xt.Si,In=>Le.persistence.referenceDelegate.addReference(yt,Xt.targetId,In)).next(()=>en.forEach(Xt.Di,In=>Le.persistence.referenceDelegate.removeReference(yt,Xt.targetId,In)))))}catch(yt){if(!Ca(yt))throw yt;On("LocalStore","Failed to update sequence numbers: "+yt)}for(const yt of pe){const Xt=yt.targetId;if(!yt.fromCache){const In=Le.Ui.get(Xt),ui=In.withLastLimboFreeSnapshotVersion(In.snapshotVersion);Le.Ui=Le.Ui.insert(Xt,ui)}}}),function(re,pe){return U.apply(this,arguments)})(c.localStore,y))}),Wf.apply(this,arguments)}function f_(r,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,ve.Z)(function*(r,e){const t=Xn(r);if(!t.currentUser.isEqual(e)){On("SyncEngine","User change. New user:",e.toKey());const c=yield dm(t.localStore,e);t.currentUser=e,(f=t).hc.forEach(I=>{I.forEach(U=>{U.reject(new pn(un.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.hc.clear(),t.sharedClientState.handleUserChange(e,c.removedBatchIds,c.addedBatchIds),yield pu(t,c.ji)}var f}),Rg.apply(this,arguments)}function Sm(r,e){const t=Xn(r),c=t.uc.get(e);if(c&&c.ec)return Ar().add(c.key);{let f=Ar();const y=t.ic.get(e);if(!y)return f;for(const I of y){const U=t.sc.get(I);f=f.unionWith(U.view.Qu)}return f}}function Am(r,e){return zf.apply(this,arguments)}function zf(){return zf=(0,ve.Z)(function*(r,e){const t=Xn(r),c=yield mp(t.localStore,e.query,!0),f=e.view.Zu(c);return t.isPrimaryClient&&xg(t,e.targetId,f.Yu),f}),zf.apply(this,arguments)}function Nm(r,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,ve.Z)(function*(r,e){const t=Xn(r);return pg(t.localStore,e).then(c=>pu(t,c))}),Pg.apply(this,arguments)}function p_(r,e,t,c){return Op.apply(this,arguments)}function Op(){return Op=(0,ve.Z)(function*(r,e,t,c){const f=Xn(r),y=yield function(I,U){const re=Xn(I),pe=Xn(re.mutationQueue);return re.persistence.runTransaction("Lookup mutation documents","readonly",Le=>pe.Tn(Le,U).next(yt=>yt?re.localDocuments.getDocuments(Le,yt):en.resolve(null)))}(f.localStore,e);var U;null!==y?("pending"===t?yield Vh(f.remoteStore):"acknowledged"===t||"rejected"===t?(Tm(f,e,c||null),Gf(f,e),U=e,Xn(Xn(f.localStore).mutationQueue).An(U)):ii(),yield pu(f,y)):On("SyncEngine","Cannot apply mutation batch with id: "+e)}),Op.apply(this,arguments)}function Fg(){return Fg=(0,ve.Z)(function*(r,e){const t=Xn(r);if(Vg(t),Gd(t),!0===e&&!0!==t.fc){const c=t.sharedClientState.getAllActiveQueryTargets(),f=yield pa(t,c.toArray());t.fc=!0,yield Rf(t.remoteStore,!0);for(const y of f)Lh(t.remoteStore,y)}else if(!1===e&&!1!==t.fc){const c=[];let f=Promise.resolve();t.ic.forEach((y,I)=>{t.sharedClientState.isLocalQueryTarget(I)?c.push(I):f=f.then(()=>(cl(t,I),dh(t.localStore,I,!0))),Bh(t.remoteStore,I)}),yield f,yield pa(t,c),function(y){const I=Xn(y);I.uc.forEach((U,re)=>{Bh(I.remoteStore,re)}),I.cc.fs(),I.uc=new Map,I.oc=new Rn(ri.comparator)}(t),t.fc=!1,yield Rf(t.remoteStore,!1)}}),Fg.apply(this,arguments)}function pa(r,e,t){return bh.apply(this,arguments)}function bh(){return bh=(0,ve.Z)(function*(r,e,t){const c=Xn(r),f=[],y=[];for(const I of e){let U;const re=c.ic.get(I);if(re&&0!==re.length){U=yield uh(c.localStore,Sa(re[0]));for(const pe of re){const Le=c.sc.get(pe),yt=yield Am(c,Le);yt.snapshot&&y.push(yt.snapshot)}}else{const pe=yield gm(c.localStore,I);U=yield uh(c.localStore,pe),yield jd(c,Kh(pe),I,!1)}f.push(U)}return c.nc.Wo(y),f}),bh.apply(this,arguments)}function Kh(r){return vu(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Lg(r){const e=Xn(r);return Xn(Xn(e.localStore).persistence).vi()}function iy(r,e,t,c){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,ve.Z)(function*(r,e,t,c){const f=Xn(r);if(f.fc)return void On("SyncEngine","Ignoring unexpected query state notification.");const y=f.ic.get(e);if(y&&y.length>0)switch(t){case"current":case"not-current":{const I=yield pg(f.localStore,qu(y[0])),U=Tc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield pu(f,I,U);break}case"rejected":yield dh(f.localStore,e,!0),cl(f,e,c);break;default:ii()}}),Rp.apply(this,arguments)}function Bg(r,e,t){return $g.apply(this,arguments)}function $g(){return $g=(0,ve.Z)(function*(r,e,t){const c=Vg(r);if(c.fc){for(const f of e){if(c.ic.has(f)){On("SyncEngine","Adding an already active target "+f);continue}const y=yield gm(c.localStore,f),I=yield uh(c.localStore,y);yield jd(c,Kh(y),I.targetId,!1),Lh(c.remoteStore,I)}for(const f of t)c.ic.has(f)&&(yield dh(c.localStore,f,!1).then(()=>{Bh(c.remoteStore,f),cl(c,f)}).catch(_o))}}),$g.apply(this,arguments)}function Vg(r){const e=Xn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dm.bind(null,e),e.nc.Wo=Ud.bind(null,e.eventManager),e.nc._c=Bf.bind(null,e.eventManager),e}function Gd(r){const e=Xn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ng.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h_.bind(null,e),e}class Ug{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.It=hc(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return um(this.persistence,new hg,e.initialUser,this.It)}gc(e){return new og(Ef.Bs,this.It)}mc(e){return new kc}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yh extends Ug{constructor(e,t,c){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,c=this;return(0,ve.Z)(function*(){yield t().call(c,e),yield c.Ec.initialize(c,e),yield Gd(c.Ec.syncEngine),yield Vh(c.Ec.remoteStore),yield c.persistence.li(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(),c.indexBackfillerScheduler&&!c.indexBackfillerScheduler.started&&c.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return um(this.persistence,new hg,e.initialUser,this.It)}Ic(e,t){return new Zl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const c=new J(t,this.persistence);return new W(e.asyncQueue,c)}gc(e){const t=Pc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?js.withCacheSize(this.cacheSizeBytes):js.DEFAULT;return new pp(this.synchronizeTabs,t,e.clientId,c,e.asyncQueue,o_(),Tf(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new kc}}class Pp extends Yh{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,c=this;return(0,ve.Z)(function*(){yield t().call(c,e);const f=c.Ec.syncEngine;c.sharedClientState instanceof yp&&(c.sharedClientState.syncEngine={Fr:p_.bind(null,f),$r:iy.bind(null,f),Br:Bg.bind(null,f),vi:Lg.bind(null,f),Or:Nm.bind(null,f)},yield c.sharedClientState.start()),yield c.persistence.li(function(){var y=(0,ve.Z)(function*(I){yield function kg(r,e){return Fg.apply(this,arguments)}(c.Ec.syncEngine,I),c.gcScheduler&&(I&&!c.gcScheduler.started?c.gcScheduler.start():I||c.gcScheduler.stop()),c.indexBackfillerScheduler&&(I&&!c.indexBackfillerScheduler.started?c.indexBackfillerScheduler.start():I||c.indexBackfillerScheduler.stop())});return function(I){return y.apply(this,arguments)}}())})()}mc(e){const t=o_();if(!yp.C(t))throw new pn(un.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=Pc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yp(t,e.asyncQueue,c,e.clientId,e.initialUser)}}class wl{initialize(e,t){var c=this;return(0,ve.Z)(function*(){c.localStore||(c.localStore=e.localStore,c.sharedClientState=e.sharedClientState,c.datastore=c.createDatastore(t),c.remoteStore=c.createRemoteStore(t),c.eventManager=c.createEventManager(t),c.syncEngine=c.createSyncEngine(t,!e.synchronizeTabs),c.sharedClientState.onlineStateHandler=f=>Hf(c.syncEngine,f,1),c.remoteStore.remoteSyncer.handleCredentialChange=f_.bind(null,c.syncEngine),yield Rf(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ty}createDatastore(e){const t=hc(e.databaseInfo.databaseId),c=new Ld(e.databaseInfo);return new bm(e.authCredentials,e.appCheckCredentials,c,t)}createRemoteStore(e){return t=this.localStore,c=this.datastore,f=e.asyncQueue,y=U=>Hf(this.syncEngine,U,0),I=If.C()?new If:new ym,new X_(t,c,f,y,I);var t,c,f,y,I}createSyncEngine(e,t){return function(c,f,y,I,U,re,pe){const Le=new c_(c,f,y,I,U,re);return pe&&(Le.fc=!0),Le}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const c=Xn(t);On("RemoteStore","RemoteStore shutting down."),c._u.add(5),yield ph(c),c.mu.shutdown(),c.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qh(r,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<r.byteLength){const c={value:r.slice(t,t+e),done:!1};return t+=e,c}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Zh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ry{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Kr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(c=>{c&&c.ku()?this.metadata.resolve(c.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(c?.payload)}`))},c=>this.metadata.reject(c))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const c=e.Pc.decode(t),f=Number(c);isNaN(f)&&e.Sc(`length string (${c}) is not valid number`);const y=yield e.Dc(f);return new Ig(JSON.parse(y),t.length+f)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ve.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const c=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),c})()}Dc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const c=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),c})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.bc.read();if(!t.done){const c=new Uint8Array(e.buffer.length+t.value.length);c.set(e.buffer),c.set(t.value,e.buffer.length),e.buffer=c}return t.done})()}}class jg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new pn(un.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(f=(0,ve.Z)(function*(y,I){const U=Xn(y),re=_(U.It)+"/documents",pe={documents:I.map(In=>Su(U.It,In))},Le=yield U.fo("BatchGetDocuments",re,pe,I.length),yt=new Map;Le.forEach(In=>{const xn=function Pe(r,e){return"found"in e?function(t,c){$i(!!c.found);const f=Kl(t,c.found.name),y=oa(c.found.updateTime),I=new fa({mapValue:{fields:c.found.fields}});return Zs.newFoundDocument(f,y,I)}(r,e):"missing"in e?function(t,c){$i(!!c.missing),$i(!!c.readTime);const f=Kl(t,c.missing),y=oa(c.readTime);return Zs.newNoDocument(f,y)}(r,e):ii()}(U.It,In);yt.set(xn.key.toString(),xn)});const Xt=[];return I.forEach(In=>{const xn=yt.get(In.toString());$i(!!xn),Xt.push(xn)}),Xt}),function(y,I){return f.apply(this,arguments)})(t.datastore,e);var f;return c.forEach(f=>t.recordVersion(f)),c})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var c;e.mutations.forEach(c=>{t.delete(c.key.toString())}),t.forEach((c,f)=>{const y=ri.fromPath(f);e.mutations.push(new Cu(y,e.precondition(y)))}),yield(c=(0,ve.Z)(function*(f,y){const I=Xn(f),U=_(I.It)+"/documents",re={writes:y.map(pe=>an(I.It,pe))};yield I.co("Commit",U,re)}),function(f,y){return c.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ii();t=Hi.min()}const c=this.readVersions.get(e.key.toString());if(c){if(!t.isEqual(c))throw new pn(un.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Hi.min())?ao.exists(!1):ao.updateTime(t):ao.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Hi.min()))throw new pn(un.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ao.updateTime(t)}return ao.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Mm{constructor(e,t,c,f,y){this.asyncQueue=e,this.datastore=t,this.options=c,this.updateFunction=f,this.deferred=y,this.Nc=c.maxAttempts,this.xo=new vp(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ve.Z)(function*(){const t=new jg(e.datastore),c=e.Mc(t);c&&c.then(f=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(f)}).catch(y=>{e.Oc(y)}))}).catch(f=>{e.Oc(f)})}))}Mc(e){try{const t=this.updateFunction(e);return!Vt(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Dc(t)}return!1}}class Hg{constructor(e,t,c,f){var y=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=c,this.databaseInfo=f,this.user=xr.UNAUTHENTICATED,this.clientId=Ho.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var I=(0,ve.Z)(function*(U){On("FirestoreClient","Received user=",U.uid),yield y.authCredentialListener(U),y.user=U});return function(U){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(c,I=>(On("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pn(un.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(c){const f=Dp(c,"Failed to shutdown persistence");t.reject(f)}})),t.promise}}function Qh(r,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ve.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),On("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let c=t.initialUser;r.setCredentialChangeListener(function(){var f=(0,ve.Z)(function*(y){c.isEqual(y)||(yield dm(e.localStore,y),c=y)});return function(y){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),Kf.apply(this,arguments)}function xu(r,e){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,ve.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Jh(r);On("FirestoreClient","Initializing OnlineComponentProvider");const c=yield r.getConfiguration();yield e.initialize(t,c),r.setCredentialChangeListener(f=>Lc(e.remoteStore,f)),r.setAppCheckTokenChangeListener((f,y)=>Lc(e.remoteStore,y)),r.onlineComponents=e}),Wd.apply(this,arguments)}function Jh(r){return zd.apply(this,arguments)}function zd(){return zd=(0,ve.Z)(function*(r){return r.offlineComponents||(On("FirestoreClient","Using default OfflineComponentProvider"),yield Qh(r,new Ug)),r.offlineComponents}),zd.apply(this,arguments)}function kp(r){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,ve.Z)(function*(r){return r.onlineComponents||(On("FirestoreClient","Using default OnlineComponentProvider"),yield xu(r,new wl)),r.onlineComponents}),Yf.apply(this,arguments)}function Gg(r){return Jh(r).then(e=>e.persistence)}function Fp(r){return Jh(r).then(e=>e.localStore)}function Wg(r){return kp(r).then(e=>e.remoteStore)}function Ou(r){return kp(r).then(e=>e.syncEngine)}function wh(r){return xm.apply(this,arguments)}function xm(){return xm=(0,ve.Z)(function*(r){const e=yield kp(r),t=e.eventManager;return t.onListen=u_.bind(null,e.syncEngine),t.onUnlisten=Hd.bind(null,e.syncEngine),t}),xm.apply(this,arguments)}function Rm(r,e,t={}){const c=new Kr;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(f,y,I,U,re){const pe=new Zh({next:yt=>{y.enqueueAndForget(()=>Cg(f,Le));const Xt=yt.docs.has(I);!Xt&&yt.fromCache?re.reject(new pn(un.UNAVAILABLE,"Failed to get document because the client is offline.")):Xt&&yt.fromCache&&U&&"server"===U.source?re.reject(new pn(un.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):re.resolve(yt)},error:yt=>re.reject(yt)}),Le=new Ap(bu(I.path),pe,{includeMetadataChanges:!0,Nu:!0});return Ff(f,Le)}(yield wh(r),r.asyncQueue,e,t,c)})),c.promise}function zg(r,e,t={}){const c=new Kr;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(f,y,I,U,re){const pe=new Zh({next:yt=>{y.enqueueAndForget(()=>Cg(f,Le)),yt.fromCache&&"server"===U.source?re.reject(new pn(un.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):re.resolve(yt)},error:yt=>re.reject(yt)}),Le=new Ap(I,pe,{includeMetadataChanges:!0,Nu:!0});return Ff(f,Le)}(yield wh(r),r.asyncQueue,e,t,c)})),c.promise}const Fm=new Map;function Lm(r,e,t){if(!t)throw new pn(un.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function y_(r,e,t,c){if(!0===e&&!0===c)throw new pn(un.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function v_(r){if(!ri.isDocumentKey(r))throw new pn(un.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bm(r){if(ri.isDocumentKey(r))throw new pn(un.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function u(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":ii()}function s(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pn(un.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=u(r);throw new pn(un.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function a(r,e){if(e<=0)throw new pn(un.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class h{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new pn(un.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pn(un.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,y_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class v{constructor(e,t,c,f){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=c,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pn(un.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new pn(un.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vs;switch(t.type){case"gapi":return new Bl(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new pn(un.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Fm.get(e);t&&(On("ComponentProvider","Removing Datastore"),Fm.delete(e),t.terminate())}(this),Promise.resolve()}}class B{constructor(e,t,c){this.converter=t,this._key=c,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ce(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new B(this.firestore,e,this._key)}}class Y{constructor(e,t,c){this.converter=t,this._query=c,this.type="query",this.firestore=e}withConverter(e){return new Y(this.firestore,e,this._query)}}class ce extends Y{constructor(e,t,c){super(e,t,bu(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new B(this.firestore,null,new ri(e))}withConverter(e){return new ce(this.firestore,e,this._path)}}function Re(r,e,...t){if(r=(0,me.m9)(r),Lm("collection","path",e),r instanceof v){const c=br.fromString(e,...t);return Bm(c),new ce(r,null,c)}{if(!(r instanceof B||r instanceof ce))throw new pn(un.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=r._path.child(br.fromString(e,...t));return Bm(c),new ce(r.firestore,null,c)}}function Rt(r,e,...t){if(r=(0,me.m9)(r),1===arguments.length&&(e=Ho.R()),Lm("doc","path",e),r instanceof v){const c=br.fromString(e,...t);return v_(c),new B(r,null,new ri(c))}{if(!(r instanceof B||r instanceof ce))throw new pn(un.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=r._path.child(br.fromString(e,...t));return v_(c),new B(r.firestore,r instanceof ce?r.converter:null,new ri(c))}}function Jt(r,e){return r=(0,me.m9)(r),e=(0,me.m9)(e),(r instanceof B||r instanceof ce)&&(e instanceof B||e instanceof ce)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Dn(r,e){return r=(0,me.m9)(r),e=(0,me.m9)(e),r instanceof Y&&e instanceof Y&&r.firestore===e.firestore&&sl(r._query,e._query)&&r.converter===e.converter}class Pn{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new vp(this,"async_queue_retry"),this.jc=()=>{const t=Tf();t&&On("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Tf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Tf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Kr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Ca(t))throw t;On("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(c=>{throw this.qc=c,this.Kc=!1,Ms("INTERNAL UNHANDLED ERROR: ",function(y){let I=y.message||"";return y.stack&&(I=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),I}(c)),c}).then(c=>(this.Kc=!1,c))));return this.$c=t,t}enqueueAfterDelay(e,t,c){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const f=Pf.createAndSchedule(this,e,t,c,y=>this.Jc(y));return this.Uc.push(f),f}Wc(){this.qc&&ii()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,c)=>t.targetTimeMs-c.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function oi(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const c=e;for(const f of["next","error","complete"])if(f in c&&"function"==typeof c[f])return!0;return!1}(r)}class wr{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,c){this._progressObserver={next:e,error:t,complete:c}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends v{constructor(e,t,c,f){super(e,t,c,f),this.type="firestore",this._queue=new Pn,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kl(this),this._firestoreClient.terminate()}}function ro(r){return r._firestoreClient||kl(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function kl(r){var e;const t=r._freezeSettings(),c=(y=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Ne(r._databaseId,y,r._persistenceKey,(U=t).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,U.useFetchStreams));var y,U;r._firestoreClient=new Hg(r._authCredentials,r._appCheckCredentials,r._queue,c)}function gu(r,e,t){const c=new Kr;return r.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield Qh(r,t),yield xu(r,e),c.resolve()}catch(f){const y=f;if(!("FirebaseError"===(I=y).name?I.code===un.FAILED_PRECONDITION||I.code===un.UNIMPLEMENTED:!(typeof DOMException<"u"&&I instanceof DOMException)||22===I.code||20===I.code||11===I.code))throw y;Fo("Error enabling offline persistence. Falling back to persistence disabled: "+y),c.reject(y)}var I})).then(()=>c.promise)}function gr(r){if(r._initialized||r._terminated)throw new pn(un.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class or{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new pn(un.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ys(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(oo.fromBase64String(e))}catch(t){throw new pn(un.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(oo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class El{constructor(e){this._methodName=e}}class ul{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pn(un.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pn(un.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qi(this._lat,e._lat)||qi(this._long,e._long)}}const ku=/^__.*__$/;class la{constructor(e,t,c){this.data=e,this.fieldMask=t,this.fieldTransforms=c}toMutation(e,t){return null!==this.fieldMask?new oc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gc(e,this.data,t,this.fieldTransforms)}}class ef{constructor(e,t,c){this.data=e,this.fieldMask=t,this.fieldTransforms=c}toMutation(e,t){return new oc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zf(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ii()}}class Na{constructor(e,t,c,f,y,I){this.settings=e,this.databaseId=t,this.It=c,this.ignoreUndefinedProperties=f,void 0===y&&this.ea(),this.fieldTransforms=y||[],this.fieldMask=I||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Na(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const c=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.sa({path:c,ra:!1});return f.oa(e),f}ua(e){var t;const c=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.sa({path:c,ra:!1});return f.ea(),f}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Qf(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Zf(this.na)&&ku.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Eh{constructor(e,t,c){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=c||hc(e)}fa(e,t,c,f=!1){return new Na({na:e,methodName:t,la:c,path:Ys.emptyPath(),ra:!1,ha:f},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Ma(r){const e=r._freezeSettings(),t=hc(r._databaseId);return new Eh(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Fu(r,e,t,c,f,y={}){const I=r.fa(y.merge||y.mergeFields?2:0,e,t,f);T_("Data must be an object, but it was:",I,c);const U=D_(c,I);let re,pe;if(y.merge)re=new So(I.fieldMask),pe=I.fieldTransforms;else if(y.mergeFields){const Le=[];for(const yt of y.mergeFields){const Xt=Um(e,yt,t);if(!I.contains(Xt))throw new pn(un.INVALID_ARGUMENT,`Field '${Xt}' is specified in your field mask but missing from your input data.`);S_(Le,Xt)||Le.push(Xt)}re=new So(Le),pe=I.fieldTransforms.filter(yt=>re.covers(yt.field))}else re=null,pe=I.fieldTransforms;return new la(new fa(U),re,pe)}class gd extends El{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gd}}function b_(r,e,t){return new Na({na:3,la:e.settings.la,methodName:r._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Zg extends El{_toFieldTransform(e){return new Hl(e.path,new su)}isEqual(e){return e instanceof Zg}}class oy extends El{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=b_(this,e,!0),c=this.da.map(y=>tf(y,t)),f=new Aa(c);return new Hl(e.path,f)}isEqual(e){return this===e}}class ay extends El{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=b_(this,e,!0),c=this.da.map(y=>tf(y,t)),f=new Za(c);return new Hl(e.path,f)}isEqual(e){return this===e}}class w_ extends El{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Ec(e.It,al(e.It,this._a));return new Hl(e.path,t)}isEqual(e){return this===e}}function Vm(r,e,t,c){const f=r.fa(1,e,t);T_("Data must be an object, but it was:",f,c);const y=[],I=fa.empty();pt(c,(re,pe)=>{const Le=Lp(e,re,t);pe=(0,me.m9)(pe);const yt=f.ua(Le);if(pe instanceof gd)y.push(Le);else{const Xt=tf(pe,yt);null!=Xt&&(y.push(Le),I.set(Le,Xt))}});const U=new So(y);return new ef(I,U,f.fieldTransforms)}function E_(r,e,t,c,f,y){const I=r.fa(1,e,t),U=[Um(e,c,t)],re=[f];if(y.length%2!=0)throw new pn(un.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Xt=0;Xt<y.length;Xt+=2)U.push(Um(e,y[Xt])),re.push(y[Xt+1]);const pe=[],Le=fa.empty();for(let Xt=U.length-1;Xt>=0;--Xt)if(!S_(pe,U[Xt])){const In=U[Xt];let xn=re[Xt];xn=(0,me.m9)(xn);const ui=I.ua(In);if(xn instanceof gd)pe.push(In);else{const Vi=tf(xn,ui);null!=Vi&&(pe.push(In),Le.set(In,Vi))}}const yt=new So(pe);return new ef(Le,yt,I.fieldTransforms)}function C_(r,e,t,c=!1){return tf(t,r.fa(c?4:3,e))}function tf(r,e){if(I_(r=(0,me.m9)(r)))return T_("Unsupported field value:",e,r),D_(r,e);if(r instanceof El)return function(t,c){if(!Zf(c.na))throw c.aa(`${t._methodName}() can only be used with update() and set()`);if(!c.path)throw c.aa(`${t._methodName}() is not currently supported inside arrays`);const f=t._toFieldTransform(c);f&&c.fieldTransforms.push(f)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,c){const f=[];let y=0;for(const I of t){let U=tf(I,c.ca(y));null==U&&(U={nullValue:"NULL_VALUE"}),f.push(U),y++}return{arrayValue:{values:f}}}(r,e)}return function(t,c){if(null===(t=(0,me.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return al(c.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const f=ns.fromDate(t);return{timestampValue:zl(c.It,f)}}if(t instanceof ns){const f=new ns(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:zl(c.It,f)}}if(t instanceof ul)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Mo)return{bytesValue:vl(c.It,t._byteString)};if(t instanceof B){const f=c.databaseId,y=t.firestore._databaseId;if(!y.isEqual(f))throw c.aa(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Ac(t.firestore._databaseId||c.databaseId,t._key.path)}}throw c.aa(`Unsupported field value: ${u(t)}`)}(r,e)}function D_(r,e){const t={};return gn(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pt(r,(c,f)=>{const y=tf(f,e.ia(c));null!=y&&(t[c]=y)}),{mapValue:{fields:t}}}function I_(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ns||r instanceof ul||r instanceof Mo||r instanceof B||r instanceof El)}function T_(r,e,t){if(!I_(t)||"object"!=typeof(c=t)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=u(t);throw e.aa("an object"===c?r+" a custom object":r+" "+c)}var c}function Um(r,e,t){if((e=(0,me.m9)(e))instanceof or)return e._internalPath;if("string"==typeof e)return Lp(r,e);throw Qf("Field path arguments must be of type string or ",r,!1,void 0,t)}const ly=new RegExp("[~\\*/\\[\\]]");function Lp(r,e,t){if(e.search(ly)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new or(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Qf(r,e,t,c,f){const y=c&&!c.isEmpty(),I=void 0!==f;let U=`Function ${e}() called with invalid data`;t&&(U+=" (via `toFirestore()`)"),U+=". ";let re="";return(y||I)&&(re+=" (found",y&&(re+=` in field ${c}`),I&&(re+=` in document ${f}`),re+=")"),new pn(un.INVALID_ARGUMENT,U+r+re)}function S_(r,e){return r.some(t=>t.isEqual(e))}class Bp{constructor(e,t,c,f,y){this._firestore=e,this._userDataWriter=t,this._key=c,this._document=f,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new B(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cy extends Bp{data(){return super.data()}}function Qg(r,e){return"string"==typeof e?Lp(r,e):e instanceof or?e._internalPath:e._delegate._internalPath}class nf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yd extends Bp{constructor(e,t,c,f,y,I){super(e,t,c,f,I),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const c=this._document.data.field(Qg("DocumentSnapshot.get",e));if(null!==c)return this._userDataWriter.convertValue(c,t.serverTimestamps)}}}class $p extends Yd{data(e={}){return super.data(e)}}class Ch{constructor(e,t,c,f){this._firestore=e,this._userDataWriter=t,this._snapshot=f,this.metadata=new nf(f.hasPendingWrites,f.fromCache),this.query=c}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(c=>{e.call(t,new $p(this._firestore,this._userDataWriter,c.key,c,new nf(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pn(un.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(c,f){if(c._snapshot.oldDocs.isEmpty()){let y=0;return c._snapshot.docChanges.map(I=>({type:"added",doc:new $p(c._firestore,c._userDataWriter,I.doc.key,I.doc,new nf(c._snapshot.mutatedKeys.has(I.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:y++}))}{let y=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(I=>f||3!==I.type).map(I=>{const U=new $p(c._firestore,c._userDataWriter,I.doc.key,I.doc,new nf(c._snapshot.mutatedKeys.has(I.doc.key),c._snapshot.fromCache),c.query.converter);let re=-1,pe=-1;return 0!==I.type&&(re=y.indexOf(I.doc.key),y=y.delete(I.doc.key)),1!==I.type&&(y=y.add(I.doc),pe=y.indexOf(I.doc.key)),{type:l0(I.type),doc:U,oldIndex:re,newIndex:pe}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function l0(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ii()}}function uy(r,e){return r instanceof Yd&&e instanceof Yd?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ch&&e instanceof Ch&&r._firestore===e._firestore&&Dn(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function dy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new pn(un.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vp{}function rf(r,...e){for(const t of e)r=t._apply(r);return r}class Cl extends Vp{constructor(e,t,c){super(),this.wa=e,this.ma=t,this.ga=c,this.type="where"}_apply(e){const t=Ma(e.firestore),c=function(f,y,I,U,re,pe,Le){let yt;if(re.isKeyField()){if("array-contains"===pe||"array-contains-any"===pe)throw new pn(un.INVALID_ARGUMENT,`Invalid Query. You can't perform '${pe}' queries on documentId().`);if("in"===pe||"not-in"===pe){jm(Le,pe);const In=[];for(const xn of Le)In.push(nv(U,f,xn));yt={arrayValue:{values:In}}}else yt=nv(U,f,Le)}else"in"!==pe&&"not-in"!==pe&&"array-contains-any"!==pe||jm(Le,pe),yt=C_(I,"where",Le,"in"===pe||"not-in"===pe);const Xt=Ta.create(re,pe,yt);return function(In,xn){if(xn.dt()){const Vi=Ml(In);if(null!==Vi&&!Vi.isEqual(xn.field))throw new pn(un.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Vi.toString()}' and '${xn.field.toString()}'`);const Hs=Ku(In);null!==Hs&&Hm(0,xn.field,Hs)}const ui=function(Vi,Hs){for(const Uo of Vi.filters)if(Hs.indexOf(Uo.op)>=0)return Uo.op;return null}(In,function(Vi){switch(Vi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(xn.op));if(null!==ui)throw new pn(un.INVALID_ARGUMENT,ui===xn.op?`Invalid query. You cannot use more than one '${xn.op.toString()}' filter.`:`Invalid query. You cannot use '${xn.op.toString()}' filters with '${ui.toString()}' filters.`)}(f,Xt),Xt}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Y(e.firestore,e.converter,function(f,y){const I=f.filters.concat([y]);return new rl(f.path,f.collectionGroup,f.explicitOrderBy.slice(),I,f.limit,f.limitType,f.startAt,f.endAt)}(e._query,c))}}class Qy extends Vp{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(c,f,y){if(null!==c.startAt)throw new pn(un.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new pn(un.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new jc(f,y);return function(U,re){if(null===Ku(U)){const pe=Ml(U);null!==pe&&Hm(0,pe,re.field)}}(c,I),I}(e._query,this.wa,this.ya);return new Y(e.firestore,e.converter,function(c,f){const y=c.explicitOrderBy.concat([f]);return new rl(c.path,c.collectionGroup,y,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,t))}}class A_ extends Vp{constructor(e,t,c){super(),this.type=e,this.pa=t,this.Ia=c}_apply(e){return new Y(e.firestore,e.converter,Sh(e._query,this.pa,this.Ia))}}class N_ extends Vp{constructor(e,t,c){super(),this.type=e,this.Ta=t,this.Ea=c}_apply(e){const t=M_(e,this.type,this.Ta,this.Ea);return new Y(e.firestore,e.converter,(f=t,new rl((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,f,c.endAt)));var c,f}}class py extends Vp{constructor(e,t,c){super(),this.type=e,this.Ta=t,this.Ea=c}_apply(e){const t=M_(e,this.type,this.Ta,this.Ea);return new Y(e.firestore,e.converter,(f=t,new rl((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,f)));var c,f}}function M_(r,e,t,c){if(t[0]=(0,me.m9)(t[0]),t[0]instanceof Bp)return function(f,y,I,U,re){if(!U)throw new pn(un.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const pe=[];for(const Le of sc(f))if(Le.field.isKeyField())pe.push(ia(y,U.key));else{const yt=U.data.field(Le.field);if(md(yt))throw new pn(un.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Le.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===yt){const Xt=Le.field.canonicalString();throw new pn(un.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Xt}' (used as the orderBy) does not exist.`)}pe.push(yt)}return new rc(pe,re)}(r._query,r.firestore._databaseId,e,t[0]._document,c);{const f=Ma(r.firestore);return function(y,I,U,re,pe,Le){const yt=y.explicitOrderBy;if(pe.length>yt.length)throw new pn(un.INVALID_ARGUMENT,`Too many arguments provided to ${re}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Xt=[];for(let In=0;In<pe.length;In++){const xn=pe[In];if(yt[In].field.isKeyField()){if("string"!=typeof xn)throw new pn(un.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${re}(), but got a ${typeof xn}`);if(!wu(y)&&-1!==xn.indexOf("/"))throw new pn(un.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${re}() must be a plain document ID, but '${xn}' contains a slash.`);const ui=y.path.child(br.fromString(xn));if(!ri.isDocumentKey(ui))throw new pn(un.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${re}() must result in a valid document path, but '${ui}' is not because it contains an odd number of segments.`);const Vi=new ri(ui);Xt.push(ia(I,Vi))}else{const ui=C_(U,re,xn);Xt.push(ui)}}return new rc(Xt,Le)}(r._query,r.firestore._databaseId,f,e,t,c)}}function nv(r,e,t){if("string"==typeof(t=(0,me.m9)(t))){if(""===t)throw new pn(un.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wu(e)&&-1!==t.indexOf("/"))throw new pn(un.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const c=e.path.child(br.fromString(t));if(!ri.isDocumentKey(c))throw new pn(un.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return ia(r,new ri(c))}if(t instanceof B)return ia(r,t._key);throw new pn(un.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${u(t)}.`)}function jm(r,e){if(!Array.isArray(r)||0===r.length)throw new pn(un.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new pn(un.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Hm(r,e,t){if(!t.isEqual(e))throw new pn(un.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const qd={maxAttempts:5};class x_{convertValue(e,t="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ii()}}convertObject(e,t){const c={};return pt(e.fields,(f,y)=>{c[f]=this.convertValue(y,t)}),c}convertGeoPoint(e){return new ul(qs(e.latitude),qs(e.longitude))}convertArray(e,t){return(e.values||[]).map(c=>this.convertValue(c,t))}convertServerTimestamp(e,t){switch(t){case"previous":const c=z(e);return null==c?null:this.convertValue(c,t);case"estimate":return this.convertTimestamp(ee(e));default:return null}}convertTimestamp(e){const t=Da(e);return new ns(t.seconds,t.nanos)}convertDocumentKey(e,t){const c=br.fromString(e);$i(Sd(c));const f=new qe(c.get(1),c.get(3)),y=new ri(c.popFirst(5));return f.isEqual(t)||Ms(`Document ${y} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),y}}function Jg(r,e,t){let c;return c=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,c}class Zd extends x_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new B(this.firestore,null,t)}}class Lu{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ma(e)}set(e,t,c){this._verifyNotCommitted();const f=Fl(e,this._firestore),y=Jg(f.converter,t,c),I=Fu(this._dataReader,"WriteBatch.set",f._key,y,null!==f.converter,c);return this._mutations.push(I.toMutation(f._key,ao.none())),this}update(e,t,c,...f){this._verifyNotCommitted();const y=Fl(e,this._firestore);let I;return I="string"==typeof(t=(0,me.m9)(t))||t instanceof or?E_(this._dataReader,"WriteBatch.update",y._key,t,c,f):Vm(this._dataReader,"WriteBatch.update",y._key,t),this._mutations.push(I.toMutation(y._key,ao.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fl(e,this._firestore);return this._mutations=this._mutations.concat(new Ju(t._key,ao.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pn(un.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fl(r,e){if((r=(0,me.m9)(r)).firestore!==e)throw new pn(un.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class sf extends x_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new B(this.firestore,null,t)}}function jp(r,e,t){r=s(r,B);const c=s(r.firestore,cr),f=Jg(r.converter,e,t);return Dh(c,[Fu(Ma(c),"setDoc",r._key,f,null!==r.converter,t).toMutation(r._key,ao.none())])}function _y(r,e,t,...c){r=s(r,B);const f=s(r.firestore,cr),y=Ma(f);let I;return I="string"==typeof(e=(0,me.m9)(e))||e instanceof or?E_(y,"updateDoc",r._key,e,t,c):Vm(y,"updateDoc",r._key,e),Dh(f,[I.toMutation(r._key,ao.exists(!0))])}function R_(r,...e){var t,c,f;r=(0,me.m9)(r);let y={includeMetadataChanges:!1},I=0;"object"!=typeof e[I]||oi(e[I])||(y=e[I],I++);const U={includeMetadataChanges:y.includeMetadataChanges};if(oi(e[I])){const yt=e[I];e[I]=null===(t=yt.next)||void 0===t?void 0:t.bind(yt),e[I+1]=null===(c=yt.error)||void 0===c?void 0:c.bind(yt),e[I+2]=null===(f=yt.complete)||void 0===f?void 0:f.bind(yt)}let re,pe,Le;if(r instanceof B)pe=s(r.firestore,cr),Le=bu(r._key.path),re={next:yt=>{e[I]&&e[I](P_(pe,r,yt))},error:e[I+1],complete:e[I+2]};else{const yt=s(r,Y);pe=s(yt.firestore,cr),Le=yt._query;const Xt=new sf(pe);re={next:In=>{e[I]&&e[I](new Ch(pe,Xt,yt,In))},error:e[I+1],complete:e[I+2]},dy(r._query)}return function(yt,Xt,In,xn){const ui=new Zh(xn),Vi=new Ap(Xt,ui,In);return yt.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Ff(yield wh(yt),Vi)})),()=>{ui.Rc(),yt.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Cg(yield wh(yt),Vi)}))}}(ro(pe),Le,U,re)}function Dh(r,e){return function(t,c){const f=new Kr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function vh(r,e,t){return Gh.apply(this,arguments)}(yield Ou(t),c,f)})),f.promise}(ro(r),e)}function P_(r,e,t){const c=t.docs.get(e._key),f=new sf(r);return new Yd(r,f,e._key,c,new nf(t.hasPendingWrites,t.fromCache),e.converter)}class by extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ma(e)}get(e){const t=Fl(e,this._firestore),c=new Zd(this._firestore);return this._transaction.lookup([t._key]).then(f=>{if(!f||1!==f.length)return ii();const y=f[0];if(y.isFoundDocument())return new Bp(this._firestore,c,y.key,y,t.converter);if(y.isNoDocument())return new Bp(this._firestore,c,t._key,null,t.converter);throw ii()})}set(e,t,c){const f=Fl(e,this._firestore),y=Jg(f.converter,t,c),I=Fu(this._dataReader,"Transaction.set",f._key,y,null!==f.converter,c);return this._transaction.set(f._key,I),this}update(e,t,c,...f){const y=Fl(e,this._firestore);let I;return I="string"==typeof(t=(0,me.m9)(t))||t instanceof or?E_(this._dataReader,"Transaction.update",y._key,t,c,f):Vm(this._dataReader,"Transaction.update",y._key,t),this._transaction.update(y._key,I),this}delete(e){const t=Fl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fl(e,this._firestore),c=new sf(this._firestore);return super.get(e).then(f=>new Yd(this._firestore,c,t._key,f._document,new nf(!1,!1),t.converter))}}function $_(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new pn("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Iy(){if(typeof Uint8Array>"u")throw new pn("unimplemented","Uint8Arrays are not available in this environment.")}function Ty(){if(!function Os(){return typeof atob<"u"}())throw new pn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){Ks=Ie.SDK_VERSION,(0,Ie._registerComponent)(new ue.wA("firestore",(t,{instanceIdentifier:c,options:f})=>{const y=t.getProvider("app").getImmediate(),I=new cr(new tl(t.getProvider("auth-internal")),new Al(t.getProvider("app-check-internal")),function(U,re){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new pn(un.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qe(U.options.projectId,re)}(y,c),y);return f=Object.assign({useFetchStreams:e},f),I._setSettings(f),I},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(el,"3.5.0",r),(0,Ie.registerVersion)(el,"3.5.0","esm2017")}();class Xg{constructor(e){this._delegate=e}static fromBase64String(e){return Ty(),new Xg(Mo.fromBase64String(e))}static fromUint8Array(e){return Iy(),new Xg(Mo.fromUint8Array(e))}toBase64(){return Ty(),this._delegate.toBase64()}toUint8Array(){return Iy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function V_(r){return function uv(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const c of e)if(c in t&&"function"==typeof t[c])return!0;return!1}(r,["next","error","complete"])}class dv{enableIndexedDbPersistence(e,t){return function Ba(r,e){gr(r=s(r,cr));const t=ro(r),c=r._freezeSettings(),f=new wl;return gu(t,f,new Yh(f,c.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ru(r){gr(r=s(r,cr));const e=ro(r),t=r._freezeSettings(),c=new wl;return gu(e,c,new Pp(c,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Pu(r){if(r._initialized&&!r._terminated)throw new pn(un.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(c){if(!yo.C())return Promise.resolve();const f=c+"main";yield yo.delete(f)}),function(c){return t.apply(this,arguments)})(Pc(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Sy{constructor(e,t,c){this._delegate=t,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},e instanceof qe||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Fo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,c={}){!function N(r,e,t,c={}){var f;const y=(r=s(r,v))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==e&&Fo("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},y),{host:`${e}:${t}`,ssl:!1})),c.mockUserToken){let I,U;if("string"==typeof c.mockUserToken)I=c.mockUserToken,U=xr.MOCK_USER;else{I=(0,me.Sg)(c.mockUserToken,null===(f=r._app)||void 0===f?void 0:f.options.projectId);const re=c.mockUserToken.sub||c.mockUserToken.user_id;if(!re)throw new pn(un.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new xr(re)}r._authCredentials=new Ll(new gl(I,U))}}(this._delegate,e,t,c)}enableNetwork(){return function Xh(r){return function Om(r){return r.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield Gg(r),t=yield Wg(r);return e.setNetworkEnabled(!0),function(c){const f=Xn(c);return f._u.delete(0),fh(f)}(t)}))}(ro(r=s(r,cr)))}(this._delegate)}disableNetwork(){return function Kd(r){return function sy(r){return r.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield Gg(r),t=yield Wg(r);return e.setNetworkEnabled(!1),(c=(0,ve.Z)(function*(f){const y=Xn(f);y._u.add(0),yield ph(y),y.gu.set("Offline")}),function(f){return c.apply(this,arguments)})(t);var c}))}(ro(r=s(r,cr)))}(this._delegate)}enablePersistence(e){let t=!1,c=!1;return e&&(t=!!e.synchronizeTabs,c=!!e.experimentalForceOwningTab,y_("synchronizeTabs",t,"experimentalForceOwningTab",c)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Yg(r){return function(e){const t=new Kr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Im(r,e){return zh.apply(this,arguments)}(yield Ou(e),t)})),t.promise}(ro(r=s(r,cr)))}(this._delegate)}onSnapshotsInSync(e){return function vy(r,e){return function Kg(r,e){const t=new Zh(e);return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return c=yield wh(r),f=t,Xn(c).Ru.add(f),void f.next();var c,f})),()=>{t.Rc(),r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return c=yield wh(r),f=t,void Xn(c).Ru.delete(f);var c,f}))}}(ro(r=s(r,cr)),oi(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new pn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xf(this,Re(this._delegate,e))}catch(t){throw Bc(t,"collection()","Firestore.collection()")}}doc(e){try{return new Bu(this,Rt(this._delegate,e))}catch(t){throw Bc(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fc(this,function Dt(r,e){if(r=s(r,v),Lm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new pn(un.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Y(r,null,(t=e,new rl(br.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bc(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wy(r,e,t){r=s(r,cr);const c=Object.assign(Object.assign({},qd),t);return function(f){if(f.maxAttempts<1)throw new pn(un.INVALID_ARGUMENT,"Max attempts must be at least 1")}(c),function Pm(r,e,t){const c=new Kr;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const f=yield(y=r,kp(y).then(I=>I.datastore));var y;new Mm(r.asyncQueue,f,t,e,c).run()})),c.promise}(ro(r),f=>e(new by(r,f)),c)}(this._delegate,t=>e(new Ay(this,t)))}batch(){return ro(this._delegate),new Ny(new Lu(this._delegate,e=>Dh(this._delegate,e)))}loadBundle(e){return function qg(r,e){const t=ro(r=s(r,cr)),c=new wr;return function qf(r,e,t,c){const f=function(y,I){let U;return U="string"==typeof y?(new TextEncoder).encode(y):y,re=function(re,pe){if(re instanceof Uint8Array)return qh(re,void 0);if(re instanceof ArrayBuffer)return qh(new Uint8Array(re),void 0);if(re instanceof ReadableStream)return re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new ry(re,I);var re}(t,hc(e));r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function g_(r,e,t){const c=Xn(r);var f;(f=(0,ve.Z)(function*(y,I,U){try{const re=yield I.getMetadata();if(yield function(Xt,In){const xn=Xn(Xt),ui=oa(In.createTime);return xn.persistence.runTransaction("hasNewerBundle","readonly",Vi=>xn.Ns.getBundleMetadata(Vi,In.id)).then(Vi=>!!Vi&&Vi.createTime.compareTo(ui)>=0)}(y.localStore,re))return yield I.close(),U._completeWith({taskState:"Success",documentsLoaded:(Xt=re).totalDocuments,bytesLoaded:Xt.totalBytes,totalDocuments:Xt.totalDocuments,totalBytes:Xt.totalBytes}),Promise.resolve(new Set);U._updateProgress(Cm(re));const pe=new Sg(re,y.localStore,I.It);let Le=yield I.wc();for(;Le;){const Xt=yield pe.Ou(Le);Xt&&U._updateProgress(Xt),Le=yield I.wc()}const yt=yield pe.complete();return yield pu(y,yt.Bu,void 0),yield function(Xt,In){const xn=Xn(Xt);return xn.persistence.runTransaction("Save bundle","readwrite",ui=>xn.Ns.saveBundleMetadata(ui,In))}(y.localStore,re),U._completeWith(yt.progress),Promise.resolve(yt.$u)}catch(re){return Fo("SyncEngine",`Loading bundle failed with ${re}`),U._failWith(re),Promise.resolve(new Set)}var Xt}),function(y,I,U){return f.apply(this,arguments)})(c,e,t).then(f=>{c.sharedClientState.notifyBundleLoaded(f)})}(yield Ou(r),f,c)}))}(t,r._databaseId,e,c),c}(this._delegate,e)}namedQuery(e){return function Wi(r,e){return function km(r,e){return r.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,c){const f=Xn(t);return f.persistence.runTransaction("Get named query","readonly",y=>f.Ns.getNamedQuery(y,c))}(yield Fp(r),e)}))}(ro(r=s(r,cr)),e).then(t=>t?new Y(r,null,t.query):null)}(this._delegate,e).then(t=>t?new fc(this,t):null)}}class Wm extends x_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xg(new Mo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bu.forKey(t,this.firestore,null)}}class Ay{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Wm(e)}get(e){const t=af(e);return this._delegate.get(t).then(c=>new em(this._firestore,new Yd(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,t.converter)))}set(e,t,c){const f=af(e);return c?($_("Transaction.set",c),this._delegate.set(f,t,c)):this._delegate.set(f,t),this}update(e,t,c,...f){const y=af(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,c,...f),this}delete(e){const t=af(e);return this._delegate.delete(t),this}}class Ny{constructor(e){this._delegate=e}set(e,t,c){const f=af(e);return c?($_("WriteBatch.set",c),this._delegate.set(f,t,c)):this._delegate.set(f,t),this}update(e,t,c,...f){const y=af(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,c,...f),this}delete(e){const t=af(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jf{constructor(e,t,c){this._firestore=e,this._userDataWriter=t,this._delegate=c}fromFirestore(e,t){const c=new $p(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hp(this._firestore,c),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const c=Jf.INSTANCES;let f=c.get(e);f||(f=new WeakMap,c.set(e,f));let y=f.get(t);return y||(y=new Jf(e,new Wm(e),t),f.set(t,y)),y}}Jf.INSTANCES=new WeakMap;class Bu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wm(e)}static forPath(e,t,c){if(e.length%2!=0)throw new pn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bu(t,new B(t._delegate,c,new ri(e)))}static forKey(e,t,c){return new Bu(t,new B(t._delegate,c,e))}get id(){return this._delegate.id}get parent(){return new Xf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xf(this.firestore,Re(this._delegate,e))}catch(t){throw Bc(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,me.m9)(e))instanceof B&&Jt(this._delegate,e)}set(e,t){t=$_("DocumentReference.set",t);try{return t?jp(this._delegate,e,t):jp(this._delegate,e)}catch(c){throw Bc(c,"setDoc()","DocumentReference.set()")}}update(e,t,...c){try{return 1===arguments.length?_y(this._delegate,e):_y(this._delegate,e,t,...c)}catch(f){throw Bc(f,"updateDoc()","DocumentReference.update()")}}delete(){return function yy(r){return Dh(s(r.firestore,cr),[new Ju(r._key,ao.none())])}(this._delegate)}onSnapshot(...e){const t=My(e),c=xy(e,f=>new em(this.firestore,new Yd(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)));return R_(this._delegate,t,c)}get(e){let t;return t="cache"===e?.source?function iv(r){r=s(r,B);const e=s(r.firestore,cr),t=ro(e),c=new sf(e);return function m_(r,e){const t=new Kr;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(c=(0,ve.Z)(function*(f,y,I){try{const U=yield function(re,pe){const Le=Xn(re);return Le.persistence.runTransaction("read document","readonly",yt=>Le.localDocuments.getDocument(yt,pe))}(f,y);U.isFoundDocument()?I.resolve(U):U.isNoDocument()?I.resolve(null):I.reject(new pn(un.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const re=Dp(U,`Failed to get document '${y} from cache`);I.reject(re)}}),function(f,y,I){return c.apply(this,arguments)})(yield Fp(r),e,t);var c})),t.promise}(t,r._key).then(f=>new Yd(e,c,r._key,f,new nf(null!==f&&f.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function rv(r){r=s(r,B);const e=s(r.firestore,cr);return Rm(ro(e),r._key,{source:"server"}).then(t=>P_(e,r,t))}(this._delegate):function my(r){r=s(r,B);const e=s(r.firestore,cr);return Rm(ro(e),r._key).then(t=>P_(e,r,t))}(this._delegate),t.then(c=>new em(this.firestore,new Yd(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(e){return new Bu(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}function Bc(r,e,t){return r.message=r.message.replace(e,t),r}function My(r){for(const e of r)if("object"==typeof e&&!V_(e))return e;return{}}function xy(r,e){var t,c;let f;return f=V_(r[0])?r[0]:V_(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:y=>{f.next&&f.next(e(y))},error:null===(t=f.error)||void 0===t?void 0:t.bind(f),complete:null===(c=f.complete)||void 0===c?void 0:c.bind(f)}}class em{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uy(this._delegate,e._delegate)}}class Hp extends em{data(e){const t=this._delegate.data(e);return function mo(r,e){r||ii()}(void 0!==t),t}}class fc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wm(e)}where(e,t,c){try{return new fc(this.firestore,rf(this._delegate,function hy(r,e,t){const c=e,f=Qg("where",r);return new Cl(f,c,t)}(e,t,c)))}catch(f){throw Bc(f,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fc(this.firestore,rf(this._delegate,function Jy(r,e="asc"){const t=e,c=Qg("orderBy",r);return new Qy(c,t)}(e,t)))}catch(c){throw Bc(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fc(this.firestore,rf(this._delegate,function Xy(r){return a("limit",r),new A_("limit",r,"F")}(e)))}catch(t){throw Bc(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fc(this.firestore,rf(this._delegate,function fy(r){return a("limitToLast",r),new A_("limitToLast",r,"L")}(e)))}catch(t){throw Bc(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fc(this.firestore,rf(this._delegate,function Up(...r){return new N_("startAt",r,!0)}(...e)))}catch(t){throw Bc(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fc(this.firestore,rf(this._delegate,function ev(...r){return new N_("startAfter",r,!1)}(...e)))}catch(t){throw Bc(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fc(this.firestore,rf(this._delegate,function gy(...r){return new py("endBefore",r,!1)}(...e)))}catch(t){throw Bc(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fc(this.firestore,rf(this._delegate,function tv(...r){return new py("endAt",r,!0)}(...e)))}catch(t){throw Bc(t,"endAt()","Query.endAt()")}}isEqual(e){return Dn(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function ov(r){r=s(r,Y);const e=s(r.firestore,cr),t=ro(e),c=new sf(e);return function __(r,e){const t=new Kr;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(c=(0,ve.Z)(function*(f,y,I){try{const U=yield mp(f,y,!0),re=new Np(y,U.Hi),pe=re.ju(U.documents),Le=re.applyChanges(pe,!1);I.resolve(Le.snapshot)}catch(U){const re=Dp(U,`Failed to execute query '${y} against cache`);I.reject(re)}}),function(f,y,I){return c.apply(this,arguments)})(yield Fp(r),e,t);var c})),t.promise}(t,r._query).then(f=>new Ch(e,c,r,f))}(this._delegate):"server"===e?.source?function O_(r){r=s(r,Y);const e=s(r.firestore,cr),t=ro(e),c=new sf(e);return zg(t,r._query,{source:"server"}).then(f=>new Ch(e,c,r,f))}(this._delegate):function sv(r){r=s(r,Y);const e=s(r.firestore,cr),t=ro(e),c=new sf(e);return dy(r._query),zg(t,r._query).then(f=>new Ch(e,c,r,f))}(this._delegate),t.then(c=>new zm(this.firestore,new Ch(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...e){const t=My(e),c=xy(e,f=>new zm(this.firestore,new Ch(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)));return R_(this._delegate,t,c)}withConverter(e){return new fc(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}class Oy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Hp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Oy(this._firestore,t))}forEach(e,t){this._delegate.forEach(c=>{e.call(t,new Hp(this._firestore,c))})}isEqual(e){return uy(this._delegate,e._delegate)}}class Xf extends fc{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bu(this.firestore,e):null}doc(e){try{return new Bu(this.firestore,void 0===e?Rt(this._delegate):Rt(this._delegate,e))}catch(t){throw Bc(t,"doc()","CollectionReference.doc()")}}add(e){return function av(r,e){const t=s(r.firestore,cr),c=Rt(r),f=Jg(r.converter,e);return Dh(t,[Fu(Ma(r.firestore),"addDoc",c._key,f,null!==r.converter,{}).toMutation(c._key,ao.exists(!1))]).then(()=>c)}(this._delegate,e).then(t=>new Bu(this.firestore,t))}isEqual(e){return Jt(this._delegate,e._delegate)}withConverter(e){return new Xf(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}function af(r){return s(r,B)}class Km{constructor(...e){this._delegate=new or(...e)}static documentId(){return new Km(Ys.keyField().canonicalString())}isEqual(e){return(e=(0,me.m9)(e))instanceof or&&this._delegate._internalPath.isEqual(e._internalPath)}}class lf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Gm(){return new Zg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new lf(e)}static delete(){const e=function k_(){return new gd("deleteField")}();return e._methodName="FieldValue.delete",new lf(e)}static arrayUnion(...e){const t=function F_(...r){return new oy("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new lf(t)}static arrayRemove(...e){const t=function L_(...r){return new ay("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new lf(t)}static increment(e){const t=function Ey(r){return new w_("increment",r)}(e);return t._methodName="FieldValue.increment",new lf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ry={Firestore:Sy,GeoPoint:ul,Timestamp:ns,Blob:Xg,Transaction:Ay,WriteBatch:Ny,DocumentReference:Bu,DocumentSnapshot:em,Query:fc,QueryDocumentSnapshot:Hp,QuerySnapshot:zm,CollectionReference:Xf,FieldPath:Km,FieldValue:lf,setLogLevel:function hv(r){!function za(r){Wa.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function Py(r){(function U_(r,e){r.INTERNAL.registerComponent(new ue.wA("firestore-compat",t=>{const c=t.getProvider("app-compat").getImmediate(),f=t.getProvider("firestore").getImmediate();return e(c,f)},"PUBLIC").setServiceProps(Object.assign({},Ry)))})(r,(e,t)=>new Sy(e,t,new dv)),r.registerVersion("@firebase/firestore-compat","0.1.25")}(Ee.Z);var Zc=L(4941),fv=L(440);function pv(r,e){return function Gp(r,e=he.z){return new oe.y(t=>{let c;return null!=e?e.schedule(()=>{c=r.onSnapshot({includeMetadataChanges:!0},t)}):c=r.onSnapshot({includeMetadataChanges:!0},t),()=>{c?.()}})}(r,e)}function ky(r,e){return pv(r,e).pipe((0,de.U)(t=>({payload:t,type:"query"})))}function tm(r,e){return ky(r,e).pipe((0,ft.O)(void 0),Be(),(0,de.U)(([t,c])=>{const f=c.payload.docChanges(),y=f.map(I=>({type:I.type,payload:I}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((I,U)=>{const re=f.find(Le=>Le.doc.ref.isEqual(I.ref)),pe=t?.payload.docs.find(Le=>Le.ref.isEqual(I.ref));re&&JSON.stringify(re.doc.metadata)===JSON.stringify(I.metadata)||!re&&pe&&JSON.stringify(pe.metadata)===JSON.stringify(I.metadata)||y.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:I}})}),y}))}function H_(r,e,t){return tm(r,t).pipe((0,vt.R)((c,f)=>function u0(r,e,t){return e.forEach(c=>{t.indexOf(c.type)>-1&&(r=function gv(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Dr(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Dr(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Dr(r,e.oldIndex,1)}return r}(r,c))}),r}(c,f.map(y=>y.payload),e),[]),(0,Et.x)(),(0,de.U)(c=>c.map(f=>({type:f.type,payload:f}))))}function Dr(r,e,t,...c){const f=r.slice();return f.splice(e,t,...c),f}function Fy(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}L(127);class Ly{constructor(e,t,c){this.ref=e,this.query=t,this.afs=c}stateChanges(e){let t=tm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,de.U)(c=>c.filter(f=>e.indexOf(f.type)>-1)))),t.pipe((0,ft.O)(void 0),Be(),(0,Qe.h)(([c,f])=>f.length>0||!c),(0,de.U)(([c,f])=>f),je.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,vt.R)((t,c)=>[...t,...c],[]))}snapshotChanges(e){const t=Fy(e);return H_(this.query,t,this.afs.schedulers.outsideAngular).pipe(je.iC)}valueChanges(e={}){return ky(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.payload.docs.map(c=>e.idField?Object.assign(Object.assign({},c.data()),{[e.idField]:c.id}):c.data())),je.iC)}get(e){return(0,fe.D)(this.query.get(e)).pipe(je.iC)}add(e){return this.ref.add(e)}doc(e){return new ep(this.ref.doc(e),this.afs)}}class ep{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const c=this.ref.collection(e),{ref:f,query:y}=G_(c,t);return new Ly(f,y,this.afs)}snapshotChanges(){return function j_(r,e){return pv(r,e).pipe((0,ft.O)(void 0),Be(),(0,de.U)(([t,c])=>c.exists?t?.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(je.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,de.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fe.D)(this.ref.get(e)).pipe(je.iC)}}class mv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?tm(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.filter(c=>e.indexOf(c.type)>-1)),(0,Qe.h)(t=>t.length>0),je.iC):tm(this.query,this.afs.schedulers.outsideAngular).pipe(je.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,vt.R)((t,c)=>[...t,...c],[]))}snapshotChanges(e){const t=Fy(e);return H_(this.query,t,this.afs.schedulers.outsideAngular).pipe(je.iC)}valueChanges(e={}){return ky(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(c=>c.payload.docs.map(f=>e.idField?Object.assign({[e.idField]:f.id},f.data()):f.data())),je.iC)}get(e){return(0,fe.D)(this.query.get(e)).pipe(je.iC)}}const Ym=new ge.OlP("angularfire2.enableFirestorePersistence"),qm=new ge.OlP("angularfire2.firestore.persistenceSettings"),$a=new ge.OlP("angularfire2.firestore.settings"),d0=new ge.OlP("angularfire2.firestore.use-emulator");function G_(r,e=(t=>t)){return{query:e(r),ref:r}}let By=(()=>{class r{constructor(t,c,f,y,I,U,re,pe,Le,yt,Xt,In,xn,ui,Vi,Hs,Uo){this.schedulers=re;const co=(0,We.on)(t,U,c),ga=Le;yt&&(0,Zc.nw)(co,U,Xt,xn,ui,Vi,In,Hs),[this.firestore,this.persistenceEnabled$]=(0,We.cc)(`${co.name}.firestore`,"AngularFirestore",co.name,()=>{const Js=U.runOutsideAngular(()=>co.firestore());if(y&&Js.settings(y),ga&&Js.useEmulator(...ga),f&&!(0,ke.PM)(I)){const uo=()=>{try{return(0,fe.D)(Js.enablePersistence(pe||void 0).then(()=>!0,()=>!1))}catch(Dl){return typeof console<"u"&&console.warn(Dl),(0,ye.of)(!1)}};return[Js,U.runOutsideAngular(uo)]}return[Js,(0,ye.of)(!1)]},[y,ga,f])}collection(t,c){let f;f="string"==typeof t?this.firestore.collection(t):t;const{ref:y,query:I}=G_(f,c),U=this.schedulers.ngZone.run(()=>y);return new Ly(U,I,this)}collectionGroup(t,c){const f=c||(I=>I),y=this.firestore.collectionGroup(t);return new mv(f(y),this)}doc(t){let c;c="string"==typeof t?this.firestore.doc(t):t;const f=this.schedulers.ngZone.run(()=>c);return new ep(f,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(ge.LFG(We.Dh),ge.LFG(We.xv,8),ge.LFG(Ym,8),ge.LFG($a,8),ge.LFG(ge.Lbi),ge.LFG(ge.R0b),ge.LFG(je.HU),ge.LFG(qm,8),ge.LFG(d0,8),ge.LFG(Zc.zQ,8),ge.LFG(Zc.Qv,8),ge.LFG(Zc.L6,8),ge.LFG(Zc._Q,8),ge.LFG(Zc.rT,8),ge.LFG(Zc.lh,8),ge.LFG(Zc.f7,8),ge.LFG(fv.nm,8))},r.\u0275prov=ge.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),$y=(()=>{class r{constructor(t,c,f){this.http=t,this.storage=c,this.db=f,this.baseUri=_e.N.baseUrl,this.filesArray=[],this.filterVallue=new o.X("null"),this.productDetails=new q.xQ,this.productData=new o.X(null),this.producDataForHome=new o.X(null),this.headers=(new Fe.WM).set("Content-Type","application/json")}getProductById(t){return this.http.get(`${this.baseUri}/gallery/getFileById/${t}`).pipe((0,ie.K)(this.errorMgmt))}addProduct(t){return this.http.post(`${this.baseUri}/product/add-product`,t).pipe((0,ie.K)(this.errorMgmt))}getProduct(){this.http.get(`${this.baseUri}/product/get-product`).subscribe(t=>{this.productData.next(t)})}getProductForHome(){return this.http.get(`${this.baseUri}/product/get-product`)}deleteProduct(t){const c=new Fe.WM;return this.http.delete(`${this.baseUri}/product/deleteProduct/${t}`,{headers:c}).pipe((0,ie.K)(this.errorMgmt))}updateProduct(t,c){return this.http.put(`${this.baseUri}/product/updateProduct/${t}`,c,{headers:this.headers}).pipe((0,ie.K)(this.errorMgmt))}getGalleryByQuery(t){let f=new Fe.LE({fromObject:{siteName:t.siteName,location:t.location}});return this.http.get(`${this.baseUri}/gallery/getfileByQuery`,{headers:this.headers,params:f}).pipe((0,de.U)(I=>I),(0,ie.K)(this.errorMgmt))}errorMgmt(t){let c="";return c=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(c),(0,Q._)(c)}createGallery(t,c){let f=`${this.baseUri}/gallery/add-gallery-mid`;var y=[];let I,U=[];return y.push(c),y.length>0&&y[0].forEach((pe,Le)=>{I=`gallery/${y[0][Le].name}`,this.storage.ref(I),this.task=this.storage.upload(I,y[0][Le]),U.push(`gallery/${y[0][Le].name}`)}),this.http.post(f,{siteName:t.siteName,location:t.location,firebaseArr:U}).pipe((0,ie.K)(this.errorMgmt))}}return r.\u0275fac=function(t){return new(t||r)(ge.LFG(Fe.eN),ge.LFG(Se.Q1),ge.LFG(By))},r.\u0275prov=ge.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},9089:(Sn,bt,L)=>{"use strict";L.d(bt,{K:()=>ge});var o=L(591),q=L(1737),Q=L(7221),Fe=L(4850),ie=L(529),de=L(2340),_e=L(4650);let ge=(()=>{class Se{constructor(oe){this.http=oe,this.baseUri=de.N.baseUrl,this.headers=(new ie.WM).set("Content-Type","application/json"),this.attendenceLength=new o.X(null)}createUser(oe){return this.http.post(`${this.baseUri}/users/register`,oe).pipe((0,Q.K)(this.errorMgmt))}getUser(){return this.http.get(`${this.baseUri}/users/getUser`)}getUserById(oe){return this.http.get(`${this.baseUri}/users/get-user-by-id/${oe}`,{headers:this.headers}).pipe((0,Fe.U)(ye=>ye),(0,Q.K)(this.errorMgmt))}updateUser(oe,fe){return this.http.put(`${this.baseUri}/users/updateUser/${oe}`,fe,{headers:this.headers}).pipe((0,Q.K)(this.errorMgmt))}deleteUser(oe){return this.http.delete(`${this.baseUri}/users/deleteUser/${oe}`,{headers:this.headers}).pipe((0,Q.K)(this.errorMgmt))}errorMgmt(oe){let fe="";return fe=oe.error instanceof ErrorEvent?oe.error.message:`Error Code: ${oe.status}\nMessage: ${oe.message}`,console.log(fe),(0,q._)(fe)}}return Se.\u0275fac=function(oe){return new(oe||Se)(_e.LFG(ie.eN))},Se.\u0275prov=_e.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},2340:(Sn,bt,L)=>{"use strict";L.d(bt,{N:()=>o});const o={production:!0,baseUrl:"https://ecommerce-backend-iota.vercel.app/api/v1",firebase:{apiKey:"AIzaSyD728SAce7MxlhayIhChtdlZuUfZaFDelE",authDomain:"rasanwala-85a77.firebaseapp.com",projectId:"rasanwala-85a77",storageBucket:"rasanwala-85a77.appspot.com",messagingSenderId:"164917342440",appId:"1:164917342440:web:fefe634fa7081e0356195d",measurementId:"G-FZLRDLD7SC"}}},8998:(Sn,bt,L)=>{"use strict";var o=L(1481),q=L(4650),Q=L(1808),Fe=L(6895),ie=L(4130),de=L(191),_e=L(529),ge=L(2662);const he=[{path:"product-list",component:L(7214).L},{path:"",loadChildren:()=>Promise.all([L.e(8592),L.e(9497)]).then(L.bind(L,9497)).then(u=>u.TabsPageModule)},{path:"home",loadChildren:()=>L.e(2782).then(L.bind(L,8504)).then(u=>u.HomePageModule)},{path:"cart",loadChildren:()=>Promise.all([L.e(5213),L.e(8592)]).then(L.bind(L,5213)).then(u=>u.CartPageModule),canActivate:[ge.a]},{path:"prooduct-details",loadChildren:()=>L.e(369).then(L.bind(L,369)).then(u=>u.ProoductDetailsPageModule)},{path:"camera",loadChildren:()=>L.e(2886).then(L.bind(L,2886)).then(u=>u.CameraPageModule),canActivate:[ge.a]},{path:"todo-list",loadChildren:()=>Promise.all([L.e(5226),L.e(7492)]).then(L.bind(L,7492)).then(u=>u.TodoListPageModule),canActivate:[ge.a]},{path:"menu",loadChildren:()=>L.e(7933).then(L.bind(L,7933)).then(u=>u.MenuPageModule),canActivate:[ge.a]},{path:"vendor-product",loadChildren:()=>L.e(4189).then(L.bind(L,4189)).then(u=>u.VendorProductPageModule),canActivate:[ge.a]},{path:"user",loadChildren:()=>L.e(2660).then(L.bind(L,2660)).then(u=>u.UserPageModule)},{path:"prouduct-track",loadChildren:()=>Promise.all([L.e(7670),L.e(4006)]).then(L.bind(L,4006)).then(u=>u.ProuductTrackPageModule)},{path:"product-update-page",loadChildren:()=>L.e(6517).then(L.bind(L,179)).then(u=>u.ProductUpdatePagePageModule)},{path:"delete",loadChildren:()=>Promise.all([L.e(7670),L.e(4773)]).then(L.bind(L,4773)).then(u=>u.DeletePageModule),canActivate:[ge.a]},{path:"login",loadChildren:()=>L.e(4987).then(L.bind(L,4987)).then(u=>u.LoginPageModule)},{path:"user-delivery",loadChildren:()=>L.e(1151).then(L.bind(L,1151)).then(u=>u.UserDeliveryPageModule),canActivate:[ge.a]},{path:"checkout",loadChildren:()=>Promise.all([L.e(5226),L.e(8592),L.e(4176)]).then(L.bind(L,4176)).then(u=>u.CheckoutPageModule),canActivate:[ge.a]},{path:"order-tracking",loadChildren:()=>L.e(7126).then(L.bind(L,7126)).then(u=>u.OrderTrackingPageModule)},{path:"order-delivered",loadChildren:()=>L.e(5330).then(L.bind(L,5330)).then(u=>u.OrderDeliveredPageModule)}];let oe=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=q.oAB({type:u}),u.\u0275inj=q.cJS({imports:[Q.Bz.forRoot(he,{preloadingStrategy:Q.wm,onSameUrlNavigation:"reload"}),Q.Bz]}),u})();var fe=L(6738);const ft=(0,L(7423).fo)("App",{web:()=>L.e(4477).then(L.bind(L,4477)).then(u=>new u.AppWeb)});var Ve=L(9463),Be=L(9089),Ge=L(8806);function Lt(u,s){if(1&u&&(q.TgZ(0,"ion-menu-toggle",7)(1,"ion-item",8),q._UZ(2,"ion-icon",9),q._uU(3),q.qZA()()),2&u){const a=s.$implicit,h=q.oxw();q.xp6(1),q.ekj("active-item",h.selectedPath===a.url),q.Q6J("routerLink",a.url),q.xp6(1),q.Q6J("name",a.icon),q.xp6(1),q.hij("\xa0\xa0 ",a.title," ")}}let vt=(()=>{class u{constructor(a,h,v,N,B){this.router=a,this._location=h,this.prodSer=v,this.userSer=N,this.cameraSer=B,this.pages=[{title:"My Orders",url:"tabs/tab3",icon:"bag-handle-outline"},{title:"My Cart",url:"tabs/cart",icon:"cart-outline"},{title:"To-Do History",url:"tabs/to-do/todohistory",icon:"logo-buffer"},{title:"Add Product",url:"/tabs/vendor-product",icon:"create"},{title:"Product Track",url:"/tabs/product-track",icon:"cog"}],this.selectedPath="",window,(0,fe.a)().then(()=>{(0,fe.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[32,"keyup","handleBackdropKeyUp"]]]]]],undefined)}),this.router.events.subscribe(Y=>{this.selectedPath=Y.url}),ft.addListener("backButton",()=>{this._location.isCurrentPathEqualTo("/home")?navigator.app.exitApp():this._location.back()})}ngOnInit(){this.prodSer.productData.subscribe(a=>{a||this.prodSer.getProduct()}),this.cameraSer.getCameraByIdforcamera()}}return u.\u0275fac=function(a){return new(a||u)(q.Y36(Q.F0),q.Y36(Fe.Ye),q.Y36(Ve.M),q.Y36(Be.K),q.Y36(Ge.y))},u.\u0275cmp=q.Xpm({type:u,selectors:[["app-root"]],decls:9,vars:1,consts:[["side","start","contentId","app-content"],["id","sideBar"],[1,"header"],[1,"logo-img"],["src","../../assets/img/login-logo-1.png"],["contentId","content","auto-hide","false",4,"ngFor","ngForOf"],["id","app-content"],["contentId","content","auto-hide","false"],["routerDirection","root",1,"item-name",3,"routerLink"],["color","danger",3,"name"]],template:function(a,h){1&a&&(q.TgZ(0,"ion-app")(1,"ion-menu",0)(2,"ion-content",1)(3,"ion-list")(4,"div",2)(5,"div",3),q._UZ(6,"img",4),q.qZA()(),q.YNc(7,Lt,4,5,"ion-menu-toggle",5),q.qZA()()(),q._UZ(8,"ion-router-outlet",6),q.qZA()),2&a&&(q.xp6(7),q.Q6J("ngForOf",h.pages))},dependencies:[Fe.sg,de.dr,de.W2,de.gu,de.Ie,de.q_,de.z0,de.zc,de.jP,de.YI,Q.rH],styles:[".bar-button-default[_ngcontent-%COMP%], .bar-button-clear-default[_ngcontent-%COMP%], .bar-button-default[_ngcontent-%COMP%]{color:#fff;background-color:transparent}.toolbar-background-ios[_ngcontent-%COMP%]{border:0}a[_ngcontent-%COMP%]{color:inherit}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.cart-icon-nav[_ngcontent-%COMP%]{position:absolute;right:12px;top:-3px}.carts[_ngcontent-%COMP%]{position:absolute;top:-3px;right:13px;border-radius:50%;height:20px;width:20px}ion-badge[_ngcontent-%COMP%]{display:inline-block;font-size:11px;padding-top:5px;padding-left:7px}.menu-badge[_ngcontent-%COMP%]{color:#fff;background-color:green;float:right;border-radius:50%;height:25px;width:25px;font-size:12px;padding-top:7px;padding-left:7px}.sidebar-menu[_ngcontent-%COMP%]{background-image:url(menu-bg.493fa5b1ddfa3166.jpg);background-position:center;background-repeat:no-repeat;background-size:cover}.sidebar-menu[_ngcontent-%COMP%]   .list-md[_ngcontent-%COMP%]{margin:24px 0 16px}.sidebar-menu[_ngcontent-%COMP%]   .menu-bg[_ngcontent-%COMP%]{height:115px;width:100%}.sidebar-menu[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item-block[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%], .sidebar-menu[_ngcontent-%COMP%]   .item.item-block[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom:0px}.sidebar-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background-color:transparent;color:#fff;height:3.5em;border-bottom:1px solid;border-color:#0003}.sidebar-menu[_ngcontent-%COMP%]   .img-name-row[_ngcontent-%COMP%]{text-align:center}.sidebar-menu[_ngcontent-%COMP%]   .img-name-row[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{max-width:100%;height:7em;width:7em;border:3px solidwhite;border-radius:50%;margin-top:24px}.sidebar-menu[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#fff;font-size:2rem;text-align:center}.toolbar-background[_ngcontent-%COMP%]{background:green!important}.toolbar-title[_ngcontent-%COMP%]{color:#fff}.header-btn-cart[_ngcontent-%COMP%]{margin:0 10px!important}.active-item[_ngcontent-%COMP%]{border-left:8px solid var(--ion-color-warning)}.my-custom-menu[_ngcontent-%COMP%]{--width: 500px}.list-md-lines-none[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{--border-width: 1px;--inner-border-width:1px}.header[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);height:44px;color:#fff;font-size:18px;font-weight:600;padding:11px}body.swal2-height-auto[_ngcontent-%COMP%]{height:100%!important}.item-name[_ngcontent-%COMP%]{font-size:12px}ion-icon[_ngcontent-%COMP%]{font-size:15px}"]}),u})();var Et=L(2340),Qe=L(2011),We=L(4941),ke=L(4586),tt=L(353),Ee=L(6498),ve=L(1086),Ie=L(6787),ue=L(4850),Ce=L(2474),me=L(7545),At=L(2014),St=L(5778),Mt=L(7168),mt=L(3489);class Ye{constructor(s){this.predicate=s}call(s,a){return a.subscribe(new at(s,this.predicate))}}class at extends mt.L{constructor(s,a){super(s),this.predicate=a,this.skipping=!0,this.index=0}_next(s){const a=this.destination;this.skipping&&this.tryCallPredicate(s),this.skipping||a.next(s)}tryCallPredicate(s){try{const a=this.predicate(s,this.index++);this.skipping=Boolean(a)}catch(a){this.destination.error(a)}}}var ht=L(6351),$t=(L(2476),L(3942)),En=L(4859),Ut=L(5861),bn=L(9681),Te=L(2090),Cn=L(1877);const Zn="@firebase/database";let yi="";function Er(u){yi=u}class $n{constructor(s){this.domStorage_=s,this.prefix_="firebase:"}set(s,a){null==a?this.domStorage_.removeItem(this.prefixedName_(s)):this.domStorage_.setItem(this.prefixedName_(s),(0,Te.Pz)(a))}get(s){const a=this.domStorage_.getItem(this.prefixedName_(s));return null==a?null:(0,Te.cI)(a)}remove(s){this.domStorage_.removeItem(this.prefixedName_(s))}prefixedName_(s){return this.prefix_+s}toString(){return this.domStorage_.toString()}}class ei{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(s,a){null==a?delete this.cache_[s]:this.cache_[s]=a}get(s){return(0,Te.r3)(this.cache_,s)?this.cache_[s]:null}remove(s){delete this.cache_[s]}}const sn=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const s=window[u];return s.setItem("firebase:sentinel","cache"),s.removeItem("firebase:sentinel"),new $n(s)}}catch{}return new ei},dn=sn("localStorage"),Ni=sn("sessionStorage"),xi=new Cn.Yd("@firebase/database"),Kn=function(){let u=1;return function(){return u++}}(),mi=function(u){const s=(0,Te.dS)(u),a=new Te.gQ;a.update(s);const h=a.digest();return Te.US.encodeByteArray(h)},vi=function(...u){let s="";for(let a=0;a<u.length;a++){const h=u[a];Array.isArray(h)||h&&"object"==typeof h&&"number"==typeof h.length?s+=vi.apply(null,h):s+="object"==typeof h?(0,Te.Pz)(h):h,s+=" "}return s};let Di=null,zt=!0;const ot=function(u,s){(0,Te.hu)(!s||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(xi.logLevel=Cn.in.VERBOSE,Di=xi.log.bind(xi),s&&Ni.set("logging_enabled",!0)):"function"==typeof u?Di=u:(Di=null,Ni.remove("logging_enabled"))},He=function(...u){if(!0===zt&&(zt=!1,null===Di&&!0===Ni.get("logging_enabled")&&ot(!0)),Di){const s=vi.apply(null,u);Di(s)}},Ot=function(u){return function(...s){He(u,...s)}},jt=function(...u){const s="FIREBASE INTERNAL ERROR: "+vi(...u);xi.error(s)},Tn=function(...u){const s=`FIREBASE FATAL ERROR: ${vi(...u)}`;throw xi.error(s),new Error(s)},Bn=function(...u){const s="FIREBASE WARNING: "+vi(...u);xi.warn(s)},mn=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},Nn="[MIN_NAME]",Pi="[MAX_NAME]",ci=function(u,s){if(u===s)return 0;if(u===Nn||s===Pi)return-1;if(s===Nn||u===Pi)return 1;{const a=Hn(u),h=Hn(s);return null!==a?null!==h?a-h==0?u.length-s.length:a-h:-1:null!==h?1:u<s?-1:1}},ct=function(u,s){return u===s?0:u<s?-1:1},nt=function(u,s){if(s&&u in s)return s[u];throw new Error("Missing required key ("+u+") in object: "+(0,Te.Pz)(s))},Xe=function(u){if("object"!=typeof u||null===u)return(0,Te.Pz)(u);const s=[];for(const h in u)s.push(h);s.sort();let a="{";for(let h=0;h<s.length;h++)0!==h&&(a+=","),a+=(0,Te.Pz)(s[h]),a+=":",a+=Xe(u[s[h]]);return a+="}",a},ut=function(u,s){const a=u.length;if(a<=s)return[u];const h=[];for(let v=0;v<a;v+=s)h.push(u.substring(v,v+s>a?a:v+s));return h};function rt(u,s){for(const a in u)u.hasOwnProperty(a)&&s(a,u[a])}const on=function(u){(0,Te.hu)(!mn(u),"Invalid JSON number");const h=1023;let v,N,B,Y,ce;0===u?(N=0,B=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-h)?(Y=Math.min(Math.floor(Math.log(u)/Math.LN2),h),N=Y+h,B=Math.round(u*Math.pow(2,52-Y)-Math.pow(2,52))):(N=0,B=Math.round(u/Math.pow(2,-1074))));const Re=[];for(ce=52;ce;ce-=1)Re.push(B%2?1:0),B=Math.floor(B/2);for(ce=11;ce;ce-=1)Re.push(N%2?1:0),N=Math.floor(N/2);Re.push(v?1:0),Re.reverse();const Dt=Re.join("");let Rt="";for(ce=0;ce<64;ce+=8){let Jt=parseInt(Dt.substr(ce,8),2).toString(16);1===Jt.length&&(Jt="0"+Jt),Rt+=Jt}return Rt.toLowerCase()},Oi=new RegExp("^-?(0*)\\d{1,10}$"),ki=-2147483648,pi=2147483647,Hn=function(u){if(Oi.test(u)){const s=Number(u);if(s>=ki&&s<=pi)return s}return null},Bi=function(u){try{u()}catch(s){setTimeout(()=>{throw Bn("Exception was thrown by user callback.",s.stack||""),s},Math.floor(0))}},mr=function(u,s){const a=setTimeout(u,s);return"number"==typeof a&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):"object"==typeof a&&a.unref&&a.unref(),a};class hr{constructor(s,a){this.appName_=s,this.appCheckProvider=a,this.appCheck=a?.getImmediate({optional:!0}),this.appCheck||a?.get().then(h=>this.appCheck=h)}getToken(s){return this.appCheck?this.appCheck.getToken(s):new Promise((a,h)=>{setTimeout(()=>{this.appCheck?this.getToken(s).then(a,h):a(null)},0)})}addTokenChangeListener(s){var a;null===(a=this.appCheckProvider)||void 0===a||a.get().then(h=>h.addTokenListener(s))}notifyForInvalidToken(){Bn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class fr{constructor(s,a,h){this.appName_=s,this.firebaseOptions_=a,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(v=>this.auth_=v)}getToken(s){return this.auth_?this.auth_.getToken(s).catch(a=>a&&"auth/token-not-initialized"===a.code?(He("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,h)=>{setTimeout(()=>{this.auth_?this.getToken(s).then(a,h):a(null)},0)})}addTokenChangeListener(s){this.auth_?this.auth_.addAuthTokenListener(s):this.authProvider_.get().then(a=>a.addAuthTokenListener(s))}removeTokenChangeListener(s){this.authProvider_.get().then(a=>a.removeAuthTokenListener(s))}notifyForInvalidToken(){let s='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';s+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bn(s)}}let lt=(()=>{class u{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const Ht=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tn="websocket",Gn="long_polling";class di{constructor(s,a,h,v,N=!1,B="",Y=!1){this.secure=a,this.namespace=h,this.webSocketOnly=v,this.nodeAdmin=N,this.persistenceKey=B,this.includeNamespaceInQueryParams=Y,this._host=s.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dn.get("host:"+s)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(s){s!==this.internalHost&&(this.internalHost=s,this.isCacheableHost()&&dn.set("host:"+this._host,this.internalHost))}toString(){let s=this.toURLString();return this.persistenceKey&&(s+="<"+this.persistenceKey+">"),s}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function bi(u,s,a){let h;if((0,Te.hu)("string"==typeof s,"typeof type must == string"),(0,Te.hu)("object"==typeof a,"typeof params must == object"),s===tn)h=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(s!==Gn)throw new Error("Unknown connection type: "+s);h=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function Mi(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(a.ns=u.namespace);const v=[];return rt(a,(N,B)=>{v.push(N+"="+B)}),h+v.join("&")}class Ri{constructor(){this.counters_={}}incrementCounter(s,a=1){(0,Te.r3)(this.counters_,s)||(this.counters_[s]=0),this.counters_[s]+=a}get(){return(0,Te.p$)(this.counters_)}}const Sr={},qr={};function Or(u){const s=u.toString();return Sr[s]||(Sr[s]=new Ri),Sr[s]}class ss{constructor(s){this.onMessage_=s,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(s,a){this.closeAfterResponse=s,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(s,a){for(this.pendingResponses[s]=a;this.pendingResponses[this.currentResponseNum];){const h=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let v=0;v<h.length;++v)h[v]&&Bi(()=>{this.onMessage_(h[v])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wn{constructor(s,a,h,v,N,B,Y){this.connId=s,this.repoInfo=a,this.applicationId=h,this.appCheckToken=v,this.authToken=N,this.transportSessionId=B,this.lastSessionId=Y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ot(s),this.stats_=Or(a),this.urlFn=ce=>(this.appCheckToken&&(ce.ac=this.appCheckToken),bi(a,Gn,ce))}open(s,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new ss(s),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,Te.Yr)()||"complete"===document.readyState)u();else{let s=!1;const a=function(){document.body?s||(s=!0,u()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _i((...N)=>{const[B,Y,ce,Re,Dt]=N;if(this.incrementIncomingBytes_(N),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===B)this.id=Y,this.password=ce;else{if("close"!==B)throw new Error("Unrecognized command received: "+B);Y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Y,()=>{this.onClosed_()})):this.onClosed_()}},(...N)=>{const[B,Y]=N;this.incrementIncomingBytes_(N),this.myPacketOrderer.handleResponse(B,Y)},()=>{this.onClosed_()},this.urlFn);const h={start:"t"};h.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(h.cb=this.scriptTagHolder.uniqueCallbackIdentifier),h.v="5",this.transportSessionId&&(h.s=this.transportSessionId),this.lastSessionId&&(h.ls=this.lastSessionId),this.applicationId&&(h.p=this.applicationId),this.appCheckToken&&(h.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Ht.test(location.hostname)&&(h.r="f");const v=this.urlFn(h);this.log_("Connecting via long-poll to "+v),this.scriptTagHolder.addTag(v,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wn.forceAllow_=!0}static forceDisallow(){Wn.forceDisallow_=!0}static isAvailable(){return!((0,Te.Yr)()||!Wn.forceAllow_&&(Wn.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(s){const a=(0,Te.Pz)(s);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const h=(0,Te.h$)(a),v=ut(h,1840);for(let N=0;N<v.length;N++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[N]),this.curSegmentNum++}addDisconnectPingFrame(s,a){if((0,Te.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const h={dframe:"t"};h.id=s,h.pw=a,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(s){const a=(0,Te.Pz)(s).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class _i{constructor(s,a,h,v){if(this.onDisconnect=h,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Te.Yr)())this.commandCB=s,this.onMessageCB=a;else{this.uniqueCallbackIdentifier=Kn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=s,window["pRTLPCB"+this.uniqueCallbackIdentifier]=a,this.myIFrame=_i.createIFrame_();let N="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(N='<script>document.domain="'+document.domain+'";<\/script>');const B="<html><body>"+N+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(B),this.myIFrame.doc.close()}catch(Y){He("frame writing exception"),Y.stack&&He(Y.stack),He(Y)}}}static createIFrame_(){const s=document.createElement("iframe");if(s.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(s);try{s.contentWindow.document||He("No IE domain setting required")}catch{const h=document.domain;s.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return s.contentDocument?s.doc=s.contentDocument:s.contentWindow?s.doc=s.contentWindow.document:s.document&&(s.doc=s.document),s}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const s=this.onDisconnect;s&&(this.onDisconnect=null,s())}startLongPoll(s,a){for(this.myID=s,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const s={};s.id=this.myID,s.pw=this.myPW,s.ser=this.currentSerial;let a=this.urlFn(s),h="",v=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){const B=this.pendingSegs.shift();h=h+"&seg"+v+"="+B.seg+"&ts"+v+"="+B.ts+"&d"+v+"="+B.d,v++}return a+=h,this.addLongPollTag_(a,this.currentSerial),!0}return!1}enqueueSegment(s,a,h){this.pendingSegs.push({seg:s,ts:a,d:h}),this.alive&&this.newRequest_()}addLongPollTag_(s,a){this.outstandingRequests.add(a);const h=()=>{this.outstandingRequests.delete(a),this.newRequest_()},v=setTimeout(h,Math.floor(25e3));this.addTag(s,()=>{clearTimeout(v),h()})}addTag(s,a){(0,Te.Yr)()?this.doNodeLongPoll(s,a):setTimeout(()=>{try{if(!this.sendNewPolls)return;const h=this.myIFrame.doc.createElement("script");h.type="text/javascript",h.async=!0,h.src=s,h.onload=h.onreadystatechange=function(){const v=h.readyState;(!v||"loaded"===v||"complete"===v)&&(h.onload=h.onreadystatechange=null,h.parentNode&&h.parentNode.removeChild(h),a())},h.onerror=()=>{He("Long-poll script failed to load: "+s),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(h)}catch{}},Math.floor(1))}}let Ir=null;typeof MozWebSocket<"u"?Ir=MozWebSocket:typeof WebSocket<"u"&&(Ir=WebSocket);let wt=(()=>{class u{constructor(a,h,v,N,B,Y,ce){this.connId=a,this.applicationId=v,this.appCheckToken=N,this.authToken=B,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ot(this.connId),this.stats_=Or(h),this.connURL=u.connectionURL_(h,Y,ce,N,v),this.nodeAdmin=h.nodeAdmin}static connectionURL_(a,h,v,N,B){const Y={v:"5"};return!(0,Te.Yr)()&&typeof location<"u"&&location.hostname&&Ht.test(location.hostname)&&(Y.r="f"),h&&(Y.s=h),v&&(Y.ls=v),N&&(Y.ac=N),B&&(Y.p=B),bi(a,tn,Y)}open(a,h){this.onDisconnect=h,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dn.set("previous_websocket_failure",!0);try{let v;if((0,Te.Yr)()){v={headers:{"User-Agent":`Firebase/5/${yi}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(v.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(v.headers["X-Firebase-AppCheck"]=this.appCheckToken);const B=process.env,Y=0===this.connURL.indexOf("wss://")?B.HTTPS_PROXY||B.https_proxy:B.HTTP_PROXY||B.http_proxy;Y&&(v.proxy={origin:Y})}this.mySock=new Ir(this.connURL,[],v)}catch(v){this.log_("Error instantiating WebSocket.");const N=v.message||v.data;return N&&this.log_(N),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=v=>{this.handleIncomingFrame(v)},this.mySock.onerror=v=>{this.log_("WebSocket error.  Closing connection.");const N=v.message||v.data;N&&this.log_(N),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let a=!1;if(typeof navigator<"u"&&navigator.userAgent){const v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(a=!0)}return!a&&null!==Ir&&!u.forceDisallow_}static previouslyFailed(){return dn.isInMemoryStorage||!0===dn.get("previous_websocket_failure")}markConnectionHealthy(){dn.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){const h=this.frames.join("");this.frames=null;const v=(0,Te.cI)(h);this.onMessage(v)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if((0,Te.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){const h=Number(a);if(!isNaN(h))return this.handleNewFrameCount_(h),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(null===this.mySock)return;const h=a.data;if(this.bytesReceived+=h.length,this.stats_.incrementCounter("bytes_received",h.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(h);else{const v=this.extractFrameCount_(h);null!==v&&this.appendFrame_(v)}}send(a){this.resetKeepAlive();const h=(0,Te.Pz)(a);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const v=ut(h,16384);v.length>1&&this.sendString_(String(v.length));for(let N=0;N<v.length;N++)this.sendString_(v[N])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(a){try{this.mySock.send(a)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Tt=(()=>{class u{constructor(a){this.initTransports_(a)}static get ALL_TRANSPORTS(){return[Wn,wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(a){const h=wt&&wt.isAvailable();let v=h&&!wt.previouslyFailed();if(a.webSocketOnly&&(h||Bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),v=!0),v)this.transports_=[wt];else{const N=this.transports_=[];for(const B of u.ALL_TRANSPORTS)B&&B.isAvailable()&&N.push(B);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class ma{constructor(s,a,h,v,N,B,Y,ce,Re,Dt){this.id=s,this.repoInfo_=a,this.applicationId_=h,this.appCheckToken_=v,this.authToken_=N,this.onMessage_=B,this.onReady_=Y,this.onDisconnect_=ce,this.onKill_=Re,this.lastSessionId=Dt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ot("c:"+this.id+":"),this.transportManager_=new Tt(a),this.log_("Connection created"),this.start_()}start_(){const s=this.transportManager_.initialTransport();this.conn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),h=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,h)},Math.floor(0));const v=s.healthyTimeout||0;v>0&&(this.healthyTimeout_=mr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(v)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(s){return a=>{s===this.conn_?this.onConnectionLost_(a):s===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(s){return a=>{2!==this.state_&&(s===this.rx_?this.onPrimaryMessageReceived_(a):s===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(s){this.sendData_({t:"d",d:s})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(s){if("t"in s){const a=s.t;"a"===a?this.upgradeIfSecondaryHealthy_():"r"===a?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===a&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(s){const a=nt("t",s),h=nt("d",s);if("c"===a)this.onSecondaryControl_(h);else{if("d"!==a)throw new Error("Unknown protocol layer: "+a);this.pendingDataMessages.push(h)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(s){const a=nt("t",s),h=nt("d",s);"c"===a?this.onControl_(h):"d"===a&&this.onDataMessage_(h)}onDataMessage_(s){this.onPrimaryResponse_(),this.onMessage_(s)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(s){const a=nt("t",s);if("d"in s){const h=s.d;if("h"===a)this.onHandshake_(h);else if("n"===a){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===a?this.onConnectionShutdown_(h):"r"===a?this.onReset_(h):"e"===a?jt("Server Error: "+h):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jt("Unknown control packet command: "+a)}}onHandshake_(s){const a=s.ts,h=s.v,v=s.h;this.sessionId=s.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==h&&Bn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const s=this.transportManager_.upgradeTransport();s&&this.startUpgrade_(s)}startUpgrade_(s){this.secondaryConn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),h=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,h),mr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(s){this.log_("Reset packet received.  New host: "+s),this.repoInfo_.host=s,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(s,a){this.log_("Realtime connection established."),this.conn_=s,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const s=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===s||this.rx_===s)&&this.close()}onConnectionLost_(s){this.conn_=null,s||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(s){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(s),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(s){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(s)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _s{put(s,a,h,v){}merge(s,a,h,v){}refreshAuthToken(s){}refreshAppCheckToken(s){}onDisconnectPut(s,a,h){}onDisconnectMerge(s,a,h){}onDisconnectCancel(s,a){}reportStats(s){}}class Ds{constructor(s){this.allowedEvents_=s,this.listeners_={},(0,Te.hu)(Array.isArray(s)&&s.length>0,"Requires a non-empty array")}trigger(s,...a){if(Array.isArray(this.listeners_[s])){const h=[...this.listeners_[s]];for(let v=0;v<h.length;v++)h[v].callback.apply(h[v].context,a)}}on(s,a,h){this.validateEventType_(s),this.listeners_[s]=this.listeners_[s]||[],this.listeners_[s].push({callback:a,context:h});const v=this.getInitialEvent(s);v&&a.apply(h,v)}off(s,a,h){this.validateEventType_(s);const v=this.listeners_[s]||[];for(let N=0;N<v.length;N++)if(v[N].callback===a&&(!h||h===v[N].context))return void v.splice(N,1)}validateEventType_(s){(0,Te.hu)(this.allowedEvents_.find(a=>a===s),"Unknown event: "+s)}}class ps extends Ds{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Te.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ps}getInitialEvent(s){return(0,Te.hu)("online"===s,"Unknown event type: "+s),[this.online_]}currentlyOnline(){return this.online_}}class Qi{constructor(s,a){if(void 0===a){this.pieces_=s.split("/");let h=0;for(let v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[h]=this.pieces_[v],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=s,this.pieceNum_=a}toString(){let s="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(s+="/"+this.pieces_[a]);return s||"/"}}function ar(){return new Qi("")}function Yi(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function As(u){return u.pieces_.length-u.pieceNum_}function ur(u){let s=u.pieceNum_;return s<u.pieces_.length&&s++,new Qi(u.pieces_,s)}function Is(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Bs(u,s=0){return u.pieces_.slice(u.pieceNum_+s)}function ca(u){if(u.pieceNum_>=u.pieces_.length)return null;const s=[];for(let a=u.pieceNum_;a<u.pieces_.length-1;a++)s.push(u.pieces_[a]);return new Qi(s,0)}function ir(u,s){const a=[];for(let h=u.pieceNum_;h<u.pieces_.length;h++)a.push(u.pieces_[h]);if(s instanceof Qi)for(let h=s.pieceNum_;h<s.pieces_.length;h++)a.push(s.pieces_[h]);else{const h=s.split("/");for(let v=0;v<h.length;v++)h[v].length>0&&a.push(h[v])}return new Qi(a,0)}function ji(u){return u.pieceNum_>=u.pieces_.length}function os(u,s){const a=Yi(u),h=Yi(s);if(null===a)return s;if(a===h)return os(ur(u),ur(s));throw new Error("INTERNAL ERROR: innerPath ("+s+") is not within outerPath ("+u+")")}function kr(u,s){const a=Bs(u,0),h=Bs(s,0);for(let v=0;v<a.length&&v<h.length;v++){const N=ci(a[v],h[v]);if(0!==N)return N}return a.length===h.length?0:a.length<h.length?-1:1}function ho(u,s){if(As(u)!==As(s))return!1;for(let a=u.pieceNum_,h=s.pieceNum_;a<=u.pieces_.length;a++,h++)if(u.pieces_[a]!==s.pieces_[h])return!1;return!0}function ys(u,s){let a=u.pieceNum_,h=s.pieceNum_;if(As(u)>As(s))return!1;for(;a<u.pieces_.length;){if(u.pieces_[a]!==s.pieces_[h])return!1;++a,++h}return!0}class fo{constructor(s,a){this.errorPrefix_=a,this.parts_=Bs(s,0),this.byteLength_=Math.max(1,this.parts_.length);for(let h=0;h<this.parts_.length;h++)this.byteLength_+=(0,Te.ug)(this.parts_[h]);io(this)}}function io(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Xr(u))}function Xr(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class Tr extends Ds{constructor(){let s,a;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",s="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",s="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",s="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",s="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const h=!document[s];h!==this.visible_&&(this.visible_=h,this.trigger("visible",h))},!1)}static getInstance(){return new Tr}getInitialEvent(s){return(0,Te.hu)("visible"===s,"Unknown event type: "+s),[this.visible_]}}const Ws=1e3;let xa,ls=(()=>{class u extends _s{constructor(a,h,v,N,B,Y,ce,Re){if(super(),this.repoInfo_=a,this.applicationId_=h,this.onDataUpdate_=v,this.onConnectStatus_=N,this.onServerInfoUpdate_=B,this.authTokenProvider_=Y,this.appCheckTokenProvider_=ce,this.authOverride_=Re,this.id=u.nextPersistentConnectionId_++,this.log_=Ot("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ws,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Re&&!(0,Te.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tr.getInstance().on("visible",this.onVisible_,this),-1===a.host.indexOf("fblocal")&&ps.getInstance().on("online",this.onOnline_,this)}sendRequest(a,h,v){const N=++this.requestNumber_,B={r:N,a,b:h};this.log_((0,Te.Pz)(B)),(0,Te.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(B),v&&(this.requestCBHash_[N]=v)}get(a){this.initConnection_();const h=new Te.BH,v={p:a._path.toString(),q:a._queryObject};return this.outstandingGets_.push({action:"g",request:v,onComplete:Y=>{const ce=Y.d;"ok"===Y.s?h.resolve(ce):h.reject(ce)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),h.promise}listen(a,h,v,N){this.initConnection_();const B=a._queryIdentifier,Y=a._path.toString();this.log_("Listen called for "+Y+" "+B),this.listens.has(Y)||this.listens.set(Y,new Map),(0,Te.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Te.hu)(!this.listens.get(Y).has(B),"listen() called twice for same path/queryId.");const ce={onComplete:N,hashFn:h,query:a,tag:v};this.listens.get(Y).set(B,ce),this.connected_&&this.sendListen_(ce)}sendGet_(a){const h=this.outstandingGets_[a];this.sendRequest("g",h.request,v=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),h.onComplete&&h.onComplete(v)})}sendListen_(a){const h=a.query,v=h._path.toString(),N=h._queryIdentifier;this.log_("Listen on "+v+" for "+N);const B={p:v};a.tag&&(B.q=h._queryObject,B.t=a.tag),B.h=a.hashFn(),this.sendRequest("q",B,ce=>{const Re=ce.d,Dt=ce.s;u.warnOnListenWarnings_(Re,h),(this.listens.get(v)&&this.listens.get(v).get(N))===a&&(this.log_("listen response",ce),"ok"!==Dt&&this.removeListen_(v,N),a.onComplete&&a.onComplete(Dt,Re))})}static warnOnListenWarnings_(a,h){if(a&&"object"==typeof a&&(0,Te.r3)(a,"w")){const v=(0,Te.DV)(a,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){const N='".indexOn": "'+h._queryParams.getIndex().toString()+'"',B=h._path.toString();Bn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${N} at ${B} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&40===a.length||(0,Te.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const a=this.authToken_,h=(0,Te.w9)(a)?"auth":"gauth",v={cred:a};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(h,v,N=>{const B=N.s,Y=N.d||"error";this.authToken_===a&&("ok"===B?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(B,Y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{const h=a.s,v=a.d||"error";"ok"===h?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(h,v)})}unlisten(a,h){const v=a._path.toString(),N=a._queryIdentifier;this.log_("Unlisten called for "+v+" "+N),(0,Te.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,N)&&this.connected_&&this.sendUnlisten_(v,N,a._queryObject,h)}sendUnlisten_(a,h,v,N){this.log_("Unlisten on "+a+" for "+h);const B={p:a};N&&(B.q=v,B.t=N),this.sendRequest("n",B)}onDisconnectPut(a,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,h,v):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:h,onComplete:v})}onDisconnectMerge(a,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,h,v):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:h,onComplete:v})}onDisconnectCancel(a,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,h):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:h})}sendOnDisconnect_(a,h,v,N){const B={p:h,d:v};this.log_("onDisconnect "+a,B),this.sendRequest(a,B,Y=>{N&&setTimeout(()=>{N(Y.s,Y.d)},Math.floor(0))})}put(a,h,v,N){this.putInternal("p",a,h,v,N)}merge(a,h,v,N){this.putInternal("m",a,h,v,N)}putInternal(a,h,v,N,B){this.initConnection_();const Y={p:h,d:v};void 0!==B&&(Y.h=B),this.outstandingPuts_.push({action:a,request:Y,onComplete:N}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)}sendPut_(a){const h=this.outstandingPuts_[a].action,v=this.outstandingPuts_[a].request,N=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(h,v,B=>{this.log_(h+" response",B),delete this.outstandingPuts_[a],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),N&&N(B.s,B.d)})}reportStats(a){if(this.connected_){const h={c:a};this.log_("reportStats",h),this.sendRequest("s",h,v=>{"ok"!==v.s&&this.log_("reportStats","Error sending stats: "+v.d)})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+(0,Te.Pz)(a));const h=a.r,v=this.requestCBHash_[h];v&&(delete this.requestCBHash_[h],v(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}onDataPush_(a,h){this.log_("handleServerMessage",a,h),"d"===a?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===a?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===a?this.onListenRevoked_(h.p,h.q):"ac"===a?this.onAuthRevoked_(h.s,h.d):"apc"===a?this.onAppCheckRevoked_(h.s,h.d):"sd"===a?this.onSecurityDebugPacket_(h):jt("Unrecognized action received from server: "+(0,Te.Pz)(a)+"\nAre you using the latest client?")}onReady_(a,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){(0,Te.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ws,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=Ws,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ws),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const a=(new Date).getTime()-this.lastConnectionAttemptTime_;let h=Math.max(0,this.reconnectDelay_-a);h=Math.random()*h,this.log_("Trying to reconnect in "+h+"ms"),this.scheduleConnect_(h),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var a=this;return(0,Ut.Z)(function*(){if(a.shouldReconnect_()){a.log_("Making a connection attempt"),a.lastConnectionAttemptTime_=(new Date).getTime(),a.lastConnectionEstablishedTime_=null;const h=a.onDataMessage_.bind(a),v=a.onReady_.bind(a),N=a.onRealtimeDisconnect_.bind(a),B=a.id+":"+u.nextConnectionId_++,Y=a.lastSessionId;let ce=!1,Re=null;const Dt=function(){Re?Re.close():(ce=!0,N())};a.realtime_={close:Dt,sendRequest:function(Dn){(0,Te.hu)(Re,"sendRequest call when we're not connected not allowed."),Re.sendRequest(Dn)}};const Jt=a.forceTokenRefresh_;a.forceTokenRefresh_=!1;try{const[Dn,Pn]=yield Promise.all([a.authTokenProvider_.getToken(Jt),a.appCheckTokenProvider_.getToken(Jt)]);ce?He("getToken() completed but was canceled"):(He("getToken() completed. Creating connection."),a.authToken_=Dn&&Dn.accessToken,a.appCheckToken_=Pn&&Pn.token,Re=new ma(B,a.repoInfo_,a.applicationId_,a.appCheckToken_,a.authToken_,h,v,N,oi=>{Bn(oi+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},Y))}catch(Dn){a.log_("Failed to get token: "+Dn),ce||(a.repoInfo_.nodeAdmin&&Bn(Dn),Dt())}}})()}interrupt(a){He("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){He("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,Te.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ws,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){const h=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){const h=this.outstandingPuts_[a];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(a,h){let v;v=h?h.map(B=>Xe(B)).join("$"):"default";const N=this.removeListen_(a,v);N&&N.onComplete&&N.onComplete("permission_denied")}removeListen_(a,h){const v=new Qi(a).toString();let N;if(this.listens.has(v)){const B=this.listens.get(v);N=B.get(h),B.delete(h),0===B.size&&this.listens.delete(v)}else N=void 0;return N}onAuthRevoked_(a,h){He("Auth token revoked: "+a+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,h){He("App check token revoked: "+a+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const a of this.listens.values())for(const h of a.values())this.sendListen_(h);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){const a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){const a={};let h="js";(0,Te.Yr)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+h+"."+yi.replace(/\./g,"-")]=1,(0,Te.uI)()?a["framework.cordova"]=1:(0,Te.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){const a=ps.getInstance().currentlyOnline();return(0,Te.xb)(this.interruptReasons_)&&a}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class _r{constructor(s,a){this.name=s,this.node=a}static Wrap(s,a){return new _r(s,a)}}class Ro{getCompare(){return this.compare.bind(this)}indexedValueChanged(s,a){const h=new _r(Nn,s),v=new _r(Nn,a);return 0!==this.compare(h,v)}minPost(){return _r.MIN}}class Ua extends Ro{static get __EMPTY_NODE(){return xa}static set __EMPTY_NODE(s){xa=s}compare(s,a){return ci(s.name,a.name)}isDefinedOn(s){throw(0,Te.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(s,a){return!1}minPost(){return _r.MIN}maxPost(){return new _r(Pi,xa)}makePost(s,a){return(0,Te.hu)("string"==typeof s,"KeyIndex indexValue must always be a string."),new _r(s,xa)}toString(){return".key"}}const cs=new Ua;class Vs{constructor(s,a,h,v,N=null){this.isReverse_=v,this.resultGenerator_=N,this.nodeStack_=[];let B=1;for(;!s.isEmpty();)if(B=a?h(s.key,a):1,v&&(B*=-1),B<0)s=this.isReverse_?s.left:s.right;else{if(0===B){this.nodeStack_.push(s);break}this.nodeStack_.push(s),s=this.isReverse_?s.right:s.left}}getNext(){if(0===this.nodeStack_.length)return null;let a,s=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value},this.isReverse_)for(s=s.left;!s.isEmpty();)this.nodeStack_.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack_.push(s),s=s.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const s=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value}}}let Z,zs=(()=>{class u{constructor(a,h,v,N,B){this.key=a,this.value=h,this.color=v??u.RED,this.left=N??S.EMPTY_NODE,this.right=B??S.EMPTY_NODE}copy(a,h,v,N,B){return new u(a??this.key,h??this.value,v??this.color,N??this.left,B??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,h,v){let N=this;const B=v(a,N.key);return N=B<0?N.copy(null,null,null,N.left.insert(a,h,v),null):0===B?N.copy(null,h,null,null,null):N.copy(null,null,null,null,N.right.insert(a,h,v)),N.fixUp_()}removeMin_(){if(this.left.isEmpty())return S.EMPTY_NODE;let a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.removeMin_(),null),a.fixUp_()}remove(a,h){let v,N;if(v=this,h(a,v.key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(a,h),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===h(a,v.key)){if(v.right.isEmpty())return S.EMPTY_NODE;N=v.right.min_(),v=v.copy(N.key,N.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(a,h))}return v.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=a.copy(null,null,null,null,a.right.rotateRight_()),a=a.rotateLeft_(),a=a.colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=a.rotateRight_(),a=a.colorFlip_()),a}rotateLeft_(){const a=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){const a=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){const a=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,h)}checkMaxDepth_(){const a=this.check_();return Math.pow(2,a)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class S{constructor(s,a=S.EMPTY_NODE){this.comparator_=s,this.root_=a}insert(s,a){return new S(this.comparator_,this.root_.insert(s,a,this.comparator_).copy(null,null,zs.BLACK,null,null))}remove(s){return new S(this.comparator_,this.root_.remove(s,this.comparator_).copy(null,null,zs.BLACK,null,null))}get(s){let a,h=this.root_;for(;!h.isEmpty();){if(a=this.comparator_(s,h.key),0===a)return h.value;a<0?h=h.left:a>0&&(h=h.right)}return null}getPredecessorKey(s){let a,h=this.root_,v=null;for(;!h.isEmpty();){if(a=this.comparator_(s,h.key),0===a){if(h.left.isEmpty())return v?v.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}a<0?h=h.left:a>0&&(v=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(s){return this.root_.inorderTraversal(s)}reverseTraversal(s){return this.root_.reverseTraversal(s)}getIterator(s){return new Vs(this.root_,null,this.comparator_,!1,s)}getIteratorFrom(s,a){return new Vs(this.root_,s,this.comparator_,!1,a)}getReverseIteratorFrom(s,a){return new Vs(this.root_,s,this.comparator_,!0,a)}getReverseIterator(s){return new Vs(this.root_,null,this.comparator_,!0,s)}}function X(u,s){return ci(u.name,s.name)}function M(u,s){return ci(u,s)}S.EMPTY_NODE=new class wn{copy(s,a,h,v,N){return this}insert(s,a,h){return new zs(s,a,null)}remove(s,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Kt=function(u){return"number"==typeof u?"number:"+on(u):"string:"+u},jn=function(u){if(u.isLeafNode()){const s=u.val();(0,Te.hu)("string"==typeof s||"number"==typeof s||"object"==typeof s&&(0,Te.r3)(s,".sv"),"Priority must be a string or number.")}else(0,Te.hu)(u===Z||u.isEmpty(),"priority of unexpected type.");(0,Te.hu)(u===Z||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let gi,C,A,D=(()=>{class u{constructor(a,h=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=h,this.lazyHash_=null,(0,Te.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),jn(this.priorityNode_)}static set __childrenNodeConstructor(a){gi=a}static get __childrenNodeConstructor(){return gi}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new u(this.value_,a)}getImmediateChild(a){return".priority"===a?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return ji(a)?this:".priority"===Yi(a)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,h){return null}updateImmediateChild(a,h){return".priority"===a?this.updatePriority(h):h.isEmpty()&&".priority"!==a?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,h).updatePriority(this.priorityNode_)}updateChild(a,h){const v=Yi(a);return null===v?h:h.isEmpty()&&".priority"!==v?this:((0,Te.hu)(".priority"!==v||1===As(a),".priority must be the last token in a path"),this.updateImmediateChild(v,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(ur(a),h)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,h){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+Kt(this.priorityNode_.val())+":");const h=typeof this.value_;a+=h+":",a+="number"===h?on(this.value_):this.value_,this.lazyHash_=mi(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===u.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof u.__childrenNodeConstructor?-1:((0,Te.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){const h=typeof a.value_,v=typeof this.value_,N=u.VALUE_TYPE_ORDER.indexOf(h),B=u.VALUE_TYPE_ORDER.indexOf(v);return(0,Te.hu)(N>=0,"Unknown leaf type: "+h),(0,Te.hu)(B>=0,"Unknown leaf type: "+v),N===B?"object"===v?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:B-N}withIndex(){return this}isIndexed(){return!0}equals(a){if(a===this)return!0;if(a.isLeafNode()){const h=a;return this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_)}return!1}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Wt=new class gt extends Ro{compare(s,a){const h=s.node.getPriority(),v=a.node.getPriority(),N=h.compareTo(v);return 0===N?ci(s.name,a.name):N}isDefinedOn(s){return!s.getPriority().isEmpty()}indexedValueChanged(s,a){return!s.getPriority().equals(a.getPriority())}minPost(){return _r.MIN}maxPost(){return new _r(Pi,new D("[PRIORITY-POST]",A))}makePost(s,a){const h=C(s);return new _r(a,new D("[PRIORITY-POST]",h))}toString(){return".priority"}},Yn=Math.log(2);class Ln{constructor(s){this.count=parseInt(Math.log(s+1)/Yn,10),this.current_=this.count-1;const v=(N=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=s+1&v}nextBitIsOne(){const s=!(this.bits_&1<<this.current_);return this.current_--,s}}const Ai=function(u,s,a,h){u.sort(s);const v=function(ce,Re){const Dt=Re-ce;let Rt,Jt;if(0===Dt)return null;if(1===Dt)return Rt=u[ce],Jt=a?a(Rt):Rt,new zs(Jt,Rt.node,zs.BLACK,null,null);{const Dn=parseInt(Dt/2,10)+ce,Pn=v(ce,Dn),oi=v(Dn+1,Re);return Rt=u[Dn],Jt=a?a(Rt):Rt,new zs(Jt,Rt.node,zs.BLACK,Pn,oi)}},Y=function(ce){let Re=null,Dt=null,Rt=u.length;const Jt=function(Pn,oi){const wr=Rt-Pn,Yr=Rt;Rt-=Pn;const cr=v(wr+1,Yr),Vo=u[wr],aa=a?a(Vo):Vo;Dn(new zs(aa,Vo.node,oi,null,cr))},Dn=function(Pn){Re?(Re.left=Pn,Re=Pn):(Dt=Pn,Re=Pn)};for(let Pn=0;Pn<ce.count;++Pn){const oi=ce.nextBitIsOne(),wr=Math.pow(2,ce.count-(Pn+1));oi?Jt(wr,zs.BLACK):(Jt(wr,zs.BLACK),Jt(wr,zs.RED))}return Dt}(new Ln(u.length));return new S(h||s,Y)};let lr;const Fr={};class Vr{constructor(s,a){this.indexes_=s,this.indexSet_=a}static get Default(){return(0,Te.hu)(Fr&&Wt,"ChildrenNode.ts has not been loaded"),lr=lr||new Vr({".priority":Fr},{".priority":Wt}),lr}get(s){const a=(0,Te.DV)(this.indexes_,s);if(!a)throw new Error("No index defined for "+s);return a instanceof S?a:null}hasIndex(s){return(0,Te.r3)(this.indexSet_,s.toString())}addIndex(s,a){(0,Te.hu)(s!==cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const h=[];let v=!1;const N=a.getIterator(_r.Wrap);let Y,B=N.getNext();for(;B;)v=v||s.isDefinedOn(B.node),h.push(B),B=N.getNext();Y=v?Ai(h,s.getCompare()):Fr;const ce=s.toString(),Re=Object.assign({},this.indexSet_);Re[ce]=s;const Dt=Object.assign({},this.indexes_);return Dt[ce]=Y,new Vr(Dt,Re)}addToIndexes(s,a){const h=(0,Te.UI)(this.indexes_,(v,N)=>{const B=(0,Te.DV)(this.indexSet_,N);if((0,Te.hu)(B,"Missing index implementation for "+N),v===Fr){if(B.isDefinedOn(s.node)){const Y=[],ce=a.getIterator(_r.Wrap);let Re=ce.getNext();for(;Re;)Re.name!==s.name&&Y.push(Re),Re=ce.getNext();return Y.push(s),Ai(Y,B.getCompare())}return Fr}{const Y=a.get(s.name);let ce=v;return Y&&(ce=ce.remove(new _r(s.name,Y))),ce.insert(s,s.node)}});return new Vr(h,this.indexSet_)}removeFromIndexes(s,a){const h=(0,Te.UI)(this.indexes_,v=>{if(v===Fr)return v;{const N=a.get(s.name);return N?v.remove(new _r(s.name,N)):v}});return new Vr(h,this.indexSet_)}}let Zr,hi=(()=>{class u{constructor(a,h,v){this.children_=a,this.priorityNode_=h,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&jn(this.priorityNode_),this.children_.isEmpty()&&(0,Te.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zr||(Zr=new u(new S(M),null,Vr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zr}updatePriority(a){return this.children_.isEmpty()?this:new u(this.children_,a,this.indexMap_)}getImmediateChild(a){if(".priority"===a)return this.getPriority();{const h=this.children_.get(a);return null===h?Zr:h}}getChild(a){const h=Yi(a);return null===h?this:this.getImmediateChild(h).getChild(ur(a))}hasChild(a){return null!==this.children_.get(a)}updateImmediateChild(a,h){if((0,Te.hu)(h,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(h);{const v=new _r(a,h);let N,B;h.isEmpty()?(N=this.children_.remove(a),B=this.indexMap_.removeFromIndexes(v,this.children_)):(N=this.children_.insert(a,h),B=this.indexMap_.addToIndexes(v,this.children_));const Y=N.isEmpty()?Zr:this.priorityNode_;return new u(N,Y,B)}}updateChild(a,h){const v=Yi(a);if(null===v)return h;{(0,Te.hu)(".priority"!==Yi(a)||1===As(a),".priority must be the last token in a path");const N=this.getImmediateChild(v).updateChild(ur(a),h);return this.updateImmediateChild(v,N)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;const h={};let v=0,N=0,B=!0;if(this.forEachChild(Wt,(Y,ce)=>{h[Y]=ce.val(a),v++,B&&u.INTEGER_REGEXP_.test(Y)?N=Math.max(N,Number(Y)):B=!1}),!a&&B&&N<2*v){const Y=[];for(const ce in h)Y[ce]=h[ce];return Y}return a&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val()),h}hash(){if(null===this.lazyHash_){let a="";this.getPriority().isEmpty()||(a+="priority:"+Kt(this.getPriority().val())+":"),this.forEachChild(Wt,(h,v)=>{const N=v.hash();""!==N&&(a+=":"+h+":"+N)}),this.lazyHash_=""===a?"":mi(a)}return this.lazyHash_}getPredecessorChildName(a,h,v){const N=this.resolveIndex_(v);if(N){const B=N.getPredecessorKey(new _r(a,h));return B?B.name:null}return this.children_.getPredecessorKey(a)}getFirstChildName(a){const h=this.resolveIndex_(a);if(h){const v=h.minKey();return v&&v.name}return this.children_.minKey()}getFirstChild(a){const h=this.getFirstChildName(a);return h?new _r(h,this.children_.get(h)):null}getLastChildName(a){const h=this.resolveIndex_(a);if(h){const v=h.maxKey();return v&&v.name}return this.children_.maxKey()}getLastChild(a){const h=this.getLastChildName(a);return h?new _r(h,this.children_.get(h)):null}forEachChild(a,h){const v=this.resolveIndex_(a);return v?v.inorderTraversal(N=>h(N.name,N.node)):this.children_.inorderTraversal(h)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,h){const v=this.resolveIndex_(h);if(v)return v.getIteratorFrom(a,N=>N);{const N=this.children_.getIteratorFrom(a.name,_r.Wrap);let B=N.peek();for(;null!=B&&h.compare(B,a)<0;)N.getNext(),B=N.peek();return N}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,h){const v=this.resolveIndex_(h);if(v)return v.getReverseIteratorFrom(a,N=>N);{const N=this.children_.getReverseIteratorFrom(a.name,_r.Wrap);let B=N.peek();for(;null!=B&&h.compare(B,a)>0;)N.getNext(),B=N.peek();return N}}compareTo(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===rr?-1:0}withIndex(a){if(a===cs||this.indexMap_.hasIndex(a))return this;{const h=this.indexMap_.addIndex(a,this.children_);return new u(this.children_,this.priorityNode_,h)}}isIndexed(a){return a===cs||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode())return!1;{const h=a;if(this.getPriority().equals(h.getPriority())){if(this.children_.count()===h.children_.count()){const v=this.getIterator(Wt),N=h.getIterator(Wt);let B=v.getNext(),Y=N.getNext();for(;B&&Y;){if(B.name!==Y.name||!B.node.equals(Y.node))return!1;B=v.getNext(),Y=N.getNext()}return null===B&&null===Y}return!1}return!1}}resolveIndex_(a){return a===cs?null:this.indexMap_.get(a.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const rr=new class po extends hi{constructor(){super(new S(M),hi.EMPTY_NODE,Vr.Default)}compareTo(s){return s===this?0:1}equals(s){return s===this}getPriority(){return this}getImmediateChild(s){return hi.EMPTY_NODE}isEmpty(){return!1}};function Lr(u,s=null){if(null===u)return hi.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(s=u[".priority"]),(0,Te.hu)(null===s||"string"==typeof s||"number"==typeof s||"object"==typeof s&&".sv"in s,"Invalid priority type found: "+typeof s),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new D(u,Lr(s));if(u instanceof Array){let a=hi.EMPTY_NODE;return rt(u,(h,v)=>{if((0,Te.r3)(u,h)&&"."!==h.substring(0,1)){const N=Lr(v);(N.isLeafNode()||!N.isEmpty())&&(a=a.updateImmediateChild(h,N))}}),a.updatePriority(Lr(s))}{const a=[];let h=!1;if(rt(u,(B,Y)=>{if("."!==B.substring(0,1)){const ce=Lr(Y);ce.isEmpty()||(h=h||!ce.getPriority().isEmpty(),a.push(new _r(B,ce)))}}),0===a.length)return hi.EMPTY_NODE;const N=Ai(a,X,B=>B.name,M);if(h){const B=Ai(a,Wt.getCompare());return new hi(N,Lr(s),new Vr({".priority":B},{".priority":Wt}))}return new hi(N,Lr(s),Vr.Default)}}Object.defineProperties(_r,{MIN:{value:new _r(Nn,hi.EMPTY_NODE)},MAX:{value:new _r(Pi,rr)}}),Ua.__EMPTY_NODE=hi.EMPTY_NODE,D.__childrenNodeConstructor=hi,function Oe(u){Z=u}(rr),function xe(u){A=u}(rr),function G(u){C=u}(Lr);class Ns extends Ro{constructor(s){super(),this.indexPath_=s,(0,Te.hu)(!ji(s)&&".priority"!==Yi(s),"Can't create PathIndex with empty path or .priority key")}extractChild(s){return s.getChild(this.indexPath_)}isDefinedOn(s){return!s.getChild(this.indexPath_).isEmpty()}compare(s,a){const h=this.extractChild(s.node),v=this.extractChild(a.node),N=h.compareTo(v);return 0===N?ci(s.name,a.name):N}makePost(s,a){const h=Lr(s),v=hi.EMPTY_NODE.updateChild(this.indexPath_,h);return new _r(a,v)}maxPost(){const s=hi.EMPTY_NODE.updateChild(this.indexPath_,rr);return new _r(Pi,s)}toString(){return Bs(this.indexPath_,0).join("/")}}const Ko=new class Ts extends Ro{compare(s,a){const h=s.node.compareTo(a.node);return 0===h?ci(s.name,a.name):h}isDefinedOn(s){return!0}indexedValueChanged(s,a){return!s.equals(a)}minPost(){return _r.MIN}maxPost(){return _r.MAX}makePost(s,a){const h=Lr(s);return new _r(a,h)}toString(){return".value"}},go="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",K=function(){let u=0;const s=[];return function(a){const h=a===u;let v;u=a;const N=new Array(8);for(v=7;v>=0;v--)N[v]=go.charAt(a%64),a=Math.floor(a/64);(0,Te.hu)(0===a,"Cannot push at time == 0");let B=N.join("");if(h){for(v=11;v>=0&&63===s[v];v--)s[v]=0;s[v]++}else for(v=0;v<12;v++)s[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)B+=go.charAt(s[v]);return(0,Te.hu)(20===B.length,"nextPushId: Length should be 20."),B}}(),Ae=function(u){if(u===""+pi)return"-";const s=Hn(u);if(null!=s)return""+(s+1);const a=new Array(u.length);for(let B=0;B<a.length;B++)a[B]=u.charAt(B);if(a.length<786)return a.push("-"),a.join("");let h=a.length-1;for(;h>=0&&"z"===a[h];)h--;if(-1===h)return Pi;const N=go.charAt(go.indexOf(a[h])+1);return a[h]=N,a.slice(0,h+1).join("")},dt=function(u){if(u===""+ki)return Nn;const s=Hn(u);if(null!=s)return""+(s-1);const a=new Array(u.length);for(let h=0;h<a.length;h++)a[h]=u.charAt(h);return"-"===a[a.length-1]?1===a.length?""+pi:(delete a[a.length-1],a.join("")):(a[a.length-1]=go.charAt(go.indexOf(a[a.length-1])-1),a.join("")+"z".repeat(786-a.length))};function Yt(u){return{type:"value",snapshotNode:u}}function ln(u,s){return{type:"child_added",snapshotNode:s,childName:u}}function si(u,s){return{type:"child_removed",snapshotNode:s,childName:u}}function yr(u,s,a){return{type:"child_changed",snapshotNode:s,childName:u,oldSnap:a}}class Rr{constructor(s){this.index_=s}updateChild(s,a,h,v,N,B){(0,Te.hu)(s.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Y=s.getImmediateChild(a);return Y.getChild(v).equals(h.getChild(v))&&Y.isEmpty()===h.isEmpty()||(null!=B&&(h.isEmpty()?s.hasChild(a)?B.trackChildChange(si(a,Y)):(0,Te.hu)(s.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Y.isEmpty()?B.trackChildChange(ln(a,h)):B.trackChildChange(yr(a,h,Y))),s.isLeafNode()&&h.isEmpty())?s:s.updateImmediateChild(a,h).withIndex(this.index_)}updateFullNode(s,a,h){return null!=h&&(s.isLeafNode()||s.forEachChild(Wt,(v,N)=>{a.hasChild(v)||h.trackChildChange(si(v,N))}),a.isLeafNode()||a.forEachChild(Wt,(v,N)=>{if(s.hasChild(v)){const B=s.getImmediateChild(v);B.equals(N)||h.trackChildChange(yr(v,N,B))}else h.trackChildChange(ln(v,N))})),a.withIndex(this.index_)}updatePriority(s,a){return s.isEmpty()?hi.EMPTY_NODE:s.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class vr{constructor(s){this.indexedFilter_=new Rr(s.getIndex()),this.index_=s.getIndex(),this.startPost_=vr.getStartPost_(s),this.endPost_=vr.getEndPost_(s)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(s){return this.index_.compare(this.getStartPost(),s)<=0&&this.index_.compare(s,this.getEndPost())<=0}updateChild(s,a,h,v,N,B){return this.matches(new _r(a,h))||(h=hi.EMPTY_NODE),this.indexedFilter_.updateChild(s,a,h,v,N,B)}updateFullNode(s,a,h){a.isLeafNode()&&(a=hi.EMPTY_NODE);let v=a.withIndex(this.index_);v=v.updatePriority(hi.EMPTY_NODE);const N=this;return a.forEachChild(Wt,(B,Y)=>{N.matches(new _r(B,Y))||(v=v.updateImmediateChild(B,hi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(s,v,h)}updatePriority(s,a){return s}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(s){if(s.hasStart()){const a=s.getIndexStartName();return s.getIndex().makePost(s.getIndexStartValue(),a)}return s.getIndex().minPost()}static getEndPost_(s){if(s.hasEnd()){const a=s.getIndexEndName();return s.getIndex().makePost(s.getIndexEndValue(),a)}return s.getIndex().maxPost()}}class Co{constructor(s){this.rangedFilter_=new vr(s),this.index_=s.getIndex(),this.limit_=s.getLimit(),this.reverse_=!s.isViewFromLeft()}updateChild(s,a,h,v,N,B){return this.rangedFilter_.matches(new _r(a,h))||(h=hi.EMPTY_NODE),s.getImmediateChild(a).equals(h)?s:s.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(s,a,h,v,N,B):this.fullLimitUpdateChild_(s,a,h,N,B)}updateFullNode(s,a,h){let v;if(a.isLeafNode()||a.isEmpty())v=hi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<a.numChildren()&&a.isIndexed(this.index_)){let N;v=hi.EMPTY_NODE.withIndex(this.index_),N=this.reverse_?a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let B=0;for(;N.hasNext()&&B<this.limit_;){const Y=N.getNext();let ce;if(ce=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Y)<=0:this.index_.compare(Y,this.rangedFilter_.getEndPost())<=0,!ce)break;v=v.updateImmediateChild(Y.name,Y.node),B++}}else{let N,B,Y,ce;if(v=a.withIndex(this.index_),v=v.updatePriority(hi.EMPTY_NODE),this.reverse_){ce=v.getReverseIterator(this.index_),N=this.rangedFilter_.getEndPost(),B=this.rangedFilter_.getStartPost();const Rt=this.index_.getCompare();Y=(Jt,Dn)=>Rt(Dn,Jt)}else ce=v.getIterator(this.index_),N=this.rangedFilter_.getStartPost(),B=this.rangedFilter_.getEndPost(),Y=this.index_.getCompare();let Re=0,Dt=!1;for(;ce.hasNext();){const Rt=ce.getNext();!Dt&&Y(N,Rt)<=0&&(Dt=!0),Dt&&Re<this.limit_&&Y(Rt,B)<=0?Re++:v=v.updateImmediateChild(Rt.name,hi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(s,v,h)}updatePriority(s,a){return s}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(s,a,h,v,N){let B;if(this.reverse_){const Rt=this.index_.getCompare();B=(Jt,Dn)=>Rt(Dn,Jt)}else B=this.index_.getCompare();const Y=s;(0,Te.hu)(Y.numChildren()===this.limit_,"");const ce=new _r(a,h),Re=this.reverse_?Y.getFirstChild(this.index_):Y.getLastChild(this.index_),Dt=this.rangedFilter_.matches(ce);if(Y.hasChild(a)){const Rt=Y.getImmediateChild(a);let Jt=v.getChildAfterChild(this.index_,Re,this.reverse_);for(;null!=Jt&&(Jt.name===a||Y.hasChild(Jt.name));)Jt=v.getChildAfterChild(this.index_,Jt,this.reverse_);const Dn=null==Jt?1:B(Jt,ce);if(Dt&&!h.isEmpty()&&Dn>=0)return N?.trackChildChange(yr(a,h,Rt)),Y.updateImmediateChild(a,h);{N?.trackChildChange(si(a,Rt));const oi=Y.updateImmediateChild(a,hi.EMPTY_NODE);return null!=Jt&&this.rangedFilter_.matches(Jt)?(N?.trackChildChange(ln(Jt.name,Jt.node)),oi.updateImmediateChild(Jt.name,Jt.node)):oi}}return h.isEmpty()?s:Dt&&B(Re,ce)>=0?(null!=N&&(N.trackChildChange(si(Re.name,Re.node)),N.trackChildChange(ln(a,h))),Y.updateImmediateChild(a,h).updateImmediateChild(Re.name,hi.EMPTY_NODE)):s}}class Qr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Te.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Te.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Te.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Te.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Te.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wt}copy(){const s=new Qr;return s.limitSet_=this.limitSet_,s.limit_=this.limit_,s.startSet_=this.startSet_,s.indexStartValue_=this.indexStartValue_,s.startNameSet_=this.startNameSet_,s.indexStartName_=this.indexStartName_,s.endSet_=this.endSet_,s.indexEndValue_=this.indexEndValue_,s.endNameSet_=this.endNameSet_,s.indexEndName_=this.indexEndName_,s.index_=this.index_,s.viewFrom_=this.viewFrom_,s}}function Do(u,s,a){const h=u.copy();return h.startSet_=!0,void 0===s&&(s=null),h.indexStartValue_=s,null!=a?(h.startNameSet_=!0,h.indexStartName_=a):(h.startNameSet_=!1,h.indexStartName_=""),h}function Qo(u,s,a){const h=u.copy();return h.endSet_=!0,void 0===s&&(s=null),h.indexEndValue_=s,void 0!==a?(h.endNameSet_=!0,h.indexEndName_=a):(h.endNameSet_=!1,h.indexEndName_=""),h}function va(u,s){const a=u.copy();return a.index_=s,a}function pc(u){const s={};if(u.isDefault())return s;let a;return u.index_===Wt?a="$priority":u.index_===Ko?a="$value":u.index_===cs?a="$key":((0,Te.hu)(u.index_ instanceof Ns,"Unrecognized index type!"),a=u.index_.toString()),s.orderBy=(0,Te.Pz)(a),u.startSet_&&(s.startAt=(0,Te.Pz)(u.indexStartValue_),u.startNameSet_&&(s.startAt+=","+(0,Te.Pz)(u.indexStartName_))),u.endSet_&&(s.endAt=(0,Te.Pz)(u.indexEndValue_),u.endNameSet_&&(s.endAt+=","+(0,Te.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?s.limitToFirst=u.limit_:s.limitToLast=u.limit_),s}function Es(u){const s={};if(u.startSet_&&(s.sp=u.indexStartValue_,u.startNameSet_&&(s.sn=u.indexStartName_)),u.endSet_&&(s.ep=u.indexEndValue_,u.endNameSet_&&(s.en=u.indexEndName_)),u.limitSet_){s.l=u.limit_;let a=u.viewFrom_;""===a&&(a=u.isViewFromLeft()?"l":"r"),s.vf=a}return u.index_!==Wt&&(s.i=u.index_.toString()),s}class Il extends _s{constructor(s,a,h,v){super(),this.repoInfo_=s,this.onDataUpdate_=a,this.authTokenProvider_=h,this.appCheckTokenProvider_=v,this.log_=Ot("p:rest:"),this.listens_={}}reportStats(s){throw new Error("Method not implemented.")}static getListenId_(s,a){return void 0!==a?"tag$"+a:((0,Te.hu)(s._queryParams.isDefault(),"should have a tag if it's not a default query."),s._path.toString())}listen(s,a,h,v){const N=s._path.toString();this.log_("Listen called for "+N+" "+s._queryIdentifier);const B=Il.getListenId_(s,h),Y={};this.listens_[B]=Y;const ce=pc(s._queryParams);this.restRequest_(N+".json",ce,(Re,Dt)=>{let Rt=Dt;if(404===Re&&(Rt=null,Re=null),null===Re&&this.onDataUpdate_(N,Rt,!1,h),(0,Te.DV)(this.listens_,B)===Y){let Jt;Jt=Re?401===Re?"permission_denied":"rest_error:"+Re:"ok",v(Jt,null)}})}unlisten(s,a){const h=Il.getListenId_(s,a);delete this.listens_[h]}get(s){const a=pc(s._queryParams),h=s._path.toString(),v=new Te.BH;return this.restRequest_(h+".json",a,(N,B)=>{let Y=B;404===N&&(Y=null,N=null),null===N?(this.onDataUpdate_(h,Y,!1,null),v.resolve(Y)):v.reject(new Error(Y))}),v.promise}refreshAuthToken(s){}restRequest_(s,a={},h){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([v,N])=>{v&&v.accessToken&&(a.auth=v.accessToken),N&&N.token&&(a.ac=N.token);const B=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+s+"?ns="+this.repoInfo_.namespace+(0,Te.xO)(a);this.log_("Sending REST request for "+B);const Y=new XMLHttpRequest;Y.onreadystatechange=()=>{if(h&&4===Y.readyState){this.log_("REST Response for "+B+" received. status:",Y.status,"response:",Y.responseText);let ce=null;if(Y.status>=200&&Y.status<300){try{ce=(0,Te.cI)(Y.responseText)}catch{Bn("Failed to parse JSON response for "+B+": "+Y.responseText)}h(null,ce)}else 401!==Y.status&&404!==Y.status&&Bn("Got unsuccessful REST response for "+B+" Status: "+Y.status),h(Y.status);h=null}},Y.open("GET",B,!0),Y.send()})}}class _u{constructor(){this.rootNode_=hi.EMPTY_NODE}getNode(s){return this.rootNode_.getChild(s)}updateSnapshot(s,a){this.rootNode_=this.rootNode_.updateChild(s,a)}}function $c(){return{value:null,children:new Map}}function Tl(u,s,a){if(ji(s))u.value=a,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(s,a);else{const h=Yi(s);u.children.has(h)||u.children.set(h,$c()),Tl(u.children.get(h),s=ur(s),a)}}function dl(u,s){if(ji(s))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const a=u.value;return u.value=null,a.forEachChild(Wt,(h,v)=>{Tl(u,new Qi(h),v)}),dl(u,s)}}if(u.children.size>0){const a=Yi(s);return s=ur(s),u.children.has(a)&&dl(u.children.get(a),s)&&u.children.delete(a),0===u.children.size}return!0}function ko(u,s,a){null!==u.value?a(s,u.value):function Sl(u,s){u.children.forEach((a,h)=>{s(h,a)})}(u,(h,v)=>{ko(v,new Qi(s.toString()+"/"+h),a)})}class gc{constructor(s){this.collection_=s,this.last_=null}get(){const s=this.collection_.get(),a=Object.assign({},s);return this.last_&&rt(this.last_,(h,v)=>{a[h]=a[h]-v}),this.last_=s,a}}class Io{constructor(s,a){this.server_=a,this.statsToReport_={},this.statsListener_=new gc(s);const h=1e4+2e4*Math.random();mr(this.reportStats_.bind(this),Math.floor(h))}reportStats_(){const s=this.statsListener_.get(),a={};let h=!1;rt(s,(v,N)=>{N>0&&(0,Te.r3)(this.statsToReport_,v)&&(a[v]=N,h=!0)}),h&&this.server_.reportStats(a),mr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Jo=(()=>{return(u=Jo||(Jo={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Jo;var u})();function hl(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class Jl{constructor(s,a,h){this.path=s,this.affectedTree=a,this.revert=h,this.type=Jo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(s){if(ji(this.path)){if(null!=this.affectedTree.value)return(0,Te.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Qi(s));return new Jl(ar(),a,this.revert)}}return(0,Te.hu)(Yi(this.path)===s,"operationForChild called for unrelated child."),new Jl(ur(this.path),this.affectedTree,this.revert)}}class Ga{constructor(s,a){this.source=s,this.path=a,this.type=Jo.LISTEN_COMPLETE}operationForChild(s){return ji(this.path)?new Ga(this.source,ar()):new Ga(this.source,ur(this.path))}}class el{constructor(s,a,h){this.source=s,this.path=a,this.snap=h,this.type=Jo.OVERWRITE}operationForChild(s){return ji(this.path)?new el(this.source,ar(),this.snap.getImmediateChild(s)):new el(this.source,ur(this.path),this.snap)}}class xr{constructor(s,a,h){this.source=s,this.path=a,this.children=h,this.type=Jo.MERGE}operationForChild(s){if(ji(this.path)){const a=this.children.subtree(new Qi(s));return a.isEmpty()?null:a.value?new el(this.source,ar(),a.value):new xr(this.source,ar(),a)}return(0,Te.hu)(Yi(this.path)===s,"Can't get a merge for a child not on the path of the operation"),new xr(this.source,ur(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ks{constructor(s,a,h){this.node_=s,this.fullyInitialized_=a,this.filtered_=h}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(s){if(ji(s))return this.isFullyInitialized()&&!this.filtered_;const a=Yi(s);return this.isCompleteForChild(a)}isCompleteForChild(s){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(s)}getNode(){return this.node_}}class Wa{constructor(s){this.query_=s,this.index_=this.query_._queryParams.getIndex()}}function za(u,s,a,h,v,N){const B=h.filter(Y=>Y.type===a);B.sort((Y,ce)=>function Ms(u,s,a){if(null==s.childName||null==a.childName)throw(0,Te.g5)("Should only compare child_ events.");const h=new _r(s.childName,s.snapshotNode),v=new _r(a.childName,a.snapshotNode);return u.index_.compare(h,v)}(u,Y,ce)),B.forEach(Y=>{const ce=function On(u,s,a){return"value"===s.type||"child_removed"===s.type||(s.prevName=a.getPredecessorChildName(s.childName,s.snapshotNode,u.index_)),s}(u,Y,N);v.forEach(Re=>{Re.respondsTo(Y.type)&&s.push(Re.createEvent(ce,u.query_))})})}function Fo(u,s){return{eventCache:u,serverCache:s}}function pl(u,s,a,h){return Fo(new Ks(s,a,h),u.serverCache)}function ii(u,s,a,h){return Fo(u.eventCache,new Ks(s,a,h))}function $i(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function mo(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Xn;class pn{constructor(s,a=(()=>(Xn||(Xn=new S(ct)),Xn))()){this.value=s,this.children=a}static fromObject(s){let a=new pn(null);return rt(s,(h,v)=>{a=a.set(new Qi(h),v)}),a}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(s,a){if(null!=this.value&&a(this.value))return{path:ar(),value:this.value};if(ji(s))return null;{const h=Yi(s),v=this.children.get(h);if(null!==v){const N=v.findRootMostMatchingPathAndValue(ur(s),a);return null!=N?{path:ir(new Qi(h),N.path),value:N.value}:null}return null}}findRootMostValueAndPath(s){return this.findRootMostMatchingPathAndValue(s,()=>!0)}subtree(s){if(ji(s))return this;{const a=Yi(s),h=this.children.get(a);return null!==h?h.subtree(ur(s)):new pn(null)}}set(s,a){if(ji(s))return new pn(a,this.children);{const h=Yi(s),N=(this.children.get(h)||new pn(null)).set(ur(s),a),B=this.children.insert(h,N);return new pn(this.value,B)}}remove(s){if(ji(s))return this.children.isEmpty()?new pn(null):new pn(null,this.children);{const a=Yi(s),h=this.children.get(a);if(h){const v=h.remove(ur(s));let N;return N=v.isEmpty()?this.children.remove(a):this.children.insert(a,v),null===this.value&&N.isEmpty()?new pn(null):new pn(this.value,N)}return this}}get(s){if(ji(s))return this.value;{const a=Yi(s),h=this.children.get(a);return h?h.get(ur(s)):null}}setTree(s,a){if(ji(s))return a;{const h=Yi(s),N=(this.children.get(h)||new pn(null)).setTree(ur(s),a);let B;return B=N.isEmpty()?this.children.remove(h):this.children.insert(h,N),new pn(this.value,B)}}fold(s){return this.fold_(ar(),s)}fold_(s,a){const h={};return this.children.inorderTraversal((v,N)=>{h[v]=N.fold_(ir(s,v),a)}),a(s,this.value,h)}findOnPath(s,a){return this.findOnPath_(s,ar(),a)}findOnPath_(s,a,h){const v=!!this.value&&h(a,this.value);if(v)return v;if(ji(s))return null;{const N=Yi(s),B=this.children.get(N);return B?B.findOnPath_(ur(s),ir(a,N),h):null}}foreachOnPath(s,a){return this.foreachOnPath_(s,ar(),a)}foreachOnPath_(s,a,h){if(ji(s))return this;{this.value&&h(a,this.value);const v=Yi(s),N=this.children.get(v);return N?N.foreachOnPath_(ur(s),ir(a,v),h):new pn(null)}}foreach(s){this.foreach_(ar(),s)}foreach_(s,a){this.children.inorderTraversal((h,v)=>{v.foreach_(ir(s,h),a)}),this.value&&a(s,this.value)}foreachChild(s){this.children.inorderTraversal((a,h)=>{h.value&&s(a,h.value)})}}class Kr{constructor(s){this.writeTree_=s}static empty(){return new Kr(new pn(null))}}function gl(u,s,a){if(ji(s))return new Kr(new pn(a));{const h=u.writeTree_.findRootMostValueAndPath(s);if(null!=h){const v=h.path;let N=h.value;const B=os(v,s);return N=N.updateChild(B,a),new Kr(u.writeTree_.set(v,N))}{const v=new pn(a),N=u.writeTree_.setTree(s,v);return new Kr(N)}}}function vs(u,s,a){let h=u;return rt(a,(v,N)=>{h=gl(h,ir(s,v),N)}),h}function Ll(u,s){if(ji(s))return Kr.empty();{const a=u.writeTree_.setTree(s,new pn(null));return new Kr(a)}}function tl(u,s){return null!=Ka(u,s)}function Ka(u,s){const a=u.writeTree_.findRootMostValueAndPath(s);return null!=a?u.writeTree_.get(a.path).getChild(os(a.path,s)):null}function Bl(u){const s=[],a=u.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(Wt,(h,v)=>{s.push(new _r(h,v))}):u.writeTree_.children.inorderTraversal((h,v)=>{null!=v.value&&s.push(new _r(h,v.value))}),s}function Oa(u,s){if(ji(s))return u;{const a=Ka(u,s);return new Kr(null!=a?new pn(a):u.writeTree_.subtree(s))}}function Al(u){return u.writeTree_.isEmpty()}function wa(u,s){return Lo(ar(),u.writeTree_,s)}function Lo(u,s,a){if(null!=s.value)return a.updateChild(u,s.value);{let h=null;return s.children.inorderTraversal((v,N)=>{".priority"===v?((0,Te.hu)(null!==N.value,"Priority writes must always be leaf nodes"),h=N.value):a=Lo(ir(u,v),N,a)}),!a.getChild(u).isEmpty()&&null!==h&&(a=a.updateChild(ir(u,".priority"),h)),a}}function Ho(u,s){return tc(s,u)}function Hi(u,s){if(u.snap)return ys(u.path,s);for(const a in u.children)if(u.children.hasOwnProperty(a)&&ys(ir(u.path,a),s))return!0;return!1}function br(u){return u.visible}function us(u,s,a){let h=Kr.empty();for(let v=0;v<u.length;++v){const N=u[v];if(s(N)){const B=N.path;let Y;if(N.snap)ys(a,B)?(Y=os(a,B),h=gl(h,Y,N.snap)):ys(B,a)&&(Y=os(B,a),h=gl(h,ar(),N.snap.getChild(Y)));else{if(!N.children)throw(0,Te.g5)("WriteRecord should have .snap or .children");if(ys(a,B))Y=os(a,B),h=vs(h,Y,N.children);else if(ys(B,a))if(Y=os(B,a),ji(Y))h=vs(h,ar(),N.children);else{const ce=(0,Te.DV)(N.children,Yi(Y));if(ce){const Re=ce.getChild(ur(Y));h=gl(h,ar(),Re)}}}}}return h}function Ys(u,s,a,h,v){if(h||v){const N=Oa(u.visibleWrites,s);return!v&&Al(N)?a:v||null!=a||tl(N,ar())?wa(us(u.allWrites,function(Re){return(Re.visible||v)&&(!h||!~h.indexOf(Re.writeId))&&(ys(Re.path,s)||ys(s,Re.path))},s),a||hi.EMPTY_NODE):null}{const N=Ka(u.visibleWrites,s);if(null!=N)return N;{const B=Oa(u.visibleWrites,s);return Al(B)?a:null!=a||tl(B,ar())?wa(B,a||hi.EMPTY_NODE):null}}}function $l(u,s,a,h){return Ys(u.writeTree,u.treePath,s,a,h)}function yc(u,s){return function ri(u,s,a){let h=hi.EMPTY_NODE;const v=Ka(u.visibleWrites,s);if(v)return v.isLeafNode()||v.forEachChild(Wt,(N,B)=>{h=h.updateImmediateChild(N,B)}),h;if(a){const N=Oa(u.visibleWrites,s);return a.forEachChild(Wt,(B,Y)=>{const ce=wa(Oa(N,new Qi(B)),Y);h=h.updateImmediateChild(B,ce)}),Bl(N).forEach(B=>{h=h.updateImmediateChild(B.name,B.node)}),h}return Bl(Oa(u.visibleWrites,s)).forEach(B=>{h=h.updateImmediateChild(B.name,B.node)}),h}(u.writeTree,u.treePath,s)}function ju(u,s,a,h){return function Xl(u,s,a,h,v){(0,Te.hu)(h||v,"Either existingEventSnap or existingServerSnap must exist");const N=ir(s,a);if(tl(u.visibleWrites,N))return null;{const B=Oa(u.visibleWrites,N);return Al(B)?v.getChild(a):wa(B,v.getChild(a))}}(u.writeTree,u.treePath,s,a,h)}function es(u,s){return function _c(u,s){return Ka(u.visibleWrites,s)}(u.writeTree,ir(u.treePath,s))}function na(u,s,a){return function mc(u,s,a,h){const v=ir(s,a),N=Ka(u.visibleWrites,v);return null!=N?N:h.isCompleteForChild(a)?wa(Oa(u.visibleWrites,v),h.getNode().getImmediateChild(a)):null}(u.writeTree,u.treePath,s,a)}function ec(u,s){return tc(ir(u.treePath,s),u.writeTree)}function tc(u,s){return{treePath:u,writeTree:s}}class _o{constructor(){this.changeMap=new Map}trackChildChange(s){const a=s.type,h=s.childName;(0,Te.hu)("child_added"===a||"child_changed"===a||"child_removed"===a,"Only child changes supported for tracking"),(0,Te.hu)(".priority"!==h,"Only non-priority child changes can be tracked.");const v=this.changeMap.get(h);if(v){const N=v.type;if("child_added"===a&&"child_removed"===N)this.changeMap.set(h,yr(h,s.snapshotNode,v.snapshotNode));else if("child_removed"===a&&"child_added"===N)this.changeMap.delete(h);else if("child_removed"===a&&"child_changed"===N)this.changeMap.set(h,si(h,v.oldSnap));else if("child_changed"===a&&"child_added"===N)this.changeMap.set(h,ln(h,s.snapshotNode));else{if("child_changed"!==a||"child_changed"!==N)throw(0,Te.g5)("Illegal combination of changes: "+s+" occurred after "+v);this.changeMap.set(h,yr(h,s.snapshotNode,v.oldSnap))}}else this.changeMap.set(h,s)}getChanges(){return Array.from(this.changeMap.values())}}const en=new class da{getCompleteChild(s){return null}getChildAfterChild(s,a,h){return null}};class Ea{constructor(s,a,h=null){this.writes_=s,this.viewCache_=a,this.optCompleteServerCache_=h}getCompleteChild(s){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(s))return a.getNode().getImmediateChild(s);{const h=null!=this.optCompleteServerCache_?new Ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return na(this.writes_,s,h)}}getChildAfterChild(s,a,h){const v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:mo(this.viewCache_),N=function ta(u,s,a,h,v,N){return function Qc(u,s,a,h,v,N,B){let Y;const ce=Oa(u.visibleWrites,s),Re=Ka(ce,ar());if(null!=Re)Y=Re;else{if(null==a)return[];Y=wa(ce,a)}if(Y=Y.withIndex(B),Y.isEmpty()||Y.isLeafNode())return[];{const Dt=[],Rt=B.getCompare(),Jt=N?Y.getReverseIteratorFrom(h,B):Y.getIteratorFrom(h,B);let Dn=Jt.getNext();for(;Dn&&Dt.length<v;)0!==Rt(Dn,h)&&Dt.push(Dn),Dn=Jt.getNext();return Dt}}(u.writeTree,u.treePath,s,a,h,v,N)}(this.writes_,v,a,1,h,s);return 0===N.length?null:N[0]}}function bc(u,s,a,h,v,N){const B=s.eventCache;if(null!=es(h,a))return s;{let Y,ce;if(ji(a))if((0,Te.hu)(s.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),s.serverCache.isFiltered()){const Re=mo(s),Rt=yc(h,Re instanceof hi?Re:hi.EMPTY_NODE);Y=u.filter.updateFullNode(s.eventCache.getNode(),Rt,N)}else{const Re=$l(h,mo(s));Y=u.filter.updateFullNode(s.eventCache.getNode(),Re,N)}else{const Re=Yi(a);if(".priority"===Re){(0,Te.hu)(1===As(a),"Can't have a priority with additional path components");const Dt=B.getNode();ce=s.serverCache.getNode();const Rt=ju(h,a,Dt,ce);Y=null!=Rt?u.filter.updatePriority(Dt,Rt):B.getNode()}else{const Dt=ur(a);let Rt;if(B.isCompleteForChild(Re)){ce=s.serverCache.getNode();const Jt=ju(h,a,B.getNode(),ce);Rt=null!=Jt?B.getNode().getImmediateChild(Re).updateChild(Dt,Jt):B.getNode().getImmediateChild(Re)}else Rt=na(h,Re,s.serverCache);Y=null!=Rt?u.filter.updateChild(B.getNode(),Re,Rt,Dt,v,N):B.getNode()}}return pl(s,Y,B.isFullyInitialized()||ji(a),u.filter.filtersNodes())}}function P(u,s,a,h,v,N,B,Y){const ce=s.serverCache;let Re;const Dt=B?u.filter:u.filter.getIndexedFilter();if(ji(a))Re=Dt.updateFullNode(ce.getNode(),h,null);else if(Dt.filtersNodes()&&!ce.isFiltered()){const Dn=ce.getNode().updateChild(a,h);Re=Dt.updateFullNode(ce.getNode(),Dn,null)}else{const Dn=Yi(a);if(!ce.isCompleteForPath(a)&&As(a)>1)return s;const Pn=ur(a),wr=ce.getNode().getImmediateChild(Dn).updateChild(Pn,h);Re=".priority"===Dn?Dt.updatePriority(ce.getNode(),wr):Dt.updateChild(ce.getNode(),Dn,wr,Pn,en,null)}const Rt=ii(s,Re,ce.isFullyInitialized()||ji(a),Dt.filtersNodes());return bc(u,Rt,a,v,new Ea(v,Rt,N),Y)}function F(u,s,a,h,v,N,B){const Y=s.eventCache;let ce,Re;const Dt=new Ea(v,s,N);if(ji(a))Re=u.filter.updateFullNode(s.eventCache.getNode(),h,B),ce=pl(s,Re,!0,u.filter.filtersNodes());else{const Rt=Yi(a);if(".priority"===Rt)Re=u.filter.updatePriority(s.eventCache.getNode(),h),ce=pl(s,Re,Y.isFullyInitialized(),Y.isFiltered());else{const Jt=ur(a),Dn=Y.getNode().getImmediateChild(Rt);let Pn;if(ji(Jt))Pn=h;else{const oi=Dt.getCompleteChild(Rt);Pn=null!=oi?".priority"===Is(Jt)&&oi.getChild(ca(Jt)).isEmpty()?oi:oi.updateChild(Jt,h):hi.EMPTY_NODE}ce=Dn.equals(Pn)?s:pl(s,u.filter.updateChild(Y.getNode(),Rt,Pn,Jt,Dt,B),Y.isFullyInitialized(),u.filter.filtersNodes())}}return ce}function O(u,s){return u.eventCache.isCompleteForChild(s)}function J(u,s,a){return a.foreach((h,v)=>{s=s.updateChild(h,v)}),s}function De(u,s,a,h,v,N,B,Y){if(s.serverCache.getNode().isEmpty()&&!s.serverCache.isFullyInitialized())return s;let Re,ce=s;Re=ji(a)?h:new pn(null).setTree(a,h);const Dt=s.serverCache.getNode();return Re.children.inorderTraversal((Rt,Jt)=>{if(Dt.hasChild(Rt)){const Pn=J(0,s.serverCache.getNode().getImmediateChild(Rt),Jt);ce=P(u,ce,new Qi(Rt),Pn,v,N,B,Y)}}),Re.children.inorderTraversal((Rt,Jt)=>{const Dn=!s.serverCache.isCompleteForChild(Rt)&&null===Jt.value;if(!Dt.hasChild(Rt)&&!Dn){const oi=J(0,s.serverCache.getNode().getImmediateChild(Rt),Jt);ce=P(u,ce,new Qi(Rt),oi,v,N,B,Y)}}),ce}class Rn{constructor(s,a){this.query_=s,this.eventRegistrations_=[];const h=this.query_._queryParams,v=new Rr(h.getIndex()),N=function ws(u){return u.loadsAllData()?new Rr(u.getIndex()):u.hasLimit()?new Co(u):new vr(u)}(h);this.processor_=function yo(u){return{filter:u}}(N);const B=a.serverCache,Y=a.eventCache,ce=v.updateFullNode(hi.EMPTY_NODE,B.getNode(),null),Re=N.updateFullNode(hi.EMPTY_NODE,Y.getNode(),null),Dt=new Ks(ce,B.isFullyInitialized(),v.filtersNodes()),Rt=new Ks(Re,Y.isFullyInitialized(),N.filtersNodes());this.viewCache_=Fo(Rt,Dt),this.eventGenerator_=new Wa(this.query_)}get query(){return this.query_}}function Gi(u,s){const a=mo(u.viewCache_);return a&&(u.query._queryParams.loadsAllData()||!ji(s)&&!a.getImmediateChild(Yi(s)).isEmpty())?a.getChild(s):null}function To(u){return 0===u.eventRegistrations_.length}function So(u,s,a){const h=[];if(a){(0,Te.hu)(null==s,"A cancel should cancel all event registrations.");const v=u.query._path;u.eventRegistrations_.forEach(N=>{const B=N.createCancelEvent(a,v);B&&h.push(B)})}if(s){let v=[];for(let N=0;N<u.eventRegistrations_.length;++N){const B=u.eventRegistrations_[N];if(B.matches(s)){if(s.hasAnyCallback()){v=v.concat(u.eventRegistrations_.slice(N+1));break}}else v.push(B)}u.eventRegistrations_=v}else u.eventRegistrations_=[];return h}function Os(u,s,a,h){s.type===Jo.MERGE&&null!==s.source.queryId&&((0,Te.hu)(mo(u.viewCache_),"We should always have a full cache before handling merges"),(0,Te.hu)($i(u.viewCache_),"Missing event cache, even though we have a server cache"));const v=u.viewCache_,N=function vc(u,s,a,h,v){const N=new _o;let B,Y;if(a.type===Jo.OVERWRITE){const Re=a;Re.source.fromUser?B=F(u,s,Re.path,Re.snap,h,v,N):((0,Te.hu)(Re.source.fromServer,"Unknown source."),Y=Re.source.tagged||s.serverCache.isFiltered()&&!ji(Re.path),B=P(u,s,Re.path,Re.snap,h,v,Y,N))}else if(a.type===Jo.MERGE){const Re=a;Re.source.fromUser?B=function W(u,s,a,h,v,N,B){let Y=s;return h.foreach((ce,Re)=>{const Dt=ir(a,ce);O(s,Yi(Dt))&&(Y=F(u,Y,Dt,Re,v,N,B))}),h.foreach((ce,Re)=>{const Dt=ir(a,ce);O(s,Yi(Dt))||(Y=F(u,Y,Dt,Re,v,N,B))}),Y}(u,s,Re.path,Re.children,h,v,N):((0,Te.hu)(Re.source.fromServer,"Unknown source."),Y=Re.source.tagged||s.serverCache.isFiltered(),B=De(u,s,Re.path,Re.children,h,v,Y,N))}else if(a.type===Jo.ACK_USER_WRITE){const Re=a;B=Re.revert?function gn(u,s,a,h,v,N){let B;if(null!=es(h,a))return s;{const Y=new Ea(h,s,v),ce=s.eventCache.getNode();let Re;if(ji(a)||".priority"===Yi(a)){let Dt;if(s.serverCache.isFullyInitialized())Dt=$l(h,mo(s));else{const Rt=s.serverCache.getNode();(0,Te.hu)(Rt instanceof hi,"serverChildren would be complete if leaf node"),Dt=yc(h,Rt)}Re=u.filter.updateFullNode(ce,Dt,N)}else{const Dt=Yi(a);let Rt=na(h,Dt,s.serverCache);null==Rt&&s.serverCache.isCompleteForChild(Dt)&&(Rt=ce.getImmediateChild(Dt)),Re=null!=Rt?u.filter.updateChild(ce,Dt,Rt,ur(a),Y,N):s.eventCache.getNode().hasChild(Dt)?u.filter.updateChild(ce,Dt,hi.EMPTY_NODE,ur(a),Y,N):ce,Re.isEmpty()&&s.serverCache.isFullyInitialized()&&(B=$l(h,mo(s)),B.isLeafNode()&&(Re=u.filter.updateFullNode(Re,B,N)))}return B=s.serverCache.isFullyInitialized()||null!=es(h,ar()),pl(s,Re,B,u.filter.filtersNodes())}}(u,s,Re.path,h,v,N):function st(u,s,a,h,v,N,B){if(null!=es(v,a))return s;const Y=s.serverCache.isFiltered(),ce=s.serverCache;if(null!=h.value){if(ji(a)&&ce.isFullyInitialized()||ce.isCompleteForPath(a))return P(u,s,a,ce.getNode().getChild(a),v,N,Y,B);if(ji(a)){let Re=new pn(null);return ce.getNode().forEachChild(cs,(Dt,Rt)=>{Re=Re.set(new Qi(Dt),Rt)}),De(u,s,a,Re,v,N,Y,B)}return s}{let Re=new pn(null);return h.foreach((Dt,Rt)=>{const Jt=ir(a,Dt);ce.isCompleteForPath(Jt)&&(Re=Re.set(Dt,ce.getNode().getChild(Jt)))}),De(u,s,a,Re,v,N,Y,B)}}(u,s,Re.path,Re.affectedTree,h,v,N)}else{if(a.type!==Jo.LISTEN_COMPLETE)throw(0,Te.g5)("Unknown operation type: "+a.type);B=function pt(u,s,a,h,v){const N=s.serverCache;return bc(u,ii(s,N.getNode(),N.isFullyInitialized()||ji(a),N.isFiltered()),a,h,en,v)}(u,s,a.path,h,N)}const ce=N.getChanges();return function Ca(u,s,a){const h=s.eventCache;if(h.isFullyInitialized()){const v=h.getNode().isLeafNode()||h.getNode().isEmpty(),N=$i(u);(a.length>0||!u.eventCache.isFullyInitialized()||v&&!h.getNode().equals(N)||!h.getNode().getPriority().equals(N.getPriority()))&&a.push(Yt($i(s)))}}(s,B,ce),{viewCache:B,changes:ce}}(u.processor_,v,s,a,h);return function nl(u,s){(0,Te.hu)(s.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,Te.hu)(s.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,N.viewCache),(0,Te.hu)(N.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=N.viewCache,Vl(u,N.changes,N.viewCache.eventCache.getNode(),null)}function Vl(u,s,a,h){return function fl(u,s,a,h){const v=[],N=[];return s.forEach(B=>{"child_changed"===B.type&&u.index_.indexedValueChanged(B.oldSnap,B.snapshotNode)&&N.push(function Ur(u,s){return{type:"child_moved",snapshotNode:s,childName:u}}(B.childName,B.snapshotNode))}),za(u,v,"child_removed",s,h,a),za(u,v,"child_added",s,h,a),za(u,v,"child_moved",N,h,a),za(u,v,"child_changed",s,h,a),za(u,v,"value",s,h,a),v}(u.eventGenerator_,s,a,h?[h]:u.eventRegistrations_)}let Da,Li;class qs{constructor(){this.views=new Map}}function ee(u,s,a,h){const v=s.source.queryId;if(null!==v){const N=u.views.get(v);return(0,Te.hu)(null!=N,"SyncTree gave us an op for an invalid query."),Os(N,s,a,h)}{let N=[];for(const B of u.views.values())N=N.concat(Os(B,s,a,h));return N}}function Ne(u,s,a,h,v){const B=u.views.get(s._queryIdentifier);if(!B){let Y=$l(a,v?h:null),ce=!1;Y?ce=!0:h instanceof hi?(Y=yc(a,h),ce=!1):(Y=hi.EMPTY_NODE,ce=!1);const Re=Fo(new Ks(Y,ce,!1),new Ks(h,v,!1));return new Rn(s,Re)}return B}function nn(u){const s=[];for(const a of u.views.values())a.query._queryParams.loadsAllData()||s.push(a);return s}function An(u,s){let a=null;for(const h of u.views.values())a=a||Gi(h,s);return a}function Qn(u,s){return s._queryParams.loadsAllData()?Ci(u):u.views.get(s._queryIdentifier)}function zi(u,s){return null!=Qn(u,s)}function Ji(u){return null!=Ci(u)}function Ci(u){for(const s of u.views.values())if(s.query._queryParams.loadsAllData())return s;return null}let Ia=1;class qa{constructor(s){this.listenProvider_=s,this.syncPointTree_=new pn(null),this.pendingWriteTree_=function Uu(){return{visibleWrites:Kr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ia(u,s,a,h,v){return function qi(u,s,a,h,v){(0,Te.hu)(h>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:s,snap:a,writeId:h,visible:v}),v&&(u.visibleWrites=gl(u.visibleWrites,s,a)),u.lastWriteId=h}(u.pendingWriteTree_,s,a,h,v),v?Jc(u,new el({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,a)):[]}function ra(u,s,a=!1){const h=function Ya(u,s){for(let a=0;a<u.allWrites.length;a++){const h=u.allWrites[a];if(h.writeId===s)return h}return null}(u.pendingWriteTree_,s);if(function ns(u,s){const a=u.allWrites.findIndex(Y=>Y.writeId===s);(0,Te.hu)(a>=0,"removeWrite called with nonexistent writeId.");const h=u.allWrites[a];u.allWrites.splice(a,1);let v=h.visible,N=!1,B=u.allWrites.length-1;for(;v&&B>=0;){const Y=u.allWrites[B];Y.visible&&(B>=a&&Hi(Y,h.path)?v=!1:ys(h.path,Y.path)&&(N=!0)),B--}return!!v&&(N?(function ea(u){u.visibleWrites=us(u.allWrites,br,ar()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(h.snap?u.visibleWrites=Ll(u.visibleWrites,h.path):rt(h.children,ce=>{u.visibleWrites=Ll(u.visibleWrites,ir(h.path,ce))}),!0))}(u.pendingWriteTree_,s)){let N=new pn(null);return null!=h.snap?N=N.set(ar(),!0):rt(h.children,B=>{N=N.set(new Qi(B),!0)}),Jc(u,new Jl(h.path,N,a))}return[]}function il(u,s,a){return Jc(u,new el({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,a))}function ic(u,s,a,h,v=!1){const N=s._path,B=u.syncPointTree_.get(N);let Y=[];if(B&&("default"===s._queryIdentifier||zi(B,s))){const ce=function Vt(u,s,a,h){const v=s._queryIdentifier,N=[];let B=[];const Y=Ji(u);if("default"===v)for(const[ce,Re]of u.views.entries())B=B.concat(So(Re,a,h)),To(Re)&&(u.views.delete(ce),Re.query._queryParams.loadsAllData()||N.push(Re.query));else{const ce=u.views.get(v);ce&&(B=B.concat(So(ce,a,h)),To(ce)&&(u.views.delete(v),ce.query._queryParams.loadsAllData()||N.push(ce.query)))}return Y&&!Ji(u)&&N.push(new(function md(){return(0,Te.hu)(Da,"Reference.ts has not been loaded"),Da}())(s._repo,s._path)),{removed:N,events:B}}(B,s,a,h);(function z(u){return 0===u.views.size})(B)&&(u.syncPointTree_=u.syncPointTree_.remove(N));const Re=ce.removed;if(Y=ce.events,!v){const Dt=-1!==Re.findIndex(Jt=>Jt._queryParams.loadsAllData()),Rt=u.syncPointTree_.findOnPath(N,(Jt,Dn)=>Ji(Dn));if(Dt&&!Rt){const Jt=u.syncPointTree_.subtree(N);if(!Jt.isEmpty()){const Dn=function ip(u){return u.fold((s,a,h)=>{if(a&&Ji(a))return[Ci(a)];{let v=[];return a&&(v=nn(a)),rt(h,(N,B)=>{v=v.concat(B)}),v}})}(Jt);for(let Pn=0;Pn<Dn.length;++Pn){const oi=Dn[Pn],wr=oi.query,Yr=Xc(u,oi);u.listenProvider_.startListening(Vc(wr),Ra(u,wr),Yr.hashFn,Yr.onComplete)}}}!Rt&&Re.length>0&&!h&&(Dt?u.listenProvider_.stopListening(Vc(s),null):Re.forEach(Jt=>{const Dn=u.queryToTagMap.get(yd(Jt));u.listenProvider_.stopListening(Vc(Jt),Dn)}))}!function Ta(u,s){for(let a=0;a<s.length;++a){const h=s[a];if(!h._queryParams.loadsAllData()){const v=yd(h),N=u.queryToTagMap.get(v);u.queryToTagMap.delete(v),u.tagToQueryMap.delete(N)}}}(u,Re)}return Y}function _d(u,s,a,h){const v=eu(u,h);if(null!=v){const N=Wu(v),B=N.path,Y=N.queryId,ce=os(B,s);return yu(u,B,new el(hl(Y),ce,a))}return[]}function Hu(u,s,a,h=!1){const v=s._path;let N=null,B=!1;u.syncPointTree_.foreachOnPath(v,(Jt,Dn)=>{const Pn=os(Jt,v);N=N||An(Dn,Pn),B=B||Ji(Dn)});let ce,Y=u.syncPointTree_.get(v);Y?(B=B||Ji(Y),N=N||An(Y,ar())):(Y=new qs,u.syncPointTree_=u.syncPointTree_.set(v,Y)),null!=N?ce=!0:(ce=!1,N=hi.EMPTY_NODE,u.syncPointTree_.subtree(v).foreachChild((Dn,Pn)=>{const oi=An(Pn,ar());oi&&(N=N.updateImmediateChild(Dn,oi))}));const Re=zi(Y,s);if(!Re&&!s._queryParams.loadsAllData()){const Jt=yd(s);(0,Te.hu)(!u.queryToTagMap.has(Jt),"View does not exist, but we have a tag");const Dn=function uf(){return Ia++}();u.queryToTagMap.set(Jt,Dn),u.tagToQueryMap.set(Dn,Jt)}let Rt=function qe(u,s,a,h,v,N){const B=Ne(u,s,h,v,N);return u.views.has(s._queryIdentifier)||u.views.set(s._queryIdentifier,B),function xs(u,s){u.eventRegistrations_.push(s)}(B,a),function oo(u,s){const a=u.viewCache_.eventCache,h=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Wt,(N,B)=>{h.push(ln(N,B))}),a.isFullyInitialized()&&h.push(Yt(a.getNode())),Vl(u,h,a.getNode(),s)}(B,a)}(Y,s,a,Ho(u.pendingWriteTree_,v),N,ce);if(!Re&&!B&&!h){const Jt=Qn(Y,s);Rt=Rt.concat(function zu(u,s,a){const h=s._path,v=Ra(u,s),N=Xc(u,a),B=u.listenProvider_.startListening(Vc(s),v,N.hashFn,N.onComplete),Y=u.syncPointTree_.subtree(h);if(v)(0,Te.hu)(!Ji(Y.value),"If we're adding a query, it shouldn't be shadowed");else{const ce=Y.fold((Re,Dt,Rt)=>{if(!ji(Re)&&Dt&&Ji(Dt))return[Ci(Dt).query];{let Jt=[];return Dt&&(Jt=Jt.concat(nn(Dt).map(Dn=>Dn.query))),rt(Rt,(Dn,Pn)=>{Jt=Jt.concat(Pn)}),Jt}});for(let Re=0;Re<ce.length;++Re){const Dt=ce[Re];u.listenProvider_.stopListening(Vc(Dt),Ra(u,Dt))}}return B}(u,s,Jt))}return Rt}function Gu(u,s,a){const v=u.pendingWriteTree_,N=u.syncPointTree_.findOnPath(s,(B,Y)=>{const Re=An(Y,os(B,s));if(Re)return Re});return Ys(v,s,N,a,!0)}function Jc(u,s){return Zs(s,u.syncPointTree_,null,Ho(u.pendingWriteTree_,ar()))}function Zs(u,s,a,h){if(ji(u.path))return Jd(u,s,a,h);{const v=s.get(ar());null==a&&null!=v&&(a=An(v,ar()));let N=[];const B=Yi(u.path),Y=u.operationForChild(B),ce=s.children.get(B);if(ce&&Y){const Re=a?a.getImmediateChild(B):null,Dt=ec(h,B);N=N.concat(Zs(Y,ce,Re,Dt))}return v&&(N=N.concat(ee(v,u,h,a))),N}}function Jd(u,s,a,h){const v=s.get(ar());null==a&&null!=v&&(a=An(v,ar()));let N=[];return s.children.inorderTraversal((B,Y)=>{const ce=a?a.getImmediateChild(B):null,Re=ec(h,B),Dt=u.operationForChild(B);Dt&&(N=N.concat(Jd(Dt,Y,ce,Re)))}),v&&(N=N.concat(ee(v,u,h,a))),N}function Xc(u,s){const a=s.query,h=Ra(u,a);return{hashFn:()=>(function dr(u){return u.viewCache_.serverCache.getNode()}(s)||hi.EMPTY_NODE).hash(),onComplete:v=>{if("ok"===v)return h?function _l(u,s,a){const h=eu(u,a);if(h){const v=Wu(h),N=v.path,B=v.queryId,Y=os(N,s);return yu(u,N,new Ga(hl(B),Y))}return[]}(u,a._path,h):function ml(u,s){return Jc(u,new Ga({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(u,a._path);{const N=function Ki(u,s){let a="Unknown Error";"too_big"===u?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?a="Client doesn't have permission to access the desired data.":"unavailable"===u&&(a="The service is unavailable");const h=new Error(u+" at "+s._path.toString()+": "+a);return h.code=u.toUpperCase(),h}(v,a);return ic(u,a,null,N)}}}}function Ra(u,s){const a=yd(s);return u.queryToTagMap.get(a)}function yd(u){return u._path.toString()+"$"+u._queryIdentifier}function eu(u,s){return u.tagToQueryMap.get(s)}function Wu(u){const s=u.indexOf("$");return(0,Te.hu)(-1!==s&&s<u.length-1,"Bad queryKey."),{queryId:u.substr(s+1),path:new Qi(u.substr(0,s))}}function yu(u,s,a){const h=u.syncPointTree_.get(s);return(0,Te.hu)(h,"Missing sync point for query tag that we're tracking"),ee(h,a,Ho(u.pendingWriteTree_,s),null)}function Vc(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function ha(){return(0,Te.hu)(Li,"Reference.ts has not been loaded"),Li}())(u._repo,u._path):u}class vd{constructor(s){this.node_=s}getImmediateChild(s){const a=this.node_.getImmediateChild(s);return new vd(a)}node(){return this.node_}}class Uc{constructor(s,a){this.syncTree_=s,this.path_=a}getImmediateChild(s){const a=ir(this.path_,s);return new Uc(this.syncTree_,a)}node(){return Gu(this.syncTree_,this.path_)}}const df=function(u,s,a){return u&&"object"==typeof u?((0,Te.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Kp(u[".sv"],s,a):"object"==typeof u[".sv"]?bd(u[".sv"],s):void(0,Te.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Kp=function(u,s,a){if("timestamp"===u)return a.timestamp;(0,Te.hu)(!1,"Unexpected server value: "+u)},bd=function(u,s,a){u.hasOwnProperty("increment")||(0,Te.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const h=u.increment;"number"!=typeof h&&(0,Te.hu)(!1,"Unexpected increment value: "+h);const v=s.node();if((0,Te.hu)(null!==v&&typeof v<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return h;const B=v.getValue();return"number"!=typeof B?h:B+h},rc=function(u,s,a,h){return Xd(s,new Uc(a,u),h)},jc=function(u,s,a){return Xd(u,new vd(s),a)};function Xd(u,s,a){const h=u.getPriority().val(),v=df(h,s.getImmediateChild(".priority"),a);let N;if(u.isLeafNode()){const B=u,Y=df(B.getValue(),s,a);return Y!==B.getValue()||v!==B.getPriority().val()?new D(Y,Lr(v)):u}{const B=u;return N=B,v!==B.getPriority().val()&&(N=N.updatePriority(new D(v))),B.forEachChild(Wt,(Y,ce)=>{const Re=Xd(ce,s.getImmediateChild(Y),a);Re!==ce&&(N=N.updateImmediateChild(Y,Re))}),N}}class wd{constructor(s="",a=null,h={children:{},childCount:0}){this.name=s,this.parent=a,this.node=h}}function tu(u,s){let a=s instanceof Qi?s:new Qi(s),h=u,v=Yi(a);for(;null!==v;){const N=(0,Te.DV)(h.node.children,v)||{children:{},childCount:0};h=new wd(v,h,N),a=ur(a),v=Yi(a)}return h}function rl(u){return u.node.value}function vu(u,s){u.node.value=s,Sa(u)}function bu(u){return u.node.childCount>0}function Ku(u,s){rt(u.node.children,(a,h)=>{s(new wd(a,u,h))})}function Ml(u,s,a,h){a&&!h&&s(u),Ku(u,v=>{Ml(v,s,!0,h)}),a&&h&&s(u)}function sc(u){return new Qi(null===u.parent?u.name:sc(u.parent)+"/"+u.name)}function Sa(u){null!==u.parent&&function Sh(u,s,a){const h=function Th(u){return void 0===rl(u)&&!bu(u)}(a),v=(0,Te.r3)(u.node.children,s);h&&v?(delete u.node.children[s],u.node.childCount--,Sa(u)):!h&&!v&&(u.node.children[s]=a.node,u.node.childCount++,Sa(u))}(u.parent,u.name,u)}const sl=/[\[\].#$\/\u0000-\u001F\u007F]/,vo=/[\[\].#$\u0000-\u001F\u007F]/,Yu=10485760,ol=function(u){return"string"==typeof u&&0!==u.length&&!sl.test(u)},qu=function(u){return"string"==typeof u&&0!==u.length&&!vo.test(u)},nu=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!mn(u)||u&&"object"==typeof u&&(0,Te.r3)(u,".sv")},yl=function(u,s,a,h){h&&void 0===s||wc((0,Te.gK)(u,"value"),s,a)},wc=function(u,s,a){const h=a instanceof Qi?new fo(a,u):a;if(void 0===s)throw new Error(u+"contains undefined "+Xr(h));if("function"==typeof s)throw new Error(u+"contains a function "+Xr(h)+" with contents = "+s.toString());if(mn(s))throw new Error(u+"contains "+s.toString()+" "+Xr(h));if("string"==typeof s&&s.length>Yu/3&&(0,Te.ug)(s)>Yu)throw new Error(u+"contains a string greater than "+Yu+" utf8 bytes "+Xr(h)+" ('"+s.substring(0,50)+"...')");if(s&&"object"==typeof s){let v=!1,N=!1;if(rt(s,(B,Y)=>{if(".value"===B)v=!0;else if(".priority"!==B&&".sv"!==B&&(N=!0,!ol(B)))throw new Error(u+" contains an invalid key ("+B+") "+Xr(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function $s(u,s){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=(0,Te.ug)(s),io(u)})(h,B),wc(u,Y,h),function _a(u){const s=u.parts_.pop();u.byteLength_-=(0,Te.ug)(s),u.parts_.length>0&&(u.byteLength_-=1)}(h)}),v&&N)throw new Error(u+' contains ".value" child '+Xr(h)+" in addition to actual children.")}},xl=function(u,s,a,h){if(h&&void 0===s)return;const v=(0,Te.gK)(u,"values");if(!s||"object"!=typeof s||Array.isArray(s))throw new Error(v+" must be an object containing the children to replace.");const N=[];rt(s,(B,Y)=>{const ce=new Qi(B);if(wc(v,Y,ir(a,ce)),".priority"===Is(ce)&&!nu(Y))throw new Error(v+"contains an invalid value for '"+ce.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");N.push(ce)}),function(u,s){let a,h;for(a=0;a<s.length;a++){h=s[a];const N=Bs(h);for(let B=0;B<N.length;B++)if((".priority"!==N[B]||B!==N.length-1)&&!ol(N[B]))throw new Error(u+"contains an invalid key ("+N[B]+") in path "+h.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}s.sort(kr);let v=null;for(a=0;a<s.length;a++){if(h=s[a],null!==v&&ys(v,h))throw new Error(u+"contains a path "+v.toString()+" that is ancestor of another path "+h.toString());v=h}}(v,N)},iu=function(u,s,a){if(!a||void 0!==s){if(mn(s))throw new Error((0,Te.gK)(u,"priority")+"is "+s.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nu(s))throw new Error((0,Te.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Eu=function(u,s,a,h){if(!(h&&void 0===a||ol(a)))throw new Error((0,Te.gK)(u,s)+'was an invalid key = "'+a+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ru=function(u,s,a,h){if(!(h&&void 0===a||qu(a)))throw new Error((0,Te.gK)(u,s)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Aa=function(u,s){if(".info"===Yi(s))throw new Error(u+" failed = Can't modify data under /.info/")},ou=function(u,s){const a=s.path.toString();if("string"!=typeof s.repoInfo.host||0===s.repoInfo.host.length||!ol(s.repoInfo.namespace)&&"localhost"!==s.repoInfo.host.split(":")[0]||0!==a.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),qu(u)}(a))throw new Error((0,Te.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Za{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jl(u,s){let a=null;for(let h=0;h<s.length;h++){const v=s[h],N=v.getPath();null!==a&&!ho(N,a.path)&&(u.eventLists_.push(a),a=null),null===a&&(a={events:[],path:N}),a.events.push(v)}a&&u.eventLists_.push(a)}function Ec(u,s,a){jl(u,a),Cc(u,h=>ho(h,s))}function Qa(u,s,a){jl(u,a),Cc(u,h=>ys(h,s)||ys(s,h))}function Cc(u,s){u.recursionDepth_++;let a=!0;for(let h=0;h<u.eventLists_.length;h++){const v=u.eventLists_[h];v&&(s(v.path)?(Hl(u.eventLists_[h]),u.eventLists_[h]=null):a=!1)}a&&(u.eventLists_=[]),u.recursionDepth_--}function Hl(u){for(let s=0;s<u.events.length;s++){const a=u.events[s];if(null!==a){u.events[s]=null;const h=a.getEventRunner();Di&&He("event: "+a.toString()),Bi(h)}}}const eh="repo_interrupt";class ao{constructor(s,a,h,v){this.repoInfo_=s,this.forceRestClient_=a,this.authTokenProvider_=h,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Za,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$c(),this.transactionQueueTree_=new wd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function au(u){const a=u.infoData_.getNode(new Qi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a}function Hc(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:au(u)})}function th(u,s,a,h,v){u.dataUpdateCount++;const N=new Qi(s);a=u.interceptServerDataCallback_?u.interceptServerDataCallback_(s,a):a;let B=[];if(v)if(h){const ce=(0,Te.UI)(a,Re=>Lr(Re));B=function np(u,s,a,h){const v=eu(u,h);if(v){const N=Wu(v),B=N.path,Y=N.queryId,ce=os(B,s),Re=pn.fromObject(a);return yu(u,B,new xr(hl(Y),ce,Re))}return[]}(u.serverSyncTree_,N,ce,v)}else{const ce=Lr(a);B=_d(u.serverSyncTree_,N,ce,v)}else if(h){const ce=(0,Te.UI)(a,Re=>Lr(Re));B=function Nl(u,s,a){const h=pn.fromObject(a);return Jc(u,new xr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,h))}(u.serverSyncTree_,N,ce)}else{const ce=Lr(a);B=il(u.serverSyncTree_,N,ce)}let Y=N;B.length>0&&(Y=Wl(u,N)),Qa(u.eventQueue_,Y,B)}function Zu(u,s){Cd(u,"connected",s),!1===s&&function Qu(u){Ol(u,"onDisconnectEvents");const s=Hc(u),a=$c();ko(u.onDisconnect_,ar(),(v,N)=>{const B=rc(v,N,u.serverSyncTree_,s);Tl(a,v,B)});let h=[];ko(a,ar(),(v,N)=>{h=h.concat(il(u.serverSyncTree_,v,N));const B=lu(u,v);Wl(u,B)}),u.onDisconnect_=$c(),Qa(u.eventQueue_,ar(),h)}(u)}function Cd(u,s,a){const h=new Qi("/.info/"+s),v=Lr(a);u.infoData_.updateSnapshot(h,v);const N=il(u.infoSyncTree_,h,v);Qa(u.eventQueue_,h,N)}function Gc(u){return u.nextWriteId_++}function Dd(u,s,a,h,v){Ol(u,"set",{path:s.toString(),value:a,priority:h});const N=Hc(u),B=Lr(a,h),Y=Gu(u.serverSyncTree_,s),ce=jc(B,Y,N),Re=Gc(u),Dt=ia(u.serverSyncTree_,s,ce,Re,!0);jl(u.eventQueue_,Dt),u.server_.put(s.toString(),B.val(!0),(Jt,Dn)=>{const Pn="ok"===Jt;Pn||Bn("set at "+s+" failed: "+Jt);const oi=ra(u.serverSyncTree_,Re,!Pn);Qa(u.eventQueue_,s,oi),Bo(0,v,Jt,Dn)});const Rt=lu(u,s);Wl(u,Rt),Qa(u.eventQueue_,Rt,[])}function Ju(u,s,a){u.server_.onDisconnectCancel(s.toString(),(h,v)=>{"ok"===h&&dl(u.onDisconnect_,s),Bo(0,a,h,v)})}function Cu(u,s,a,h){const v=Lr(a);u.server_.onDisconnectPut(s.toString(),v.val(!0),(N,B)=>{"ok"===N&&Tl(u.onDisconnect_,s,v),Bo(0,h,N,B)})}function Dc(u,s,a){let h;h=".info"===Yi(s._path)?ic(u.infoSyncTree_,s,a):ic(u.serverSyncTree_,s,a),Ec(u.eventQueue_,s._path,h)}function Ic(u){u.persistentConnection_&&u.persistentConnection_.interrupt(eh)}function Ol(u,...s){let a="";u.persistentConnection_&&(a=u.persistentConnection_.id+":"),He(a,...s)}function Bo(u,s,a,h){s&&Bi(()=>{if("ok"===a)s(null);else{const v=(a||"error").toUpperCase();let N=v;h&&(N+=": "+h);const B=new Error(N);B.code=v,s(B)}})}function Pa(u,s,a){return Gu(u.serverSyncTree_,s,a)||hi.EMPTY_NODE}function Xu(u,s=u.transactionQueueTree_){if(s||ac(u,s),rl(s)){const a=ed(u,s);(0,Te.hu)(a.length>0,"Sending zero length transaction queue"),a.every(v=>0===v.status)&&function bo(u,s,a){const h=a.map(Re=>Re.currentWriteId),v=Pa(u,s,h);let N=v;const B=v.hash();for(let Re=0;Re<a.length;Re++){const Dt=a[Re];(0,Te.hu)(0===Dt.status,"tryToSendTransactionQueue_: items in queue should all be run."),Dt.status=1,Dt.retryCount++;const Rt=os(s,Dt.path);N=N.updateChild(Rt,Dt.currentOutputSnapshotRaw)}const Y=N.val(!0),ce=s;u.server_.put(ce.toString(),Y,Re=>{Ol(u,"transaction put response",{path:ce.toString(),status:Re});let Dt=[];if("ok"===Re){const Rt=[];for(let Jt=0;Jt<a.length;Jt++)a[Jt].status=2,Dt=Dt.concat(ra(u.serverSyncTree_,a[Jt].currentWriteId)),a[Jt].onComplete&&Rt.push(()=>a[Jt].onComplete(null,!0,a[Jt].currentOutputSnapshotResolved)),a[Jt].unwatcher();ac(u,tu(u.transactionQueueTree_,s)),Xu(u,u.transactionQueueTree_),Qa(u.eventQueue_,s,Dt);for(let Jt=0;Jt<Rt.length;Jt++)Bi(Rt[Jt])}else{if("datastale"===Re)for(let Rt=0;Rt<a.length;Rt++)a[Rt].status=3===a[Rt].status?4:0;else{Bn("transaction at "+ce.toString()+" failed: "+Re);for(let Rt=0;Rt<a.length;Rt++)a[Rt].status=4,a[Rt].abortReason=Re}Wl(u,s)}},B)}(u,sc(s),a)}else bu(s)&&Ku(s,a=>{Xu(u,a)})}function Wl(u,s){const a=Wc(u,s),h=sc(a);return function Du(u,s,a){if(0===s.length)return;const h=[];let v=[];const B=s.filter(Y=>0===Y.status).map(Y=>Y.currentWriteId);for(let Y=0;Y<s.length;Y++){const ce=s[Y],Re=os(a,ce.path);let Rt,Dt=!1;if((0,Te.hu)(null!==Re,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ce.status)Dt=!0,Rt=ce.abortReason,v=v.concat(ra(u.serverSyncTree_,ce.currentWriteId,!0));else if(0===ce.status)if(ce.retryCount>=25)Dt=!0,Rt="maxretry",v=v.concat(ra(u.serverSyncTree_,ce.currentWriteId,!0));else{const Jt=Pa(u,ce.path,B);ce.currentInputSnapshot=Jt;const Dn=s[Y].update(Jt.val());if(void 0!==Dn){wc("transaction failed: Data returned ",Dn,ce.path);let Pn=Lr(Dn);"object"==typeof Dn&&null!=Dn&&(0,Te.r3)(Dn,".priority")||(Pn=Pn.updatePriority(Jt.getPriority()));const wr=ce.currentWriteId,Yr=Hc(u),cr=jc(Pn,Jt,Yr);ce.currentOutputSnapshotRaw=Pn,ce.currentOutputSnapshotResolved=cr,ce.currentWriteId=Gc(u),B.splice(B.indexOf(wr),1),v=v.concat(ia(u.serverSyncTree_,ce.path,cr,ce.currentWriteId,ce.applyLocally)),v=v.concat(ra(u.serverSyncTree_,wr,!0))}else Dt=!0,Rt="nodata",v=v.concat(ra(u.serverSyncTree_,ce.currentWriteId,!0))}Qa(u.eventQueue_,a,v),v=[],Dt&&(s[Y].status=2,setTimeout(s[Y].unwatcher,Math.floor(0)),s[Y].onComplete&&h.push("nodata"===Rt?()=>s[Y].onComplete(null,!1,s[Y].currentInputSnapshot):()=>s[Y].onComplete(new Error(Rt),!1,null)))}ac(u,u.transactionQueueTree_);for(let Y=0;Y<h.length;Y++)Bi(h[Y]);Xu(u,u.transactionQueueTree_)}(u,ed(u,a),h),h}function Wc(u,s){let a,h=u.transactionQueueTree_;for(a=Yi(s);null!==a&&void 0===rl(h);)h=tu(h,a),a=Yi(s=ur(s));return h}function ed(u,s){const a=[];return Ar(u,s,a),a.sort((h,v)=>h.order-v.order),a}function Ar(u,s,a){const h=rl(s);if(h)for(let v=0;v<h.length;v++)a.push(h[v]);Ku(s,v=>{Ar(u,v,a)})}function ac(u,s){const a=rl(s);if(a){let h=0;for(let v=0;v<a.length;v++)2!==a[v].status&&(a[h]=a[v],h++);a.length=h,vu(s,a.length>0?a:void 0)}Ku(s,h=>{ac(u,h)})}function lu(u,s){const a=sc(Wc(u,s)),h=tu(u.transactionQueueTree_,s);return function wu(u,s,a){let h=a?u:u.parent;for(;null!==h;){if(s(h))return!0;h=h.parent}}(h,v=>{Tc(u,v)}),Tc(u,h),Ml(h,v=>{Tc(u,v)}),a}function Tc(u,s){const a=rl(s);if(a){const h=[];let v=[],N=-1;for(let B=0;B<a.length;B++)3===a[B].status||(1===a[B].status?((0,Te.hu)(N===B-1,"All SENT items should be at beginning of queue."),N=B,a[B].status=3,a[B].abortReason="set"):((0,Te.hu)(0===a[B].status,"Unexpected transaction status in abort"),a[B].unwatcher(),v=v.concat(ra(u.serverSyncTree_,a[B].currentWriteId,!0)),a[B].onComplete&&h.push(a[B].onComplete.bind(null,new Error("set"),!1,null))));-1===N?vu(s,void 0):a.length=N+1,Qa(u.eventQueue_,sc(s),v);for(let B=0;B<h.length;B++)Bi(h[B])}}const cu=function(u,s){const a=nd(u),h=a.namespace;return"firebase.com"===a.domain&&Tn(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==a.domain&&Tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new di(a.host,a.secure,h,"ws"===a.scheme||"wss"===a.scheme,s,"",h!==a.subdomain),path:new Qi(a.pathString)}},nd=function(u){let s="",a="",h="",v="",N="",B=!0,Y="https",ce=443;if("string"==typeof u){let Re=u.indexOf("//");Re>=0&&(Y=u.substring(0,Re-1),u=u.substring(Re+2));let Dt=u.indexOf("/");-1===Dt&&(Dt=u.length);let Rt=u.indexOf("?");-1===Rt&&(Rt=u.length),s=u.substring(0,Math.min(Dt,Rt)),Dt<Rt&&(v=function ka(u){let s="";const a=u.split("/");for(let h=0;h<a.length;h++)if(a[h].length>0){let v=a[h];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch{}s+="/"+v}return s}(u.substring(Dt,Rt)));const Jt=function td(u){const s={};"?"===u.charAt(0)&&(u=u.substring(1));for(const a of u.split("&")){if(0===a.length)continue;const h=a.split("=");2===h.length?s[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):Bn(`Invalid query segment '${a}' in query '${u}'`)}return s}(u.substring(Math.min(u.length,Rt)));Re=s.indexOf(":"),Re>=0?(B="https"===Y||"wss"===Y,ce=parseInt(s.substring(Re+1),10)):Re=s.length;const Dn=s.slice(0,Re);if("localhost"===Dn.toLowerCase())a="localhost";else if(Dn.split(".").length<=2)a=Dn;else{const Pn=s.indexOf(".");h=s.substring(0,Pn).toLowerCase(),a=s.substring(Pn+1),N=h}"ns"in Jt&&(N=Jt.ns)}return{host:s,port:ce,domain:a,subdomain:h,secure:B,scheme:Y,pathString:v,namespace:N}};class lc{constructor(s,a,h,v){this.eventType=s,this.eventRegistration=a,this.snapshot=h,this.prevName=v}getPath(){const s=this.snapshot.ref;return"value"===this.eventType?s._path:s.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Te.Pz)(this.snapshot.exportVal())}}class Iu{constructor(s,a,h){this.eventRegistration=s,this.error=a,this.path=h}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Go{constructor(s,a){this.snapshotCallback=s,this.cancelCallback=a}onValue(s,a){this.snapshotCallback.call(null,s,a)}onCancel(s){return(0,Te.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,s)}get hasCancelCallback(){return!!this.cancelCallback}matches(s){return this.snapshotCallback===s.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===s.snapshotCallback.userCallback&&this.snapshotCallback.context===s.snapshotCallback.context}}class Tu{constructor(s,a){this._repo=s,this._path=a}cancel(){const s=new Te.BH;return Ju(this._repo,this._path,s.wrapCallback(()=>{})),s.promise}remove(){Aa("OnDisconnect.remove",this._path);const s=new Te.BH;return Cu(this._repo,this._path,null,s.wrapCallback(()=>{})),s.promise}set(s){Aa("OnDisconnect.set",this._path),yl("OnDisconnect.set",s,this._path,!1);const a=new Te.BH;return Cu(this._repo,this._path,s,a.wrapCallback(()=>{})),a.promise}setWithPriority(s,a){Aa("OnDisconnect.setWithPriority",this._path),yl("OnDisconnect.setWithPriority",s,this._path,!1),iu("OnDisconnect.setWithPriority",a,!1);const h=new Te.BH;return function ff(u,s,a,h,v){const N=Lr(a,h);u.server_.onDisconnectPut(s.toString(),N.val(!0),(B,Y)=>{"ok"===B&&Tl(u.onDisconnect_,s,N),Bo(0,v,B,Y)})}(this._repo,this._path,s,a,h.wrapCallback(()=>{})),h.promise}update(s){Aa("OnDisconnect.update",this._path),xl("OnDisconnect.update",s,this._path,!1);const a=new Te.BH;return function Yo(u,s,a,h){if((0,Te.xb)(a))return He("onDisconnect().update() called with empty data.  Don't do anything."),void Bo(0,h,"ok",void 0);u.server_.onDisconnectMerge(s.toString(),a,(v,N)=>{"ok"===v&&rt(a,(B,Y)=>{const ce=Lr(Y);Tl(u.onDisconnect_,ir(s,B),ce)}),Bo(0,h,v,N)})}(this._repo,this._path,s,a.wrapCallback(()=>{})),a.promise}}class Fa{constructor(s,a,h,v){this._repo=s,this._path=a,this._queryParams=h,this._orderByCalled=v}get key(){return ji(this._path)?null:Is(this._path)}get ref(){return new vl(this._repo,this._path)}get _queryIdentifier(){const s=Es(this._queryParams),a=Xe(s);return"{}"===a?"default":a}get _queryObject(){return Es(this._queryParams)}isEqual(s){if(!((s=(0,Te.m9)(s))instanceof Fa))return!1;const a=this._repo===s._repo,h=ho(this._path,s._path);return a&&h&&this._queryIdentifier===s._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Gs(u){let s="";for(let a=u.pieceNum_;a<u.pieces_.length;a++)""!==u.pieces_[a]&&(s+="/"+encodeURIComponent(String(u.pieces_[a])));return s||"/"}(this._path)}}function id(u,s){if(!0===u._orderByCalled)throw new Error(s+": You can't combine multiple orderBy calls.")}function Ao(u){let s=null,a=null;if(u.hasStart()&&(s=u.getIndexStartValue()),u.hasEnd()&&(a=u.getIndexEndValue()),u.getIndex()===cs){const h="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==Nn)throw new Error(h);if("string"!=typeof s)throw new Error(v)}if(u.hasEnd()){if(u.getIndexEndName()!==Pi)throw new Error(h);if("string"!=typeof a)throw new Error(v)}}else if(u.getIndex()===Wt){if(null!=s&&!nu(s)||null!=a&&!nu(a))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Te.hu)(u.getIndex()instanceof Ns||u.getIndex()===Ko,"unknown index type."),null!=s&&"object"==typeof s||null!=a&&"object"==typeof a)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zl(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class vl extends Fa{constructor(s,a){super(s,a,new Qr,!1)}get parent(){const s=ca(this._path);return null===s?null:new vl(this._repo,s)}get root(){let s=this;for(;null!==s.parent;)s=s.parent;return s}}class Sc{constructor(s,a,h){this._node=s,this.ref=a,this._index=h}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(s){const a=new Qi(s),h=Nc(this.ref,s);return new Sc(this._node.getChild(a),h,Wt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(s){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(h,v)=>s(new Sc(v,Nc(this.ref,h),Wt)))}hasChild(s){const a=new Qi(s);return!this._node.getChild(a).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oa(u,s){return(u=(0,Te.m9)(u))._checkNotDeleted("ref"),void 0!==s?Nc(u._root,s):u._root}function Ac(u,s){(u=(0,Te.m9)(u))._checkNotDeleted("refFromURL");const a=cu(s,u._repo.repoInfo_.nodeAdmin);ou("refFromURL",a);const h=a.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&h.host!==u._repo.repoInfo_.host&&Tn("refFromURL: Host name does not match the current database: (found "+h.host+" but expected "+u._repo.repoInfo_.host+")"),oa(u,a.path.toString())}function Nc(u,s){return null===Yi((u=(0,Te.m9)(u))._path)?(a=s,a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),ru("child","path",a,!1)):ru("child","path",s,!1),new vl(u._repo,ir(u._path,s));var a}function x(u,s){u=(0,Te.m9)(u),Aa("set",u._path),yl("set",s,u._path,!1);const a=new Te.BH;return Dd(u._repo,u._path,s,null,a.wrapCallback(()=>{})),a.promise}function k(u,s){xl("update",s,u._path,!1);const a=new Te.BH;return function hf(u,s,a,h){Ol(u,"update",{path:s.toString(),value:a});let v=!0;const N=Hc(u),B={};if(rt(a,(Y,ce)=>{v=!1,B[Y]=rc(ir(s,Y),Lr(ce),u.serverSyncTree_,N)}),v)He("update() called with empty data.  Don't do anything."),Bo(0,h,"ok",void 0);else{const Y=Gc(u),ce=function Ul(u,s,a,h){!function Xo(u,s,a,h){(0,Te.hu)(h>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:s,children:a,writeId:h,visible:!0}),u.visibleWrites=vs(u.visibleWrites,s,a),u.lastWriteId=h}(u.pendingWriteTree_,s,a,h);const v=pn.fromObject(a);return Jc(u,new xr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,v))}(u.serverSyncTree_,s,B,Y);jl(u.eventQueue_,ce),u.server_.merge(s.toString(),a,(Re,Dt)=>{const Rt="ok"===Re;Rt||Bn("update at "+s+" failed: "+Re);const Jt=ra(u.serverSyncTree_,Y,!Rt),Dn=Jt.length>0?Wl(u,s):s;Qa(u.eventQueue_,Dn,Jt),Bo(0,h,Re,Dt)}),rt(a,Re=>{const Dt=lu(u,ir(s,Re));Wl(u,Dt)}),Qa(u.eventQueue_,s,[])}}(u._repo,u._path,s,a.wrapCallback(()=>{})),a.promise}function ae(u){u=(0,Te.m9)(u);const s=new Go(()=>{}),a=new Pe(s);return function oc(u,s,a){const h=function fa(u,s){const a=s._path;let h=null;u.syncPointTree_.foreachOnPath(a,(Re,Dt)=>{const Rt=os(Re,a);h=h||An(Dt,Rt)});let v=u.syncPointTree_.get(a);v?h=h||An(v,ar()):(v=new qs,u.syncPointTree_=u.syncPointTree_.set(a,v));const N=null!=h,B=N?new Ks(h,!0,!1):null;return function Jn(u){return $i(u.viewCache_)}(Ne(v,s,Ho(u.pendingWriteTree_,s._path),N?B.getNode():hi.EMPTY_NODE,N))}(u.serverSyncTree_,s);return null!=h?Promise.resolve(h):u.server_.get(s).then(v=>{const N=Lr(v).withIndex(s._queryParams.getIndex());let B;if(Hu(u.serverSyncTree_,s,a,!0),s._queryParams.loadsAllData())B=il(u.serverSyncTree_,s._path,N);else{const Y=Ra(u.serverSyncTree_,s);B=_d(u.serverSyncTree_,s._path,N,Y)}return Qa(u.eventQueue_,s._path,B),ic(u.serverSyncTree_,s,a,null,!0),N},v=>(Ol(u,"get for query "+(0,Te.Pz)(s)+" failed: "+v),Promise.reject(new Error(v))))}(u._repo,u,a).then(h=>new Sc(h,new vl(u._repo,u._path),u._queryParams.getIndex()))}class Pe{constructor(s){this.callbackContext=s}respondsTo(s){return"value"===s}createEvent(s,a){const h=a._queryParams.getIndex();return new lc("value",this,new Sc(s.snapshotNode,new vl(a._repo,a._path),h))}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,null)}createCancelEvent(s,a){return this.callbackContext.hasCancelCallback?new Iu(this,s,a):null}matches(s){return s instanceof Pe&&(!s.callbackContext||!this.callbackContext||s.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class kt{constructor(s,a){this.eventType=s,this.callbackContext=a}respondsTo(s){let a="children_added"===s?"child_added":s;return a="children_removed"===a?"child_removed":a,this.eventType===a}createCancelEvent(s,a){return this.callbackContext.hasCancelCallback?new Iu(this,s,a):null}createEvent(s,a){(0,Te.hu)(null!=s.childName,"Child events should have a childName.");const h=Nc(new vl(a._repo,a._path),s.childName),v=a._queryParams.getIndex();return new lc(s.type,this,new Sc(s.snapshotNode,h,v),s.prevName)}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,s.prevName)}matches(s){return s instanceof kt&&this.eventType===s.eventType&&(!this.callbackContext||!s.callbackContext||this.callbackContext.matches(s.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function an(u,s,a,h,v){let N;if("object"==typeof h&&(N=void 0,v=h),"function"==typeof h&&(N=h),v&&v.onlyOnce){const ce=a,Re=(Dt,Rt)=>{Dc(u._repo,u,Y),ce(Dt,Rt)};Re.userCallback=a.userCallback,Re.context=a.context,a=Re}const B=new Go(a,N||void 0),Y="value"===s?new Pe(B):new kt(s,B);return function ds(u,s,a){let h;h=".info"===Yi(s._path)?Hu(u.infoSyncTree_,s,a):Hu(u.serverSyncTree_,s,a),Ec(u.eventQueue_,s._path,h)}(u._repo,u,Y),()=>Dc(u._repo,u,Y)}function qn(u,s,a,h){return an(u,"value",s,a,h)}function Ii(u,s,a,h){return an(u,"child_added",s,a,h)}function sr(u,s,a,h){return an(u,"child_changed",s,a,h)}function Xi(u,s,a,h){return an(u,"child_moved",s,a,h)}function Wo(u,s,a,h){return an(u,"child_removed",s,a,h)}function Rl(u,s,a){let h=null;const v=a?new Go(a):null;"value"===s?h=new Pe(v):s&&(h=new kt(s,v)),Dc(u._repo,u,h)}class La{}class Mh extends La{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){yl("endAt",this._value,s._path,!0);const a=Qo(s._queryParams,this._value,this._key);if(zl(a),Ao(a),s._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fa(s._repo,s._path,a,s._orderByCalled)}}class zc extends La{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){yl("endBefore",this._value,s._path,!1);const a=function ua(u,s,a){let h,v;return u.index_===cs?("string"==typeof s&&(s=dt(s)),v=Qo(u,s,a)):(h=null==a?Nn:dt(a),v=Qo(u,s,h)),v.endBeforeSet_=!0,v}(s._queryParams,this._value,this._key);if(zl(a),Ao(a),s._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fa(s._repo,s._path,a,s._orderByCalled)}}class Td extends La{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){yl("startAt",this._value,s._path,!0);const a=Do(s._queryParams,this._value,this._key);if(zl(a),Ao(a),s._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fa(s._repo,s._path,a,s._orderByCalled)}}class sp extends La{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){yl("startAfter",this._value,s._path,!1);const a=function Ha(u,s,a){let h;if(u.index_===cs)"string"==typeof s&&(s=Ae(s)),h=Do(u,s,a);else{let v;v=null==a?Pi:Ae(a),h=Do(u,s,v)}return h.startAfterSet_=!0,h}(s._queryParams,this._value,this._key);if(zl(a),Ao(a),s._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fa(s._repo,s._path,a,s._orderByCalled)}}class ll extends La{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fa(s._repo,s._path,function ja(u,s){const a=u.copy();return a.limitSet_=!0,a.limit_=s,a.viewFrom_="l",a}(s._queryParams,this._limit),s._orderByCalled)}}class xh extends La{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fa(s._repo,s._path,function ya(u,s){const a=u.copy();return a.limitSet_=!0,a.limit_=s,a.viewFrom_="r",a}(s._queryParams,this._limit),s._orderByCalled)}}class pf extends La{constructor(s){super(),this._path=s}_apply(s){id(s,"orderByChild");const a=new Qi(this._path);if(ji(a))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const h=new Ns(a),v=va(s._queryParams,h);return Ao(v),new Fa(s._repo,s._path,v,!0)}}class op extends La{_apply(s){id(s,"orderByKey");const a=va(s._queryParams,cs);return Ao(a),new Fa(s._repo,s._path,a,!0)}}class qp extends La{_apply(s){id(s,"orderByPriority");const a=va(s._queryParams,Wt);return Ao(a),new Fa(s._repo,s._path,a,!0)}}class cp extends La{_apply(s){id(s,"orderByValue");const a=va(s._queryParams,Ko);return Ao(a),new Fa(s._repo,s._path,a,!0)}}class Oh extends La{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){if(yl("equalTo",this._value,s._path,!1),s._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(s._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Mh(this._value,this._key)._apply(new Td(this._value,this._key)._apply(s))}}function Kc(u,...s){let a=(0,Te.m9)(u);for(const h of s)a=h._apply(a);return a}(function nc(u){(0,Te.hu)(!Da,"__referenceConstructor has already been defined"),Da=u})(vl),function Us(u){(0,Te.hu)(!Li,"__referenceConstructor has already been defined"),Li=u}(vl);const sh={};function Qp(u,s,a,h,v){let N=h||u.options.databaseURL;void 0===N&&(u.options.projectId||Tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),He("Using default host for project ",u.options.projectId),N=`${u.options.projectId}-default-rtdb.firebaseio.com`);let ce,Re,B=cu(N,v),Y=B.repoInfo;typeof process<"u"&&process.env&&(Re=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Re?(ce=!0,N=`http://${Re}?ns=${Y.namespace}`,B=cu(N,v),Y=B.repoInfo):ce=!B.repoInfo.secure;const Dt=v&&ce?new lt(lt.OWNER):new fr(u.name,u.options,s);ou("Invalid Firebase Database URL",B),ji(B.path)||Tn("Database URL must point to the root of a Firebase Database (not including a child path).");const Rt=function Rh(u,s,a,h){let v=sh[s.name];v||(v={},sh[s.name]=v);let N=v[u.toURLString()];return N&&Tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),N=new ao(u,false,a,h),v[u.toURLString()]=N,N}(Y,u,Dt,new hr(u.name,a));return new lm(Rt,u)}class lm{constructor(s,a){this._repoInternal=s,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ed(u,s,a){if(u.stats_=Or(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new Il(u.repoInfo_,(h,v,N,B)=>{th(u,h,v,N,B)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Zu(u,!0),0);else{if(typeof a<"u"&&null!==a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Te.Pz)(a)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}u.persistentConnection_=new ls(u.repoInfo_,s,(h,v,N,B)=>{th(u,h,v,N,B)},h=>{Zu(u,h)},h=>{!function sa(u,s){rt(s,(a,h)=>{Cd(u,a,h)})}(u,h)},u.authTokenProvider_,u.appCheckProvider_,a),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(h=>{u.server_.refreshAuthToken(h)}),u.appCheckProvider_.addTokenChangeListener(h=>{u.server_.refreshAppCheckToken(h.token)}),u.statsReporter_=function pr(u,s){const a=u.toString();return qr[a]||(qr[a]=s()),qr[a]}(u.repoInfo_,()=>new Io(u.stats_,u.server_)),u.infoData_=new _u,u.infoSyncTree_=new qa({startListening:(h,v,N,B)=>{let Y=[];const ce=u.infoData_.getNode(h._path);return ce.isEmpty()||(Y=il(u.infoSyncTree_,h._path,ce),setTimeout(()=>{B("ok")},0)),Y},stopListening:()=>{}}),Cd(u,"connected",!1),u.serverSyncTree_=new qa({startListening:(h,v,N,B)=>(u.server_.listen(h,N,v,(Y,ce)=>{const Re=B(Y,ce);Qa(u.eventQueue_,h._path,Re)}),[]),stopListening:(h,v)=>{u.server_.unlisten(h,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vl(this._repo,ar())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function am(u,s){const a=sh[s];(!a||a[u.key]!==u)&&Tn(`Database ${s}(${u.repoInfo_}) has already been deleted.`),Ic(u),delete a[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(s){null===this._rootInternal&&Tn("Cannot call "+s+" on a deleted database.")}}function dp(){Tt.IS_TRANSPORT_INITIALIZED&&Bn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function hp(){dp(),Wn.forceDisallow()}function Xp(){dp(),wt.forceDisallow(),Wn.forceAllow()}function Ad(u,s){ot(u,s)}const oh={".sv":"timestamp"};class mf{constructor(s,a){this.committed=s,this.snapshot=a}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ls.prototype.simpleListen=function(u,s){this.sendRequest("q",{p:u},s)},ls.prototype.echo=function(u,s){this.sendRequest("echo",{d:u},s)},function qo(u){Er(bn.SDK_VERSION),(0,bn._registerComponent)(new En.wA("database",(s,{instanceIdentifier:a})=>Qp(s.getProvider("app").getImmediate(),s.getProvider("auth-internal"),s.getProvider("app-check-internal"),a),"PUBLIC").setMultipleInstances(!0)),(0,bn.registerVersion)(Zn,"0.13.6",u),(0,bn.registerVersion)(Zn,"0.13.6","esm2017")}();const yf=new Cn.Yd("@firebase/database-compat"),m=function(u){yf.warn("FIREBASE WARNING: "+u)};class T{constructor(s){this._delegate=s}cancel(s){(0,Te.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Te.Wj)("OnDisconnect.cancel","onComplete",s,!0);const a=this._delegate.cancel();return s&&a.then(()=>s(null),h=>s(h)),a}remove(s){(0,Te.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Te.Wj)("OnDisconnect.remove","onComplete",s,!0);const a=this._delegate.remove();return s&&a.then(()=>s(null),h=>s(h)),a}set(s,a){(0,Te.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Te.Wj)("OnDisconnect.set","onComplete",a,!0);const h=this._delegate.set(s);return a&&h.then(()=>a(null),v=>a(v)),h}setWithPriority(s,a,h){(0,Te.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Te.Wj)("OnDisconnect.setWithPriority","onComplete",h,!0);const v=this._delegate.setWithPriority(s,a);return h&&v.then(()=>h(null),N=>h(N)),v}update(s,a){if((0,Te.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(s)){const v={};for(let N=0;N<s.length;++N)v[""+N]=s[N];s=v,m("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Te.Wj)("OnDisconnect.update","onComplete",a,!0);const h=this._delegate.update(s);return a&&h.then(()=>a(null),v=>a(v)),h}}class V{constructor(s,a){this.committed=s,this.snapshot=a}toJSON(){return(0,Te.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ne{constructor(s,a){this._database=s,this._delegate=a}val(){return(0,Te.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Te.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Te.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Te.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(s){return(0,Te.Dv)("DataSnapshot.child",0,1,arguments.length),s=String(s),ru("DataSnapshot.child","path",s,!1),new ne(this._database,this._delegate.child(s))}hasChild(s){return(0,Te.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ru("DataSnapshot.hasChild","path",s,!1),this._delegate.hasChild(s)}getPriority(){return(0,Te.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(s){return(0,Te.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Te.Wj)("DataSnapshot.forEach","action",s,!1),this._delegate.forEach(a=>s(new ne(this._database,a)))}hasChildren(){return(0,Te.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Te.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Te.Dv)("DataSnapshot.ref",0,0,arguments.length),new It(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ze{constructor(s,a){this.database=s,this._delegate=a}on(s,a,h,v){var N;(0,Te.Dv)("Query.on",2,4,arguments.length),(0,Te.Wj)("Query.on","callback",a,!1);const B=ze.getCancelAndContextArgs_("Query.on",h,v),Y=(Re,Dt)=>{a.call(B.context,new ne(this.database,Re),Dt)};Y.userCallback=a,Y.context=B.context;const ce=null===(N=B.cancel)||void 0===N?void 0:N.bind(B.context);switch(s){case"value":return qn(this._delegate,Y,ce),a;case"child_added":return Ii(this._delegate,Y,ce),a;case"child_removed":return Wo(this._delegate,Y,ce),a;case"child_changed":return sr(this._delegate,Y,ce),a;case"child_moved":return Xi(this._delegate,Y,ce),a;default:throw new Error((0,Te.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(s,a,h){if((0,Te.Dv)("Query.off",0,3,arguments.length),function(u,s,a){if(void 0!==s)switch(s){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Te.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,s),(0,Te.Wj)("Query.off","callback",a,!0),(0,Te.lb)("Query.off","context",h,!0),a){const v=()=>{};v.userCallback=a,v.context=h,Rl(this._delegate,s,v)}else Rl(this._delegate,s)}get(){return ae(this._delegate).then(s=>new ne(this.database,s))}once(s,a,h,v){(0,Te.Dv)("Query.once",1,4,arguments.length),(0,Te.Wj)("Query.once","callback",a,!0);const N=ze.getCancelAndContextArgs_("Query.once",h,v),B=new Te.BH,Y=(Re,Dt)=>{const Rt=new ne(this.database,Re);a&&a.call(N.context,Rt,Dt),B.resolve(Rt)};Y.userCallback=a,Y.context=N.context;const ce=Re=>{N.cancel&&N.cancel.call(N.context,Re),B.reject(Re)};switch(s){case"value":qn(this._delegate,Y,ce,{onlyOnce:!0});break;case"child_added":Ii(this._delegate,Y,ce,{onlyOnce:!0});break;case"child_removed":Wo(this._delegate,Y,ce,{onlyOnce:!0});break;case"child_changed":sr(this._delegate,Y,ce,{onlyOnce:!0});break;case"child_moved":Xi(this._delegate,Y,ce,{onlyOnce:!0});break;default:throw new Error((0,Te.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return B.promise}limitToFirst(s){return(0,Te.Dv)("Query.limitToFirst",1,1,arguments.length),new ze(this.database,Kc(this._delegate,function Yp(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ll(u)}(s)))}limitToLast(s){return(0,Te.Dv)("Query.limitToLast",1,1,arguments.length),new ze(this.database,Kc(this._delegate,function Mc(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xh(u)}(s)))}orderByChild(s){return(0,Te.Dv)("Query.orderByChild",1,1,arguments.length),new ze(this.database,Kc(this._delegate,function rh(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ru("orderByChild","path",u,!1),new pf(u)}(s)))}orderByKey(){return(0,Te.Dv)("Query.orderByKey",0,0,arguments.length),new ze(this.database,Kc(this._delegate,function ap(){return new op}()))}orderByPriority(){return(0,Te.Dv)("Query.orderByPriority",0,0,arguments.length),new ze(this.database,Kc(this._delegate,function lp(){return new qp}()))}orderByValue(){return(0,Te.Dv)("Query.orderByValue",0,0,arguments.length),new ze(this.database,Kc(this._delegate,function up(){return new cp}()))}startAt(s=null,a){return(0,Te.Dv)("Query.startAt",0,2,arguments.length),new ze(this.database,Kc(this._delegate,function ih(u=null,s){return Eu("startAt","key",s,!0),new Td(u,s)}(s,a)))}startAfter(s=null,a){return(0,Te.Dv)("Query.startAfter",0,2,arguments.length),new ze(this.database,Kc(this._delegate,function Sd(u,s){return Eu("startAfter","key",s,!0),new sp(u,s)}(s,a)))}endAt(s=null,a){return(0,Te.Dv)("Query.endAt",0,2,arguments.length),new ze(this.database,Kc(this._delegate,function Id(u,s){return Eu("endAt","key",s,!0),new Mh(u,s)}(s,a)))}endBefore(s=null,a){return(0,Te.Dv)("Query.endBefore",0,2,arguments.length),new ze(this.database,Kc(this._delegate,function sd(u,s){return Eu("endBefore","key",s,!0),new zc(u,s)}(s,a)))}equalTo(s,a){return(0,Te.Dv)("Query.equalTo",1,2,arguments.length),new ze(this.database,Kc(this._delegate,function rm(u,s){return Eu("equalTo","key",s,!0),new Oh(u,s)}(s,a)))}toString(){return(0,Te.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Te.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(s){if((0,Te.Dv)("Query.isEqual",1,1,arguments.length),!(s instanceof ze))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(s._delegate)}static getCancelAndContextArgs_(s,a,h){const v={cancel:void 0,context:void 0};if(a&&h)v.cancel=a,(0,Te.Wj)(s,"cancel",v.cancel,!0),v.context=h,(0,Te.lb)(s,"context",v.context,!0);else if(a)if("object"==typeof a&&null!==a)v.context=a;else{if("function"!=typeof a)throw new Error((0,Te.gK)(s,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=a}return v}get ref(){return new It(this.database,new vl(this._delegate._repo,this._delegate._path))}}class It extends ze{constructor(s,a){super(s,new Fa(a._repo,a._path,new Qr,!1)),this.database=s,this._delegate=a}getKey(){return(0,Te.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(s){return(0,Te.Dv)("Reference.child",1,1,arguments.length),"number"==typeof s&&(s=String(s)),new It(this.database,Nc(this._delegate,s))}getParent(){(0,Te.Dv)("Reference.parent",0,0,arguments.length);const s=this._delegate.parent;return s?new It(this.database,s):null}getRoot(){return(0,Te.Dv)("Reference.root",0,0,arguments.length),new It(this.database,this._delegate.root)}set(s,a){(0,Te.Dv)("Reference.set",1,2,arguments.length),(0,Te.Wj)("Reference.set","onComplete",a,!0);const h=x(this._delegate,s);return a&&h.then(()=>a(null),v=>a(v)),h}update(s,a){if((0,Te.Dv)("Reference.update",1,2,arguments.length),Array.isArray(s)){const v={};for(let N=0;N<s.length;++N)v[""+N]=s[N];s=v,m("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Aa("Reference.update",this._delegate._path),(0,Te.Wj)("Reference.update","onComplete",a,!0);const h=k(this._delegate,s);return a&&h.then(()=>a(null),v=>a(v)),h}setWithPriority(s,a,h){(0,Te.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Te.Wj)("Reference.setWithPriority","onComplete",h,!0);const v=function w(u,s,a){if(Aa("setWithPriority",u._path),yl("setWithPriority",s,u._path,!1),iu("setWithPriority",a,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const h=new Te.BH;return Dd(u._repo,u._path,s,a,h.wrapCallback(()=>{})),h.promise}(this._delegate,s,a);return h&&v.then(()=>h(null),N=>h(N)),v}remove(s){(0,Te.Dv)("Reference.remove",0,1,arguments.length),(0,Te.Wj)("Reference.remove","onComplete",s,!0);const a=function rd(u){return Aa("remove",u._path),x(u,null)}(this._delegate);return s&&a.then(()=>s(null),h=>s(h)),a}transaction(s,a,h){(0,Te.Dv)("Reference.transaction",1,3,arguments.length),(0,Te.Wj)("Reference.transaction","transactionUpdate",s,!1),(0,Te.Wj)("Reference.transaction","onComplete",a,!0),function(u,s,a,h){if(void 0!==a&&"boolean"!=typeof a)throw new Error((0,Te.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,h);const v=function od(u,s,a){var h;if(u=(0,Te.m9)(u),Aa("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const v=null===(h=a?.applyLocally)||void 0===h||h,N=new Te.BH,Y=qn(u,()=>{});return function nh(u,s,a,h,v,N){Ol(u,"transaction on "+s);const B={path:s,update:a,onComplete:h,status:null,order:Kn(),applyLocally:N,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Y=Pa(u,s,void 0);B.currentInputSnapshot=Y;const ce=B.update(Y.val());if(void 0===ce)B.unwatcher(),B.currentOutputSnapshotRaw=null,B.currentOutputSnapshotResolved=null,B.onComplete&&B.onComplete(null,!1,B.currentInputSnapshot);else{wc("transaction failed: Data returned ",ce,B.path),B.status=0;const Re=tu(u.transactionQueueTree_,s),Dt=rl(Re)||[];let Rt;Dt.push(B),vu(Re,Dt),"object"==typeof ce&&null!==ce&&(0,Te.r3)(ce,".priority")?(Rt=(0,Te.DV)(ce,".priority"),(0,Te.hu)(nu(Rt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Rt=(Gu(u.serverSyncTree_,s)||hi.EMPTY_NODE).getPriority().val();const Jt=Hc(u),Dn=Lr(ce,Rt),Pn=jc(Dn,Y,Jt);B.currentOutputSnapshotRaw=Dn,B.currentOutputSnapshotResolved=Pn,B.currentWriteId=Gc(u);const oi=ia(u.serverSyncTree_,s,Pn,B.currentWriteId,B.applyLocally);Qa(u.eventQueue_,s,oi),Xu(u,u.transactionQueueTree_)}}(u._repo,u._path,s,(ce,Re,Dt)=>{let Rt=null;ce?N.reject(ce):(Rt=new Sc(Dt,new vl(u._repo,u._path),Wt),N.resolve(new mf(Re,Rt)))},Y,v),N.promise}(this._delegate,s,{applyLocally:h}).then(N=>new V(N.committed,new ne(this.database,N.snapshot)));return a&&v.then(N=>a(null,N.committed,N.snapshot),N=>a(N,!1,null)),v}setPriority(s,a){(0,Te.Dv)("Reference.setPriority",1,2,arguments.length),(0,Te.Wj)("Reference.setPriority","onComplete",a,!0);const h=function _(u,s){u=(0,Te.m9)(u),Aa("setPriority",u._path),iu("setPriority",s,!1);const a=new Te.BH;return Dd(u._repo,ir(u._path,".priority"),s,null,a.wrapCallback(()=>{})),a.promise}(this._delegate,s);return a&&h.then(()=>a(null),v=>a(v)),h}push(s,a){(0,Te.Dv)("Reference.push",0,2,arguments.length),(0,Te.Wj)("Reference.push","onComplete",a,!0);const h=function Kl(u,s){u=(0,Te.m9)(u),Aa("push",u._path),yl("push",s,u._path,!0);const a=au(u._repo),h=K(a),v=Nc(u,h),N=Nc(u,h);let B;return B=null!=s?x(N,s).then(()=>N):Promise.resolve(N),v.then=B.then.bind(B),v.catch=B.then.bind(B,void 0),v}(this._delegate,s),v=h.then(B=>new It(this.database,B));a&&v.then(()=>a(null),B=>a(B));const N=new It(this.database,h);return N.then=v.then.bind(v),N.catch=v.catch.bind(v,void 0),N}onDisconnect(){return Aa("Reference.onDisconnect",this._delegate._path),new T(new Tu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Bt{constructor(s,a){this._delegate=s,this.app=a,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:hp,forceLongPolling:Xp}}useEmulator(s,a,h={}){!function Rs(u,s,a,h={}){(u=(0,Te.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&Tn("Cannot call useEmulator() after instance has already been initialized.");const v=u._repoInternal;let N;if(v.repoInfo_.nodeAdmin)h.mockUserToken&&Tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),N=new lt(lt.OWNER);else if(h.mockUserToken){const B="string"==typeof h.mockUserToken?h.mockUserToken:(0,Te.Sg)(h.mockUserToken,u.app.options.projectId);N=new lt(B)}!function om(u,s,a,h){u.repoInfo_=new di(`${s}:${a}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),h&&(u.authTokenProvider_=h)}(v,s,a,N)}(this._delegate,s,a,h)}ref(s){if((0,Te.Dv)("database.ref",0,1,arguments.length),s instanceof It){const a=Ac(this._delegate,s.toString());return new It(this,a)}{const a=oa(this._delegate,s);return new It(this,a)}}refFromURL(s){(0,Te.Dv)("database.refFromURL",1,1,arguments.length);const h=Ac(this._delegate,s);return new It(this,h)}goOffline(){return(0,Te.Dv)("database.goOffline",0,0,arguments.length),function Ph(u){(u=(0,Te.m9)(u))._checkNotDeleted("goOffline"),Ic(u._repo)}(this._delegate)}goOnline(){return(0,Te.Dv)("database.goOnline",0,0,arguments.length),function gf(u){(u=(0,Te.m9)(u))._checkNotDeleted("goOnline"),function Gl(u){u.persistentConnection_&&u.persistentConnection_.resume(eh)}(u._repo)}(this._delegate)}}Bt.ServerValue={TIMESTAMP:function tg(){return oh}(),increment:u=>function ng(u){return{".sv":{increment:u}}}(u)};var vn=Object.freeze({__proto__:null,initStandalone:function fn({app:u,url:s,version:a,customAuthImpl:h,namespace:v,nodeAdmin:N=!1}){Er(a);const B=new En.zt("auth-internal",new En.H0("database-standalone"));return B.setComponent(new En.wA("auth-internal",()=>h,"PRIVATE")),{instance:new Bt(Qp(u,B,void 0,s,N),u),namespace:v}}});const Ti=Bt.ServerValue;!function fi(u){u.INTERNAL.registerComponent(new En.wA("database-compat",(s,{instanceIdentifier:a})=>{const h=s.getProvider("app-compat").getImmediate(),v=s.getProvider("database").getImmediate({identifier:a});return new Bt(v,h)},"PUBLIC").setServiceProps({Reference:It,Query:ze,Database:Bt,DataSnapshot:ne,enableLogging:Ad,INTERNAL:vn,ServerValue:Ti}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.2.6")}($t.Z);var Si=L(440),zr=L(127);function is(u){return null==u}function Gr(u){return"function"==typeof u.set}function wo(u,s){return Gr(s)?s:u.ref(s)}function rs(u,s){if(function Zi(u){return"string"==typeof u}(u))return s.stringCase();if(Gr(u))return s.firebaseCase();if(function Nr(u){return"function"==typeof u.exportVal}(u))return s.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function Br(u,s,a="on",h=tt.z){return new Ee.y(v=>{let N=null;return N=u[a](s,(B,Y)=>{h.schedule(()=>{v.next({snapshot:B,prevKey:Y})}),"once"===a&&h.schedule(()=>v.complete())},B=>{h.schedule(()=>v.error(B))}),"on"===a?{unsubscribe(){null!=N&&u.off(s,N)}}:{unsubscribe(){}}}).pipe((0,ue.U)(v=>{const{snapshot:N,prevKey:B}=v;let Y=null;return N.exists()&&(Y=N.key),{type:s,payload:N,prevKey:B,key:Y}}),(0,Ce.B)())}function Qs(u,s){const a=u.length;for(let h=0;h<a;h++)if(u[h].payload.key===s)return h;return-1}function lo(u,s){const{payload:a,prevKey:h,key:v}=s,N=Qs(u,v),B=function Ps(u,s){if(is(s))return 0;{const a=Qs(u,s);return-1===a?u.length:a+1}}(u,h);switch(s.type){case"value":if(s.payload&&s.payload.exists()){let Y=null;s.payload.forEach(ce=>{const Re={payload:ce,type:"value",prevKey:Y,key:ce.key};return Y=ce.key,u=[...u,Re],!1})}return u;case"child_added":if(N>-1){const Y=u[N-1];(Y&&Y.key||null)!==h&&(u=u.filter(ce=>ce.payload.key!==a.key)).splice(B,0,s)}else{if(null==h)return[s,...u];(u=u.slice()).splice(B,0,s)}return u;case"child_removed":return u.filter(Y=>Y.payload.key!==a.key);case"child_changed":return u.map(Y=>Y.payload.key===v?s:Y);case"child_moved":if(N>-1){const Y=u.splice(N,1)[0];return(u=u.slice()).splice(B,0,Y),u}return u;default:return u}}function Eo(u){return(is(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function $o(u,s,a){return function gs(u,s,a){return Br(u,"value","once",a).pipe((0,me.w)(h=>{const v=[(0,ve.of)(h)];return s.forEach(N=>v.push(Br(u,N,"on",a))),(0,Ie.T)(...v).pipe((0,At.R)(lo,[]))}),(0,St.x)())}(u,s=Eo(s),a)}function Yl(u,s,a){const h=(s=Eo(s)).map(v=>Br(u,v,"on",a));return(0,Ie.T)(...h)}function Ja(u,s){return function(h,v){return rs(h,{stringCase:()=>u.child(h)[s](v),firebaseCase:()=>h[s](v),snapshotCase:()=>h.ref[s](v)})}}function cc(u){return function(a){return a?rs(a,{stringCase:()=>u.child(a).remove(),firebaseCase:()=>a.remove(),snapshotCase:()=>a.ref.remove()}):u.remove()}}function ql(u,s){return function(){return Br(u,"value","on",s)}}const Oc=new q.OlP("angularfire2.realtimeDatabaseURL"),Od=new q.OlP("angularfire2.database.use-emulator");let Rc=(()=>{class u{constructor(a,h,v,N,B,Y,ce,Re,Dt,Rt,Jt,Dn,Pn,oi,wr){this.schedulers=Y;const Yr=ce,cr=(0,Qe.on)(a,B,h);Re&&(0,We.nw)(cr,B,Dt,Jt,Dn,Pn,Rt,oi),this.database=(0,Qe.cc)(`${cr.name}.database.${v}`,"AngularFireDatabase",cr.name,()=>{const Vo=B.runOutsideAngular(()=>cr.database(v||void 0));return Yr&&Vo.useEmulator(...Yr),Vo},[Yr])}list(a,h){const v=this.schedulers.ngZone.runOutsideAngular(()=>wo(this.database,a));let N=v;return h&&(N=h(v)),function xc(u,s){const a=s.schedulers.outsideAngular,h=s.schedulers.ngZone.run(()=>u.ref);return{query:u,update:Ja(h,"update"),set:Ja(h,"set"),push:v=>h.push(v),remove:cc(h),snapshotChanges:v=>$o(u,v,a).pipe(ht.iC),stateChanges:v=>Yl(u,v,a).pipe(ht.iC),auditTrail:v=>function js(u,s,a){return function Yc(u,s,a){return function Au(u,s){return Br(u,"value","on",s).pipe((0,ue.U)(a=>{let h;return a.payload.forEach(v=>(h=v.key,!1)),{data:a,lastKeyToLoad:h}}))}(u,a).pipe((0,Mt.M)(s),(0,ue.U)(([v,N])=>{const B=v.lastKeyToLoad,Y=N.map(ce=>ce.key);return{actions:N,lastKeyToLoad:B,loadedKeys:Y}}),function Je(u){return s=>s.lift(new Ye(u))}(v=>-1===v.loadedKeys.indexOf(v.lastKeyToLoad)),(0,ue.U)(v=>v.actions))}(u,Yl(u,s).pipe((0,At.R)((v,N)=>[...v,N],[])),a)}(u,v,a).pipe(ht.iC),valueChanges:(v,N)=>$o(u,v,a).pipe((0,ue.U)(Y=>Y.map(ce=>N&&N.idField?Object.assign(Object.assign({},ce.payload.val()),{[N.idField]:ce.key}):ce.payload.val())),ht.iC)}}(N,this)}object(a){return function xd(u,s){return{query:u,snapshotChanges:()=>ql(u,s.schedulers.outsideAngular)().pipe(ht.iC),update:a=>u.ref.update(a),set:a=>u.ref.set(a),remove:()=>u.ref.remove(),valueChanges:()=>ql(u,s.schedulers.outsideAngular)().pipe(ht.iC,(0,ue.U)(h=>h.payload.exists()?h.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>wo(this.database,a)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(a){return new(a||u)(q.LFG(Qe.Dh),q.LFG(Qe.xv,8),q.LFG(Oc,8),q.LFG(q.Lbi),q.LFG(q.R0b),q.LFG(ht.HU),q.LFG(Od,8),q.LFG(We.zQ,8),q.LFG(We.Qv,8),q.LFG(We.L6,8),q.LFG(We._Q,8),q.LFG(We.rT,8),q.LFG(We.lh,8),q.LFG(We.f7,8),q.LFG(Si.nm,8))},u.\u0275prov=q.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),ad=(()=>{class u{constructor(){zr.Z.registerVersion("angularfire",ht.q4.full,"rtdb-compat")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=q.oAB({type:u}),u.\u0275inj=q.cJS({providers:[Rc]}),u})();var bl=L(5867),ld=L(4719);class Rd{}const uc="*";function Pd(u,s=null){return{type:2,steps:u,options:s}}function vf(u){return{type:6,styles:u,offset:null}}function ch(u){Promise.resolve().then(u)}class Mu{constructor(s=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=s+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ch(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(s){this._position=this.totalTime?s*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(s){const a="start"==s?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}class cd{constructor(s){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=s;let a=0,h=0,v=0;const N=this.players.length;0==N?ch(()=>this._onFinish()):this.players.forEach(B=>{B.onDone(()=>{++a==N&&this._onFinish()}),B.onDestroy(()=>{++h==N&&this._onDestroy()}),B.onStart(()=>{++v==N&&this._onStart()})}),this.totalTime=this.players.reduce((B,Y)=>Math.max(B,Y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this.players.forEach(s=>s.init())}onStart(s){this._onStartFns.push(s)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(s=>s()),this._onStartFns=[])}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(s=>s.play())}pause(){this.players.forEach(s=>s.pause())}restart(){this.players.forEach(s=>s.restart())}finish(){this._onFinish(),this.players.forEach(s=>s.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(s=>s.destroy()),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this.players.forEach(s=>s.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(s){const a=s*this.totalTime;this.players.forEach(h=>{const v=h.totalTime?Math.min(1,a/h.totalTime):1;h.setPosition(v)})}getPosition(){const s=this.players.reduce((a,h)=>null===a||h.totalTime>a.totalTime?h:a,null);return null!=s?s.getPosition():0}beforeDestroy(){this.players.forEach(s=>{s.beforeDestroy&&s.beforeDestroy()})}triggerCallback(s){const a="start"==s?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}function kh(u){return new q.vHH(3e3,!1)}function ud(){return typeof window<"u"&&typeof window.document<"u"}function Fh(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function dc(u){switch(u.length){case 0:return new Mu;case 1:return u[0];default:return new cd(u)}}function hh(u,s,a,h,v=new Map,N=new Map){const B=[],Y=[];let ce=-1,Re=null;if(h.forEach(Dt=>{const Rt=Dt.get("offset"),Jt=Rt==ce,Dn=Jt&&Re||new Map;Dt.forEach((Pn,oi)=>{let wr=oi,Yr=Pn;if("offset"!==oi)switch(wr=s.normalizePropertyName(wr,B),Yr){case"!":Yr=v.get(oi);break;case uc:Yr=N.get(oi);break;default:Yr=s.normalizeStyleValue(oi,wr,Yr,B)}Dn.set(wr,Yr)}),Jt||Y.push(Dn),Re=Dn,ce=Rt}),B.length)throw function uh(u){return new q.vHH(3502,!1)}();return Y}function Df(u,s,a,h){switch(s){case"start":u.onStart(()=>h(a&&_p(a,"start",u)));break;case"done":u.onDone(()=>h(a&&_p(a,"done",u)));break;case"destroy":u.onDestroy(()=>h(a&&_p(a,"destroy",u)))}}function _p(u,s,a){const N=yp(u.element,u.triggerName,u.fromState,u.toState,s||u.phaseName,a.totalTime??u.totalTime,!!a.disabled),B=u._data;return null!=B&&(N._data=B),N}function yp(u,s,a,h,v="",N=0,B){return{element:u,triggerName:s,fromState:a,toState:h,phaseName:v,totalTime:N,disabled:!!B}}function kc(u,s,a){let h=u.get(s);return h||u.set(s,h=a),h}function ym(u){const s=u.indexOf(":");return[u.substring(1,s),u.slice(s+1)]}let If=(u,s)=>!1,s_=(u,s,a)=>[],vm=null;function Ld(u){const s=u.parentNode||u.host;return s===vm?null:s}(Fh()||typeof Element<"u")&&(ud()?(vm=(()=>document.documentElement)(),If=(u,s)=>{for(;s;){if(s===u)return!0;s=Ld(s)}return!1}):If=(u,s)=>u.contains(s),s_=(u,s,a)=>{if(a)return Array.from(u.querySelectorAll(s));const h=u.querySelector(s);return h?[h]:[]});let hc=null,vp=!1;const bm=If,wm=s_;let fh=(()=>{class u{validateStyleProperty(a){return function yg(u){hc||(hc=function a_(){return typeof document<"u"?document.body:null}()||{},vp=!!hc.style&&"WebkitAppearance"in hc.style);let s=!0;return hc.style&&!function Tf(u){return"ebkit"==u.substring(1,6)}(u)&&(s=u in hc.style,!s&&vp&&(s="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in hc.style)),s}(a)}matchesElement(a,h){return!1}containsElement(a,h){return bm(a,h)}getParentElement(a){return Ld(a)}query(a,h,v){return wm(a,h,v)}computeStyle(a,h,v){return v||""}animate(a,h,v,N,B,Y=[],ce){return new Mu(v,N)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=q.Yz7({token:u,factory:u.\u0275fac}),u})(),Sf=(()=>{class u{}return u.NOOP=new fh,u})();const Bh="ng-enter",Bd="ng-leave",Nf="ng-trigger",Mf=".ng-trigger",dd="ng-animating",uu=".ng-animating";function du(u){if("number"==typeof u)return u;const s=u.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:$h(parseFloat(s[1]),s[2])}function $h(u,s){return"s"===s?1e3*u:u}function Pl(u,s,a){return u.hasOwnProperty("duration")?u:function Em(u,s,a){let v,N=0,B="";if("string"==typeof u){const Y=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Y)return s.push(kh()),{duration:0,delay:0,easing:""};v=$h(parseFloat(Y[1]),Y[2]);const ce=Y[3];null!=ce&&(N=$h(parseFloat(ce),Y[4]));const Re=Y[5];Re&&(B=Re)}else v=u;if(!a){let Y=!1,ce=s.length;v<0&&(s.push(function Xm(){return new q.vHH(3100,!1)}()),Y=!0),N<0&&(s.push(function e_(){return new q.vHH(3101,!1)}()),Y=!0),Y&&s.splice(ce,0,kh())}return{duration:v,delay:N,easing:B}}(u,s,a)}function gh(u,s={}){return Object.keys(u).forEach(a=>{s[a]=u[a]}),s}function bp(u){const s=new Map;return Object.keys(u).forEach(a=>{s.set(a,u[a])}),s}function fu(u,s=new Map,a){if(a)for(let[h,v]of a)s.set(h,v);for(let[h,v]of u)s.set(h,v);return s}function xf(u,s,a){return a?s+":"+a+";":""}function Vh(u){let s="";for(let a=0;a<u.style.length;a++){const h=u.style.item(a);s+=xf(0,h,u.style.getPropertyValue(h))}for(const a in u.style)u.style.hasOwnProperty(a)&&!a.startsWith("_")&&(s+=xf(0,Eg(a),u.style[a]));u.setAttribute("style",s)}function Fc(u,s,a){u.style&&(s.forEach((h,v)=>{const N=wg(v);a&&!a.has(v)&&a.set(v,u.style[N]),u.style[N]=h}),Fh()&&Vh(u))}function Uh(u,s){u.style&&(s.forEach((a,h)=>{const v=wg(h);u.style[v]=""}),Fh()&&Vh(u))}function $d(u){return Array.isArray(u)?1==u.length?u[0]:Pd(u):u}const jh=new RegExp("{{\\s*(.+?)\\s*}}","g");function wp(u){let s=[];if("string"==typeof u){let a;for(;a=jh.exec(u);)s.push(a[1]);jh.lastIndex=0}return s}function hd(u,s,a){const h=u.toString(),v=h.replace(jh,(N,B)=>{let Y=s[B];return null==Y&&(a.push(function ag(u){return new q.vHH(3003,!1)}()),Y=""),Y.toString()});return v==h?u:v}function vg(u){const s=[];let a=u.next();for(;!a.done;)s.push(a.value),a=u.next();return s}const bg=/-+([a-z0-9])/g;function wg(u){return u.replace(bg,(...s)=>s[1].toUpperCase())}function Eg(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Lc(u,s,a){switch(s.type){case 7:return u.visitTrigger(s,a);case 0:return u.visitState(s,a);case 1:return u.visitTransition(s,a);case 2:return u.visitSequence(s,a);case 3:return u.visitGroup(s,a);case 4:return u.visitAnimate(s,a);case 5:return u.visitKeyframes(s,a);case 6:return u.visitStyle(s,a);case 8:return u.visitReference(s,a);case 9:return u.visitAnimateChild(s,a);case 10:return u.visitAnimateRef(s,a);case 11:return u.visitQuery(s,a);case 12:return u.visitStagger(s,a);default:throw function Ef(u){return new q.vHH(3004,!1)}()}}function Cp(u,s){return window.getComputedStyle(u)[s]}function kf(u,s){const a=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(h=>function ey(u,s,a){if(":"==u[0]){const ce=function ty(u,s){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,h)=>parseFloat(h)>parseFloat(a);case":decrement":return(a,h)=>parseFloat(h)<parseFloat(a);default:return s.push(function fm(u){return new q.vHH(3016,!1)}()),"* => *"}}(u,a);if("function"==typeof ce)return void s.push(ce);u=ce}const h=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return a.push(function hm(u){return new q.vHH(3015,!1)}()),s;const v=h[1],N=h[2],B=h[3];s.push(Cg(v,B));"<"==N[0]&&!("*"==v&&"*"==B)&&s.push(Cg(B,v))}(h,a,s)):a.push(u),a}const Ff=new Set(["true","1"]),Lf=new Set(["false","0"]);function Cg(u,s){const a=Ff.has(u)||Lf.has(u),h=Ff.has(s)||Lf.has(s);return(v,N)=>{let B="*"==u||u==v,Y="*"==s||s==N;return!B&&a&&"boolean"==typeof v&&(B=v?Ff.has(u):Lf.has(u)),!Y&&h&&"boolean"==typeof N&&(Y=N?Ff.has(s):Lf.has(s)),B&&Y}}const Ud=new RegExp("s*:selfs*,?","g");function Bf(u,s,a,h){return new Ap(u).build(s,a,h)}class Ap{constructor(s){this._driver=s}build(s,a,h){const v=new Sg(a);return this._resetContextStyleTimingState(v),Lc(this,$d(s),v)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles=new Map,s.collectedStyles.set("",new Map),s.currentTime=0}visitTrigger(s,a){let h=a.queryCount=0,v=a.depCount=0;const N=[],B=[];return"@"==s.name.charAt(0)&&a.errors.push(function lg(){return new q.vHH(3006,!1)}()),s.definitions.forEach(Y=>{if(this._resetContextStyleTimingState(a),0==Y.type){const ce=Y,Re=ce.name;Re.toString().split(/\s*,\s*/).forEach(Dt=>{ce.name=Dt,N.push(this.visitState(ce,a))}),ce.name=Re}else if(1==Y.type){const ce=this.visitTransition(Y,a);h+=ce.queryCount,v+=ce.depCount,B.push(ce)}else a.errors.push(function cg(){return new q.vHH(3007,!1)}())}),{type:7,name:s.name,states:N,transitions:B,queryCount:h,depCount:v,options:null}}visitState(s,a){const h=this.visitStyle(s.styles,a),v=s.options&&s.options.params||null;if(h.containsDynamicStyles){const N=new Set,B=v||{};h.styles.forEach(Y=>{Y instanceof Map&&Y.forEach(ce=>{wp(ce).forEach(Re=>{B.hasOwnProperty(Re)||N.add(Re)})})}),N.size&&(vg(N.values()),a.errors.push(function pp(u,s){return new q.vHH(3008,!1)}()))}return{type:0,name:s.name,style:h,options:v?{params:v}:null}}visitTransition(s,a){a.queryCount=0,a.depCount=0;const h=Lc(this,$d(s.animation),a);return{type:1,matchers:kf(s.expr,a.errors),animation:h,queryCount:a.queryCount,depCount:a.depCount,options:pd(s.options)}}visitSequence(s,a){return{type:2,steps:s.steps.map(h=>Lc(this,h,a)),options:pd(s.options)}}visitGroup(s,a){const h=a.currentTime;let v=0;const N=s.steps.map(B=>{a.currentTime=h;const Y=Lc(this,B,a);return v=Math.max(v,a.currentTime),Y});return a.currentTime=v,{type:3,steps:N,options:pd(s.options)}}visitAnimate(s,a){const h=function fd(u,s){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return Np(Pl(u,s).duration,0,"");const a=u;if(a.split(/\s+/).some(N=>"{"==N.charAt(0)&&"{"==N.charAt(1))){const N=Np(0,0,"");return N.dynamic=!0,N.strValue=a,N}const v=Pl(a,s);return Np(v.duration,v.delay,v.easing)}(s.timings,a.errors);a.currentAnimateTimings=h;let v,N=s.styles?s.styles:vf({});if(5==N.type)v=this.visitKeyframes(N,a);else{let B=s.styles,Y=!1;if(!B){Y=!0;const Re={};h.easing&&(Re.easing=h.easing),B=vf(Re)}a.currentTime+=h.duration+h.delay;const ce=this.visitStyle(B,a);ce.isEmptyStep=Y,v=ce}return a.currentAnimateTimings=null,{type:4,timings:h,style:v,options:null}}visitStyle(s,a){const h=this._makeStyleAst(s,a);return this._validateStyleAst(h,a),h}_makeStyleAst(s,a){const h=[],v=Array.isArray(s.styles)?s.styles:[s.styles];for(let Y of v)"string"==typeof Y?Y===uc?h.push(Y):a.errors.push(new q.vHH(3002,!1)):h.push(bp(Y));let N=!1,B=null;return h.forEach(Y=>{if(Y instanceof Map&&(Y.has("easing")&&(B=Y.get("easing"),Y.delete("easing")),!N))for(let ce of Y.values())if(ce.toString().indexOf("{{")>=0){N=!0;break}}),{type:6,styles:h,easing:B,offset:s.offset,containsDynamicStyles:N,options:null}}_validateStyleAst(s,a){const h=a.currentAnimateTimings;let v=a.currentTime,N=a.currentTime;h&&N>0&&(N-=h.duration+h.delay),s.styles.forEach(B=>{"string"!=typeof B&&B.forEach((Y,ce)=>{const Re=a.collectedStyles.get(a.currentQuerySelector),Dt=Re.get(ce);let Rt=!0;Dt&&(N!=v&&N>=Dt.startTime&&v<=Dt.endTime&&(a.errors.push(function Pc(u,s,a,h,v){return new q.vHH(3010,!1)}()),Rt=!1),N=Dt.startTime),Rt&&Re.set(ce,{startTime:N,endTime:v}),a.options&&function Of(u,s,a){const h=s.params||{},v=wp(u);v.length&&v.forEach(N=>{h.hasOwnProperty(N)||a.push(function og(u){return new q.vHH(3001,!1)}())})}(Y,a.options,a.errors)})})}visitKeyframes(s,a){const h={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function dg(){return new q.vHH(3011,!1)}()),h;let N=0;const B=[];let Y=!1,ce=!1,Re=0;const Dt=s.steps.map(Yr=>{const cr=this._makeStyleAst(Yr,a);let Vo=null!=cr.offset?cr.offset:function Cm(u){if("string"==typeof u)return null;let s=null;if(Array.isArray(u))u.forEach(a=>{if(a instanceof Map&&a.has("offset")){const h=a;s=parseFloat(h.get("offset")),h.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const a=u;s=parseFloat(a.get("offset")),a.delete("offset")}return s}(cr.styles),aa=0;return null!=Vo&&(N++,aa=cr.offset=Vo),ce=ce||aa<0||aa>1,Y=Y||aa<Re,Re=aa,B.push(aa),cr});ce&&a.errors.push(function hg(){return new q.vHH(3012,!1)}()),Y&&a.errors.push(function t_(){return new q.vHH(3200,!1)}());const Rt=s.steps.length;let Jt=0;N>0&&N<Rt?a.errors.push(function um(){return new q.vHH(3202,!1)}()):0==N&&(Jt=1/(Rt-1));const Dn=Rt-1,Pn=a.currentTime,oi=a.currentAnimateTimings,wr=oi.duration;return Dt.forEach((Yr,cr)=>{const Vo=Jt>0?cr==Dn?1:Jt*cr:B[cr],aa=Vo*wr;a.currentTime=Pn+oi.delay+aa,oi.duration=aa,this._validateStyleAst(Yr,a),Yr.offset=Vo,h.styles.push(Yr)}),h}visitReference(s,a){return{type:8,animation:Lc(this,$d(s.animation),a),options:pd(s.options)}}visitAnimateChild(s,a){return a.depCount++,{type:9,options:pd(s.options)}}visitAnimateRef(s,a){return{type:10,animation:this.visitReference(s.animation,a),options:pd(s.options)}}visitQuery(s,a){const h=a.currentQuerySelector,v=s.options||{};a.queryCount++,a.currentQuery=s;const[N,B]=function Ig(u){const s=!!u.split(/\s*,\s*/).find(a=>":self"==a);return s&&(u=u.replace(Ud,"")),u=u.replace(/@\*/g,Mf).replace(/@\w+/g,a=>Mf+"-"+a.slice(1)).replace(/:animating/g,uu),[u,s]}(s.selector);a.currentQuerySelector=h.length?h+" "+N:N,kc(a.collectedStyles,a.currentQuerySelector,new Map);const Y=Lc(this,$d(s.animation),a);return a.currentQuery=null,a.currentQuerySelector=h,{type:11,selector:N,limit:v.limit||0,optional:!!v.optional,includeSelf:B,animation:Y,originalSelector:s.selector,options:pd(s.options)}}visitStagger(s,a){a.currentQuery||a.errors.push(function dm(){return new q.vHH(3013,!1)}());const h="full"===s.timings?{duration:0,delay:0,easing:"full"}:Pl(s.timings,a.errors,!0);return{type:12,animation:Lc(this,$d(s.animation),a),timings:h,options:null}}}class Sg{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pd(u){return u?(u=gh(u)).params&&(u.params=function Tg(u){return u?gh(u):null}(u.params)):u={},u}function Np(u,s,a){return{duration:u,delay:s,easing:a}}function Ag(u,s,a,h,v,N,B=null,Y=!1){return{type:1,element:u,keyframes:s,preStyleProps:a,postStyleProps:h,duration:v,delay:N,totalTime:v+N,easing:B,subTimeline:Y}}class $f{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,a){let h=this._map.get(s);h||this._map.set(s,h=[]),h.push(...a)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const Hh=new RegExp(":enter","g"),Vf=new RegExp(":leave","g");function Hd(u,s,a,h,v,N=new Map,B=new Map,Y,ce,Re=[]){return(new Uf).buildKeyframes(u,s,a,h,v,N,B,Y,ce,Re)}class Uf{buildKeyframes(s,a,h,v,N,B,Y,ce,Re,Dt=[]){Re=Re||new $f;const Rt=new Gh(s,a,Re,v,N,Dt,[]);Rt.options=ce;const Jt=ce.delay?du(ce.delay):0;Rt.currentTimeline.delayNextStep(Jt),Rt.currentTimeline.setStyles([B],null,Rt.errors,ce),Lc(this,h,Rt);const Dn=Rt.timelines.filter(Pn=>Pn.containsAnimation());if(Dn.length&&Y.size){let Pn;for(let oi=Dn.length-1;oi>=0;oi--){const wr=Dn[oi];if(wr.element===a){Pn=wr;break}}Pn&&!Pn.allowOnlyTimelineStyles()&&Pn.setStyles([Y],null,Rt.errors,ce)}return Dn.length?Dn.map(Pn=>Pn.buildKeyframes()):[Ag(a,[],[],[],0,Jt,"",!1)]}visitTrigger(s,a){}visitState(s,a){}visitTransition(s,a){}visitAnimateChild(s,a){const h=a.subInstructions.get(a.element);if(h){const v=a.createSubContext(s.options),N=a.currentTimeline.currentTime,B=this._visitSubInstructions(h,v,v.options);N!=B&&a.transformIntoNewTimeline(B)}a.previousNode=s}visitAnimateRef(s,a){const h=a.createSubContext(s.options);h.transformIntoNewTimeline(),this._applyAnimateRefDelay(s.animation,a,h),this.visitReference(s.animation,h),a.transformIntoNewTimeline(h.currentTimeline.currentTime),a.previousNode=s}_applyAnimateRefDelay(s,a,h){const v=s.options?.delay;if(!v)return;let N;N="string"==typeof v?du(hd(v,s.options?.params??{},a.errors)):v,h.delayNextStep(N)}_visitSubInstructions(s,a,h){let N=a.currentTimeline.currentTime;const B=null!=h.duration?du(h.duration):null,Y=null!=h.delay?du(h.delay):null;return 0!==B&&s.forEach(ce=>{const Re=a.appendInstructionToTimeline(ce,B,Y);N=Math.max(N,Re.duration+Re.delay)}),N}visitReference(s,a){a.updateOptions(s.options,!0),Lc(this,s.animation,a),a.previousNode=s}visitSequence(s,a){const h=a.subContextCount;let v=a;const N=s.options;if(N&&(N.params||N.delay)&&(v=a.createSubContext(N),v.transformIntoNewTimeline(),null!=N.delay)){6==v.previousNode.type&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=vh);const B=du(N.delay);v.delayNextStep(B)}s.steps.length&&(s.steps.forEach(B=>Lc(this,B,v)),v.currentTimeline.applyStylesToKeyframe(),v.subContextCount>h&&v.transformIntoNewTimeline()),a.previousNode=s}visitGroup(s,a){const h=[];let v=a.currentTimeline.currentTime;const N=s.options&&s.options.delay?du(s.options.delay):0;s.steps.forEach(B=>{const Y=a.createSubContext(s.options);N&&Y.delayNextStep(N),Lc(this,B,Y),v=Math.max(v,Y.currentTimeline.currentTime),h.push(Y.currentTimeline)}),h.forEach(B=>a.currentTimeline.mergeTimelineCollectedStyles(B)),a.transformIntoNewTimeline(v),a.previousNode=s}_visitTiming(s,a){if(s.dynamic){const h=s.strValue;return Pl(a.params?hd(h,a.params,a.errors):h,a.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,a){const h=a.currentAnimateTimings=this._visitTiming(s.timings,a),v=a.currentTimeline;h.delay&&(a.incrementTime(h.delay),v.snapshotCurrentStyles());const N=s.style;5==N.type?this.visitKeyframes(N,a):(a.incrementTime(h.duration),this.visitStyle(N,a),v.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=s}visitStyle(s,a){const h=a.currentTimeline,v=a.currentAnimateTimings;!v&&h.hasCurrentStyleProperties()&&h.forwardFrame();const N=v&&v.easing||s.easing;s.isEmptyStep?h.applyEmptyStep(N):h.setStyles(s.styles,N,a.errors,a.options),a.previousNode=s}visitKeyframes(s,a){const h=a.currentAnimateTimings,v=a.currentTimeline.duration,N=h.duration,Y=a.createSubContext().currentTimeline;Y.easing=h.easing,s.styles.forEach(ce=>{Y.forwardTime((ce.offset||0)*N),Y.setStyles(ce.styles,ce.easing,a.errors,a.options),Y.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(Y),a.transformIntoNewTimeline(v+N),a.previousNode=s}visitQuery(s,a){const h=a.currentTimeline.currentTime,v=s.options||{},N=v.delay?du(v.delay):0;N&&(6===a.previousNode.type||0==h&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=vh);let B=h;const Y=a.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!v.optional,a.errors);a.currentQueryTotal=Y.length;let ce=null;Y.forEach((Re,Dt)=>{a.currentQueryIndex=Dt;const Rt=a.createSubContext(s.options,Re);N&&Rt.delayNextStep(N),Re===a.element&&(ce=Rt.currentTimeline),Lc(this,s.animation,Rt),Rt.currentTimeline.applyStylesToKeyframe(),B=Math.max(B,Rt.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(B),ce&&(a.currentTimeline.mergeTimelineCollectedStyles(ce),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=s}visitStagger(s,a){const h=a.parentContext,v=a.currentTimeline,N=s.timings,B=Math.abs(N.duration),Y=B*(a.currentQueryTotal-1);let ce=B*a.currentQueryIndex;switch(N.duration<0?"reverse":N.easing){case"reverse":ce=Y-ce;break;case"full":ce=h.currentStaggerTime}const Dt=a.currentTimeline;ce&&Dt.delayNextStep(ce);const Rt=Dt.currentTime;Lc(this,s.animation,a),a.previousNode=s,h.currentStaggerTime=v.currentTime-Rt+(v.startTime-h.currentTimeline.startTime)}}const vh={};class Gh{constructor(s,a,h,v,N,B,Y,ce){this._driver=s,this.element=a,this.subInstructions=h,this._enterClassName=v,this._leaveClassName=N,this.errors=B,this.timelines=Y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ce||new Wh(this._driver,a,0),Y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,a){if(!s)return;const h=s;let v=this.options;null!=h.duration&&(v.duration=du(h.duration)),null!=h.delay&&(v.delay=du(h.delay));const N=h.params;if(N){let B=v.params;B||(B=this.options.params={}),Object.keys(N).forEach(Y=>{(!a||!B.hasOwnProperty(Y))&&(B[Y]=hd(N[Y],B,this.errors))})}}_copyOptions(){const s={};if(this.options){const a=this.options.params;if(a){const h=s.params={};Object.keys(a).forEach(v=>{h[v]=a[v]})}}return s}createSubContext(s=null,a,h){const v=a||this.element,N=new Gh(this._driver,v,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(v,h||0));return N.previousNode=this.previousNode,N.currentAnimateTimings=this.currentAnimateTimings,N.options=this._copyOptions(),N.updateOptions(s),N.currentQueryIndex=this.currentQueryIndex,N.currentQueryTotal=this.currentQueryTotal,N.parentContext=this,this.subContextCount++,N}transformIntoNewTimeline(s){return this.previousNode=vh,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,a,h){const v={duration:a??s.duration,delay:this.currentTimeline.currentTime+(h??0)+s.delay,easing:""},N=new jf(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,v,s.stretchStartingKeyframe);return this.timelines.push(N),v}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,a,h,v,N,B){let Y=[];if(v&&Y.push(this.element),s.length>0){s=(s=s.replace(Hh,"."+this._enterClassName)).replace(Vf,"."+this._leaveClassName);let Re=this._driver.query(this.element,s,1!=h);0!==h&&(Re=h<0?Re.slice(Re.length+h,Re.length):Re.slice(0,h)),Y.push(...Re)}return!N&&0==Y.length&&B.push(function fg(u){return new q.vHH(3014,!1)}()),Y}}class Wh{constructor(s,a,h,v){this._driver=s,this.element=a,this.startTime=h,this._elementTimelineStylesLookup=v,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+s),a&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,a){return this.applyStylesToKeyframe(),new Wh(this._driver,s,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,a){this._localTimelineStyles.set(s,a),this._globalTimelineStyles.set(s,a),this._styleSummary.set(s,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&this._previousKeyframe.set("easing",s);for(let[a,h]of this._globalTimelineStyles)this._backFill.set(a,h||uc),this._currentKeyframe.set(a,uc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,a,h,v){a&&this._previousKeyframe.set("easing",a);const N=v&&v.params||{},B=function Dm(u,s){const a=new Map;let h;return u.forEach(v=>{if("*"===v){h=h||s.keys();for(let N of h)a.set(N,uc)}else fu(v,a)}),a}(s,this._globalTimelineStyles);for(let[Y,ce]of B){const Re=hd(ce,N,h);this._pendingStyles.set(Y,Re),this._localTimelineStyles.has(Y)||this._backFill.set(Y,this._globalTimelineStyles.get(Y)??uc),this._updateStyle(Y,Re)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((s,a)=>{this._currentKeyframe.set(a,s)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((s,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,s)}))}snapshotCurrentStyles(){for(let[s,a]of this._localTimelineStyles)this._pendingStyles.set(s,a),this._updateStyle(s,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let a in this._currentKeyframe)s.push(a);return s}mergeTimelineCollectedStyles(s){s._styleSummary.forEach((a,h)=>{const v=this._styleSummary.get(h);(!v||a.time>v.time)&&this._updateStyle(h,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,a=new Set,h=1===this._keyframes.size&&0===this.duration;let v=[];this._keyframes.forEach((Y,ce)=>{const Re=fu(Y,new Map,this._backFill);Re.forEach((Dt,Rt)=>{"!"===Dt?s.add(Rt):Dt===uc&&a.add(Rt)}),h||Re.set("offset",ce/this.duration),v.push(Re)});const N=s.size?vg(s.values()):[],B=a.size?vg(a.values()):[];if(h){const Y=v[0],ce=new Map(Y);Y.set("offset",0),ce.set("offset",1),v=[Y,ce]}return Ag(this.element,v,N,B,this.duration,this.startTime,this.easing,!1)}}class jf extends Wh{constructor(s,a,h,v,N,B,Y=!1){super(s,a,B.delay),this.keyframes=h,this.preStyleProps=v,this.postStyleProps=N,this._stretchStartingKeyframe=Y,this.timings={duration:B.duration,delay:B.delay,easing:B.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:a,duration:h,easing:v}=this.timings;if(this._stretchStartingKeyframe&&a){const N=[],B=h+a,Y=a/B,ce=fu(s[0]);ce.set("offset",0),N.push(ce);const Re=fu(s[0]);Re.set("offset",Hf(Y)),N.push(Re);const Dt=s.length-1;for(let Rt=1;Rt<=Dt;Rt++){let Jt=fu(s[Rt]);const Dn=Jt.get("offset");Jt.set("offset",Hf((a+Dn*h)/B)),N.push(Jt)}h=B,a=0,v="",s=N}return Ag(this.element,s,this.preStyleProps,this.postStyleProps,h,a,v,!0)}}function Hf(u,s=3){const a=Math.pow(10,s-1);return Math.round(u*a)/a}class Ng{}const h_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xp extends Ng{normalizePropertyName(s,a){return wg(s)}normalizeStyleValue(s,a,h,v){let N="";const B=h.toString().trim();if(h_.has(a)&&0!==h&&"0"!==h)if("number"==typeof h)N="px";else{const Y=h.match(/^[+-]?[\d\.]+([a-z]*)$/);Y&&0==Y[1].length&&v.push(function Q_(u,s){return new q.vHH(3005,!1)}())}return B+N}}function Im(u,s,a,h,v,N,B,Y,ce,Re,Dt,Rt,Jt){return{type:0,element:u,triggerName:s,isRemovalTransition:v,fromState:a,fromStyles:N,toState:h,toStyles:B,timelines:Y,queriedElements:ce,preStyleProps:Re,postStyleProps:Dt,totalTime:Rt,errors:Jt}}const zh={};class Gf{constructor(s,a,h){this._triggerName=s,this.ast=a,this._stateStyles=h}match(s,a,h,v){return function cl(u,s,a,h,v){return u.some(N=>N(s,a,h,v))}(this.ast.matchers,s,a,h,v)}buildStyles(s,a,h){let v=this._stateStyles.get("*");return void 0!==s&&(v=this._stateStyles.get(s?.toString())||v),v?v.buildStyles(a,h):new Map}build(s,a,h,v,N,B,Y,ce,Re,Dt){const Rt=[],Jt=this.ast.options&&this.ast.options.params||zh,Pn=this.buildStyles(h,Y&&Y.params||zh,Rt),oi=ce&&ce.params||zh,wr=this.buildStyles(v,oi,Rt),Yr=new Set,cr=new Map,Vo=new Map,aa="void"===v,ro={params:Mg(oi,Jt),delay:this.ast.options?.delay},kl=Dt?[]:Hd(s,a,this.ast.animation,N,B,Pn,wr,ro,Re,Rt);let Ba=0;if(kl.forEach(gu=>{Ba=Math.max(gu.duration+gu.delay,Ba)}),Rt.length)return Im(a,this._triggerName,h,v,aa,Pn,wr,[],[],cr,Vo,Ba,Rt);kl.forEach(gu=>{const Pu=gu.element,Yg=kc(cr,Pu,new Set);gu.preStyleProps.forEach(Kd=>Yg.add(Kd));const Xh=kc(Vo,Pu,new Set);gu.postStyleProps.forEach(Kd=>Xh.add(Kd)),Pu!==a&&Yr.add(Pu)});const Ru=vg(Yr.values());return Im(a,this._triggerName,h,v,aa,Pn,wr,kl,Ru,cr,Vo,Ba)}}function Mg(u,s){const a=gh(s);for(const h in u)u.hasOwnProperty(h)&&null!=u[h]&&(a[h]=u[h]);return a}class xg{constructor(s,a,h){this.styles=s,this.defaultParams=a,this.normalizer=h}buildStyles(s,a){const h=new Map,v=gh(this.defaultParams);return Object.keys(s).forEach(N=>{const B=s[N];null!==B&&(v[N]=B)}),this.styles.styles.forEach(N=>{"string"!=typeof N&&N.forEach((B,Y)=>{B&&(B=hd(B,v,a));const ce=this.normalizer.normalizePropertyName(Y,a);B=this.normalizer.normalizeStyleValue(Y,ce,B,a),h.set(ce,B)})}),h}}class Og{constructor(s,a,h){this.name=s,this.ast=a,this._normalizer=h,this.transitionFactories=[],this.states=new Map,a.states.forEach(v=>{this.states.set(v.name,new xg(v.style,v.options&&v.options.params||{},h))}),Wf(this.states,"true","1"),Wf(this.states,"false","0"),a.transitions.forEach(v=>{this.transitionFactories.push(new Gf(s,v,this.states))}),this.fallbackTransition=function pu(u,s,a){return new Gf(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(B,Y)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,a,h,v){return this.transitionFactories.find(B=>B.match(s,a,h,v))||null}matchStyles(s,a,h){return this.fallbackTransition.buildStyles(s,a,h)}}function Wf(u,s,a){u.has(s)?u.has(a)||u.set(a,u.get(s)):u.has(a)&&u.set(s,u.get(a))}const f_=new $f;class Rg{constructor(s,a,h){this.bodyNode=s,this._driver=a,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(s,a){const h=[],N=Bf(this._driver,a,h,[]);if(h.length)throw function dh(u){return new q.vHH(3503,!1)}();this._animations.set(s,N)}_buildPlayer(s,a,h){const v=s.element,N=hh(0,this._normalizer,0,s.keyframes,a,h);return this._driver.animate(v,N,s.duration,s.delay,s.easing,[],!0)}create(s,a,h={}){const v=[],N=this._animations.get(s);let B;const Y=new Map;if(N?(B=Hd(this._driver,a,N,Bh,Bd,new Map,new Map,h,f_,v),B.forEach(Dt=>{const Rt=kc(Y,Dt.element,new Map);Dt.postStyleProps.forEach(Jt=>Rt.set(Jt,null))})):(v.push(function gp(){return new q.vHH(3300,!1)}()),B=[]),v.length)throw function mp(u){return new q.vHH(3504,!1)}();Y.forEach((Dt,Rt)=>{Dt.forEach((Jt,Dn)=>{Dt.set(Dn,this._driver.computeStyle(Rt,Dn,uc))})});const Re=dc(B.map(Dt=>{const Rt=Y.get(Dt.element);return this._buildPlayer(Dt,new Map,Rt)}));return this._playersById.set(s,Re),Re.onDestroy(()=>this.destroy(s)),this.players.push(Re),Re}destroy(s){const a=this._getPlayer(s);a.destroy(),this._playersById.delete(s);const h=this.players.indexOf(a);h>=0&&this.players.splice(h,1)}_getPlayer(s){const a=this._playersById.get(s);if(!a)throw function gm(u){return new q.vHH(3301,!1)}();return a}listen(s,a,h,v){const N=yp(a,"","","");return Df(this._getPlayer(s),h,N,v),()=>{}}command(s,a,h,v){if("register"==h)return void this.register(s,v[0]);if("create"==h)return void this.create(s,a,v[0]||{});const N=this._getPlayer(s);switch(h){case"play":N.play();break;case"pause":N.pause();break;case"reset":N.reset();break;case"restart":N.restart();break;case"finish":N.finish();break;case"init":N.init();break;case"setPosition":N.setPosition(parseFloat(v[0]));break;case"destroy":this.destroy(s)}}}const Sm="ng-animate-queued",zf="ng-animate-disabled",Op=[],kg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pa="__ng_removed";class bh{constructor(s,a=""){this.namespaceId=a;const h=s&&s.hasOwnProperty("value");if(this.value=function Vg(u){return u??null}(h?s.value:s),h){const N=gh(s);delete N.value,this.options=N}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(s){const a=s.params;if(a){const h=this.options.params;Object.keys(a).forEach(v=>{null==h[v]&&(h[v]=a[v])})}}}const Kh="void",Lg=new bh(Kh);class iy{constructor(s,a,h){this.id=s,this.hostElement=a,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,wl(a,this._hostClassName)}listen(s,a,h,v){if(!this._triggers.has(a))throw function pg(u,s){return new q.vHH(3302,!1)}();if(null==h||0==h.length)throw function mm(u){return new q.vHH(3303,!1)}();if(!function g_(u){return"start"==u||"done"==u}(h))throw function _m(u,s){return new q.vHH(3400,!1)}();const N=kc(this._elementListeners,s,[]),B={name:a,phase:h,callback:v};N.push(B);const Y=kc(this._engine.statesByElement,s,new Map);return Y.has(a)||(wl(s,Nf),wl(s,Nf+"-"+a),Y.set(a,Lg)),()=>{this._engine.afterFlush(()=>{const ce=N.indexOf(B);ce>=0&&N.splice(ce,1),this._triggers.has(a)||Y.delete(a)})}}register(s,a){return!this._triggers.has(s)&&(this._triggers.set(s,a),!0)}_getTrigger(s){const a=this._triggers.get(s);if(!a)throw function gg(u){return new q.vHH(3401,!1)}();return a}trigger(s,a,h,v=!0){const N=this._getTrigger(a),B=new Bg(this.id,a,s);let Y=this._engine.statesByElement.get(s);Y||(wl(s,Nf),wl(s,Nf+"-"+a),this._engine.statesByElement.set(s,Y=new Map));let ce=Y.get(a);const Re=new bh(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&ce&&Re.absorbOptions(ce.options),Y.set(a,Re),ce||(ce=Lg),Re.value!==Kh&&ce.value===Re.value){if(!function Mm(u,s){const a=Object.keys(u),h=Object.keys(s);if(a.length!=h.length)return!1;for(let v=0;v<a.length;v++){const N=a[v];if(!s.hasOwnProperty(N)||u[N]!==s[N])return!1}return!0}(ce.params,Re.params)){const oi=[],wr=N.matchStyles(ce.value,ce.params,oi),Yr=N.matchStyles(Re.value,Re.params,oi);oi.length?this._engine.reportError(oi):this._engine.afterFlush(()=>{Uh(s,wr),Fc(s,Yr)})}return}const Jt=kc(this._engine.playersByElement,s,[]);Jt.forEach(oi=>{oi.namespaceId==this.id&&oi.triggerName==a&&oi.queued&&oi.destroy()});let Dn=N.matchTransition(ce.value,Re.value,s,Re.params),Pn=!1;if(!Dn){if(!v)return;Dn=N.fallbackTransition,Pn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:a,transition:Dn,fromState:ce,toState:Re,player:B,isFallbackTransition:Pn}),Pn||(wl(s,Sm),B.onStart(()=>{qh(s,Sm)})),B.onDone(()=>{let oi=this.players.indexOf(B);oi>=0&&this.players.splice(oi,1);const wr=this._engine.playersByElement.get(s);if(wr){let Yr=wr.indexOf(B);Yr>=0&&wr.splice(Yr,1)}}),this.players.push(B),Jt.push(B),B}deregister(s){this._triggers.delete(s),this._engine.statesByElement.forEach(a=>a.delete(s)),this._elementListeners.forEach((a,h)=>{this._elementListeners.set(h,a.filter(v=>v.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const a=this._engine.playersByElement.get(s);a&&(a.forEach(h=>h.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,a){const h=this._engine.driver.query(s,Mf,!0);h.forEach(v=>{if(v[pa])return;const N=this._engine.fetchNamespacesByElement(v);N.size?N.forEach(B=>B.triggerLeaveAnimation(v,a,!1,!0)):this.clearElementCache(v)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(v=>this.clearElementCache(v)))}triggerLeaveAnimation(s,a,h,v){const N=this._engine.statesByElement.get(s),B=new Map;if(N){const Y=[];if(N.forEach((ce,Re)=>{if(B.set(Re,ce.value),this._triggers.has(Re)){const Dt=this.trigger(s,Re,Kh,v);Dt&&Y.push(Dt)}}),Y.length)return this._engine.markElementAsRemoved(this.id,s,!0,a,B),h&&dc(Y).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const a=this._elementListeners.get(s),h=this._engine.statesByElement.get(s);if(a&&h){const v=new Set;a.forEach(N=>{const B=N.name;if(v.has(B))return;v.add(B);const ce=this._triggers.get(B).fallbackTransition,Re=h.get(B)||Lg,Dt=new bh(Kh),Rt=new Bg(this.id,B,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:B,transition:ce,fromState:Re,toState:Dt,player:Rt,isFallbackTransition:!0})})}}removeNode(s,a){const h=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,a),this.triggerLeaveAnimation(s,a,!0))return;let v=!1;if(h.totalAnimations){const N=h.players.length?h.playersByQueriedElement.get(s):[];if(N&&N.length)v=!0;else{let B=s;for(;B=B.parentNode;)if(h.statesByElement.get(B)){v=!0;break}}}if(this.prepareLeaveAnimationListeners(s),v)h.markElementAsRemoved(this.id,s,!1,a);else{const N=s[pa];(!N||N===kg)&&(h.afterFlush(()=>this.clearElementCache(s)),h.destroyInnerAnimations(s),h._onRemovalComplete(s,a))}}insertNode(s,a){wl(s,this._hostClassName)}drainQueuedTransitions(s){const a=[];return this._queue.forEach(h=>{const v=h.player;if(v.destroyed)return;const N=h.element,B=this._elementListeners.get(N);B&&B.forEach(Y=>{if(Y.name==h.triggerName){const ce=yp(N,h.triggerName,h.fromState.value,h.toState.value);ce._data=s,Df(h.player,Y.phase,ce,Y.callback)}}),v.markedForDestroy?this._engine.afterFlush(()=>{v.destroy()}):a.push(h)}),this._queue=[],a.sort((h,v)=>{const N=h.transition.ast.depCount,B=v.transition.ast.depCount;return 0==N||0==B?N-B:this._engine.driver.containsElement(h.element,v.element)?1:-1})}destroy(s){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}elementContainsData(s){let a=!1;return this._elementListeners.has(s)&&(a=!0),a=!!this._queue.find(h=>h.element===s)||a,a}}class Rp{constructor(s,a,h){this.bodyNode=s,this.driver=a,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(v,N)=>{}}_onRemovalComplete(s,a){this.onRemovalComplete(s,a)}get queuedPlayers(){const s=[];return this._namespaceList.forEach(a=>{a.players.forEach(h=>{h.queued&&s.push(h)})}),s}createNamespace(s,a){const h=new iy(s,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(h,a):(this.newHostElements.set(a,h),this.collectEnterElement(a)),this._namespaceLookup[s]=h}_balanceNamespaceList(s,a){const h=this._namespaceList,v=this.namespacesByHostElement;if(h.length-1>=0){let B=!1,Y=this.driver.getParentElement(a);for(;Y;){const ce=v.get(Y);if(ce){const Re=h.indexOf(ce);h.splice(Re+1,0,s),B=!0;break}Y=this.driver.getParentElement(Y)}B||h.unshift(s)}else h.push(s);return v.set(a,s),s}register(s,a){let h=this._namespaceLookup[s];return h||(h=this.createNamespace(s,a)),h}registerTrigger(s,a,h){let v=this._namespaceLookup[s];v&&v.register(a,h)&&this.totalAnimations++}destroy(s,a){if(!s)return;const h=this._fetchNamespace(s);this.afterFlush(()=>{this.namespacesByHostElement.delete(h.hostElement),delete this._namespaceLookup[s];const v=this._namespaceList.indexOf(h);v>=0&&this._namespaceList.splice(v,1)}),this.afterFlushAnimationsDone(()=>h.destroy(a))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const a=new Set,h=this.statesByElement.get(s);if(h)for(let v of h.values())if(v.namespaceId){const N=this._fetchNamespace(v.namespaceId);N&&a.add(N)}return a}trigger(s,a,h,v){if(Gd(a)){const N=this._fetchNamespace(s);if(N)return N.trigger(a,h,v),!0}return!1}insertNode(s,a,h,v){if(!Gd(a))return;const N=a[pa];if(N&&N.setForRemoval){N.setForRemoval=!1,N.setForMove=!0;const B=this.collectedLeaveElements.indexOf(a);B>=0&&this.collectedLeaveElements.splice(B,1)}if(s){const B=this._fetchNamespace(s);B&&B.insertNode(a,h)}v&&this.collectEnterElement(a)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,a){a?this.disabledNodes.has(s)||(this.disabledNodes.add(s),wl(s,zf)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),qh(s,zf))}removeNode(s,a,h,v){if(Gd(a)){const N=s?this._fetchNamespace(s):null;if(N?N.removeNode(a,v):this.markElementAsRemoved(s,a,!1,v),h){const B=this.namespacesByHostElement.get(a);B&&B.id!==s&&B.removeNode(a,v)}}else this._onRemovalComplete(a,v)}markElementAsRemoved(s,a,h,v,N){this.collectedLeaveElements.push(a),a[pa]={namespaceId:s,setForRemoval:v,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:N}}listen(s,a,h,v,N){return Gd(a)?this._fetchNamespace(s).listen(a,h,v,N):()=>{}}_buildInstruction(s,a,h,v,N){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,h,v,s.fromState.options,s.toState.options,a,N)}destroyInnerAnimations(s){let a=this.driver.query(s,Mf,!0);a.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(s,uu,!0),a.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(s){const a=this.playersByElement.get(s);a&&a.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(s){const a=this.playersByQueriedElement.get(s);a&&a.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return dc(this.players).onDone(()=>s());s()})}processLeaveNode(s){const a=s[pa];if(a&&a.setForRemoval){if(s[pa]=kg,a.namespaceId){this.destroyInnerAnimations(s);const h=this._fetchNamespace(a.namespaceId);h&&h.clearElementCache(s)}this._onRemovalComplete(s,a.setForRemoval)}s.classList?.contains(zf)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(s=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,v)=>this._balanceNamespaceList(h,v)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)wl(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{a=this._flushAnimations(h,s)}finally{for(let v=0;v<h.length;v++)h[v]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],a.length?dc(a).onDone(()=>{h.forEach(v=>v())}):h.forEach(v=>v())}}reportError(s){throw function i_(u){return new q.vHH(3402,!1)}()}_flushAnimations(s,a){const h=new $f,v=[],N=new Map,B=[],Y=new Map,ce=new Map,Re=new Map,Dt=new Set;this.disabledNodes.forEach(Wi=>{Dt.add(Wi);const gr=this.driver.query(Wi,".ng-animate-queued",!0);for(let or=0;or<gr.length;or++)Dt.add(gr[or])});const Rt=this.bodyNode,Jt=Array.from(this.statesByElement.keys()),Dn=Pp(Jt,this.collectedEnterElements),Pn=new Map;let oi=0;Dn.forEach((Wi,gr)=>{const or=Bh+oi++;Pn.set(gr,or),Wi.forEach(ks=>wl(ks,or))});const wr=[],Yr=new Set,cr=new Set;for(let Wi=0;Wi<this.collectedLeaveElements.length;Wi++){const gr=this.collectedLeaveElements[Wi],or=gr[pa];or&&or.setForRemoval&&(wr.push(gr),Yr.add(gr),or.hasAnimation?this.driver.query(gr,".ng-star-inserted",!0).forEach(ks=>Yr.add(ks)):cr.add(gr))}const Vo=new Map,aa=Pp(Jt,Array.from(Yr));aa.forEach((Wi,gr)=>{const or=Bd+oi++;Vo.set(gr,or),Wi.forEach(ks=>wl(ks,or))}),s.push(()=>{Dn.forEach((Wi,gr)=>{const or=Pn.get(gr);Wi.forEach(ks=>qh(ks,or))}),aa.forEach((Wi,gr)=>{const or=Vo.get(gr);Wi.forEach(ks=>qh(ks,or))}),wr.forEach(Wi=>{this.processLeaveNode(Wi)})});const ro=[],kl=[];for(let Wi=this._namespaceList.length-1;Wi>=0;Wi--)this._namespaceList[Wi].drainQueuedTransitions(a).forEach(or=>{const ks=or.player,Mo=or.element;if(ro.push(ks),this.collectedEnterElements.length){const Na=Mo[pa];if(Na&&Na.setForMove){if(Na.previousTriggersValues&&Na.previousTriggersValues.has(or.triggerName)){const Eh=Na.previousTriggersValues.get(or.triggerName),Ma=this.statesByElement.get(or.element);if(Ma&&Ma.has(or.triggerName)){const Fu=Ma.get(or.triggerName);Fu.value=Eh,Ma.set(or.triggerName,Fu)}}return void ks.destroy()}}const El=!Rt||!this.driver.containsElement(Rt,Mo),ul=Vo.get(Mo),ku=Pn.get(Mo),la=this._buildInstruction(or,h,ku,ul,El);if(la.errors&&la.errors.length)return void kl.push(la);if(El)return ks.onStart(()=>Uh(Mo,la.fromStyles)),ks.onDestroy(()=>Fc(Mo,la.toStyles)),void v.push(ks);if(or.isFallbackTransition)return ks.onStart(()=>Uh(Mo,la.fromStyles)),ks.onDestroy(()=>Fc(Mo,la.toStyles)),void v.push(ks);const ef=[];la.timelines.forEach(Na=>{Na.stretchStartingKeyframe=!0,this.disabledNodes.has(Na.element)||ef.push(Na)}),la.timelines=ef,h.append(Mo,la.timelines),B.push({instruction:la,player:ks,element:Mo}),la.queriedElements.forEach(Na=>kc(Y,Na,[]).push(ks)),la.preStyleProps.forEach((Na,Eh)=>{if(Na.size){let Ma=ce.get(Eh);Ma||ce.set(Eh,Ma=new Set),Na.forEach((Fu,gd)=>Ma.add(gd))}}),la.postStyleProps.forEach((Na,Eh)=>{let Ma=Re.get(Eh);Ma||Re.set(Eh,Ma=new Set),Na.forEach((Fu,gd)=>Ma.add(gd))})});if(kl.length){const Wi=[];kl.forEach(gr=>{Wi.push(function mg(u,s){return new q.vHH(3505,!1)}())}),ro.forEach(gr=>gr.destroy()),this.reportError(Wi)}const Ba=new Map,Ru=new Map;B.forEach(Wi=>{const gr=Wi.element;h.has(gr)&&(Ru.set(gr,gr),this._beforeAnimationBuild(Wi.player.namespaceId,Wi.instruction,Ba))}),v.forEach(Wi=>{const gr=Wi.element;this._getPreviousPlayers(gr,!1,Wi.namespaceId,Wi.triggerName,null).forEach(ks=>{kc(Ba,gr,[]).push(ks),ks.destroy()})});const gu=wr.filter(Wi=>Hg(Wi,ce,Re)),Pu=new Map;Yh(Pu,this.driver,cr,Re,uc).forEach(Wi=>{Hg(Wi,ce,Re)&&gu.push(Wi)});const Xh=new Map;Dn.forEach((Wi,gr)=>{Yh(Xh,this.driver,new Set(Wi),ce,"!")}),gu.forEach(Wi=>{const gr=Pu.get(Wi),or=Xh.get(Wi);Pu.set(Wi,new Map([...Array.from(gr?.entries()??[]),...Array.from(or?.entries()??[])]))});const Kd=[],$m=[],qg={};B.forEach(Wi=>{const{element:gr,player:or,instruction:ks}=Wi;if(h.has(gr)){if(Dt.has(gr))return or.onDestroy(()=>Fc(gr,ks.toStyles)),or.disabled=!0,or.overrideTotalTime(ks.totalTime),void v.push(or);let Mo=qg;if(Ru.size>1){let ul=gr;const ku=[];for(;ul=ul.parentNode;){const la=Ru.get(ul);if(la){Mo=la;break}ku.push(ul)}ku.forEach(la=>Ru.set(la,Mo))}const El=this._buildAnimation(or.namespaceId,ks,Ba,N,Xh,Pu);if(or.setRealPlayer(El),Mo===qg)Kd.push(or);else{const ul=this.playersByElement.get(Mo);ul&&ul.length&&(or.parentPlayer=dc(ul)),v.push(or)}}else Uh(gr,ks.fromStyles),or.onDestroy(()=>Fc(gr,ks.toStyles)),$m.push(or),Dt.has(gr)&&v.push(or)}),$m.forEach(Wi=>{const gr=N.get(Wi.element);if(gr&&gr.length){const or=dc(gr);Wi.setRealPlayer(or)}}),v.forEach(Wi=>{Wi.parentPlayer?Wi.syncPlayerEvents(Wi.parentPlayer):Wi.destroy()});for(let Wi=0;Wi<wr.length;Wi++){const gr=wr[Wi],or=gr[pa];if(qh(gr,Bd),or&&or.hasAnimation)continue;let ks=[];if(Y.size){let El=Y.get(gr);El&&El.length&&ks.push(...El);let ul=this.driver.query(gr,uu,!0);for(let ku=0;ku<ul.length;ku++){let la=Y.get(ul[ku]);la&&la.length&&ks.push(...la)}}const Mo=ks.filter(El=>!El.destroyed);Mo.length?Zh(this,gr,Mo):this.processLeaveNode(gr)}return wr.length=0,Kd.forEach(Wi=>{this.players.push(Wi),Wi.onDone(()=>{Wi.destroy();const gr=this.players.indexOf(Wi);this.players.splice(gr,1)}),Wi.play()}),Kd}elementContainsData(s,a){let h=!1;const v=a[pa];return v&&v.setForRemoval&&(h=!0),this.playersByElement.has(a)&&(h=!0),this.playersByQueriedElement.has(a)&&(h=!0),this.statesByElement.has(a)&&(h=!0),this._fetchNamespace(s).elementContainsData(a)||h}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,a,h,v,N){let B=[];if(a){const Y=this.playersByQueriedElement.get(s);Y&&(B=Y)}else{const Y=this.playersByElement.get(s);if(Y){const ce=!N||N==Kh;Y.forEach(Re=>{Re.queued||!ce&&Re.triggerName!=v||B.push(Re)})}}return(h||v)&&(B=B.filter(Y=>!(h&&h!=Y.namespaceId||v&&v!=Y.triggerName))),B}_beforeAnimationBuild(s,a,h){const N=a.element,B=a.isRemovalTransition?void 0:s,Y=a.isRemovalTransition?void 0:a.triggerName;for(const ce of a.timelines){const Re=ce.element,Dt=Re!==N,Rt=kc(h,Re,[]);this._getPreviousPlayers(Re,Dt,B,Y,a.toState).forEach(Dn=>{const Pn=Dn.getRealPlayer();Pn.beforeDestroy&&Pn.beforeDestroy(),Dn.destroy(),Rt.push(Dn)})}Uh(N,a.fromStyles)}_buildAnimation(s,a,h,v,N,B){const Y=a.triggerName,ce=a.element,Re=[],Dt=new Set,Rt=new Set,Jt=a.timelines.map(Pn=>{const oi=Pn.element;Dt.add(oi);const wr=oi[pa];if(wr&&wr.removedBeforeQueried)return new Mu(Pn.duration,Pn.delay);const Yr=oi!==ce,cr=function ry(u){const s=[];return jg(u,s),s}((h.get(oi)||Op).map(Ba=>Ba.getRealPlayer())).filter(Ba=>!!Ba.element&&Ba.element===oi),Vo=N.get(oi),aa=B.get(oi),ro=hh(0,this._normalizer,0,Pn.keyframes,Vo,aa),kl=this._buildPlayer(Pn,ro,cr);if(Pn.subTimeline&&v&&Rt.add(oi),Yr){const Ba=new Bg(s,Y,oi);Ba.setRealPlayer(kl),Re.push(Ba)}return kl});Re.forEach(Pn=>{kc(this.playersByQueriedElement,Pn.element,[]).push(Pn),Pn.onDone(()=>function $g(u,s,a){let h=u.get(s);if(h){if(h.length){const v=h.indexOf(a);h.splice(v,1)}0==h.length&&u.delete(s)}return h}(this.playersByQueriedElement,Pn.element,Pn))}),Dt.forEach(Pn=>wl(Pn,dd));const Dn=dc(Jt);return Dn.onDestroy(()=>{Dt.forEach(Pn=>qh(Pn,dd)),Fc(ce,a.toStyles)}),Rt.forEach(Pn=>{kc(v,Pn,[]).push(Dn)}),Dn}_buildPlayer(s,a,h){return a.length>0?this.driver.animate(s.element,a,s.duration,s.delay,s.easing,h):new Mu(s.duration,s.delay)}}class Bg{constructor(s,a,h){this.namespaceId=s,this.triggerName=a,this.element=h,this._player=new Mu,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,this._queuedCallbacks.forEach((a,h)=>{a.forEach(v=>Df(s,h,void 0,v))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const a=this._player;a.triggerCallback&&s.onStart(()=>a.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,a){kc(this._queuedCallbacks,s,[]).push(a)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const a=this._player;a.triggerCallback&&a.triggerCallback(s)}}function Gd(u){return u&&1===u.nodeType}function Ug(u,s){const a=u.style.display;return u.style.display=s??"none",a}function Yh(u,s,a,h,v){const N=[];a.forEach(ce=>N.push(Ug(ce)));const B=[];h.forEach((ce,Re)=>{const Dt=new Map;ce.forEach(Rt=>{const Jt=s.computeStyle(Re,Rt,v);Dt.set(Rt,Jt),(!Jt||0==Jt.length)&&(Re[pa]=Fg,B.push(Re))}),u.set(Re,Dt)});let Y=0;return a.forEach(ce=>Ug(ce,N[Y++])),B}function Pp(u,s){const a=new Map;if(u.forEach(Y=>a.set(Y,[])),0==s.length)return a;const v=new Set(s),N=new Map;function B(Y){if(!Y)return 1;let ce=N.get(Y);if(ce)return ce;const Re=Y.parentNode;return ce=a.has(Re)?Re:v.has(Re)?1:B(Re),N.set(Y,ce),ce}return s.forEach(Y=>{const ce=B(Y);1!==ce&&a.get(ce).push(Y)}),a}function wl(u,s){u.classList?.add(s)}function qh(u,s){u.classList?.remove(s)}function Zh(u,s,a){dc(a).onDone(()=>u.processLeaveNode(s))}function jg(u,s){for(let a=0;a<u.length;a++){const h=u[a];h instanceof cd?jg(h.players,s):s.push(h)}}function Hg(u,s,a){const h=a.get(u);if(!h)return!1;let v=s.get(u);return v?h.forEach(N=>v.add(N)):s.set(u,h),a.delete(u),!0}class Qh{constructor(s,a,h){this.bodyNode=s,this._driver=a,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(v,N)=>{},this._transitionEngine=new Rp(s,a,h),this._timelineEngine=new Rg(s,a,h),this._transitionEngine.onRemovalComplete=(v,N)=>this.onRemovalComplete(v,N)}registerTrigger(s,a,h,v,N){const B=s+"-"+v;let Y=this._triggerCache[B];if(!Y){const ce=[],Dt=Bf(this._driver,N,ce,[]);if(ce.length)throw function Wr(u,s){return new q.vHH(3404,!1)}();Y=function ny(u,s,a){return new Og(u,s,a)}(v,Dt,this._normalizer),this._triggerCache[B]=Y}this._transitionEngine.registerTrigger(a,v,Y)}register(s,a){this._transitionEngine.register(s,a)}destroy(s,a){this._transitionEngine.destroy(s,a)}onInsert(s,a,h,v){this._transitionEngine.insertNode(s,a,h,v)}onRemove(s,a,h,v){this._transitionEngine.removeNode(s,a,v||!1,h)}disableAnimations(s,a){this._transitionEngine.markElementAsDisabled(s,a)}process(s,a,h,v){if("@"==h.charAt(0)){const[N,B]=ym(h);this._timelineEngine.command(N,a,B,v)}else this._transitionEngine.trigger(s,a,h,v)}listen(s,a,h,v,N){if("@"==h.charAt(0)){const[B,Y]=ym(h);return this._timelineEngine.listen(B,a,Y,N)}return this._transitionEngine.listen(s,a,h,v,N)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let xu=(()=>{class u{constructor(a,h,v){this._element=a,this._startStyles=h,this._endStyles=v,this._state=0;let N=u.initialStylesByElement.get(a);N||u.initialStylesByElement.set(a,N=new Map),this._initialStyles=N}start(){this._state<1&&(this._startStyles&&Fc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fc(this._element,this._initialStyles),this._endStyles&&(Fc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(Uh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Uh(this._element,this._endStyles),this._endStyles=null),Fc(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function Wd(u){let s=null;return u.forEach((a,h)=>{(function Jh(u){return"display"===u||"position"===u})(h)&&(s=s||new Map,s.set(h,a))}),s}class zd{constructor(s,a,h,v){this.element=s,this.keyframes=a,this.options=h,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(s){const a=[];return s.forEach(h=>{a.push(Object.fromEntries(h))}),a}_triggerWebAnimation(s,a,h){return s.animate(this._convertKeyframesToObject(a),h)}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,v)=>{"offset"!==v&&s.set(v,this._finished?h:Cp(this.element,v))}),this.currentSnapshot=s}triggerCallback(s){const a="start"===s?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}class kp{validateStyleProperty(s){return!0}validateAnimatableStyleProperty(s){return!0}matchesElement(s,a){return!1}containsElement(s,a){return bm(s,a)}getParentElement(s){return Ld(s)}query(s,a,h){return wm(s,a,h)}computeStyle(s,a,h){return window.getComputedStyle(s)[a]}animate(s,a,h,v,N,B=[]){const ce={duration:h,delay:v,fill:0==v?"both":"forwards"};N&&(ce.easing=N);const Re=new Map,Dt=B.filter(Dn=>Dn instanceof zd);(function l_(u,s){return 0===u||0===s})(h,v)&&Dt.forEach(Dn=>{Dn.currentSnapshot.forEach((Pn,oi)=>Re.set(oi,Pn))});let Rt=function hu(u){return u.length?u[0]instanceof Map?u:u.map(s=>bp(s)):[]}(a).map(Dn=>fu(Dn));Rt=function Ep(u,s,a){if(a.size&&s.length){let h=s[0],v=[];if(a.forEach((N,B)=>{h.has(B)||v.push(B),h.set(B,N)}),v.length)for(let N=1;N<s.length;N++){let B=s[N];v.forEach(Y=>B.set(Y,Cp(u,Y)))}}return s}(s,Rt,Re);const Jt=function Kf(u,s){let a=null,h=null;return Array.isArray(s)&&s.length?(a=Wd(s[0]),s.length>1&&(h=Wd(s[s.length-1]))):s instanceof Map&&(a=Wd(s)),a||h?new xu(u,a,h):null}(s,Rt);return new zd(s,Rt,ce,Jt)}}let Yf=(()=>{class u extends Rd{constructor(a,h){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(h.body,{id:"0",encapsulation:q.ifc.None,styles:[],data:{animation:[]}})}build(a){const h=this._nextAnimationId.toString();this._nextAnimationId++;const v=Array.isArray(a)?Pd(a):a;return Wg(this._renderer,null,h,"register",[v]),new Gg(h,this._renderer)}}return u.\u0275fac=function(a){return new(a||u)(q.LFG(q.FYo),q.LFG(Fe.K0))},u.\u0275prov=q.Yz7({token:u,factory:u.\u0275fac}),u})();class Gg extends class Zl{}{constructor(s,a){super(),this._id=s,this._renderer=a}create(s,a){return new Fp(this._id,s,a||{},this._renderer)}}class Fp{constructor(s,a,h,v){this.id=s,this.element=a,this._renderer=v,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(s,a){return this._renderer.listen(this.element,`@@${this.id}:${s}`,a)}_command(s,...a){return Wg(this._renderer,this.element,this.id,s,a)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Wg(u,s,a,h,v){return u.setProperty(s,`@@${a}:${h}`,v)}const wh="@.disabled";let xm=(()=>{class u{constructor(a,h,v){this.delegate=a,this.engine=h,this._zone=v,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),h.onRemovalComplete=(N,B)=>{const Y=B?.parentNode(N);Y&&B.removeChild(Y,N)}}createRenderer(a,h){const N=this.delegate.createRenderer(a,h);if(!(a&&h&&h.data&&h.data.animation)){let Dt=this._rendererCache.get(N);return Dt||(Dt=new Om("",N,this.engine),this._rendererCache.set(N,Dt)),Dt}const B=h.id,Y=h.id+"-"+this._currentId;this._currentId++,this.engine.register(Y,a);const ce=Dt=>{Array.isArray(Dt)?Dt.forEach(ce):this.engine.registerTrigger(B,Y,a,Dt.name,Dt)};return h.data.animation.forEach(ce),new sy(this,Y,N,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,h,v){a>=0&&a<this._microtaskId?this._zone.run(()=>h(v)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(N=>{const[B,Y]=N;B(Y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,v]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(a){return new(a||u)(q.LFG(q.FYo),q.LFG(Qh),q.LFG(q.R0b))},u.\u0275prov=q.Yz7({token:u,factory:u.\u0275fac}),u})();class Om{constructor(s,a,h){this.namespaceId=s,this.delegate=a,this.engine=h,this.destroyNode=this.delegate.destroyNode?v=>a.destroyNode(v):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(s,a){return this.delegate.createElement(s,a)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,a){this.delegate.appendChild(s,a),this.engine.onInsert(this.namespaceId,a,s,!1)}insertBefore(s,a,h,v=!0){this.delegate.insertBefore(s,a,h),this.engine.onInsert(this.namespaceId,a,s,v)}removeChild(s,a,h){this.engine.onRemove(this.namespaceId,a,this.delegate,h)}selectRootElement(s,a){return this.delegate.selectRootElement(s,a)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,a,h,v){this.delegate.setAttribute(s,a,h,v)}removeAttribute(s,a,h){this.delegate.removeAttribute(s,a,h)}addClass(s,a){this.delegate.addClass(s,a)}removeClass(s,a){this.delegate.removeClass(s,a)}setStyle(s,a,h,v){this.delegate.setStyle(s,a,h,v)}removeStyle(s,a,h){this.delegate.removeStyle(s,a,h)}setProperty(s,a,h){"@"==a.charAt(0)&&a==wh?this.disableAnimations(s,!!h):this.delegate.setProperty(s,a,h)}setValue(s,a){this.delegate.setValue(s,a)}listen(s,a,h){return this.delegate.listen(s,a,h)}disableAnimations(s,a){this.engine.disableAnimations(s,a)}}class sy extends Om{constructor(s,a,h,v){super(a,h,v),this.factory=s,this.namespaceId=a}setProperty(s,a,h){"@"==a.charAt(0)?"."==a.charAt(1)&&a==wh?this.disableAnimations(s,h=void 0===h||!!h):this.engine.process(this.namespaceId,s,a.slice(1),h):this.delegate.setProperty(s,a,h)}listen(s,a,h){if("@"==a.charAt(0)){const v=function m_(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(s);let N=a.slice(1),B="";return"@"!=N.charAt(0)&&([N,B]=function Rm(u){const s=u.indexOf(".");return[u.substring(0,s),u.slice(s+1)]}(N)),this.engine.listen(this.namespaceId,v,N,B,Y=>{this.factory.scheduleListenerCallback(Y._data||-1,h,Y)})}return this.delegate.listen(s,a,h)}}const Pm=[{provide:Rd,useClass:Yf},{provide:Ng,useFactory:function zg(){return new xp}},{provide:Qh,useClass:(()=>{class u extends Qh{constructor(a,h,v,N){super(a.body,h,v)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(a){return new(a||u)(q.LFG(Fe.K0),q.LFG(Sf),q.LFG(Ng),q.LFG(q.z2F))},u.\u0275prov=q.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:q.FYo,useFactory:function Kg(u,s,a){return new xm(u,s,a)},deps:[o.se,Qh,q.R0b]}],qf=[{provide:Sf,useFactory:()=>new kp},{provide:q.QbO,useValue:"BrowserAnimations"},...Pm],km=[{provide:Sf,useClass:fh},{provide:q.QbO,useValue:"NoopAnimations"},...Pm];let Fm=(()=>{class u{static withConfig(a){return{ngModule:u,providers:a.disableAnimations?km:qf}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=q.oAB({type:u}),u.\u0275inj=q.cJS({providers:qf,imports:[o.b2]}),u})();(0,bl.ZF)(Et.N.firebase);let Bm=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=q.oAB({type:u,bootstrap:[vt]}),u.\u0275inj=q.cJS({providers:[{provide:Q.wN,useClass:de.r4},ge.a],imports:[o.b2,de.Pc.forRoot(),oe,Fe.ez,Qe.hO.initializeApp(Et.N.firebase),ke.TE,ad,We.ww,Fm,ld.u5,ie.IJ,_e.JF]}),u})();Et.N.production&&(0,q.G48)(),o.q6().bootstrapModule(Bm).catch(u=>console.log(u))},3682:(Sn,bt,L)=>{"use strict";L.d(bt,{lq:()=>q});const q="userid"},5867:(Sn,bt,L)=>{"use strict";L.d(bt,{C6:()=>o.getApps,Mq:()=>o.getApp,ZF:()=>o.initializeApp});var o=L(9681);(0,o.registerVersion)("firebase","9.10.0","app")},127:(Sn,bt,L)=>{"use strict";L.d(bt,{Z:()=>o.Z});var o=L(3942);o.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(Sn,bt,L)=>{"use strict";L.r(bt);var o=L(5861),q=L(3942),Q=L(2090),Fe=L(9681),ie=L(655),de=L(1877),_e=L(4859);const ft=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Lt=new de.Yd("@firebase/auth");function vt(x,..._){Lt.logLevel<=de.in.ERROR&&Lt.error(`Auth (${Fe.SDK_VERSION}): ${x}`,..._)}function Et(x,..._){throw tt(x,..._)}function Qe(x,..._){return tt(x,..._)}function We(x,_,w){const k=Object.assign(Object.assign({},Ve()),{[_]:w});return new Q.LL("auth","Firebase",k).create(_,{appName:x.name})}function ke(x,_,w){if(!(_ instanceof w))throw w.name!==_.constructor.name&&Et(x,"argument-error"),We(x,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(x,..._){if("string"!=typeof x){const w=_[0],k=[..._.slice(1)];return k[0]&&(k[0].appName=x.name),x._errorFactory.create(w,...k)}return Be.create(x,..._)}function Ee(x,_,...w){if(!x)throw tt(_,...w)}function ve(x){const _="INTERNAL ASSERTION FAILED: "+x;throw vt(_),new Error(_)}function Ie(x,_){x||ve(_)}const ue=new Map;function Ce(x){Ie(x instanceof Function,"Expected a class definition");let _=ue.get(x);return _?(Ie(_ instanceof x,"Instance stored in cache mismatched with class"),_):(_=new x,ue.set(x,_),_)}function St(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function Mt(){return"http:"===mt()||"https:"===mt()}function mt(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class at{constructor(_,w){this.shortDelay=_,this.longDelay=w,Ie(w>_,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function Je(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ht(x,_){Ie(x.emulator,"Emulator should always be set here");const{url:w}=x.emulator;return _?`${w}${_.startsWith("/")?_.slice(1):_}`:w}class xt{static initialize(_,w,k){this.fetchImpl=_,w&&(this.headersImpl=w),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},En=new at(3e4,6e4);function Ut(x,_){return x.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:x.tenantId}):_}function bn(x,_,w,k){return Te.apply(this,arguments)}function Te(){return(Te=(0,o.Z)(function*(x,_,w,k,ae={}){return Cn(x,ae,(0,o.Z)(function*(){let Pe={},kt={};k&&("GET"===_?kt=k:Pe={body:JSON.stringify(k)});const an=(0,Q.xO)(Object.assign({key:x.config.apiKey},kt)).slice(1),qn=yield x._getAdditionalHeaders();return qn["Content-Type"]="application/json",x.languageCode&&(qn["X-Firebase-Locale"]=x.languageCode),xt.fetch()(Er(x,x.config.apiHost,w,an),Object.assign({method:_,headers:qn,referrerPolicy:"no-referrer"},Pe))}))})).apply(this,arguments)}function Cn(x,_,w){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,o.Z)(function*(x,_,w){x._canInitEmulator=!1;const k=Object.assign(Object.assign({},$t),_);try{const ae=new $n(x),Pe=yield Promise.race([w(),ae.promise]);ae.clearNetworkTimeout();const kt=yield Pe.json();if("needConfirmation"in kt)throw ei(x,"account-exists-with-different-credential",kt);if(Pe.ok&&!("errorMessage"in kt))return kt;{const an=Pe.ok?kt.errorMessage:kt.error.message,[qn,Ii]=an.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qn)throw ei(x,"credential-already-in-use",kt);if("EMAIL_EXISTS"===qn)throw ei(x,"email-already-in-use",kt);if("USER_DISABLED"===qn)throw ei(x,"user-disabled",kt);const sr=k[qn]||qn.toLowerCase().replace(/[_\s]+/g,"-");if(Ii)throw We(x,sr,Ii);Et(x,sr)}}catch(ae){if(ae instanceof Q.ZR)throw ae;Et(x,"network-request-failed")}})).apply(this,arguments)}function zn(x,_,w,k){return yi.apply(this,arguments)}function yi(){return(yi=(0,o.Z)(function*(x,_,w,k,ae={}){const Pe=yield bn(x,_,w,k,ae);return"mfaPendingCredential"in Pe&&Et(x,"multi-factor-auth-required",{_serverResponse:Pe}),Pe})).apply(this,arguments)}function Er(x,_,w,k){const ae=`${_}${w}?${k}`;return x.config.emulator?ht(x.config,ae):`${x.config.apiScheme}://${ae}`}class $n{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((w,k)=>{this.timer=setTimeout(()=>k(Qe(this.auth,"network-request-failed")),En.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(x,_,w){const k={appName:x.name};w.email&&(k.email=w.email),w.phoneNumber&&(k.phoneNumber=w.phoneNumber);const ae=Qe(x,_,k);return ae.customData._tokenResponse=w,ae}function dn(){return(dn=(0,o.Z)(function*(x,_){return bn(x,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Ni(x,_){return xi.apply(this,arguments)}function xi(){return(xi=(0,o.Z)(function*(x,_){return bn(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Kn(x,_){return mi.apply(this,arguments)}function mi(){return(mi=(0,o.Z)(function*(x,_){return bn(x,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function vi(x){if(x)try{const _=new Date(Number(x));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ot(){return(ot=(0,o.Z)(function*(x,_=!1){const w=(0,Q.m9)(x),k=yield w.getIdToken(_),ae=Ot(k);Ee(ae&&ae.exp&&ae.auth_time&&ae.iat,w.auth,"internal-error");const Pe="object"==typeof ae.firebase?ae.firebase:void 0,kt=Pe?.sign_in_provider;return{claims:ae,token:k,authTime:vi(He(ae.auth_time)),issuedAtTime:vi(He(ae.iat)),expirationTime:vi(He(ae.exp)),signInProvider:kt||null,signInSecondFactor:Pe?.sign_in_second_factor||null}})).apply(this,arguments)}function He(x){return 1e3*Number(x)}function Ot(x){var _;const[w,k,ae]=x.split(".");if(void 0===w||void 0===k||void 0===ae)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const Pe=(0,Q.tV)(k);return Pe?JSON.parse(Pe):(vt("Failed to decode base64 JWT payload"),null)}catch(Pe){return vt("Caught error parsing JWT payload as JSON",null===(_=Pe)||void 0===_?void 0:_.toString()),null}}function Tn(x,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,o.Z)(function*(x,_,w=!1){if(w)return _;try{return yield _}catch(k){throw k instanceof Q.ZR&&ni(k)&&x.auth.currentUser===x&&(yield x.auth.signOut()),k}})).apply(this,arguments)}function ni({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class mn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var w;if(_){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const ae=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,ae)}}schedule(_=!1){var w=this;if(!this.isRunning)return;const k=this.getInterval(_);this.timerId=setTimeout((0,o.Z)(function*(){yield w.iteration()}),k)}iteration(){var _=this;return(0,o.Z)(function*(){var w;try{yield _.user.getIdToken(!0)}catch(k){return void("auth/network-request-failed"===(null===(w=k)||void 0===w?void 0:w.code)&&_.schedule(!0))}_.schedule()})()}}class ai{constructor(_,w){this.createdAt=_,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=vi(this.lastLoginAt),this.creationTime=vi(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nn(x){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(function*(x){var _;const w=x.auth,k=yield x.getIdToken(),ae=yield Tn(x,Kn(w,{idToken:k}));Ee(ae?.users.length,w,"internal-error");const Pe=ae.users[0];x._notifyReloadListener(Pe);const kt=null!==(_=Pe.providerUserInfo)&&void 0!==_&&_.length?Xe(Pe.providerUserInfo):[],an=nt(x.providerData,kt),sr=!!x.isAnonymous&&!(x.email&&Pe.passwordHash||an?.length),Xi={uid:Pe.localId,displayName:Pe.displayName||null,photoURL:Pe.photoUrl||null,email:Pe.email||null,emailVerified:Pe.emailVerified||!1,phoneNumber:Pe.phoneNumber||null,tenantId:Pe.tenantId||null,providerData:an,metadata:new ai(Pe.createdAt,Pe.lastLoginAt),isAnonymous:sr};Object.assign(x,Xi)})).apply(this,arguments)}function ct(){return(ct=(0,o.Z)(function*(x){const _=(0,Q.m9)(x);yield Nn(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function nt(x,_){return[...x.filter(k=>!_.some(ae=>ae.providerId===k.providerId)),..._]}function Xe(x){return x.map(_=>{var{providerId:w}=_,k=(0,ie._T)(_,["providerId"]);return{providerId:w,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function rt(){return(rt=(0,o.Z)(function*(x,_){const w=yield Cn(x,{},(0,o.Z)(function*(){const k=(0,Q.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:ae,apiKey:Pe}=x.config,kt=Er(x,ae,"/v1/token",`key=${Pe}`),an=yield x._getAdditionalHeaders();return an["Content-Type"]="application/x-www-form-urlencoded",xt.fetch()(kt,{method:"POST",headers:an,body:k})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class on{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ee(_.idToken,"internal-error"),Ee(typeof _.idToken<"u","internal-error"),Ee(typeof _.refreshToken<"u","internal-error");const w="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function jt(x){const _=Ot(x);return Ee(_,"internal-error"),Ee(typeof _.exp<"u","internal-error"),Ee(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,w)}getToken(_,w=!1){var k=this;return(0,o.Z)(function*(){return Ee(!k.accessToken||k.refreshToken,_,"user-token-expired"),w||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(_,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,w){var k=this;return(0,o.Z)(function*(){const{accessToken:ae,refreshToken:Pe,expiresIn:kt}=yield function ut(x,_){return rt.apply(this,arguments)}(_,w);k.updateTokensAndExpiration(ae,Pe,Number(kt))})()}updateTokensAndExpiration(_,w,k){this.refreshToken=w||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(_,w){const{refreshToken:k,accessToken:ae,expirationTime:Pe}=w,kt=new on;return k&&(Ee("string"==typeof k,"internal-error",{appName:_}),kt.refreshToken=k),ae&&(Ee("string"==typeof ae,"internal-error",{appName:_}),kt.accessToken=ae),Pe&&(Ee("number"==typeof Pe,"internal-error",{appName:_}),kt.expirationTime=Pe),kt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new on,this.toJSON())}_performRefresh(){return ve("not implemented")}}function _n(x,_){Ee("string"==typeof x||typeof x>"u","internal-error",{appName:_})}class Vn{constructor(_){var{uid:w,auth:k,stsTokenManager:ae}=_,Pe=(0,ie._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=k,this.stsTokenManager=ae,this.accessToken=ae.accessToken,this.displayName=Pe.displayName||null,this.email=Pe.email||null,this.emailVerified=Pe.emailVerified||!1,this.phoneNumber=Pe.phoneNumber||null,this.photoURL=Pe.photoURL||null,this.isAnonymous=Pe.isAnonymous||!1,this.tenantId=Pe.tenantId||null,this.providerData=Pe.providerData?[...Pe.providerData]:[],this.metadata=new ai(Pe.createdAt||void 0,Pe.lastLoginAt||void 0)}getIdToken(_){var w=this;return(0,o.Z)(function*(){const k=yield Tn(w,w.stsTokenManager.getToken(w.auth,_));return Ee(k,w.auth,"internal-error"),w.accessToken!==k&&(w.accessToken=k,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),k})()}getIdTokenResult(_){return function zt(x){return ot.apply(this,arguments)}(this,_)}reload(){return function ci(x){return ct.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ee(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(w=>Object.assign({},w)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Vn(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,w=!1){var k=this;return(0,o.Z)(function*(){let ae=!1;_.idToken&&_.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(_),ae=!0),w&&(yield Nn(k)),yield k.auth._persistUserIfCurrent(k),ae&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var _=this;return(0,o.Z)(function*(){const w=yield _.getIdToken();return yield Tn(_,function sn(x,_){return dn.apply(this,arguments)}(_.auth,{idToken:w})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,w){var k,ae,Pe,kt,an,qn,Ii,sr;const Xi=null!==(k=w.displayName)&&void 0!==k?k:void 0,Wo=null!==(ae=w.email)&&void 0!==ae?ae:void 0,Rl=null!==(Pe=w.phoneNumber)&&void 0!==Pe?Pe:void 0,La=null!==(kt=w.photoURL)&&void 0!==kt?kt:void 0,Mh=null!==(an=w.tenantId)&&void 0!==an?an:void 0,Id=null!==(qn=w._redirectEventId)&&void 0!==qn?qn:void 0,zc=null!==(Ii=w.createdAt)&&void 0!==Ii?Ii:void 0,sd=null!==(sr=w.lastLoginAt)&&void 0!==sr?sr:void 0,{uid:Td,emailVerified:ih,isAnonymous:sp,providerData:Sd,stsTokenManager:ll}=w;Ee(Td&&ll,_,"internal-error");const Yp=on.fromJSON(this.name,ll);Ee("string"==typeof Td,_,"internal-error"),_n(Xi,_.name),_n(Wo,_.name),Ee("boolean"==typeof ih,_,"internal-error"),Ee("boolean"==typeof sp,_,"internal-error"),_n(Rl,_.name),_n(La,_.name),_n(Mh,_.name),_n(Id,_.name),_n(zc,_.name),_n(sd,_.name);const xh=new Vn({uid:Td,auth:_,email:Wo,emailVerified:ih,displayName:Xi,isAnonymous:sp,photoURL:La,phoneNumber:Rl,tenantId:Mh,stsTokenManager:Yp,createdAt:zc,lastLoginAt:sd});return Sd&&Array.isArray(Sd)&&(xh.providerData=Sd.map(Mc=>Object.assign({},Mc))),Id&&(xh._redirectEventId=Id),xh}static _fromIdTokenResponse(_,w,k=!1){return(0,o.Z)(function*(){const ae=new on;ae.updateFromServerResponse(w);const Pe=new Vn({uid:w.localId,auth:_,stsTokenManager:ae,isAnonymous:k});return yield Nn(Pe),Pe})()}}const Oi=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(w,k){var ae=this;return(0,o.Z)(function*(){ae.storage[w]=k})()}_get(w){var k=this;return(0,o.Z)(function*(){const ae=k.storage[w];return void 0===ae?null:ae})()}_remove(w){var k=this;return(0,o.Z)(function*(){delete k.storage[w]})()}_addListener(w,k){}_removeListener(w,k){}}return x.type="NONE",x})();function ki(x,_,w){return`firebase:${x}:${_}:${w}`}class pi{constructor(_,w,k){this.persistence=_,this.auth=w,this.userKey=k;const{config:ae,name:Pe}=this.auth;this.fullUserKey=ki(this.userKey,ae.apiKey,Pe),this.fullPersistenceKey=ki("persistence",ae.apiKey,Pe),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,o.Z)(function*(){const w=yield _.persistence._get(_.fullUserKey);return w?Vn._fromJSON(_.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var w=this;return(0,o.Z)(function*(){if(w.persistence===_)return;const k=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=_,k?w.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,w,k="authUser"){return(0,o.Z)(function*(){if(!w.length)return new pi(Ce(Oi),_,k);const ae=(yield Promise.all(w.map(function(){var Ii=(0,o.Z)(function*(sr){if(yield sr._isAvailable())return sr});return function(sr){return Ii.apply(this,arguments)}}()))).filter(Ii=>Ii);let Pe=ae[0]||Ce(Oi);const kt=ki(k,_.config.apiKey,_.name);let an=null;for(const Ii of w)try{const sr=yield Ii._get(kt);if(sr){const Xi=Vn._fromJSON(_,sr);Ii!==Pe&&(an=Xi),Pe=Ii;break}}catch{}const qn=ae.filter(Ii=>Ii._shouldAllowMigration);return Pe._shouldAllowMigration&&qn.length?(Pe=qn[0],an&&(yield Pe._set(kt,an.toJSON())),yield Promise.all(w.map(function(){var Ii=(0,o.Z)(function*(sr){if(sr!==Pe)try{yield sr._remove(kt)}catch{}});return function(sr){return Ii.apply(this,arguments)}}())),new pi(Pe,_,k)):new pi(Pe,_,k)})()}}function Hn(x){const _=x.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(hr(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Bi(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(lt(_))return"Blackberry";if(Ze(_))return"Webos";if(tr(_))return"Safari";if((_.includes("chrome/")||mr(_))&&!_.includes("edge/"))return"Chrome";if(fr(_))return"Android";{const k=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function Bi(x=(0,Q.z$)()){return/firefox\//i.test(x)}function tr(x=(0,Q.z$)()){const _=x.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function mr(x=(0,Q.z$)()){return/crios\//i.test(x)}function hr(x=(0,Q.z$)()){return/iemobile/i.test(x)}function fr(x=(0,Q.z$)()){return/android/i.test(x)}function lt(x=(0,Q.z$)()){return/blackberry/i.test(x)}function Ze(x=(0,Q.z$)()){return/webos/i.test(x)}function te(x=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function Ht(x=(0,Q.z$)()){return te(x)||fr(x)||Ze(x)||lt(x)||/windows phone/i.test(x)||hr(x)}function Qt(x,_=[]){let w;switch(x){case"Browser":w=Hn((0,Q.z$)());break;case"Worker":w=`${Hn((0,Q.z$)())}-${x}`;break;default:w=x}const k=_.length?_.join(","):"FirebaseCore-web";return`${w}/JsCore/${Fe.SDK_VERSION}/${k}`}class kn{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,w){const k=Pe=>new Promise((kt,an)=>{try{kt(_(Pe))}catch(qn){an(qn)}});k.onAbort=w,this.queue.push(k);const ae=this.queue.length-1;return()=>{this.queue[ae]=()=>Promise.resolve()}}runMiddleware(_){var w=this;return(0,o.Z)(function*(){var k;if(w.auth.currentUser===_)return;const ae=[];try{for(const Pe of w.queue)yield Pe(_),Pe.onAbort&&ae.push(Pe.onAbort)}catch(Pe){ae.reverse();for(const kt of ae)try{kt()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:null===(k=Pe)||void 0===k?void 0:k.message})}})()}}class tn{constructor(_,w,k){this.app=_,this.heartbeatServiceProvider=w,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new di(this),this.idTokenSubscription=new di(this),this.beforeStateQueue=new kn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(_,w){var k=this;return w&&(this._popupRedirectResolver=Ce(w)),this._initializationPromise=this.queue((0,o.Z)(function*(){var ae,Pe;if(!k._deleted&&(k.persistenceManager=yield pi.create(k,_),!k._deleted)){if(null!==(ae=k._popupRedirectResolver)&&void 0!==ae&&ae._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(w),k.lastNotifiedUid=(null===(Pe=k.currentUser)||void 0===Pe?void 0:Pe.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,o.Z)(function*(){if(_._deleted)return;const w=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||w){if(_.currentUser&&w&&_.currentUser.uid===w.uid)return _._currentUser._assign(w),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(w,!0)}})()}initializeCurrentUser(_){var w=this;return(0,o.Z)(function*(){var k;const ae=yield w.assertedPersistence.getCurrentUser();let Pe=ae,kt=!1;if(_&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const an=null===(k=w.redirectUser)||void 0===k?void 0:k._redirectEventId,qn=Pe?._redirectEventId,Ii=yield w.tryRedirectSignIn(_);(!an||an===qn)&&Ii?.user&&(Pe=Ii.user,kt=!0)}if(!Pe)return w.directlySetCurrentUser(null);if(!Pe._redirectEventId){if(kt)try{yield w.beforeStateQueue.runMiddleware(Pe)}catch(an){Pe=ae,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(an))}return Pe?w.reloadAndSetCurrentUserOrClear(Pe):w.directlySetCurrentUser(null)}return Ee(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===Pe._redirectEventId?w.directlySetCurrentUser(Pe):w.reloadAndSetCurrentUserOrClear(Pe)})()}tryRedirectSignIn(_){var w=this;return(0,o.Z)(function*(){let k=null;try{k=yield w._popupRedirectResolver._completeRedirectFn(w,_,!0)}catch{yield w._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(_){var w=this;return(0,o.Z)(function*(){var k;try{yield Nn(_)}catch(ae){if("auth/network-request-failed"!==(null===(k=ae)||void 0===k?void 0:k.code))return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Ye(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var _=this;return(0,o.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var w=this;return(0,o.Z)(function*(){const k=_?(0,Q.m9)(_):null;return k&&Ee(k.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(k&&k._clone(w))})()}_updateCurrentUser(_,w=!1){var k=this;return(0,o.Z)(function*(){if(!k._deleted)return _&&Ee(k.tenantId===_.tenantId,k,"tenant-id-mismatch"),w||(yield k.beforeStateQueue.runMiddleware(_)),k.queue((0,o.Z)(function*(){yield k.directlySetCurrentUser(_),k.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,o.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var w=this;return this.queue((0,o.Z)(function*(){yield w.assertedPersistence.setPersistence(Ce(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new Q.LL("auth","Firebase",_())}onAuthStateChanged(_,w,k){return this.registerStateListener(this.authStateSubscription,_,w,k)}beforeAuthStateChanged(_,w){return this.beforeStateQueue.pushCallback(_,w)}onIdTokenChanged(_,w,k){return this.registerStateListener(this.idTokenSubscription,_,w,k)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,w){var k=this;return(0,o.Z)(function*(){const ae=yield k.getOrInitRedirectPersistenceManager(w);return null===_?ae.removeCurrentUser():ae.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var w=this;return(0,o.Z)(function*(){if(!w.redirectPersistenceManager){const k=_&&Ce(_)||w._popupRedirectResolver;Ee(k,w,"argument-error"),w.redirectPersistenceManager=yield pi.create(w,[Ce(k._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(_){var w=this;return(0,o.Z)(function*(){var k,ae;return w._isInitialized&&(yield w.queue((0,o.Z)(function*(){}))),(null===(k=w._currentUser)||void 0===k?void 0:k._redirectEventId)===_?w._currentUser:(null===(ae=w.redirectUser)||void 0===ae?void 0:ae._redirectEventId)===_?w.redirectUser:null})()}_persistUserIfCurrent(_){var w=this;return(0,o.Z)(function*(){if(_===w.currentUser)return w.queue((0,o.Z)(function*(){return w.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(w=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,w,k,ae){if(this._deleted)return()=>{};const Pe="function"==typeof w?w:w.next.bind(w),kt=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(kt,this,"internal-error"),kt.then(()=>Pe(this.currentUser)),"function"==typeof w?_.addObserver(w,k,ae):_.addObserver(w)}directlySetCurrentUser(_){var w=this;return(0,o.Z)(function*(){w.currentUser&&w.currentUser!==_&&w._currentUser._stopProactiveRefresh(),_&&w.isProactiveRefreshEnabled&&_._startProactiveRefresh(),w.currentUser=_,_?yield w.assertedPersistence.setCurrentUser(_):yield w.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Qt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,o.Z)(function*(){var w;const k={"X-Client-Version":_.clientVersion};_.app.options.appId&&(k["X-Firebase-gmpid"]=_.app.options.appId);const ae=yield null===(w=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return ae&&(k["X-Firebase-Client"]=ae),k})()}}function Gn(x){return(0,Q.m9)(x)}class di{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,Q.ne)(w=>this.observer=w)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bi(x){const _=x.indexOf(":");return _<0?"":x.substr(0,_+1)}function Sr(x){if(!x)return null;const _=Number(x);return isNaN(_)?null:_}class Or{constructor(_,w){this.providerId=_,this.signInMethod=w}toJSON(){return ve("not implemented")}_getIdTokenResponse(_){return ve("not implemented")}_linkToIdToken(_,w){return ve("not implemented")}_getReauthenticationResolver(_){return ve("not implemented")}}function pr(x,_){return ss.apply(this,arguments)}function ss(){return(ss=(0,o.Z)(function*(x,_){return bn(x,"POST","/v1/accounts:resetPassword",Ut(x,_))})).apply(this,arguments)}function Cr(x,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,o.Z)(function*(x,_){return bn(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function hs(x,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,o.Z)(function*(x,_){return bn(x,"POST","/v1/accounts:update",Ut(x,_))})).apply(this,arguments)}function Jr(){return(Jr=(0,o.Z)(function*(x,_){return zn(x,"POST","/v1/accounts:signInWithPassword",Ut(x,_))})).apply(this,arguments)}function ts(x,_){return we.apply(this,arguments)}function we(){return(we=(0,o.Z)(function*(x,_){return bn(x,"POST","/v1/accounts:sendOobCode",Ut(x,_))})).apply(this,arguments)}function $e(x,_){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,o.Z)(function*(x,_){return ts(x,_)})).apply(this,arguments)}function Nt(x,_){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,o.Z)(function*(x,_){return ts(x,_)})).apply(this,arguments)}function et(x,_){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,o.Z)(function*(x,_){return ts(x,_)})).apply(this,arguments)}function cn(x,_){return rn.apply(this,arguments)}function rn(){return(rn=(0,o.Z)(function*(x,_){return ts(x,_)})).apply(this,arguments)}function Wn(){return(Wn=(0,o.Z)(function*(x,_){return zn(x,"POST","/v1/accounts:signInWithEmailLink",Ut(x,_))})).apply(this,arguments)}function Fi(){return(Fi=(0,o.Z)(function*(x,_){return zn(x,"POST","/v1/accounts:signInWithEmailLink",Ut(x,_))})).apply(this,arguments)}class jr extends Or{constructor(_,w,k,ae=null){super("password",k),this._email=_,this._password=w,this._tenantId=ae}static _fromEmailAndPassword(_,w){return new jr(_,w,"password")}static _fromEmailAndCode(_,w,k=null){return new jr(_,w,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const w="string"==typeof _?JSON.parse(_):_;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(_){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return function fs(x,_){return Jr.apply(this,arguments)}(_,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function hn(x,_){return Wn.apply(this,arguments)}(_,{email:w._email,oobCode:w._password});default:Et(_,"internal-error")}})()}_linkToIdToken(_,w){var k=this;return(0,o.Z)(function*(){switch(k.signInMethod){case"password":return Cr(_,{idToken:w,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function _i(x,_){return Fi.apply(this,arguments)}(_,{idToken:w,email:k._email,oobCode:k._password});default:Et(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Ir(x,_){return wt.apply(this,arguments)}function wt(){return(wt=(0,o.Z)(function*(x,_){return zn(x,"POST","/v1/accounts:signInWithIdp",Ut(x,_))})).apply(this,arguments)}class Gt extends Or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const w=new Gt(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(w.idToken=_.idToken),_.accessToken&&(w.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(w.nonce=_.nonce),_.pendingToken&&(w.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(w.accessToken=_.oauthToken,w.secret=_.oauthTokenSecret):Et("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const w="string"==typeof _?JSON.parse(_):_,{providerId:k,signInMethod:ae}=w,Pe=(0,ie._T)(w,["providerId","signInMethod"]);if(!k||!ae)return null;const kt=new Gt(k,ae);return kt.idToken=Pe.idToken||void 0,kt.accessToken=Pe.accessToken||void 0,kt.secret=Pe.secret,kt.nonce=Pe.nonce,kt.pendingToken=Pe.pendingToken||null,kt}_getIdTokenResponse(_){return Ir(_,this.buildRequest())}_linkToIdToken(_,w){const k=this.buildRequest();return k.idToken=w,Ir(_,k)}_getReauthenticationResolver(_){const w=this.buildRequest();return w.autoCreate=!1,Ir(_,w)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),_.postBody=(0,Q.xO)(w)}return _}}function yn(x,_){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,o.Z)(function*(x,_){return bn(x,"POST","/v1/accounts:sendVerificationCode",Ut(x,_))})).apply(this,arguments)}function Ei(){return(Ei=(0,o.Z)(function*(x,_){return zn(x,"POST","/v1/accounts:signInWithPhoneNumber",Ut(x,_))})).apply(this,arguments)}function nr(){return(nr=(0,o.Z)(function*(x,_){const w=yield zn(x,"POST","/v1/accounts:signInWithPhoneNumber",Ut(x,_));if(w.temporaryProof)throw ei(x,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const Cs={USER_NOT_FOUND:"user-not-found"};function Xs(){return(Xs=(0,o.Z)(function*(x,_){return zn(x,"POST","/v1/accounts:signInWithPhoneNumber",Ut(x,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Cs)})).apply(this,arguments)}class eo extends Or{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,w){return new eo({verificationId:_,verificationCode:w})}static _fromTokenResponse(_,w){return new eo({phoneNumber:_,temporaryProof:w})}_getIdTokenResponse(_){return function li(x,_){return Ei.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,w){return function ms(x,_){return nr.apply(this,arguments)}(_,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Ls(x,_){return Xs.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:w,verificationId:k,verificationCode:ae}=this.params;return _&&w?{temporaryProof:_,phoneNumber:w}:{sessionInfo:k,code:ae}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:w,verificationCode:k,phoneNumber:ae,temporaryProof:Pe}=_;return k||w||ae||Pe?new eo({verificationId:w,verificationCode:k,phoneNumber:ae,temporaryProof:Pe}):null}}class Ss{constructor(_){var w,k,ae,Pe,kt,an;const qn=(0,Q.zd)((0,Q.pd)(_)),Ii=null!==(w=qn.apiKey)&&void 0!==w?w:null,sr=null!==(k=qn.oobCode)&&void 0!==k?k:null,Xi=function to(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ae=qn.mode)&&void 0!==ae?ae:null);Ee(Ii&&sr&&Xi,"argument-error"),this.apiKey=Ii,this.operation=Xi,this.code=sr,this.continueUrl=null!==(Pe=qn.continueUrl)&&void 0!==Pe?Pe:null,this.languageCode=null!==(kt=qn.languageCode)&&void 0!==kt?kt:null,this.tenantId=null!==(an=qn.tenantId)&&void 0!==an?an:null}static parseLink(_){const w=function jo(x){const _=(0,Q.zd)((0,Q.pd)(x)).link,w=_?(0,Q.zd)((0,Q.pd)(_)).deep_link_id:null,k=(0,Q.zd)((0,Q.pd)(x)).deep_link_id;return(k?(0,Q.zd)((0,Q.pd)(k)).link:null)||k||w||_||x}(_);try{return new Ss(w)}catch{return null}}}let _s=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(w,k){return jr._fromEmailAndPassword(w,k)}static credentialWithLink(w,k){const ae=Ss.parseLink(k);return Ee(ae,"argument-error"),jr._fromEmailAndCode(w,ae.code,ae.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class Ds{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class ps extends Ds{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class so extends ps{static credentialFromJSON(_){const w="string"==typeof _?JSON.parse(_):_;return Ee("providerId"in w&&"signInMethod"in w,"argument-error"),Gt._fromParams(w)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ee(_.idToken||_.accessToken,"argument-error"),Gt._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return so.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return so.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:k,oauthTokenSecret:ae,pendingToken:Pe,nonce:kt,providerId:an}=_;if(!k&&!ae&&!w&&!Pe||!an)return null;try{return new so(an)._credential({idToken:w,accessToken:k,nonce:kt,pendingToken:Pe})}catch{return null}}}let no=(()=>{class x extends ps{constructor(){super("facebook.com")}static credential(w){return Gt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return x.credential(w.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),Qi=(()=>{class x extends ps{constructor(){super("google.com"),this.addScope("profile")}static credential(w,k){return Gt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:k})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:k,oauthAccessToken:ae}=w;if(!k&&!ae)return null;try{return x.credential(k,ae)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),ar=(()=>{class x extends ps{constructor(){super("github.com")}static credential(w){return Gt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return x.credential(w.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class As extends Or{constructor(_,w){super(_,_),this.pendingToken=w}_getIdTokenResponse(_){return Ir(_,this.buildRequest())}_linkToIdToken(_,w){const k=this.buildRequest();return k.idToken=w,Ir(_,k)}_getReauthenticationResolver(_){const w=this.buildRequest();return w.autoCreate=!1,Ir(_,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const w="string"==typeof _?JSON.parse(_):_,{providerId:k,signInMethod:ae,pendingToken:Pe}=w;return k&&ae&&Pe&&k===ae?new As(k,Pe):null}static _create(_,w){return new As(_,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Is extends Ds{constructor(_){Ee(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Is.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Is.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const w=As.fromJSON(_);return Ee(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:w,providerId:k}=_;if(!w||!k)return null;try{return As._create(k,w)}catch{return null}}}let Gs=(()=>{class x extends ps{constructor(){super("twitter.com")}static credential(w,k){return Gt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:k})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:k,oauthTokenSecret:ae}=w;if(!k||!ae)return null;try{return x.credential(k,ae)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function Bs(x,_){return ca.apply(this,arguments)}function ca(){return(ca=(0,o.Z)(function*(x,_){return zn(x,"POST","/v1/accounts:signUp",Ut(x,_))})).apply(this,arguments)}class ir{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,w,k,ae=!1){return(0,o.Z)(function*(){const Pe=yield Vn._fromIdTokenResponse(_,k,ae),kt=ji(k);return new ir({user:Pe,providerId:kt,_tokenResponse:k,operationType:w})})()}static _forOperation(_,w,k){return(0,o.Z)(function*(){yield _._updateTokensIfNecessary(k,!0);const ae=ji(k);return new ir({user:_,providerId:ae,_tokenResponse:k,operationType:w})})()}}function ji(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function kr(){return(kr=(0,o.Z)(function*(x){var _;const w=Gn(x);if(yield w._initializationPromise,null!==(_=w.currentUser)&&void 0!==_&&_.isAnonymous)return new ir({user:w.currentUser,providerId:null,operationType:"signIn"});const k=yield Bs(w,{returnSecureToken:!0}),ae=yield ir._fromIdTokenResponse(w,"signIn",k,!0);return yield w._updateCurrentUser(ae.user),ae})).apply(this,arguments)}class ho extends Q.ZR{constructor(_,w,k,ae){var Pe;super(w.code,w.message),this.operationType=k,this.user=ae,Object.setPrototypeOf(this,ho.prototype),this.customData={appName:_.name,tenantId:null!==(Pe=_.tenantId)&&void 0!==Pe?Pe:void 0,_serverResponse:w.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(_,w,k,ae){return new ho(_,w,k,ae)}}function ys(x,_,w,k){return("reauthenticate"===_?w._getReauthenticationResolver(x):w._getIdTokenResponse(x)).catch(Pe=>{throw"auth/multi-factor-auth-required"===Pe.code?ho._fromErrorAndOperation(x,Pe,_,k):Pe})}function fo(x){return new Set(x.map(({providerId:_})=>_).filter(_=>!!_))}function _a(){return(_a=(0,o.Z)(function*(x,_){const w=(0,Q.m9)(x);yield Tr(!0,w,_);const{providerUserInfo:k}=yield Ni(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[_]}),ae=fo(k||[]);return w.providerData=w.providerData.filter(Pe=>ae.has(Pe.providerId)),ae.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function io(x,_){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,o.Z)(function*(x,_,w=!1){const k=yield Tn(x,_._linkToIdToken(x.auth,yield x.getIdToken()),w);return ir._forOperation(x,"link",k)})).apply(this,arguments)}function Tr(x,_,w){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,o.Z)(function*(x,_,w){yield Nn(_);const ae=!1===x?"provider-already-linked":"no-such-provider";Ee(fo(_.providerData).has(w)===x,_.auth,ae)})).apply(this,arguments)}function zo(x,_){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,o.Z)(function*(x,_,w=!1){var k;const{auth:ae}=x,Pe="reauthenticate";try{const kt=yield Tn(x,ys(ae,Pe,_,x),w);Ee(kt.idToken,ae,"internal-error");const an=Ot(kt.idToken);Ee(an,ae,"internal-error");const{sub:qn}=an;return Ee(x.uid===qn,ae,"user-mismatch"),ir._forOperation(x,Pe,kt)}catch(kt){throw"auth/user-not-found"===(null===(k=kt)||void 0===k?void 0:k.code)&&Et(ae,"user-mismatch"),kt}})).apply(this,arguments)}function as(x,_){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,o.Z)(function*(x,_,w=!1){const k="signIn",ae=yield ys(x,k,_),Pe=yield ir._fromIdTokenResponse(x,k,ae);return w||(yield x._updateCurrentUser(Pe.user)),Pe})).apply(this,arguments)}function Hr(x,_){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,o.Z)(function*(x,_){return as(Gn(x),_)})).apply(this,arguments)}function ls(x,_){return _r.apply(this,arguments)}function _r(){return(_r=(0,o.Z)(function*(x,_){const w=(0,Q.m9)(x);return yield Tr(!1,w,_.providerId),io(w,_)})).apply(this,arguments)}function Ro(x,_){return xa.apply(this,arguments)}function xa(){return(xa=(0,o.Z)(function*(x,_){return zo((0,Q.m9)(x),_)})).apply(this,arguments)}function Ua(x,_){return cs.apply(this,arguments)}function cs(){return(cs=(0,o.Z)(function*(x,_){return zn(x,"POST","/v1/accounts:signInWithCustomToken",Ut(x,_))})).apply(this,arguments)}function zs(){return(zs=(0,o.Z)(function*(x,_){const w=Gn(x),k=yield Ua(w,{token:_,returnSecureToken:!0}),ae=yield ir._fromIdTokenResponse(w,"signIn",k);return yield w._updateCurrentUser(ae.user),ae})).apply(this,arguments)}class wn{constructor(_,w){this.factorId=_,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(_,w){return"phoneInfo"in w?S._fromServerResponse(_,w):Et(_,"internal-error")}}class S extends wn{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,w){return new S(w)}}function X(x,_,w){var k;Ee((null===(k=w.url)||void 0===k?void 0:k.length)>0,x,"invalid-continue-uri"),Ee(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),_.continueUrl=w.url,_.dynamicLinkDomain=w.dynamicLinkDomain,_.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(Ee(w.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),_.iOSBundleId=w.iOS.bundleId),w.android&&(Ee(w.android.packageName.length>0,x,"missing-android-pkg-name"),_.androidInstallApp=w.android.installApp,_.androidMinimumVersionCode=w.android.minimumVersion,_.androidPackageName=w.android.packageName)}function Z(){return(Z=(0,o.Z)(function*(x,_,w){const k=(0,Q.m9)(x),ae={requestType:"PASSWORD_RESET",email:_};w&&X(k,ae,w),yield Nt(k,ae)})).apply(this,arguments)}function Kt(){return(Kt=(0,o.Z)(function*(x,_,w){yield pr((0,Q.m9)(x),{oobCode:_,newPassword:w})})).apply(this,arguments)}function gi(){return(gi=(0,o.Z)(function*(x,_){yield hs((0,Q.m9)(x),{oobCode:_})})).apply(this,arguments)}function D(x,_){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)(function*(x,_){const w=(0,Q.m9)(x),k=yield pr(w,{oobCode:_}),ae=k.requestType;switch(Ee(ae,w,"internal-error"),ae){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(k.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(k.mfaInfo,w,"internal-error");default:Ee(k.email,w,"internal-error")}let Pe=null;return k.mfaInfo&&(Pe=wn._fromServerResponse(Gn(w),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:Pe},operation:ae}})).apply(this,arguments)}function G(){return(G=(0,o.Z)(function*(x,_){const{data:w}=yield D((0,Q.m9)(x),_);return w.email})).apply(this,arguments)}function gt(){return(gt=(0,o.Z)(function*(x,_,w){const k=Gn(x),ae=yield Bs(k,{returnSecureToken:!0,email:_,password:w}),Pe=yield ir._fromIdTokenResponse(k,"signIn",ae);return yield k._updateCurrentUser(Pe.user),Pe})).apply(this,arguments)}function Ln(){return(Ln=(0,o.Z)(function*(x,_,w){const k=(0,Q.m9)(x),ae={requestType:"EMAIL_SIGNIN",email:_};Ee(w.handleCodeInApp,k,"argument-error"),w&&X(k,ae,w),yield et(k,ae)})).apply(this,arguments)}function Fr(){return(Fr=(0,o.Z)(function*(x,_,w){const k=(0,Q.m9)(x),ae=_s.credentialWithLink(_,w||St());return Ee(ae._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),Hr(k,ae)})).apply(this,arguments)}function Vr(x,_){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,o.Z)(function*(x,_){return bn(x,"POST","/v1/accounts:createAuthUri",Ut(x,_))})).apply(this,arguments)}function po(){return(po=(0,o.Z)(function*(x,_){const k={identifier:_,continueUri:Mt()?St():"http://localhost"},{signinMethods:ae}=yield Vr((0,Q.m9)(x),k);return ae||[]})).apply(this,arguments)}function Po(){return(Po=(0,o.Z)(function*(x,_){const w=(0,Q.m9)(x),ae={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};_&&X(w.auth,ae,_);const{email:Pe}=yield $e(w.auth,ae);Pe!==x.email&&(yield x.reload())})).apply(this,arguments)}function Ns(){return(Ns=(0,o.Z)(function*(x,_,w){const k=(0,Q.m9)(x),Pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:_};w&&X(k.auth,Pe,w);const{email:kt}=yield cn(k.auth,Pe);kt!==x.email&&(yield x.reload())})).apply(this,arguments)}function Ts(x,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,o.Z)(function*(x,_){return bn(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(function*(x,{displayName:_,photoURL:w}){if(void 0===_&&void 0===w)return;const k=(0,Q.m9)(x),Pe={idToken:yield k.getIdToken(),displayName:_,photoUrl:w,returnSecureToken:!0},kt=yield Tn(k,Ts(k.auth,Pe));k.displayName=kt.displayName||null,k.photoURL=kt.photoUrl||null;const an=k.providerData.find(({providerId:qn})=>"password"===qn);an&&(an.displayName=k.displayName,an.photoURL=k.photoURL),yield k._updateTokensIfNecessary(kt)})).apply(this,arguments)}function K(x,_,w){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,o.Z)(function*(x,_,w){const{auth:k}=x,Pe={idToken:yield x.getIdToken(),returnSecureToken:!0};_&&(Pe.email=_),w&&(Pe.password=w);const kt=yield Tn(x,Cr(k,Pe));yield x._updateTokensIfNecessary(kt,!0)})).apply(this,arguments)}class Yt{constructor(_,w,k={}){this.isNewUser=_,this.providerId=w,this.profile=k}}class ln extends Yt{constructor(_,w,k,ae){super(_,w,k),this.username=ae}}class si extends Yt{constructor(_,w){super(_,"facebook.com",w)}}class yr extends ln{constructor(_,w){super(_,"github.com",w,"string"==typeof w?.login?w?.login:null)}}class Ur extends Yt{constructor(_,w){super(_,"google.com",w)}}class Rr extends ln{constructor(_,w,k){super(_,"twitter.com",w,k)}}function vr(x){const{user:_,_tokenResponse:w}=x;return _.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function dt(x){var _,w;if(!x)return null;const{providerId:k}=x,ae=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},Pe=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!k&&x?.idToken){const kt=null===(w=null===(_=Ot(x.idToken))||void 0===_?void 0:_.firebase)||void 0===w?void 0:w.sign_in_provider;if(kt)return new Yt(Pe,"anonymous"!==kt&&"custom"!==kt?kt:null)}if(!k)return null;switch(k){case"facebook.com":return new si(Pe,ae);case"github.com":return new yr(Pe,ae);case"google.com":return new Ur(Pe,ae);case"twitter.com":return new Rr(Pe,ae,x.screenName||null);case"custom":case"anonymous":return new Yt(Pe,null);default:return new Yt(Pe,k,ae)}}(w)}class va{constructor(_,w,k){this.type=_,this.credential=w,this.auth=k}static _fromIdtoken(_,w){return new va("enroll",_,w)}static _fromMfaPendingCredential(_){return new va("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var w,k;if(_?.multiFactorSession){if(null!==(w=_.multiFactorSession)&&void 0!==w&&w.pendingCredential)return va._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(k=_.multiFactorSession)&&void 0!==k&&k.idToken)return va._fromIdtoken(_.multiFactorSession.idToken)}return null}}class pc{constructor(_,w,k){this.session=_,this.hints=w,this.signInResolver=k}static _fromError(_,w){const k=Gn(_),ae=w.customData._serverResponse,Pe=(ae.mfaInfo||[]).map(an=>wn._fromServerResponse(k,an));Ee(ae.mfaPendingCredential,k,"internal-error");const kt=va._fromMfaPendingCredential(ae.mfaPendingCredential);return new pc(kt,Pe,function(){var an=(0,o.Z)(function*(qn){const Ii=yield qn._process(k,kt);delete ae.mfaInfo,delete ae.mfaPendingCredential;const sr=Object.assign(Object.assign({},ae),{idToken:Ii.idToken,refreshToken:Ii.refreshToken});switch(w.operationType){case"signIn":const Xi=yield ir._fromIdTokenResponse(k,w.operationType,sr);return yield k._updateCurrentUser(Xi.user),Xi;case"reauthenticate":return Ee(w.user,k,"internal-error"),ir._forOperation(w.user,w.operationType,sr);default:Et(k,"internal-error")}});return function(qn){return an.apply(this,arguments)}}())}resolveSignIn(_){var w=this;return(0,o.Z)(function*(){return w.signInResolver(_)})()}}function Il(x,_){return bn(x,"POST","/v2/accounts/mfaEnrollment:start",Ut(x,_))}class Tl{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(k=>wn._fromServerResponse(_.auth,k)))})}static _fromUser(_){return new Tl(_)}getSession(){var _=this;return(0,o.Z)(function*(){return va._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,w){var k=this;return(0,o.Z)(function*(){const ae=_,Pe=yield k.getSession(),kt=yield Tn(k.user,ae._process(k.user.auth,Pe,w));return yield k.user._updateTokensIfNecessary(kt),k.user.reload()})()}unenroll(_){var w=this;return(0,o.Z)(function*(){var k;const ae="string"==typeof _?_:_.uid,Pe=yield w.user.getIdToken(),kt=yield Tn(w.user,function $c(x,_){return bn(x,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(x,_))}(w.user.auth,{idToken:Pe,mfaEnrollmentId:ae}));w.enrolledFactors=w.enrolledFactors.filter(({uid:an})=>an!==ae),yield w.user._updateTokensIfNecessary(kt);try{yield w.user.reload()}catch(an){if("auth/user-token-expired"!==(null===(k=an)||void 0===k?void 0:k.code))throw an}})()}}const dl=new WeakMap,Sl="__sak";class gc{constructor(_,w){this.storageRetriever=_,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Sl,"1"),this.storage.removeItem(Sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,w){return this.storage.setItem(_,JSON.stringify(w)),Promise.resolve()}_get(_){const w=this.storage.getItem(_);return Promise.resolve(w?JSON.parse(w):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jo=(()=>{class x extends gc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,k)=>this.onStorageEvent(w,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xa(){const x=(0,Q.z$)();return tr(x)||te(x)}()&&function Zt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ht(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const k of Object.keys(this.listeners)){const ae=this.storage.getItem(k),Pe=this.localCache[k];ae!==Pe&&w(k,Pe,ae)}}onStorageEvent(w,k=!1){if(!w.key)return void this.forAllChangedKeys((an,qn,Ii)=>{this.notifyListeners(an,Ii)});const ae=w.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const an=this.storage.getItem(ae);if(w.newValue!==an)null!==w.newValue?this.storage.setItem(ae,w.newValue):this.storage.removeItem(ae);else if(this.localCache[ae]===w.newValue&&!k)return}const Pe=()=>{const an=this.storage.getItem(ae);!k&&this.localCache[ae]===an||this.notifyListeners(ae,an)},kt=this.storage.getItem(ae);!function _t(){return(0,Q.w1)()&&10===document.documentMode}()||kt===w.newValue||w.newValue===w.oldValue?Pe():setTimeout(Pe,10)}notifyListeners(w,k){this.localCache[w]=k;const ae=this.listeners[w];if(ae)for(const Pe of Array.from(ae))Pe(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,k,ae)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:k,newValue:ae}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(k)}_removeListener(w,k){this.listeners[w]&&(this.listeners[w].delete(k),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,k){var ae=()=>super._set,Pe=this;return(0,o.Z)(function*(){yield ae().call(Pe,w,k),Pe.localCache[w]=JSON.stringify(k)})()}_get(w){var k=()=>super._get,ae=this;return(0,o.Z)(function*(){const Pe=yield k().call(ae,w);return ae.localCache[w]=JSON.stringify(Pe),Pe})()}_remove(w){var k=()=>super._remove,ae=this;return(0,o.Z)(function*(){yield k().call(ae,w),delete ae.localCache[w]})()}}return x.type="LOCAL",x})(),ba=(()=>{class x extends gc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,k){}_removeListener(w,k){}}return x.type="SESSION",x})();let Jl=(()=>{class x{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const k=this.receivers.find(Pe=>Pe.isListeningto(w));if(k)return k;const ae=new x(w);return this.receivers.push(ae),ae}isListeningto(w){return this.eventTarget===w}handleEvent(w){var k=this;return(0,o.Z)(function*(){const ae=w,{eventId:Pe,eventType:kt,data:an}=ae.data,qn=k.handlersMap[kt];if(!qn?.size)return;ae.ports[0].postMessage({status:"ack",eventId:Pe,eventType:kt});const Ii=Array.from(qn).map(function(){var Xi=(0,o.Z)(function*(Wo){return Wo(ae.origin,an)});return function(Wo){return Xi.apply(this,arguments)}}()),sr=yield function hl(x){return Promise.all(x.map(function(){var _=(0,o.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(k){return{fulfilled:!1,reason:k}}});return function(w){return _.apply(this,arguments)}}()))}(Ii);ae.ports[0].postMessage({status:"done",eventId:Pe,eventType:kt,response:sr})})()}_subscribe(w,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(k)}_unsubscribe(w,k){this.handlersMap[w]&&k&&this.handlersMap[w].delete(k),(!k||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function Ga(x="",_=10){let w="";for(let k=0;k<_;k++)w+=Math.floor(10*Math.random());return x+w}class el{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,w,k=50){var ae=this;return(0,o.Z)(function*(){const Pe=typeof MessageChannel<"u"?new MessageChannel:null;if(!Pe)throw new Error("connection_unavailable");let kt,an;return new Promise((qn,Ii)=>{const sr=Ga("",20);Pe.port1.start();const Xi=setTimeout(()=>{Ii(new Error("unsupported_event"))},k);an={messageChannel:Pe,onMessage(Wo){const Rl=Wo;if(Rl.data.eventId===sr)switch(Rl.data.status){case"ack":clearTimeout(Xi),kt=setTimeout(()=>{Ii(new Error("timeout"))},3e3);break;case"done":clearTimeout(kt),qn(Rl.data.response);break;default:clearTimeout(Xi),clearTimeout(kt),Ii(new Error("invalid_response"))}}},ae.handlers.add(an),Pe.port1.addEventListener("message",an.onMessage),ae.target.postMessage({eventType:_,eventId:sr,data:w},[Pe.port2])}).finally(()=>{an&&ae.removeMessageHandler(an)})})()}}function xr(){return window}function Wa(){return typeof xr().WorkerGlobalScope<"u"&&"function"==typeof xr().importScripts}function za(){return(za=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fo="firebaseLocalStorageDb",ii="firebaseLocalStorage",$i="fbase_key";class mo{constructor(_){this.request=_}toPromise(){return new Promise((_,w)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function Xn(x,_){return x.transaction([ii],_?"readwrite":"readonly").objectStore(ii)}function pn(){const x=indexedDB.open(Fo,1);return new Promise((_,w)=>{x.addEventListener("error",()=>{w(x.error)}),x.addEventListener("upgradeneeded",()=>{const k=x.result;try{k.createObjectStore(ii,{keyPath:$i})}catch(ae){w(ae)}}),x.addEventListener("success",(0,o.Z)(function*(){const k=x.result;k.objectStoreNames.contains(ii)?_(k):(k.close(),yield function un(){const x=indexedDB.deleteDatabase(Fo);return new mo(x).toPromise()}(),_(yield pn()))}))})}function Kr(x,_,w){return gl.apply(this,arguments)}function gl(){return(gl=(0,o.Z)(function*(x,_,w){const k=Xn(x,!0).put({[$i]:_,value:w});return new mo(k).toPromise()})).apply(this,arguments)}function Ll(){return(Ll=(0,o.Z)(function*(x,_){const w=Xn(x,!1).get(_),k=yield new mo(w).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function tl(x,_){const w=Xn(x,!0).delete(_);return new mo(w).toPromise()}const Al=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,o.Z)(function*(){return w.db||(w.db=yield pn()),w.db})()}_withRetries(w){var k=this;return(0,o.Z)(function*(){let ae=0;for(;;)try{const Pe=yield k._openDb();return yield w(Pe)}catch(Pe){if(ae++>3)throw Pe;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,o.Z)(function*(){return Wa()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,o.Z)(function*(){w.receiver=Jl._getInstance(function Ms(){return Wa()?self:null}()),w.receiver._subscribe("keyChanged",function(){var k=(0,o.Z)(function*(ae,Pe){return{keyProcessed:(yield w._poll()).includes(Pe.key)}});return function(ae,Pe){return k.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var k=(0,o.Z)(function*(ae,Pe){return["keyChanged"]});return function(ae,Pe){return k.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,o.Z)(function*(){var k,ae;if(w.activeServiceWorker=yield function fl(){return za.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new el(w.activeServiceWorker);const Pe=yield w.sender._send("ping",{},800);!Pe||(null===(k=Pe[0])||void 0===k?void 0:k.fulfilled)&&(null===(ae=Pe[0])||void 0===ae?void 0:ae.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var k=this;return(0,o.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function On(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:w},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const w=yield pn();return yield Kr(w,Sl,"1"),yield tl(w,Sl),!0}catch{}return!1})()}_withPendingWrite(w){var k=this;return(0,o.Z)(function*(){k.pendingWrites++;try{yield w()}finally{k.pendingWrites--}})()}_set(w,k){var ae=this;return(0,o.Z)(function*(){return ae._withPendingWrite((0,o.Z)(function*(){return yield ae._withRetries(Pe=>Kr(Pe,w,k)),ae.localCache[w]=k,ae.notifyServiceWorker(w)}))})()}_get(w){var k=this;return(0,o.Z)(function*(){const ae=yield k._withRetries(Pe=>function vs(x,_){return Ll.apply(this,arguments)}(Pe,w));return k.localCache[w]=ae,ae})()}_remove(w){var k=this;return(0,o.Z)(function*(){return k._withPendingWrite((0,o.Z)(function*(){return yield k._withRetries(ae=>tl(ae,w)),delete k.localCache[w],k.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,o.Z)(function*(){const k=yield w._withRetries(kt=>{const an=Xn(kt,!1).getAll();return new mo(an).toPromise()});if(!k)return[];if(0!==w.pendingWrites)return[];const ae=[],Pe=new Set;for(const{fbase_key:kt,value:an}of k)Pe.add(kt),JSON.stringify(w.localCache[kt])!==JSON.stringify(an)&&(w.notifyListeners(kt,an),ae.push(kt));for(const kt of Object.keys(w.localCache))w.localCache[kt]&&!Pe.has(kt)&&(w.notifyListeners(kt,null),ae.push(kt));return ae})()}notifyListeners(w,k){this.localCache[w]=k;const ae=this.listeners[w];if(ae)for(const Pe of Array.from(ae))Pe(k)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(k)}_removeListener(w,k){this.listeners[w]&&(this.listeners[w].delete(k),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function wa(x,_){return bn(x,"POST","/v2/accounts/mfaSignIn:start",Ut(x,_))}function qi(){return(qi=(0,o.Z)(function*(x){return(yield bn(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ya(x){return new Promise((_,w)=>{const k=document.createElement("script");k.setAttribute("src",x),k.onload=_,k.onerror=ae=>{const Pe=Qe("internal-error");Pe.customData=ae,w(Pe)},k.type="text/javascript",k.charset="UTF-8",function Xo(){var x,_;return null!==(_=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==_?_:document}().appendChild(k)})}function ns(x){return`__${x}${Math.floor(1e6*Math.random())}`}const br=1e12;class us{constructor(_){this.auth=_,this.counter=br,this._widgets=new Map}render(_,w){const k=this.counter;return this._widgets.set(k,new Ys(_,this.auth.name,w||{})),this.counter++,k}reset(_){var w;const k=_||br;null===(w=this._widgets.get(k))||void 0===w||w.delete(),this._widgets.delete(k)}getResponse(_){var w;return(null===(w=this._widgets.get(_||br))||void 0===w?void 0:w.getResponse())||""}execute(_){var w=this;return(0,o.Z)(function*(){var k;return null===(k=w._widgets.get(_||br))||void 0===k||k.execute(),""})()}}class Ys{constructor(_,w,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ae="string"==typeof _?document.getElementById(_):_;Ee(ae,"argument-error",{appName:w}),this.container=ae,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ri(x){const _=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<x;k++)_.push(w.charAt(Math.floor(Math.random()*w.length)));return _.join("")}(50);const{callback:_,"expired-callback":w}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xl=ns("rcb"),mc=new at(3e4,6e4);class Qc{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=xr().grecaptcha)||void 0===_||!_.render)}load(_,w=""){return Ee(function Uu(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(w),_,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve(xr().grecaptcha):new Promise((k,ae)=>{const Pe=xr().setTimeout(()=>{ae(Qe(_,"network-request-failed"))},mc.get());xr()[Xl]=()=>{xr().clearTimeout(Pe),delete xr()[Xl];const an=xr().grecaptcha;if(!an)return void ae(Qe(_,"internal-error"));const qn=an.render;an.render=(Ii,sr)=>{const Xi=qn(Ii,sr);return this.counter++,Xi},this.hostLanguage=w,k(an)},Ya(`https://www.google.com/recaptcha/api.js??${(0,Q.xO)({onload:Xl,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(Pe),ae(Qe(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var w;return!(null===(w=xr().grecaptcha)||void 0===w||!w.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $l{load(_){return(0,o.Z)(function*(){return new us(_)})()}clearedOneInstance(){}}const yc="recaptcha",ju={theme:"light",type:"image"};class es{constructor(_,w=Object.assign({},ju),k){this.parameters=w,this.type=yc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gn(k),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ae="string"==typeof _?document.getElementById(_):_;Ee(ae,this.auth,"argument-error"),this.container=ae,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $l:new Qc,this.validateStartingState()}verify(){var _=this;return(0,o.Z)(function*(){_.assertNotDestroyed();const w=yield _.render(),k=_.getAssertedRecaptcha();return k.getResponse(w)||new Promise(Pe=>{const kt=an=>{!an||(_.tokenChangeListeners.delete(kt),Pe(an))};_.tokenChangeListeners.add(kt),_.isInvisible&&k.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return w=>{if(this.tokenChangeListeners.forEach(k=>k(w)),"function"==typeof _)_(w);else if("string"==typeof _){const k=xr()[_];"function"==typeof k&&k(w)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,o.Z)(function*(){if(yield _.init(),!_.widgetId){let w=_.container;if(!_.isInvisible){const k=document.createElement("div");w.appendChild(k),w=k}_.widgetId=_.getAssertedRecaptcha().render(w,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,o.Z)(function*(){Ee(Mt()&&!Wa(),_.auth,"internal-error"),yield function ta(){let x=null;return new Promise(_=>{"complete"!==document.readyState?(x=()=>_(),window.addEventListener("load",x)):_()}).catch(_=>{throw x&&window.removeEventListener("load",x),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const w=yield function Ho(x){return qi.apply(this,arguments)}(_.auth);Ee(w,_.auth,"internal-error"),_.parameters.sitekey=w})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class na{constructor(_,w){this.verificationId=_,this.onConfirmation=w}confirm(_){const w=eo._fromVerification(this.verificationId,_);return this.onConfirmation(w)}}function tc(){return(tc=(0,o.Z)(function*(x,_,w){const k=Gn(x),ae=yield yo(k,_,(0,Q.m9)(w));return new na(ae,Pe=>Hr(k,Pe))})).apply(this,arguments)}function da(){return(da=(0,o.Z)(function*(x,_,w){const k=(0,Q.m9)(x);yield Tr(!1,k,"phone");const ae=yield yo(k.auth,_,(0,Q.m9)(w));return new na(ae,Pe=>ls(k,Pe))})).apply(this,arguments)}function Ea(){return(Ea=(0,o.Z)(function*(x,_,w){const k=(0,Q.m9)(x),ae=yield yo(k.auth,_,(0,Q.m9)(w));return new na(ae,Pe=>Ro(k,Pe))})).apply(this,arguments)}function yo(x,_,w){return nl.apply(this,arguments)}function nl(){return(nl=(0,o.Z)(function*(x,_,w){var k;const ae=yield w.verify();try{let Pe;if(Ee("string"==typeof ae,x,"argument-error"),Ee(w.type===yc,x,"argument-error"),Pe="string"==typeof _?{phoneNumber:_}:_,"session"in Pe){const kt=Pe.session;if("phoneNumber"in Pe)return Ee("enroll"===kt.type,x,"internal-error"),(yield Il(x,{idToken:kt.credential,phoneEnrollmentInfo:{phoneNumber:Pe.phoneNumber,recaptchaToken:ae}})).phoneSessionInfo.sessionInfo;{Ee("signin"===kt.type,x,"internal-error");const an=(null===(k=Pe.multiFactorHint)||void 0===k?void 0:k.uid)||Pe.multiFactorUid;return Ee(an,x,"missing-multi-factor-info"),(yield wa(x,{mfaPendingCredential:kt.credential,mfaEnrollmentId:an,phoneSignInInfo:{recaptchaToken:ae}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:kt}=yield yn(x,{phoneNumber:Pe.phoneNumber,recaptchaToken:ae});return kt}}finally{w._reset()}})).apply(this,arguments)}function Ca(){return(Ca=(0,o.Z)(function*(x,_){yield io((0,Q.m9)(x),_)})).apply(this,arguments)}let bc=(()=>{class x{constructor(w){this.providerId=x.PROVIDER_ID,this.auth=Gn(w)}verifyPhoneNumber(w,k){return yo(this.auth,w,(0,Q.m9)(k))}static credential(w,k){return eo._fromVerification(w,k)}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:k,temporaryProof:ae}=w;return k&&ae?eo._fromTokenResponse(k,ae):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function P(x,_){return _?Ce(_):(Ee(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class F extends Or{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Ir(_,this._buildIdpRequest())}_linkToIdToken(_,w){return Ir(_,this._buildIdpRequest(w))}_getReauthenticationResolver(_){return Ir(_,this._buildIdpRequest())}_buildIdpRequest(_){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(w.idToken=_),w}}function O(x){return as(x.auth,new F(x),x.bypassAuthState)}function W(x){const{auth:_,user:w}=x;return Ee(w,_,"internal-error"),zo(w,new F(x),x.bypassAuthState)}function J(x){return De.apply(this,arguments)}function De(){return(De=(0,o.Z)(function*(x){const{auth:_,user:w}=x;return Ee(w,_,"internal-error"),io(w,new F(x),x.bypassAuthState)})).apply(this,arguments)}class st{constructor(_,w,k,ae,Pe=!1){this.auth=_,this.resolver=k,this.user=ae,this.bypassAuthState=Pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var _=this;return new Promise(function(){var w=(0,o.Z)(function*(k,ae){_.pendingPromise={resolve:k,reject:ae};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Pe){_.reject(Pe)}});return function(k,ae){return w.apply(this,arguments)}}())}onAuthEvent(_){var w=this;return(0,o.Z)(function*(){const{urlResponse:k,sessionId:ae,postBody:Pe,tenantId:kt,error:an,type:qn}=_;if(an)return void w.reject(an);const Ii={auth:w.auth,requestUri:k,sessionId:ae,tenantId:kt||void 0,postBody:Pe||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(qn)(Ii))}catch(sr){w.reject(sr)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return O;case"linkViaPopup":case"linkViaRedirect":return J;case"reauthViaPopup":case"reauthViaRedirect":return W;default:Et(this.auth,"internal-error")}}resolve(_){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pt=new at(2e3,1e4);function Rn(){return(Rn=(0,o.Z)(function*(x,_,w){const k=Gn(x);ke(x,_,Ds);const ae=P(k,w);return new xs(k,"signInViaPopup",_,ae).executeNotNull()})).apply(this,arguments)}function Jn(){return(Jn=(0,o.Z)(function*(x,_,w){const k=(0,Q.m9)(x);ke(k.auth,_,Ds);const ae=P(k.auth,w);return new xs(k.auth,"reauthViaPopup",_,ae,k).executeNotNull()})).apply(this,arguments)}function To(){return(To=(0,o.Z)(function*(x,_,w){const k=(0,Q.m9)(x);ke(k.auth,_,Ds);const ae=P(k.auth,w);return new xs(k.auth,"linkViaPopup",_,ae,k).executeNotNull()})).apply(this,arguments)}let xs=(()=>{class x extends st{constructor(w,k,ae,Pe,kt){super(w,k,Pe,kt),this.provider=ae,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var w=this;return(0,o.Z)(function*(){const k=yield w.execute();return Ee(k,w.auth,"internal-error"),k})()}onExecution(){var w=this;return(0,o.Z)(function*(){Ie(1===w.filter.length,"Popup operations only handle one event");const k=Ga();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],k),w.authWindow.associatedEvent=k,w.resolver._originValidation(w.auth).catch(ae=>{w.reject(ae)}),w.resolver._isIframeWebStorageSupported(w.auth,ae=>{ae||w.reject(Qe(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(Qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const w=()=>{var k,ae;this.pollId=null!==(ae=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==ae&&ae.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Qe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,pt.get())};w()}}return x.currentPopupAction=null,x})();const Os=new Map;class oo extends st{constructor(_,w,k=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,k),this.eventId=null}execute(){var _=()=>super.execute,w=this;return(0,o.Z)(function*(){let k=Os.get(w.auth._key());if(!k){try{const Pe=(yield function Vl(x,_){return Da.apply(this,arguments)}(w.resolver,w.auth))?yield _().call(w):null;k=()=>Promise.resolve(Pe)}catch(ae){k=()=>Promise.reject(ae)}Os.set(w.auth._key(),k)}return w.bypassAuthState||Os.set(w.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(_){var w=()=>super.onAuthEvent,k=this;return(0,o.Z)(function*(){if("signInViaRedirect"===_.type)return w().call(k,_);if("unknown"!==_.type){if(_.eventId){const ae=yield k.auth._redirectUserForId(_.eventId);if(ae)return k.user=ae,w().call(k,_);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Da(){return(Da=(0,o.Z)(function*(x,_){const w=Ne(_),k=ee(x);if(!(yield k._isAvailable()))return!1;const ae="true"===(yield k._get(w));return yield k._remove(w),ae})).apply(this,arguments)}function qs(x,_){return nc.apply(this,arguments)}function nc(){return(nc=(0,o.Z)(function*(x,_){return ee(x)._set(Ne(_),"true")})).apply(this,arguments)}function z(x,_){Os.set(x._key(),_)}function ee(x){return Ce(x._redirectPersistence)}function Ne(x){return ki("pendingRedirect",x.config.apiKey,x.name)}function nn(){return(nn=(0,o.Z)(function*(x,_,w){const k=Gn(x);ke(x,_,Ds);const ae=P(k,w);return yield qs(ae,k),ae._openRedirect(k,_,"signInViaRedirect")})).apply(this,arguments)}function zi(){return(zi=(0,o.Z)(function*(x,_,w){const k=(0,Q.m9)(x);ke(k.auth,_,Ds);const ae=P(k.auth,w);yield qs(ae,k.auth);const Pe=yield ia(k);return ae._openRedirect(k.auth,_,"reauthViaRedirect",Pe)})).apply(this,arguments)}function Li(){return(Li=(0,o.Z)(function*(x,_,w){const k=(0,Q.m9)(x);ke(k.auth,_,Ds);const ae=P(k.auth,w);yield Tr(!1,k,_.providerId),yield qs(ae,k.auth);const Pe=yield ia(k);return ae._openRedirect(k.auth,_,"linkViaRedirect",Pe)})).apply(this,arguments)}function ha(){return(ha=(0,o.Z)(function*(x,_){return yield Gn(x)._initializationPromise,Ia(x,_,!1)})).apply(this,arguments)}function Ia(x,_){return qa.apply(this,arguments)}function qa(){return(qa=(0,o.Z)(function*(x,_,w=!1){const k=Gn(x),ae=P(k,_),kt=yield new oo(k,ae,w).execute();return kt&&!w&&(delete kt.user._redirectEventId,yield k._persistUserIfCurrent(kt.user),yield k._setRedirectUser(null,_)),kt})).apply(this,arguments)}function ia(x){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,o.Z)(function*(x){const _=Ga(`${x.uid}:::`);return x._redirectEventId=_,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),_})).apply(this,arguments)}class il{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let w=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(_,k)&&(w=!0,this.sendToConsumer(_,k),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function _l(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ml(x);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=_,w=!0)),w}sendToConsumer(_,w){var k;if(_.error&&!ml(_)){const ae=(null===(k=_.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";w.onError(Qe(this.auth,ae))}else w.onAuthEvent(_)}isEventForConsumer(_,w){const k=null===w.eventId||!!_.eventId&&_.eventId===w.eventId;return w.filter.includes(_.type)&&k}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nl(_))}saveEventToCache(_){this.cachedEventUids.add(Nl(_)),this.lastProcessedEventTime=Date.now()}}function Nl(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(_=>_).join("-")}function ml({type:x,error:_}){return"unknown"===x&&"auth/no-auth-event"===_?.code}function ic(x){return _d.apply(this,arguments)}function _d(){return(_d=(0,o.Z)(function*(x,_={}){return bn(x,"GET","/v1/projects",_)})).apply(this,arguments)}const np=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hu=/^https?/;function fa(){return(fa=(0,o.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:_}=yield ic(x);for(const w of _)try{if(Jc(w))return}catch{}Et(x,"unauthorized-domain")})).apply(this,arguments)}function Jc(x){const _=St(),{protocol:w,hostname:k}=new URL(_);if(x.startsWith("chrome-extension://")){const kt=new URL(x);return""===kt.hostname&&""===k?"chrome-extension:"===w&&x.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===w&&kt.hostname===k}if(!Hu.test(w))return!1;if(np.test(x))return k===x;const ae=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ae+"|"+ae+")$","i").test(k)}const Zs=new at(3e4,6e4);function Jd(){const x=xr().___jsl;if(x?.H)for(const _ of Object.keys(x.H))if(x.H[_].r=x.H[_].r||[],x.H[_].L=x.H[_].L||[],x.H[_].r=[...x.H[_].L],x.CP)for(let w=0;w<x.CP.length;w++)x.CP[w]=null}let Ra=null;function yd(x){return Ra=Ra||function Xc(x){return new Promise((_,w)=>{var k,ae,Pe;function kt(){Jd(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Jd(),w(Qe(x,"network-request-failed"))},timeout:Zs.get()})}if(null!==(ae=null===(k=xr().gapi)||void 0===k?void 0:k.iframes)&&void 0!==ae&&ae.Iframe)_(gapi.iframes.getContext());else{if(null===(Pe=xr().gapi)||void 0===Pe||!Pe.load){const an=ns("iframefcb");return xr()[an]=()=>{gapi.load?kt():w(Qe(x,"network-request-failed"))},Ya(`https://apis.google.com/js/api.js?onload=${an}`).catch(qn=>w(qn))}kt()}}).catch(_=>{throw Ra=null,_})}(x),Ra}const eu=new at(5e3,15e3),ip={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ta(x){const _=x.config;Ee(_.authDomain,x,"auth-domain-config-required");const w=_.emulator?ht(_,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,k={apiKey:_.apiKey,appName:x.name,v:Fe.SDK_VERSION},ae=Vc.get(x.config.apiHost);ae&&(k.eid=ae);const Pe=x._getFrameworks();return Pe.length&&(k.fw=Pe.join(",")),`${w}?${(0,Q.xO)(k).slice(1)}`}function zu(){return zu=(0,o.Z)(function*(x){const _=yield yd(x),w=xr().gapi;return Ee(w,x,"internal-error"),_.open({where:document.body,url:Ta(x),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ip,dontclear:!0},k=>new Promise(function(){var ae=(0,o.Z)(function*(Pe,kt){yield k.restyle({setHideOnLeave:!1});const an=Qe(x,"network-request-failed"),qn=xr().setTimeout(()=>{kt(an)},eu.get());function Ii(){xr().clearTimeout(qn),Pe(k)}k.ping(Ii).then(Ii,()=>{kt(an)})});return function(Pe,kt){return ae.apply(this,arguments)}}()))}),zu.apply(this,arguments)}const vd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tu(x,_,w,k,ae,Pe){Ee(x.config.authDomain,x,"auth-domain-config-required"),Ee(x.config.apiKey,x,"invalid-api-key");const kt={apiKey:x.config.apiKey,appName:x.name,authType:w,redirectUrl:k,v:Fe.SDK_VERSION,eventId:ae};if(_ instanceof Ds){_.setDefaultLanguage(x.languageCode),kt.providerId=_.providerId||"",(0,Q.xb)(_.getCustomParameters())||(kt.customParameters=JSON.stringify(_.getCustomParameters()));for(const[qn,Ii]of Object.entries(Pe||{}))kt[qn]=Ii}if(_ instanceof ps){const qn=_.getScopes().filter(Ii=>""!==Ii);qn.length>0&&(kt.scopes=qn.join(","))}x.tenantId&&(kt.tid=x.tenantId);const an=kt;for(const qn of Object.keys(an))void 0===an[qn]&&delete an[qn];return`${function rl({config:x}){return x.emulator?ht(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}(x)}?${(0,Q.xO)(an).slice(1)}`}const vu="webStorageSupport";class Ml extends class Ku{constructor(_){this.factorId=_}_process(_,w,k){switch(w.type){case"enroll":return this._finalizeEnroll(_,w.credential,k);case"signin":return this._finalizeSignIn(_,w.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Ml(_)}_finalizeEnroll(_,w,k){return function _u(x,_){return bn(x,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(x,_))}(_,{idToken:w,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,w){return function Lo(x,_){return bn(x,"POST","/v2/accounts/mfaSignIn:finalize",Ut(x,_))}(_,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wu=(()=>{class x{constructor(){}static assertion(w){return Ml._fromCredential(w)}}return x.FACTOR_ID="phone",x})();var sc="@firebase/auth";class Sh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var w=this;return(0,o.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const w=this.auth.onIdTokenChanged(k=>{var ae;_((null===(ae=k)||void 0===ae?void 0:ae.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,w),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const w=this.internalListeners.get(_);!w||(this.internalListeners.delete(_),w(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ol(){return window}function nu(){return(nu=(0,o.Z)(function*(x,_,w){var k;const{BuildInfo:ae}=ol();Ie(_.sessionId,"AuthEvent did not contain a session ID");const Pe=yield ru(_.sessionId),kt={};return te()?kt.ibi=ae.packageName:fr()?kt.apn=ae.packageName:Et(x,"operation-not-supported-in-this-environment"),ae.displayName&&(kt.appDisplayName=ae.displayName),kt.sessionId=Pe,tu(x,w,_.type,void 0,null!==(k=_.eventId)&&void 0!==k?k:void 0,kt)})).apply(this,arguments)}function wc(){return(wc=(0,o.Z)(function*(x){const{BuildInfo:_}=ol(),w={};te()?w.iosBundleId=_.packageName:fr()?w.androidPackageName=_.packageName:Et(x,"operation-not-supported-in-this-environment"),yield ic(x,w)})).apply(this,arguments)}function iu(){return(iu=(0,o.Z)(function*(x,_,w){const{cordova:k}=ol();let ae=()=>{};try{yield new Promise((Pe,kt)=>{let an=null;function qn(){var Xi;Pe();const Wo=null===(Xi=k.plugins.browsertab)||void 0===Xi?void 0:Xi.close;"function"==typeof Wo&&Wo(),"function"==typeof w?.close&&w.close()}function Ii(){an||(an=window.setTimeout(()=>{kt(Qe(x,"redirect-cancelled-by-user"))},2e3))}function sr(){"visible"===document?.visibilityState&&Ii()}_.addPassiveListener(qn),document.addEventListener("resume",Ii,!1),fr()&&document.addEventListener("visibilitychange",sr,!1),ae=()=>{_.removePassiveListener(qn),document.removeEventListener("resume",Ii,!1),document.removeEventListener("visibilitychange",sr,!1),an&&window.clearTimeout(an)}})}finally{ae()}})).apply(this,arguments)}function ru(x){return su.apply(this,arguments)}function su(){return(su=(0,o.Z)(function*(x){const _=Aa(x),w=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(w)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Aa(x){if(Ie(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const _=new ArrayBuffer(x.length),w=new Uint8Array(_);for(let k=0;k<x.length;k++)w[k]=x.charCodeAt(k);return w}!function vo(x){(0,Fe._registerComponent)(new _e.wA("auth",(_,{options:w})=>{const k=_.getProvider("app").getImmediate(),ae=_.getProvider("heartbeat"),{apiKey:Pe,authDomain:kt}=k.options;return((an,qn)=>{Ee(Pe&&!Pe.includes(":"),"invalid-api-key",{appName:an.name}),Ee(!kt?.includes(":"),"argument-error",{appName:an.name});const Ii={apiKey:Pe,authDomain:kt,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qt(x)},sr=new tn(an,qn,Ii);return function At(x,_){const w=_?.persistence||[],k=(Array.isArray(w)?w:[w]).map(Ce);_?.errorMap&&x._updateErrorMap(_.errorMap),x._initializeWithPersistence(k,_?.popupRedirectResolver)}(sr,w),sr})(k,ae)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,w,k)=>{_.getProvider("auth-internal").initialize()})),(0,Fe._registerComponent)(new _e.wA("auth-internal",_=>{const w=Gn(_.getProvider("auth").getImmediate());return new Sh(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Fe.registerVersion)(sc,"0.20.7",function sl(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,Fe.registerVersion)(sc,"0.20.7","esm2017")}("Browser");class Za extends il{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(_)),super.onEvent(_)}initialized(){var _=this;return(0,o.Z)(function*(){yield _.initPromise})()}}function Qa(x){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,o.Z)(function*(x){const _=yield Nh()._get(ao(x));return _&&(yield Nh()._remove(ao(x))),_})).apply(this,arguments)}function eh(){const x=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<20;w++){const k=Math.floor(Math.random()*_.length);x.push(_.charAt(k))}return x.join("")}function Nh(){return Ce(Jo)}function ao(x){return ki("authEvent",x.config.apiKey,x.name)}function Hc(x){if(!x?.includes("?"))return{};const[_,...w]=x.split("?");return(0,Q.zd)(w.join("?"))}function Cd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qe("no-auth-event")}}function Qu(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function Cu(x=(0,Q.z$)()){return!("file:"!==Qu()&&"ionic:"!==Qu()&&"capacitor:"!==Qu()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ic(){try{const x=self.localStorage,_=Ga();if(x)return x.setItem(_,"1"),x.removeItem(_),!function Dc(x=(0,Q.z$)()){return function Yo(){return(0,Q.w1)()&&11===document?.documentMode}()||function ds(x=(0,Q.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,Q.hl)()}catch{return Gl()&&(0,Q.hl)()}return!1}function Gl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ol(){return(function Ju(){return"http:"===Qu()||"https:"===Qu()}()||(0,Q.ru)()||Cu())&&!function ff(){return(0,Q.b$)()||(0,Q.UG)()}()&&Ic()&&!Gl()}function Bo(){return Cu()&&typeof document<"u"}function Pa(){return(Pa=(0,o.Z)(function*(){return!!Bo()&&new Promise(x=>{const _=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),x(!0)})})})).apply(this,arguments)}const bo={LOCAL:"local",NONE:"none",SESSION:"session"},Wl=Ee,Du="persistence";function ed(x){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,o.Z)(function*(x){yield x._initializationPromise;const _=lu(),w=ki(Du,x.config.apiKey,x.name);_&&_.setItem(w,x._getPersistence())})).apply(this,arguments)}function lu(){var x;try{return(null===(x=function Xu(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const Tc=Ee;class ka{constructor(){this.browserResolver=Ce(class bu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ba,this._completeRedirectFn=Ia,this._overrideRedirectResult=z}_openPopup(_,w,k,ae){var Pe=this;return(0,o.Z)(function*(){var kt;Ie(null===(kt=Pe.eventManagers[_._key()])||void 0===kt?void 0:kt.manager,"_initialize() not called before _openPopup()");const an=tu(_,w,k,St(),ae);return function rc(x,_,w,k=500,ae=600){const Pe=Math.max((window.screen.availHeight-ae)/2,0).toString(),kt=Math.max((window.screen.availWidth-k)/2,0).toString();let an="";const qn=Object.assign(Object.assign({},vd),{width:k.toString(),height:ae.toString(),top:Pe,left:kt}),Ii=(0,Q.z$)().toLowerCase();w&&(an=mr(Ii)?"_blank":w),Bi(Ii)&&(_=_||"http://localhost",qn.scrollbars="yes");const sr=Object.entries(qn).reduce((Wo,[Rl,La])=>`${Wo}${Rl}=${La},`,"");if(function it(x=(0,Q.z$)()){var _;return te(x)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Ii)&&"_self"!==an)return function jc(x,_){const w=document.createElement("a");w.href=x,w.target=_;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(k)}(_||"",an),new bd(null);const Xi=window.open(_||"",an,sr);Ee(Xi,x,"popup-blocked");try{Xi.focus()}catch{}return new bd(Xi)}(_,an,Ga())})()}_openRedirect(_,w,k,ae){var Pe=this;return(0,o.Z)(function*(){return yield Pe._originValidation(_),function Ks(x){xr().location.href=x}(tu(_,w,k,St(),ae)),new Promise(()=>{})})()}_initialize(_){const w=_._key();if(this.eventManagers[w]){const{manager:ae,promise:Pe}=this.eventManagers[w];return ae?Promise.resolve(ae):(Ie(Pe,"If manager is not set, promise should be"),Pe)}const k=this.initAndGetManager(_);return this.eventManagers[w]={promise:k},k.catch(()=>{delete this.eventManagers[w]}),k}initAndGetManager(_){var w=this;return(0,o.Z)(function*(){const k=yield function uf(x){return zu.apply(this,arguments)}(_),ae=new il(_);return k.register("authEvent",Pe=>(Ee(Pe?.authEvent,_,"invalid-auth-event"),{status:ae.onEvent(Pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[_._key()]={manager:ae},w.iframes[_._key()]=k,ae})()}_isIframeWebStorageSupported(_,w){this.iframes[_._key()].send(vu,{type:vu},ae=>{var Pe;const kt=null===(Pe=ae?.[0])||void 0===Pe?void 0:Pe[vu];void 0!==kt&&w(!!kt),Et(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const w=_._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Gu(x){return fa.apply(this,arguments)}(_)),this.originValidationPromises[w]}get _shouldInitProactively(){return Ht()||tr()||te()}}),this.cordovaResolver=Ce(class Zu{constructor(){this._redirectPersistence=ba,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ia,this._overrideRedirectResult=z}_initialize(_){var w=this;return(0,o.Z)(function*(){const k=_._key();let ae=w.eventManagers.get(k);return ae||(ae=new Za(_),w.eventManagers.set(k,ae),w.attachCallbackListeners(_,ae)),ae})()}_openPopup(_){Et(_,"operation-not-supported-in-this-environment")}_openRedirect(_,w,k,ae){var Pe=this;return(0,o.Z)(function*(){!function Eu(x){var _,w,k,ae,Pe,kt,an,qn,Ii,sr;const Xi=ol();Ee("function"==typeof(null===(_=Xi?.universalLinks)||void 0===_?void 0:_.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(typeof(null===(w=Xi?.BuildInfo)||void 0===w?void 0:w.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(Pe=null===(ae=null===(k=Xi?.cordova)||void 0===k?void 0:k.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Pe?void 0:Pe.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(qn=null===(an=null===(kt=Xi?.cordova)||void 0===kt?void 0:kt.plugins)||void 0===an?void 0:an.browsertab)||void 0===qn?void 0:qn.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(sr=null===(Ii=Xi?.cordova)||void 0===Ii?void 0:Ii.InAppBrowser)||void 0===sr?void 0:sr.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const kt=yield Pe._initialize(_);yield kt.initialized(),kt.resetRedirect(),function md(){Os.clear()}(),yield Pe._originValidation(_);const an=function jl(x,_,w=null){return{type:_,eventId:w,urlResponse:null,sessionId:eh(),postBody:null,tenantId:x.tenantId,error:Qe(x,"no-auth-event")}}(_,k,ae);yield function Ec(x,_){return Nh()._set(ao(x),_)}(_,an);const qn=yield function Ah(x,_,w){return nu.apply(this,arguments)}(_,an,w),Ii=yield function al(x){const{cordova:_}=ol();return new Promise(w=>{_.plugins.browsertab.isAvailable(k=>{let ae=null;k?_.plugins.browsertab.openUrl(x):ae=_.InAppBrowser.open(x,function be(x=(0,Q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}()?"_blank":"_system","location=yes"),w(ae)})})}(qn);return function xl(x,_,w){return iu.apply(this,arguments)}(_,kt,Ii)})()}_isIframeWebStorageSupported(_,w){throw new Error("Method not implemented.")}_originValidation(_){const w=_._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function yl(x){return wc.apply(this,arguments)}(_)),this.originValidationPromises[w]}attachCallbackListeners(_,w){const{universalLinks:k,handleOpenURL:ae,BuildInfo:Pe}=ol(),kt=setTimeout((0,o.Z)(function*(){yield Qa(_),w.onEvent(Cd())}),500),an=function(){var sr=(0,o.Z)(function*(Xi){clearTimeout(kt);const Wo=yield Qa(_);let Rl=null;Wo&&Xi?.url&&(Rl=function Hl(x,_){var w,k;const ae=function au(x){const _=Hc(x),w=_.link?decodeURIComponent(_.link):void 0,k=Hc(w).link,ae=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return Hc(ae).link||ae||k||w||x}(_);if(ae.includes("/__/auth/callback")){const Pe=Hc(ae),kt=Pe.firebaseError?function Ed(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(Pe.firebaseError)):null,an=null===(k=null===(w=kt?.code)||void 0===w?void 0:w.split("auth/"))||void 0===k?void 0:k[1],qn=an?Qe(an):null;return qn?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:qn,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:ae,postBody:null}}return null}(Wo,Xi.url)),w.onEvent(Rl||Cd())});return function(Wo){return sr.apply(this,arguments)}}();typeof k<"u"&&"function"==typeof k.subscribe&&k.subscribe(null,an);const qn=ae,Ii=`${Pe.packageName.toLowerCase()}://`;ol().handleOpenURL=function(){var sr=(0,o.Z)(function*(Xi){if(Xi.toLowerCase().startsWith(Ii)&&an({url:Xi}),"function"==typeof qn)try{qn(Xi)}catch(Wo){console.error(Wo)}});return function(Xi){return sr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ba,this._completeRedirectFn=Ia,this._overrideRedirectResult=z}_initialize(_){var w=this;return(0,o.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,w,k,ae){var Pe=this;return(0,o.Z)(function*(){return yield Pe.selectUnderlyingResolver(),Pe.assertedUnderlyingResolver._openPopup(_,w,k,ae)})()}_openRedirect(_,w,k,ae){var Pe=this;return(0,o.Z)(function*(){return yield Pe.selectUnderlyingResolver(),Pe.assertedUnderlyingResolver._openRedirect(_,w,k,ae)})()}_isIframeWebStorageSupported(_,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,w)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return Bo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,o.Z)(function*(){if(_.underlyingResolver)return;const w=yield function nh(){return Pa.apply(this,arguments)}();_.underlyingResolver=w?_.cordovaResolver:_.browserResolver})()}}function td(x){return x.unwrap()}function nd(x){return Iu(x)}function Iu(x){const{_tokenResponse:_}=x instanceof Q.ZR?x.customData:x;if(!_)return null;if(!(x instanceof Q.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return bc.credentialFromResult(x);const w=_.providerId;if(!w||"password"===w)return null;let k;switch(w){case"google.com":k=Qi;break;case"facebook.com":k=no;break;case"github.com":k=ar;break;case"twitter.com":k=Gs;break;default:const{oauthIdToken:ae,oauthAccessToken:Pe,oauthTokenSecret:kt,pendingToken:an,nonce:qn}=_;return Pe||kt||ae||an?an?w.startsWith("saml.")?As._create(w,an):Gt._fromParams({providerId:w,signInMethod:w,pendingToken:an,idToken:ae,accessToken:Pe}):new so(w).credential({idToken:ae,accessToken:Pe,rawNonce:qn}):null}return x instanceof Q.ZR?k.credentialFromError(x):k.credentialFromResult(x)}function Go(x,_){return _.catch(w=>{throw w instanceof Q.ZR&&function lc(x,_){var w,k;const ae=null===(w=_.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===(null===(k=_)||void 0===k?void 0:k.code))_.resolver=new id(x,function Es(x,_){var w;const k=(0,Q.m9)(x),ae=_;return Ee(_.customData.operationType,k,"argument-error"),Ee(null===(w=ae.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,k,"argument-error"),pc._fromError(k,ae)}(x,_));else if(ae){const Pe=Iu(_),kt=_;Pe&&(kt.credential=Pe,kt.tenantId=ae.tenantId||void 0,kt.email=ae.email||void 0,kt.phoneNumber=ae.phoneNumber||void 0)}}(x,w),w}).then(w=>{const ae=w.user;return{operationType:w.operationType,credential:nd(w),additionalUserInfo:vr(w),user:Ao.getOrCreate(ae)}})}function Tu(x,_){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,o.Z)(function*(x,_){const w=yield _;return{verificationId:w.verificationId,confirm:k=>Go(x,w.confirm(k))}})).apply(this,arguments)}class id{constructor(_,w){this.resolver=w,this.auth=function cu(x){return x.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Go(td(this.auth),this.resolver.resolveSignIn(_))}}class Ao{constructor(_){this._delegate=_,this.multiFactor=function ko(x){const _=(0,Q.m9)(x);return dl.has(_)||dl.set(_,Tl._fromUser(_)),dl.get(_)}(_)}static getOrCreate(_){return Ao.USER_MAP.has(_)||Ao.USER_MAP.set(_,new Ao(_)),Ao.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var w=this;return(0,o.Z)(function*(){return Go(w.auth,ls(w._delegate,_))})()}linkWithPhoneNumber(_,w){var k=this;return(0,o.Z)(function*(){return Tu(k.auth,function _o(x,_,w){return da.apply(this,arguments)}(k._delegate,_,w))})()}linkWithPopup(_){var w=this;return(0,o.Z)(function*(){return Go(w.auth,function Gi(x,_,w){return To.apply(this,arguments)}(w._delegate,_,ka))})()}linkWithRedirect(_){var w=this;return(0,o.Z)(function*(){return yield ed(Gn(w.auth)),function Ji(x,_,w){return function Ci(x,_,w){return Li.apply(this,arguments)}(x,_,w)}(w._delegate,_,ka)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var w=this;return(0,o.Z)(function*(){return Go(w.auth,Ro(w._delegate,_))})()}reauthenticateWithPhoneNumber(_,w){return Tu(this.auth,function en(x,_,w){return Ea.apply(this,arguments)}(this._delegate,_,w))}reauthenticateWithPopup(_){return Go(this.auth,function dr(x,_,w){return Jn.apply(this,arguments)}(this._delegate,_,ka))}reauthenticateWithRedirect(_){var w=this;return(0,o.Z)(function*(){return yield ed(Gn(w.auth)),function An(x,_,w){return function Qn(x,_,w){return zi.apply(this,arguments)}(x,_,w)}(w._delegate,_,ka)})()}sendEmailVerification(_){return function rr(x,_){return Po.apply(this,arguments)}(this._delegate,_)}unlink(_){var w=this;return(0,o.Z)(function*(){return yield function $s(x,_){return _a.apply(this,arguments)}(w._delegate,_),w})()}updateEmail(_){return function j(x,_){return K((0,Q.m9)(x),_,null)}(this._delegate,_)}updatePassword(_){return function le(x,_){return K((0,Q.m9)(x),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function vc(x,_){return Ca.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function go(x,_){return Zo.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,w){return function Lr(x,_,w){return Ns.apply(this,arguments)}(this._delegate,_,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ao.USER_MAP=new WeakMap;const zl=Ee;let vl=(()=>{class x{constructor(w,k){if(this.app=w,k.isInitialized())return this._delegate=k.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=w.options;zl(ae,"invalid-api-key",{appName:w.name}),zl(ae,"invalid-api-key",{appName:w.name});const Pe=typeof window<"u"?ka:void 0;this._delegate=k.initialize({options:{persistence:oa(ae,w.name),popupRedirectResolver:Pe}}),this._delegate._updateErrorMap(ft),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ao.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,k){!function Mi(x,_,w){const k=Gn(x);Ee(k._canInitEmulator,k,"emulator-config-failed"),Ee(/^https?:\/\//.test(_),k,"invalid-emulator-scheme");const ae=!!w?.disableWarnings,Pe=bi(_),{host:kt,port:an}=function Ri(x){const _=bi(x),w=/(\/\/)?([^?#/]+)/.exec(x.substr(_.length));if(!w)return{host:"",port:null};const k=w[2].split("@").pop()||"",ae=/^(\[[^\]]+\])(:|$)/.exec(k);if(ae){const Pe=ae[1];return{host:Pe,port:Sr(k.substr(Pe.length+1))}}{const[Pe,kt]=k.split(":");return{host:Pe,port:Sr(kt)}}}(_);k.config.emulator={url:`${Pe}//${kt}${null===an?"":`:${an}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:kt,port:an,protocol:Pe.replace(":",""),options:Object.freeze({disableWarnings:ae})}),ae||function qr(){function x(){const _=document.createElement("p"),w=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}(this._delegate,w,k)}applyActionCode(w){return function jn(x,_){return gi.apply(this,arguments)}(this._delegate,w)}checkActionCode(w){return D(this._delegate,w)}confirmPasswordReset(w,k){return function Oe(x,_,w){return Kt.apply(this,arguments)}(this._delegate,w,k)}createUserWithEmailAndPassword(w,k){var ae=this;return(0,o.Z)(function*(){return Go(ae._delegate,function xe(x,_,w){return gt.apply(this,arguments)}(ae._delegate,w,k))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return function hi(x,_){return po.apply(this,arguments)}(this._delegate,w)}isSignInWithEmailLink(w){return function Ai(x,_){return"EMAIL_SIGNIN"===Ss.parseLink(_)?.operation}(0,w)}getRedirectResult(){var w=this;return(0,o.Z)(function*(){zl(Ol(),w._delegate,"operation-not-supported-in-this-environment");const k=yield function Us(x,_){return ha.apply(this,arguments)}(w._delegate,ka);return k?Go(w._delegate,Promise.resolve(k)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function Gc(x,_){Gn(x)._logFramework(_)}(this._delegate,w)}onAuthStateChanged(w,k,ae){const{next:Pe,error:kt,complete:an}=Sc(w,k,ae);return this._delegate.onAuthStateChanged(Pe,kt,an)}onIdTokenChanged(w,k,ae){const{next:Pe,error:kt,complete:an}=Sc(w,k,ae);return this._delegate.onIdTokenChanged(Pe,kt,an)}sendSignInLinkToEmail(w,k){return function Yn(x,_,w){return Ln.apply(this,arguments)}(this._delegate,w,k)}sendPasswordResetEmail(w,k){return function M(x,_,w){return Z.apply(this,arguments)}(this._delegate,w,k||void 0)}setPersistence(w){var k=this;return(0,o.Z)(function*(){let ae;switch(function Wc(x,_){Wl(Object.values(bo).includes(_),x,"invalid-persistence-type"),(0,Q.b$)()?Wl(_!==bo.SESSION,x,"unsupported-persistence-type"):(0,Q.UG)()?Wl(_===bo.NONE,x,"unsupported-persistence-type"):Gl()?Wl(_===bo.NONE||_===bo.LOCAL&&(0,Q.hl)(),x,"unsupported-persistence-type"):Wl(_===bo.NONE||Ic(),x,"unsupported-persistence-type")}(k._delegate,w),w){case bo.SESSION:ae=ba;break;case bo.LOCAL:ae=(yield Ce(Al)._isAvailable())?Al:Jo;break;case bo.NONE:ae=Oi;break;default:return Et("argument-error",{appName:k._delegate.name})}return k._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return Go(this._delegate,function os(x){return kr.apply(this,arguments)}(this._delegate))}signInWithCredential(w){return Go(this._delegate,Hr(this._delegate,w))}signInWithCustomToken(w){return Go(this._delegate,function Vs(x,_){return zs.apply(this,arguments)}(this._delegate,w))}signInWithEmailAndPassword(w,k){return Go(this._delegate,function Wt(x,_,w){return Hr((0,Q.m9)(x),_s.credential(_,w))}(this._delegate,w,k))}signInWithEmailLink(w,k){return Go(this._delegate,function lr(x,_,w){return Fr.apply(this,arguments)}(this._delegate,w,k))}signInWithPhoneNumber(w,k){return Tu(this._delegate,function ec(x,_,w){return tc.apply(this,arguments)}(this._delegate,w,k))}signInWithPopup(w){var k=this;return(0,o.Z)(function*(){return zl(Ol(),k._delegate,"operation-not-supported-in-this-environment"),Go(k._delegate,function gn(x,_,w){return Rn.apply(this,arguments)}(k._delegate,w,ka))})()}signInWithRedirect(w){var k=this;return(0,o.Z)(function*(){return zl(Ol(),k._delegate,"operation-not-supported-in-this-environment"),yield ed(k._delegate),function qe(x,_,w){return function Vt(x,_,w){return nn.apply(this,arguments)}(x,_,w)}(k._delegate,w,ka)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return function A(x,_){return G.apply(this,arguments)}(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=bo,x})();function Sc(x,_,w){let k=x;"function"!=typeof x&&({next:k,error:_,complete:w}=x);const ae=k;return{next:kt=>ae(kt&&Ao.getOrCreate(kt)),error:_,complete:w}}function oa(x,_){const w=function ac(x,_){const w=lu();if(!w)return[];const k=ki(Du,x,_);switch(w.getItem(k)){case bo.NONE:return[Oi];case bo.LOCAL:return[Al,ba];case bo.SESSION:return[ba];default:return[]}}(x,_);if(typeof self<"u"&&!w.includes(Al)&&w.push(Al),typeof window<"u")for(const k of[Jo,ba])w.includes(k)||w.push(k);return w.includes(Oi)||w.push(Oi),w}class Ac{constructor(){this.providerId="phone",this._delegate=new bc(td(q.Z.auth()))}static credential(_,w){return bc.credential(_,w)}verifyPhoneNumber(_,w){return this._delegate.verifyPhoneNumber(_,w)}unwrap(){return this._delegate}}Ac.PHONE_SIGN_IN_METHOD=bc.PHONE_SIGN_IN_METHOD,Ac.PROVIDER_ID=bc.PROVIDER_ID;const Nc=Ee;class Su{constructor(_,w,k=q.Z.app()){var ae;Nc(null===(ae=k.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:k.name}),this._delegate=new es(_,w,k.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rd(x){x.INTERNAL.registerComponent(new _e.wA("auth-compat",_=>{const w=_.getProvider("app-compat").getImmediate(),k=_.getProvider("auth");return new vl(w,k)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_s,FacebookAuthProvider:no,GithubAuthProvider:ar,GoogleAuthProvider:Qi,OAuthProvider:so,SAMLAuthProvider:Is,PhoneAuthProvider:Ac,PhoneMultiFactorGenerator:wu,RecaptchaVerifier:Su,TwitterAuthProvider:Gs,Auth:vl,AuthCredential:Or,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.2.20")}(q.Z)},591:(Sn,bt,L)=>{"use strict";L.d(bt,{X:()=>Q});var o=L(8929),q=L(5279);class Q extends o.xQ{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const de=super._subscribe(ie);return de&&!de.closed&&ie.next(this._value),de}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new q.N;return this._value}next(ie){super.next(this._value=ie)}}},9312:(Sn,bt,L)=>{"use strict";L.d(bt,{P:()=>ie});var o=L(8896),q=L(1086),Q=L(1737);class ie{constructor(_e,ge,Se){this.kind=_e,this.value=ge,this.error=Se,this.hasValue="N"===_e}observe(_e){switch(this.kind){case"N":return _e.next&&_e.next(this.value);case"E":return _e.error&&_e.error(this.error);case"C":return _e.complete&&_e.complete()}}do(_e,ge,Se){switch(this.kind){case"N":return _e&&_e(this.value);case"E":return ge&&ge(this.error);case"C":return Se&&Se()}}accept(_e,ge,Se){return _e&&"function"==typeof _e.next?this.observe(_e):this.do(_e,ge,Se)}toObservable(){switch(this.kind){case"N":return(0,q.of)(this.value);case"E":return(0,Q._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(_e){return typeof _e<"u"?new ie("N",_e):ie.undefinedValueNotification}static createError(_e){return new ie("E",void 0,_e)}static createComplete(){return ie.completeNotification}}ie.completeNotification=new ie("C"),ie.undefinedValueNotification=new ie("N",void 0)},6498:(Sn,bt,L)=>{"use strict";L.d(bt,{y:()=>Se});var o=L(3489),Q=L(7668),Fe=L(3292),de=L(3821),_e=L(4843),ge=L(2830);let Se=(()=>{class oe{constructor(ye){this._isScalar=!1,ye&&(this._subscribe=ye)}lift(ye){const je=new oe;return je.source=this,je.operator=ye,je}subscribe(ye,je,ft){const{operator:Ve}=this,Be=function ie(oe,fe,ye){if(oe){if(oe instanceof o.L)return oe;if(oe[Q.b])return oe[Q.b]()}return oe||fe||ye?new o.L(oe,fe,ye):new o.L(Fe.c)}(ye,je,ft);if(Be.add(Ve?Ve.call(Be,this.source):this.source||ge.v.useDeprecatedSynchronousErrorHandling&&!Be.syncErrorThrowable?this._subscribe(Be):this._trySubscribe(Be)),ge.v.useDeprecatedSynchronousErrorHandling&&Be.syncErrorThrowable&&(Be.syncErrorThrowable=!1,Be.syncErrorThrown))throw Be.syncErrorValue;return Be}_trySubscribe(ye){try{return this._subscribe(ye)}catch(je){ge.v.useDeprecatedSynchronousErrorHandling&&(ye.syncErrorThrown=!0,ye.syncErrorValue=je),function q(oe){for(;oe;){const{closed:fe,destination:ye,isStopped:je}=oe;if(fe||je)return!1;oe=ye&&ye instanceof o.L?ye:null}return!0}(ye)?ye.error(je):console.warn(je)}}forEach(ye,je){return new(je=he(je))((ft,Ve)=>{let Be;Be=this.subscribe(Ge=>{try{ye(Ge)}catch(Lt){Ve(Lt),Be&&Be.unsubscribe()}},Ve,ft)})}_subscribe(ye){const{source:je}=this;return je&&je.subscribe(ye)}[de.L](){return this}pipe(...ye){return 0===ye.length?this:(0,_e.U)(ye)(this)}toPromise(ye){return new(ye=he(ye))((je,ft)=>{let Ve;this.subscribe(Be=>Ve=Be,Be=>ft(Be),()=>je(Ve))})}}return oe.create=fe=>new oe(fe),oe})();function he(oe){if(oe||(oe=ge.v.Promise||Promise),!oe)throw new Error("no Promise impl found");return oe}},3292:(Sn,bt,L)=>{"use strict";L.d(bt,{c:()=>Q});var o=L(2830),q=L(2782);const Q={closed:!0,next(Fe){},error(Fe){if(o.v.useDeprecatedSynchronousErrorHandling)throw Fe;(0,q.z)(Fe)},complete(){}}},826:(Sn,bt,L)=>{"use strict";L.d(bt,{L:()=>q});var o=L(3489);class q extends o.L{notifyNext(Fe,ie,de,_e,ge){this.destination.next(ie)}notifyError(Fe,ie){this.destination.error(Fe)}notifyComplete(Fe){this.destination.complete()}}},8929:(Sn,bt,L)=>{"use strict";L.d(bt,{Yc:()=>_e,xQ:()=>ge});var o=L(6498),q=L(3489),Q=L(2654),Fe=L(5279),ie=L(5283),de=L(7668);class _e extends q.L{constructor(oe){super(oe),this.destination=oe}}let ge=(()=>{class he extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[de.b](){return new _e(this)}lift(fe){const ye=new Se(this,this);return ye.operator=fe,ye}next(fe){if(this.closed)throw new Fe.N;if(!this.isStopped){const{observers:ye}=this,je=ye.length,ft=ye.slice();for(let Ve=0;Ve<je;Ve++)ft[Ve].next(fe)}}error(fe){if(this.closed)throw new Fe.N;this.hasError=!0,this.thrownError=fe,this.isStopped=!0;const{observers:ye}=this,je=ye.length,ft=ye.slice();for(let Ve=0;Ve<je;Ve++)ft[Ve].error(fe);this.observers.length=0}complete(){if(this.closed)throw new Fe.N;this.isStopped=!0;const{observers:fe}=this,ye=fe.length,je=fe.slice();for(let ft=0;ft<ye;ft++)je[ft].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(fe){if(this.closed)throw new Fe.N;return super._trySubscribe(fe)}_subscribe(fe){if(this.closed)throw new Fe.N;return this.hasError?(fe.error(this.thrownError),Q.w.EMPTY):this.isStopped?(fe.complete(),Q.w.EMPTY):(this.observers.push(fe),new ie.W(this,fe))}asObservable(){const fe=new o.y;return fe.source=this,fe}}return he.create=(oe,fe)=>new Se(oe,fe),he})();class Se extends ge{constructor(oe,fe){super(),this.destination=oe,this.source=fe}next(oe){const{destination:fe}=this;fe&&fe.next&&fe.next(oe)}error(oe){const{destination:fe}=this;fe&&fe.error&&this.destination.error(oe)}complete(){const{destination:oe}=this;oe&&oe.complete&&this.destination.complete()}_subscribe(oe){const{source:fe}=this;return fe?this.source.subscribe(oe):Q.w.EMPTY}}},5283:(Sn,bt,L)=>{"use strict";L.d(bt,{W:()=>q});var o=L(2654);class q extends o.w{constructor(Fe,ie){super(),this.subject=Fe,this.subscriber=ie,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Fe=this.subject,ie=Fe.observers;if(this.subject=null,!ie||0===ie.length||Fe.isStopped||Fe.closed)return;const de=ie.indexOf(this.subscriber);-1!==de&&ie.splice(de,1)}}},3489:(Sn,bt,L)=>{"use strict";L.d(bt,{L:()=>_e});var o=L(7043),q=L(3292),Q=L(2654),Fe=L(7668),ie=L(2830),de=L(2782);class _e extends Q.w{constructor(he,oe,fe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=q.c;break;case 1:if(!he){this.destination=q.c;break}if("object"==typeof he){he instanceof _e?(this.syncErrorThrowable=he.syncErrorThrowable,this.destination=he,he.add(this)):(this.syncErrorThrowable=!0,this.destination=new ge(this,he));break}default:this.syncErrorThrowable=!0,this.destination=new ge(this,he,oe,fe)}}[Fe.b](){return this}static create(he,oe,fe){const ye=new _e(he,oe,fe);return ye.syncErrorThrowable=!1,ye}next(he){this.isStopped||this._next(he)}error(he){this.isStopped||(this.isStopped=!0,this._error(he))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(he){this.destination.next(he)}_error(he){this.destination.error(he),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:he}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=he,this}}class ge extends _e{constructor(he,oe,fe,ye){super(),this._parentSubscriber=he;let je,ft=this;(0,o.m)(oe)?je=oe:oe&&(je=oe.next,fe=oe.error,ye=oe.complete,oe!==q.c&&(ft=Object.create(oe),(0,o.m)(ft.unsubscribe)&&this.add(ft.unsubscribe.bind(ft)),ft.unsubscribe=this.unsubscribe.bind(this))),this._context=ft,this._next=je,this._error=fe,this._complete=ye}next(he){if(!this.isStopped&&this._next){const{_parentSubscriber:oe}=this;ie.v.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable?this.__tryOrSetError(oe,this._next,he)&&this.unsubscribe():this.__tryOrUnsub(this._next,he)}}error(he){if(!this.isStopped){const{_parentSubscriber:oe}=this,{useDeprecatedSynchronousErrorHandling:fe}=ie.v;if(this._error)fe&&oe.syncErrorThrowable?(this.__tryOrSetError(oe,this._error,he),this.unsubscribe()):(this.__tryOrUnsub(this._error,he),this.unsubscribe());else if(oe.syncErrorThrowable)fe?(oe.syncErrorValue=he,oe.syncErrorThrown=!0):(0,de.z)(he),this.unsubscribe();else{if(this.unsubscribe(),fe)throw he;(0,de.z)(he)}}}complete(){if(!this.isStopped){const{_parentSubscriber:he}=this;if(this._complete){const oe=()=>this._complete.call(this._context);ie.v.useDeprecatedSynchronousErrorHandling&&he.syncErrorThrowable?(this.__tryOrSetError(he,oe),this.unsubscribe()):(this.__tryOrUnsub(oe),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(he,oe){try{he.call(this._context,oe)}catch(fe){if(this.unsubscribe(),ie.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,de.z)(fe)}}__tryOrSetError(he,oe,fe){if(!ie.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{oe.call(this._context,fe)}catch(ye){return ie.v.useDeprecatedSynchronousErrorHandling?(he.syncErrorValue=ye,he.syncErrorThrown=!0,!0):((0,de.z)(ye),!0)}return!1}_unsubscribe(){const{_parentSubscriber:he}=this;this._context=null,this._parentSubscriber=null,he.unsubscribe()}}},2654:(Sn,bt,L)=>{"use strict";L.d(bt,{w:()=>de});var o=L(6688),q=L(7830),Q=L(7043);const ie=(()=>{function ge(Se){return Error.call(this),this.message=Se?`${Se.length} errors occurred during unsubscription:\n${Se.map((he,oe)=>`${oe+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Se,this}return ge.prototype=Object.create(Error.prototype),ge})();class de{constructor(Se){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Se&&(this._ctorUnsubscribe=!0,this._unsubscribe=Se)}unsubscribe(){let Se;if(this.closed)return;let{_parentOrParents:he,_ctorUnsubscribe:oe,_unsubscribe:fe,_subscriptions:ye}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,he instanceof de)he.remove(this);else if(null!==he)for(let je=0;je<he.length;++je)he[je].remove(this);if((0,Q.m)(fe)){oe&&(this._unsubscribe=void 0);try{fe.call(this)}catch(je){Se=je instanceof ie?_e(je.errors):[je]}}if((0,o.k)(ye)){let je=-1,ft=ye.length;for(;++je<ft;){const Ve=ye[je];if((0,q.K)(Ve))try{Ve.unsubscribe()}catch(Be){Se=Se||[],Be instanceof ie?Se=Se.concat(_e(Be.errors)):Se.push(Be)}}}if(Se)throw new ie(Se)}add(Se){let he=Se;if(!Se)return de.EMPTY;switch(typeof Se){case"function":he=new de(Se);case"object":if(he===this||he.closed||"function"!=typeof he.unsubscribe)return he;if(this.closed)return he.unsubscribe(),he;if(!(he instanceof de)){const ye=he;he=new de,he._subscriptions=[ye]}break;default:throw new Error("unrecognized teardown "+Se+" added to Subscription.")}let{_parentOrParents:oe}=he;if(null===oe)he._parentOrParents=this;else if(oe instanceof de){if(oe===this)return he;he._parentOrParents=[oe,this]}else{if(-1!==oe.indexOf(this))return he;oe.push(this)}const fe=this._subscriptions;return null===fe?this._subscriptions=[he]:fe.push(he),he}remove(Se){const he=this._subscriptions;if(he){const oe=he.indexOf(Se);-1!==oe&&he.splice(oe,1)}}}var ge;function _e(ge){return ge.reduce((Se,he)=>Se.concat(he instanceof ie?he.errors:he),[])}de.EMPTY=((ge=new de).closed=!0,ge)},2830:(Sn,bt,L)=>{"use strict";L.d(bt,{v:()=>q});let o=!1;const q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Q){if(Q){const Fe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Fe.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=Q},get useDeprecatedSynchronousErrorHandling(){return o}}},1177:(Sn,bt,L)=>{"use strict";L.d(bt,{Ds:()=>de,IY:()=>Fe,ft:()=>ge});var o=L(3489),q=L(6498),Q=L(9249);class Fe extends o.L{constructor(he){super(),this.parent=he}_next(he){this.parent.notifyNext(he)}_error(he){this.parent.notifyError(he),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class de extends o.L{notifyNext(he){this.destination.next(he)}notifyError(he){this.destination.error(he)}notifyComplete(){this.destination.complete()}}function ge(Se,he){if(he.closed)return;if(Se instanceof q.y)return Se.subscribe(he);let oe;try{oe=(0,Q.s)(Se)(he)}catch(fe){he.error(fe)}return oe}},1762:(Sn,bt,L)=>{"use strict";L.d(bt,{N:()=>de,c:()=>ie});var o=L(8929),q=L(6498),Q=L(2654),Fe=L(4327);class ie extends q.y{constructor(oe,fe){super(),this.source=oe,this.subjectFactory=fe,this._refCount=0,this._isComplete=!1}_subscribe(oe){return this.getSubject().subscribe(oe)}getSubject(){const oe=this._subject;return(!oe||oe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let oe=this._connection;return oe||(this._isComplete=!1,oe=this._connection=new Q.w,oe.add(this.source.subscribe(new _e(this.getSubject(),this))),oe.closed&&(this._connection=null,oe=Q.w.EMPTY)),oe}refCount(){return(0,Fe.x)()(this)}}const de=(()=>{const he=ie.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:he._subscribe},_isComplete:{value:he._isComplete,writable:!0},getSubject:{value:he.getSubject},connect:{value:he.connect},refCount:{value:he.refCount}}})();class _e extends o.Yc{constructor(oe,fe){super(oe),this.connectable=fe}_error(oe){this._unsubscribe(),super._error(oe)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const oe=this.connectable;if(oe){this.connectable=null;const fe=oe._connection;oe._refCount=0,oe._subject=null,oe._connection=null,fe&&fe.unsubscribe()}}}},6053:(Sn,bt,L)=>{"use strict";L.d(bt,{aj:()=>_e});var o=L(2866),q=L(6688),Q=L(826),Fe=L(448),ie=L(3009);const de={};function _e(...he){let oe,fe;return(0,o.K)(he[he.length-1])&&(fe=he.pop()),"function"==typeof he[he.length-1]&&(oe=he.pop()),1===he.length&&(0,q.k)(he[0])&&(he=he[0]),(0,ie.n)(he,fe).lift(new ge(oe))}class ge{constructor(oe){this.resultSelector=oe}call(oe,fe){return fe.subscribe(new Se(oe,this.resultSelector))}}class Se extends Q.L{constructor(oe,fe){super(oe),this.resultSelector=fe,this.active=0,this.values=[],this.observables=[]}_next(oe){this.values.push(de),this.observables.push(oe)}_complete(){const oe=this.observables,fe=oe.length;if(0===fe)this.destination.complete();else{this.active=fe,this.toRespond=fe;for(let ye=0;ye<fe;ye++)this.add((0,Fe.D)(this,oe[ye],void 0,ye))}}notifyComplete(oe){0==(this.active-=1)&&this.destination.complete()}notifyNext(oe,fe,ye){const je=this.values,Ve=this.toRespond?je[ye]===de?--this.toRespond:this.toRespond:0;je[ye]=fe,0===Ve&&(this.resultSelector?this._tryResultSelector(je):this.destination.next(je.slice()))}_tryResultSelector(oe){let fe;try{fe=this.resultSelector.apply(this,oe)}catch(ye){return void this.destination.error(ye)}this.destination.next(fe)}}},1221:(Sn,bt,L)=>{"use strict";L.d(bt,{z:()=>Fe});var o=L(1086),q=L(9146);function Fe(...ie){return function Q(){return(0,q.J)(1)}()((0,o.of)(...ie))}},8896:(Sn,bt,L)=>{"use strict";L.d(bt,{E:()=>q,c:()=>Q});var o=L(6498);const q=new o.y(ie=>ie.complete());function Q(ie){return ie?function Fe(ie){return new o.y(de=>ie.schedule(()=>de.complete()))}(ie):q}},5254:(Sn,bt,L)=>{"use strict";L.d(bt,{D:()=>ft});var o=L(6498),q=L(9249),Q=L(2654),Fe=L(3821),_e=L(6454),ge=L(5430),oe=L(8955),fe=L(8515);function ft(Ve,Be){return Be?function je(Ve,Be){if(null!=Ve){if(function he(Ve){return Ve&&"function"==typeof Ve[Fe.L]}(Ve))return function ie(Ve,Be){return new o.y(Ge=>{const Lt=new Q.w;return Lt.add(Be.schedule(()=>{const vt=Ve[Fe.L]();Lt.add(vt.subscribe({next(Et){Lt.add(Be.schedule(()=>Ge.next(Et)))},error(Et){Lt.add(Be.schedule(()=>Ge.error(Et)))},complete(){Lt.add(Be.schedule(()=>Ge.complete()))}}))})),Lt})}(Ve,Be);if((0,oe.t)(Ve))return function de(Ve,Be){return new o.y(Ge=>{const Lt=new Q.w;return Lt.add(Be.schedule(()=>Ve.then(vt=>{Lt.add(Be.schedule(()=>{Ge.next(vt),Lt.add(Be.schedule(()=>Ge.complete()))}))},vt=>{Lt.add(Be.schedule(()=>Ge.error(vt)))}))),Lt})}(Ve,Be);if((0,fe.z)(Ve))return(0,_e.r)(Ve,Be);if(function ye(Ve){return Ve&&"function"==typeof Ve[ge.hZ]}(Ve)||"string"==typeof Ve)return function Se(Ve,Be){if(!Ve)throw new Error("Iterable cannot be null");return new o.y(Ge=>{const Lt=new Q.w;let vt;return Lt.add(()=>{vt&&"function"==typeof vt.return&&vt.return()}),Lt.add(Be.schedule(()=>{vt=Ve[ge.hZ](),Lt.add(Be.schedule(function(){if(Ge.closed)return;let Et,Qe;try{const We=vt.next();Et=We.value,Qe=We.done}catch(We){return void Ge.error(We)}Qe?Ge.complete():(Ge.next(Et),this.schedule())}))})),Lt})}(Ve,Be)}throw new TypeError((null!==Ve&&typeof Ve||Ve)+" is not observable")}(Ve,Be):Ve instanceof o.y?Ve:new o.y((0,q.s)(Ve))}},3009:(Sn,bt,L)=>{"use strict";L.d(bt,{n:()=>Fe});var o=L(6498),q=L(3650),Q=L(6454);function Fe(ie,de){return de?(0,Q.r)(ie,de):new o.y((0,q.V)(ie))}},3753:(Sn,bt,L)=>{"use strict";L.d(bt,{R:()=>de});var o=L(6498),q=L(6688),Q=L(7043),Fe=L(4850);function de(oe,fe,ye,je){return(0,Q.m)(ye)&&(je=ye,ye=void 0),je?de(oe,fe,ye).pipe((0,Fe.U)(ft=>(0,q.k)(ft)?je(...ft):je(ft))):new o.y(ft=>{_e(oe,fe,function Ve(Be){ft.next(arguments.length>1?Array.prototype.slice.call(arguments):Be)},ft,ye)})}function _e(oe,fe,ye,je,ft){let Ve;if(function he(oe){return oe&&"function"==typeof oe.addEventListener&&"function"==typeof oe.removeEventListener}(oe)){const Be=oe;oe.addEventListener(fe,ye,ft),Ve=()=>Be.removeEventListener(fe,ye,ft)}else if(function Se(oe){return oe&&"function"==typeof oe.on&&"function"==typeof oe.off}(oe)){const Be=oe;oe.on(fe,ye),Ve=()=>Be.off(fe,ye)}else if(function ge(oe){return oe&&"function"==typeof oe.addListener&&"function"==typeof oe.removeListener}(oe)){const Be=oe;oe.addListener(fe,ye),Ve=()=>Be.removeListener(fe,ye)}else{if(!oe||!oe.length)throw new TypeError("Invalid event target");for(let Be=0,Ge=oe.length;Be<Ge;Be++)_e(oe[Be],fe,ye,je,ft)}je.add(Ve)}},6787:(Sn,bt,L)=>{"use strict";L.d(bt,{T:()=>ie});var o=L(6498),q=L(2866),Q=L(9146),Fe=L(3009);function ie(...de){let _e=Number.POSITIVE_INFINITY,ge=null,Se=de[de.length-1];return(0,q.K)(Se)?(ge=de.pop(),de.length>1&&"number"==typeof de[de.length-1]&&(_e=de.pop())):"number"==typeof Se&&(_e=de.pop()),null===ge&&1===de.length&&de[0]instanceof o.y?de[0]:(0,Q.J)(_e)((0,Fe.n)(de,ge))}},1086:(Sn,bt,L)=>{"use strict";L.d(bt,{of:()=>Fe});var o=L(2866),q=L(3009),Q=L(6454);function Fe(...ie){let de=ie[ie.length-1];return(0,o.K)(de)?(ie.pop(),(0,Q.r)(ie,de)):(0,q.n)(ie)}},1737:(Sn,bt,L)=>{"use strict";L.d(bt,{_:()=>q});var o=L(6498);function q(Fe,ie){return new o.y(ie?de=>ie.schedule(Q,0,{error:Fe,subscriber:de}):de=>de.error(Fe))}function Q({error:Fe,subscriber:ie}){ie.error(Fe)}},7221:(Sn,bt,L)=>{"use strict";L.d(bt,{K:()=>q});var o=L(1177);function q(ie){return function(_e){const ge=new Q(ie),Se=_e.lift(ge);return ge.caught=Se}}class Q{constructor(de){this.selector=de}call(de,_e){return _e.subscribe(new Fe(de,this.selector,this.caught))}}class Fe extends o.Ds{constructor(de,_e,ge){super(de),this.selector=_e,this.caught=ge}error(de){if(!this.isStopped){let _e;try{_e=this.selector(de,this.caught)}catch(he){return void super.error(he)}this._unsubscribeAndRecycle();const ge=new o.IY(this);this.add(ge);const Se=(0,o.ft)(_e,ge);Se!==ge&&this.add(Se)}}}},1406:(Sn,bt,L)=>{"use strict";L.d(bt,{b:()=>q});var o=L(1709);function q(Q,Fe){return(0,o.zg)(Q,Fe,1)}},7314:(Sn,bt,L)=>{"use strict";L.d(bt,{d:()=>q});var o=L(3489);function q(ie=null){return de=>de.lift(new Q(ie))}class Q{constructor(de){this.defaultValue=de}call(de,_e){return _e.subscribe(new Fe(de,this.defaultValue))}}class Fe extends o.L{constructor(de,_e){super(de),this.defaultValue=_e,this.isEmpty=!0}_next(de){this.isEmpty=!1,this.destination.next(de)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Sn,bt,L)=>{"use strict";L.d(bt,{x:()=>q});var o=L(3489);function q(ie,de){return _e=>_e.lift(new Q(ie,de))}class Q{constructor(de,_e){this.compare=de,this.keySelector=_e}call(de,_e){return _e.subscribe(new Fe(de,this.compare,this.keySelector))}}class Fe extends o.L{constructor(de,_e,ge){super(de),this.keySelector=ge,this.hasKey=!1,"function"==typeof _e&&(this.compare=_e)}compare(de,_e){return de===_e}_next(de){let _e;try{const{keySelector:Se}=this;_e=Se?Se(de):de}catch(Se){return this.destination.error(Se)}let ge=!1;if(this.hasKey)try{const{compare:Se}=this;ge=Se(this.key,_e)}catch(Se){return this.destination.error(Se)}else this.hasKey=!0;ge||(this.key=_e,this.destination.next(de))}}},2198:(Sn,bt,L)=>{"use strict";L.d(bt,{h:()=>q});var o=L(3489);function q(ie,de){return function(ge){return ge.lift(new Q(ie,de))}}class Q{constructor(de,_e){this.predicate=de,this.thisArg=_e}call(de,_e){return _e.subscribe(new Fe(de,this.predicate,this.thisArg))}}class Fe extends o.L{constructor(de,_e,ge){super(de),this.predicate=_e,this.thisArg=ge,this.count=0}_next(de){let _e;try{_e=this.predicate.call(this.thisArg,de,this.count++)}catch(ge){return void this.destination.error(ge)}_e&&this.destination.next(de)}}},537:(Sn,bt,L)=>{"use strict";L.d(bt,{x:()=>Q});var o=L(3489),q=L(2654);function Q(de){return _e=>_e.lift(new Fe(de))}class Fe{constructor(_e){this.callback=_e}call(_e,ge){return ge.subscribe(new ie(_e,this.callback))}}class ie extends o.L{constructor(_e,ge){super(_e),this.add(new q.w(ge))}}},7224:(Sn,bt,L)=>{"use strict";L.d(bt,{P:()=>_e});var o=L(4450),q=L(2198),Q=L(2986),Fe=L(7314),ie=L(4907),de=L(5379);function _e(ge,Se){const he=arguments.length>=2;return oe=>oe.pipe(ge?(0,q.h)((fe,ye)=>ge(fe,ye,oe)):de.y,(0,Q.q)(1),he?(0,Fe.d)(Se):(0,ie.T)(()=>new o.K))}},4850:(Sn,bt,L)=>{"use strict";L.d(bt,{U:()=>q});var o=L(3489);function q(ie,de){return function(ge){if("function"!=typeof ie)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ge.lift(new Q(ie,de))}}class Q{constructor(de,_e){this.project=de,this.thisArg=_e}call(de,_e){return _e.subscribe(new Fe(de,this.project,this.thisArg))}}class Fe extends o.L{constructor(de,_e,ge){super(de),this.project=_e,this.count=0,this.thisArg=ge||this}_next(de){let _e;try{_e=this.project.call(this.thisArg,de,this.count++)}catch(ge){return void this.destination.error(ge)}this.destination.next(_e)}}},9146:(Sn,bt,L)=>{"use strict";L.d(bt,{J:()=>Q});var o=L(1709),q=L(5379);function Q(Fe=Number.POSITIVE_INFINITY){return(0,o.zg)(q.y,Fe)}},1709:(Sn,bt,L)=>{"use strict";L.d(bt,{zg:()=>Fe});var o=L(4850),q=L(5254),Q=L(1177);function Fe(ge,Se,he=Number.POSITIVE_INFINITY){return"function"==typeof Se?oe=>oe.pipe(Fe((fe,ye)=>(0,q.D)(ge(fe,ye)).pipe((0,o.U)((je,ft)=>Se(fe,je,ye,ft))),he)):("number"==typeof Se&&(he=Se),oe=>oe.lift(new ie(ge,he)))}class ie{constructor(Se,he=Number.POSITIVE_INFINITY){this.project=Se,this.concurrent=he}call(Se,he){return he.subscribe(new de(Se,this.project,this.concurrent))}}class de extends Q.Ds{constructor(Se,he,oe=Number.POSITIVE_INFINITY){super(Se),this.project=he,this.concurrent=oe,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Se){this.active<this.concurrent?this._tryNext(Se):this.buffer.push(Se)}_tryNext(Se){let he;const oe=this.index++;try{he=this.project(Se,oe)}catch(fe){return void this.destination.error(fe)}this.active++,this._innerSub(he)}_innerSub(Se){const he=new Q.IY(this),oe=this.destination;oe.add(he);const fe=(0,Q.ft)(Se,he);fe!==he&&oe.add(fe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Se){this.destination.next(Se)}notifyComplete(){const Se=this.buffer;this.active--,Se.length>0?this._next(Se.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(Sn,bt,L)=>{"use strict";L.d(bt,{QV:()=>Q,ht:()=>ie});var o=L(3489),q=L(9312);function Q(_e,ge=0){return function(he){return he.lift(new Fe(_e,ge))}}class Fe{constructor(ge,Se=0){this.scheduler=ge,this.delay=Se}call(ge,Se){return Se.subscribe(new ie(ge,this.scheduler,this.delay))}}class ie extends o.L{constructor(ge,Se,he=0){super(ge),this.scheduler=Se,this.delay=he}static dispatch(ge){const{notification:Se,destination:he}=ge;Se.observe(he),this.unsubscribe()}scheduleMessage(ge){this.destination.add(this.scheduler.schedule(ie.dispatch,this.delay,new de(ge,this.destination)))}_next(ge){this.scheduleMessage(q.P.createNext(ge))}_error(ge){this.scheduleMessage(q.P.createError(ge)),this.unsubscribe()}_complete(){this.scheduleMessage(q.P.createComplete()),this.unsubscribe()}}class de{constructor(ge,Se){this.notification=ge,this.destination=Se}}},4327:(Sn,bt,L)=>{"use strict";L.d(bt,{x:()=>q});var o=L(3489);function q(){return function(de){return de.lift(new Q(de))}}class Q{constructor(de){this.connectable=de}call(de,_e){const{connectable:ge}=this;ge._refCount++;const Se=new Fe(de,ge),he=_e.subscribe(Se);return Se.closed||(Se.connection=ge.connect()),he}}class Fe extends o.L{constructor(de,_e){super(de),this.connectable=_e}_unsubscribe(){const{connectable:de}=this;if(!de)return void(this.connection=null);this.connectable=null;const _e=de._refCount;if(_e<=0)return void(this.connection=null);if(de._refCount=_e-1,_e>1)return void(this.connection=null);const{connection:ge}=this,Se=de._connection;this.connection=null,Se&&(!ge||Se===ge)&&Se.unsubscribe()}}},2014:(Sn,bt,L)=>{"use strict";L.d(bt,{R:()=>q});var o=L(3489);function q(ie,de){let _e=!1;return arguments.length>=2&&(_e=!0),function(Se){return Se.lift(new Q(ie,de,_e))}}class Q{constructor(de,_e,ge=!1){this.accumulator=de,this.seed=_e,this.hasSeed=ge}call(de,_e){return _e.subscribe(new Fe(de,this.accumulator,this.seed,this.hasSeed))}}class Fe extends o.L{constructor(de,_e,ge,Se){super(de),this.accumulator=_e,this._seed=ge,this.hasSeed=Se,this.index=0}get seed(){return this._seed}set seed(de){this.hasSeed=!0,this._seed=de}_next(de){if(this.hasSeed)return this._tryNext(de);this.seed=de,this.destination.next(de)}_tryNext(de){const _e=this.index++;let ge;try{ge=this.accumulator(this.seed,de,_e)}catch(Se){this.destination.error(Se)}this.seed=ge,this.destination.next(ge)}}},2474:(Sn,bt,L)=>{"use strict";L.d(bt,{B:()=>_e});var o=L(1762);class Q{constructor(Se,he){this.subjectFactory=Se,this.selector=he}call(Se,he){const{selector:oe}=this,fe=this.subjectFactory(),ye=oe(fe).subscribe(Se);return ye.add(he.subscribe(fe)),ye}}var Fe=L(4327),ie=L(8929);function de(){return new ie.xQ}function _e(){return ge=>(0,Fe.x)()(function q(ge,Se){return function(oe){let fe;if(fe="function"==typeof ge?ge:function(){return ge},"function"==typeof Se)return oe.lift(new Q(fe,Se));const ye=Object.create(oe,o.N);return ye.source=oe,ye.subjectFactory=fe,ye}}(de)(ge))}},1059:(Sn,bt,L)=>{"use strict";L.d(bt,{O:()=>Q});var o=L(1221),q=L(2866);function Q(...Fe){const ie=Fe[Fe.length-1];return(0,q.K)(ie)?(Fe.pop(),de=>(0,o.z)(Fe,de,ie)):de=>(0,o.z)(Fe,de)}},2899:(Sn,bt,L)=>{"use strict";L.d(bt,{R:()=>Ve});var o=L(6498);let q=1;const Q=Promise.resolve(),Fe={};function ie(Ge){return Ge in Fe&&(delete Fe[Ge],!0)}const de={setImmediate(Ge){const Lt=q++;return Fe[Lt]=!0,Q.then(()=>ie(Lt)&&Ge()),Lt},clearImmediate(Ge){ie(Ge)}};var ge=L(6686),he=L(2268);const ye=new class oe extends he.v{flush(Lt){this.active=!0,this.scheduled=void 0;const{actions:vt}=this;let Et,Qe=-1,We=vt.length;Lt=Lt||vt.shift();do{if(Et=Lt.execute(Lt.state,Lt.delay))break}while(++Qe<We&&(Lt=vt.shift()));if(this.active=!1,Et){for(;++Qe<We&&(Lt=vt.shift());)Lt.unsubscribe();throw Et}}}(class Se extends ge.o{constructor(Lt,vt){super(Lt,vt),this.scheduler=Lt,this.work=vt}requestAsyncId(Lt,vt,Et=0){return null!==Et&&Et>0?super.requestAsyncId(Lt,vt,Et):(Lt.actions.push(this),Lt.scheduled||(Lt.scheduled=de.setImmediate(Lt.flush.bind(Lt,null))))}recycleAsyncId(Lt,vt,Et=0){if(null!==Et&&Et>0||null===Et&&this.delay>0)return super.recycleAsyncId(Lt,vt,Et);0===Lt.actions.length&&(de.clearImmediate(vt),Lt.scheduled=void 0)}});var je=L(4241);class ft extends o.y{constructor(Lt,vt=0,Et=ye){super(),this.source=Lt,this.delayTime=vt,this.scheduler=Et,(!(0,je.k)(vt)||vt<0)&&(this.delayTime=0),(!Et||"function"!=typeof Et.schedule)&&(this.scheduler=ye)}static create(Lt,vt=0,Et=ye){return new ft(Lt,vt,Et)}static dispatch(Lt){const{source:vt,subscriber:Et}=Lt;return this.add(vt.subscribe(Et))}_subscribe(Lt){return this.scheduler.schedule(ft.dispatch,this.delayTime,{source:this.source,subscriber:Lt})}}function Ve(Ge,Lt=0){return function(Et){return Et.lift(new Be(Ge,Lt))}}class Be{constructor(Lt,vt){this.scheduler=Lt,this.delay=vt}call(Lt,vt){return new ft(vt,this.delay,this.scheduler).subscribe(Lt)}}},7545:(Sn,bt,L)=>{"use strict";L.d(bt,{w:()=>Fe});var o=L(4850),q=L(5254),Q=L(1177);function Fe(_e,ge){return"function"==typeof ge?Se=>Se.pipe(Fe((he,oe)=>(0,q.D)(_e(he,oe)).pipe((0,o.U)((fe,ye)=>ge(he,fe,oe,ye))))):Se=>Se.lift(new ie(_e))}class ie{constructor(ge){this.project=ge}call(ge,Se){return Se.subscribe(new de(ge,this.project))}}class de extends Q.Ds{constructor(ge,Se){super(ge),this.project=Se,this.index=0}_next(ge){let Se;const he=this.index++;try{Se=this.project(ge,he)}catch(oe){return void this.destination.error(oe)}this._innerSub(Se)}_innerSub(ge){const Se=this.innerSubscription;Se&&Se.unsubscribe();const he=new Q.IY(this),oe=this.destination;oe.add(he),this.innerSubscription=(0,Q.ft)(ge,he),this.innerSubscription!==he&&oe.add(this.innerSubscription)}_complete(){const{innerSubscription:ge}=this;(!ge||ge.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ge){this.destination.next(ge)}}},2986:(Sn,bt,L)=>{"use strict";L.d(bt,{q:()=>Fe});var o=L(3489),q=L(4231),Q=L(8896);function Fe(_e){return ge=>0===_e?(0,Q.c)():ge.lift(new ie(_e))}class ie{constructor(ge){if(this.total=ge,this.total<0)throw new q.W}call(ge,Se){return Se.subscribe(new de(ge,this.total))}}class de extends o.L{constructor(ge,Se){super(ge),this.total=Se,this.count=0}_next(ge){const Se=this.total,he=++this.count;he<=Se&&(this.destination.next(ge),he===Se&&(this.destination.complete(),this.unsubscribe()))}}},2994:(Sn,bt,L)=>{"use strict";L.d(bt,{b:()=>Fe});var o=L(3489),q=L(7876),Q=L(7043);function Fe(_e,ge,Se){return function(oe){return oe.lift(new ie(_e,ge,Se))}}class ie{constructor(ge,Se,he){this.nextOrObserver=ge,this.error=Se,this.complete=he}call(ge,Se){return Se.subscribe(new de(ge,this.nextOrObserver,this.error,this.complete))}}class de extends o.L{constructor(ge,Se,he,oe){super(ge),this._tapNext=q.Z,this._tapError=q.Z,this._tapComplete=q.Z,this._tapError=he||q.Z,this._tapComplete=oe||q.Z,(0,Q.m)(Se)?(this._context=this,this._tapNext=Se):Se&&(this._context=Se,this._tapNext=Se.next||q.Z,this._tapError=Se.error||q.Z,this._tapComplete=Se.complete||q.Z)}_next(ge){try{this._tapNext.call(this._context,ge)}catch(Se){return void this.destination.error(Se)}this.destination.next(ge)}_error(ge){try{this._tapError.call(this._context,ge)}catch(Se){return void this.destination.error(Se)}this.destination.error(ge)}_complete(){try{this._tapComplete.call(this._context)}catch(ge){return void this.destination.error(ge)}return this.destination.complete()}}},4907:(Sn,bt,L)=>{"use strict";L.d(bt,{T:()=>Q});var o=L(4450),q=L(3489);function Q(_e=de){return ge=>ge.lift(new Fe(_e))}class Fe{constructor(ge){this.errorFactory=ge}call(ge,Se){return Se.subscribe(new ie(ge,this.errorFactory))}}class ie extends q.L{constructor(ge,Se){super(ge),this.errorFactory=Se,this.hasValue=!1}_next(ge){this.hasValue=!0,this.destination.next(ge)}_complete(){if(this.hasValue)return this.destination.complete();{let ge;try{ge=this.errorFactory()}catch(Se){ge=Se}this.destination.error(ge)}}}function de(){return new o.K}},7168:(Sn,bt,L)=>{"use strict";L.d(bt,{M:()=>Q});var o=L(826),q=L(448);function Q(...de){return _e=>{let ge;return"function"==typeof de[de.length-1]&&(ge=de.pop()),_e.lift(new Fe(de,ge))}}class Fe{constructor(_e,ge){this.observables=_e,this.project=ge}call(_e,ge){return ge.subscribe(new ie(_e,this.observables,this.project))}}class ie extends o.L{constructor(_e,ge,Se){super(_e),this.observables=ge,this.project=Se,this.toRespond=[];const he=ge.length;this.values=new Array(he);for(let oe=0;oe<he;oe++)this.toRespond.push(oe);for(let oe=0;oe<he;oe++)this.add((0,q.D)(this,ge[oe],void 0,oe))}notifyNext(_e,ge,Se){this.values[Se]=ge;const he=this.toRespond;if(he.length>0){const oe=he.indexOf(Se);-1!==oe&&he.splice(oe,1)}}notifyComplete(){}_next(_e){if(0===this.toRespond.length){const ge=[_e,...this.values];this.project?this._tryProject(ge):this.destination.next(ge)}}_tryProject(_e){let ge;try{ge=this.project.apply(this,_e)}catch(Se){return void this.destination.error(Se)}this.destination.next(ge)}}},6454:(Sn,bt,L)=>{"use strict";L.d(bt,{r:()=>Q});var o=L(6498),q=L(2654);function Q(Fe,ie){return new o.y(de=>{const _e=new q.w;let ge=0;return _e.add(ie.schedule(function(){ge!==Fe.length?(de.next(Fe[ge++]),de.closed||_e.add(this.schedule())):de.complete()})),_e})}},6686:(Sn,bt,L)=>{"use strict";L.d(bt,{o:()=>Q});var o=L(2654);class q extends o.w{constructor(ie,de){super()}schedule(ie,de=0){return this}}class Q extends q{constructor(ie,de){super(ie,de),this.scheduler=ie,this.work=de,this.pending=!1}schedule(ie,de=0){if(this.closed)return this;this.state=ie;const _e=this.id,ge=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(ge,_e,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(ge,this.id,de),this}requestAsyncId(ie,de,_e=0){return setInterval(ie.flush.bind(ie,this),_e)}recycleAsyncId(ie,de,_e=0){if(null!==_e&&this.delay===_e&&!1===this.pending)return de;clearInterval(de)}execute(ie,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ie,de);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,de){let ge,_e=!1;try{this.work(ie)}catch(Se){_e=!0,ge=!!Se&&Se||new Error(Se)}if(_e)return this.unsubscribe(),ge}_unsubscribe(){const ie=this.id,de=this.scheduler,_e=de.actions,ge=_e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ge&&_e.splice(ge,1),null!=ie&&(this.id=this.recycleAsyncId(de,ie,null)),this.delay=null}}},2268:(Sn,bt,L)=>{"use strict";L.d(bt,{v:()=>q});let o=(()=>{class Q{constructor(ie,de=Q.now){this.SchedulerAction=ie,this.now=de}schedule(ie,de=0,_e){return new this.SchedulerAction(this,ie).schedule(_e,de)}}return Q.now=()=>Date.now(),Q})();class q extends o{constructor(Fe,ie=o.now){super(Fe,()=>q.delegate&&q.delegate!==this?q.delegate.now():ie()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Fe,ie=0,de){return q.delegate&&q.delegate!==this?q.delegate.schedule(Fe,ie,de):super.schedule(Fe,ie,de)}flush(Fe){const{actions:ie}=this;if(this.active)return void ie.push(Fe);let de;this.active=!0;do{if(de=Fe.execute(Fe.state,Fe.delay))break}while(Fe=ie.shift());if(this.active=!1,de){for(;Fe=ie.shift();)Fe.unsubscribe();throw de}}}},353:(Sn,bt,L)=>{"use strict";L.d(bt,{P:()=>Fe,z:()=>Q});var o=L(6686);const Q=new(L(2268).v)(o.o),Fe=Q},341:(Sn,bt,L)=>{"use strict";L.d(bt,{c:()=>de,N:()=>ie});var o=L(6686),Q=L(2268);const ie=new class Fe extends Q.v{}(class q extends o.o{constructor(ge,Se){super(ge,Se),this.scheduler=ge,this.work=Se}schedule(ge,Se=0){return Se>0?super.schedule(ge,Se):(this.delay=Se,this.state=ge,this.scheduler.flush(this),this)}execute(ge,Se){return Se>0||this.closed?super.execute(ge,Se):this._execute(ge,Se)}requestAsyncId(ge,Se,he=0){return null!==he&&he>0||null===he&&this.delay>0?super.requestAsyncId(ge,Se,he):ge.flush(this)}}),de=ie},5430:(Sn,bt,L)=>{"use strict";L.d(bt,{hZ:()=>q});const q=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Sn,bt,L)=>{"use strict";L.d(bt,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Sn,bt,L)=>{"use strict";L.d(bt,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Sn,bt,L)=>{"use strict";L.d(bt,{W:()=>q});const q=(()=>{function Q(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Q.prototype=Object.create(Error.prototype),Q})()},4450:(Sn,bt,L)=>{"use strict";L.d(bt,{K:()=>q});const q=(()=>{function Q(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return Q.prototype=Object.create(Error.prototype),Q})()},5279:(Sn,bt,L)=>{"use strict";L.d(bt,{N:()=>q});const q=(()=>{function Q(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Q.prototype=Object.create(Error.prototype),Q})()},2782:(Sn,bt,L)=>{"use strict";function o(q){setTimeout(()=>{throw q},0)}L.d(bt,{z:()=>o})},5379:(Sn,bt,L)=>{"use strict";function o(q){return q}L.d(bt,{y:()=>o})},6688:(Sn,bt,L)=>{"use strict";L.d(bt,{k:()=>o});const o=Array.isArray||(q=>q&&"number"==typeof q.length)},8515:(Sn,bt,L)=>{"use strict";L.d(bt,{z:()=>o});const o=q=>q&&"number"==typeof q.length&&"function"!=typeof q},7043:(Sn,bt,L)=>{"use strict";function o(q){return"function"==typeof q}L.d(bt,{m:()=>o})},4241:(Sn,bt,L)=>{"use strict";L.d(bt,{k:()=>q});var o=L(6688);function q(Q){return!(0,o.k)(Q)&&Q-parseFloat(Q)+1>=0}},7830:(Sn,bt,L)=>{"use strict";function o(q){return null!==q&&"object"==typeof q}L.d(bt,{K:()=>o})},8955:(Sn,bt,L)=>{"use strict";function o(q){return!!q&&"function"!=typeof q.subscribe&&"function"==typeof q.then}L.d(bt,{t:()=>o})},2866:(Sn,bt,L)=>{"use strict";function o(q){return q&&"function"==typeof q.schedule}L.d(bt,{K:()=>o})},7876:(Sn,bt,L)=>{"use strict";function o(){}L.d(bt,{Z:()=>o})},4843:(Sn,bt,L)=>{"use strict";L.d(bt,{U:()=>Q,z:()=>q});var o=L(5379);function q(...Fe){return Q(Fe)}function Q(Fe){return 0===Fe.length?o.y:1===Fe.length?Fe[0]:function(de){return Fe.reduce((_e,ge)=>ge(_e),de)}}},9249:(Sn,bt,L)=>{"use strict";L.d(bt,{s:()=>oe});var o=L(3650),q=L(2782),Fe=L(5430),de=L(3821),ge=L(8515),Se=L(8955),he=L(7830);const oe=fe=>{if(fe&&"function"==typeof fe[de.L])return(fe=>ye=>{const je=fe[de.L]();if("function"!=typeof je.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return je.subscribe(ye)})(fe);if((0,ge.z)(fe))return(0,o.V)(fe);if((0,Se.t)(fe))return(fe=>ye=>(fe.then(je=>{ye.closed||(ye.next(je),ye.complete())},je=>ye.error(je)).then(null,q.z),ye))(fe);if(fe&&"function"==typeof fe[Fe.hZ])return(fe=>ye=>{const je=fe[Fe.hZ]();for(;;){let ft;try{ft=je.next()}catch(Ve){return ye.error(Ve),ye}if(ft.done){ye.complete();break}if(ye.next(ft.value),ye.closed)break}return"function"==typeof je.return&&ye.add(()=>{je.return&&je.return()}),ye})(fe);{const je=`You provided ${(0,he.K)(fe)?"an invalid object":`'${fe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(je)}}},3650:(Sn,bt,L)=>{"use strict";L.d(bt,{V:()=>o});const o=q=>Q=>{for(let Fe=0,ie=q.length;Fe<ie&&!Q.closed;Fe++)Q.next(q[Fe]);Q.complete()}},448:(Sn,bt,L)=>{"use strict";L.d(bt,{D:()=>ie});var o=L(3489);class q extends o.L{constructor(_e,ge,Se){super(),this.parent=_e,this.outerValue=ge,this.outerIndex=Se,this.index=0}_next(_e){this.parent.notifyNext(this.outerValue,_e,this.outerIndex,this.index++,this)}_error(_e){this.parent.notifyError(_e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Q=L(9249),Fe=L(6498);function ie(de,_e,ge,Se,he=new q(de,ge,Se)){if(!he.closed)return _e instanceof Fe.y?_e.subscribe(he):(0,Q.s)(_e)(he)}},863:(Sn,bt,L)=>{var o={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,3368,9230],"./ion-datetime_3.entry.js":[4959,3368,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function q(Q){if(!L.o(o,Q))return Promise.resolve().then(()=>{var de=new Error("Cannot find module '"+Q+"'");throw de.code="MODULE_NOT_FOUND",de});var Fe=o[Q],ie=Fe[0];return Promise.all(Fe.slice(1).map(L.e)).then(()=>L(ie))}q.keys=()=>Object.keys(o),q.id=863,Sn.exports=q},5899:(Sn,bt,L)=>{var o={"./pwa-action-sheet.entry.js":[2987,2987],"./pwa-camera-modal-instance.entry.js":[3527,3527],"./pwa-camera-modal.entry.js":[7839,7839],"./pwa-camera.entry.js":[7943,7943],"./pwa-toast.entry.js":[3822,3822]};function q(Q){if(!L.o(o,Q))return Promise.resolve().then(()=>{var de=new Error("Cannot find module '"+Q+"'");throw de.code="MODULE_NOT_FOUND",de});var Fe=o[Q],ie=Fe[0];return L.e(Fe[1]).then(()=>L(ie))}q.keys=()=>Object.keys(o),q.id=5899,Sn.exports=q},655:(Sn,bt,L)=>{"use strict";function Fe(Ie,ue){var Ce={};for(var me in Ie)Object.prototype.hasOwnProperty.call(Ie,me)&&ue.indexOf(me)<0&&(Ce[me]=Ie[me]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var At=0;for(me=Object.getOwnPropertySymbols(Ie);At<me.length;At++)ue.indexOf(me[At])<0&&Object.prototype.propertyIsEnumerable.call(Ie,me[At])&&(Ce[me[At]]=Ie[me[At]])}return Ce}function ie(Ie,ue,Ce,me){var Mt,At=arguments.length,St=At<3?ue:null===me?me=Object.getOwnPropertyDescriptor(ue,Ce):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)St=Reflect.decorate(Ie,ue,Ce,me);else for(var mt=Ie.length-1;mt>=0;mt--)(Mt=Ie[mt])&&(St=(At<3?Mt(St):At>3?Mt(ue,Ce,St):Mt(ue,Ce))||St);return At>3&&St&&Object.defineProperty(ue,Ce,St),St}function ge(Ie,ue,Ce,me){return new(Ce||(Ce=Promise))(function(St,Mt){function mt(at){try{Ye(me.next(at))}catch(ht){Mt(ht)}}function Je(at){try{Ye(me.throw(at))}catch(ht){Mt(ht)}}function Ye(at){at.done?St(at.value):function At(St){return St instanceof Ce?St:new Ce(function(Mt){Mt(St)})}(at.value).then(mt,Je)}Ye((me=me.apply(Ie,ue||[])).next())})}L.d(bt,{_T:()=>Fe,gn:()=>ie,mG:()=>ge})},6895:(Sn,bt,L)=>{"use strict";L.d(bt,{Do:()=>vt,EM:()=>ho,H9:()=>so,HT:()=>ie,JF:()=>io,K0:()=>_e,Mx:()=>ss,NF:()=>ca,O5:()=>$e,PM:()=>ir,S$:()=>Be,V_:()=>he,Ye:()=>Et,b0:()=>Lt,bD:()=>ur,ez:()=>As,i8:()=>li,mk:()=>Cr,q:()=>Q,rS:()=>ms,sg:()=>Jr,tP:()=>Fi,uU:()=>Ls,w_:()=>de});var o=L(4650);let q=null;function Q(){return q}function ie(j){q||(q=j)}class de{}const _e=new o.OlP("DocumentToken");let ge=(()=>{class j{historyGo(K){throw new Error("Not implemented")}}return j.\u0275fac=function(K){return new(K||j)},j.\u0275prov=o.Yz7({token:j,factory:function(){return function Se(){return(0,o.LFG)(oe)}()},providedIn:"platform"}),j})();const he=new o.OlP("Location Initialized");let oe=(()=>{class j extends ge{constructor(K){super(),this._doc=K,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(K){const Ae=Q().getGlobalEventTarget(this._doc,"window");return Ae.addEventListener("popstate",K,!1),()=>Ae.removeEventListener("popstate",K)}onHashChange(K){const Ae=Q().getGlobalEventTarget(this._doc,"window");return Ae.addEventListener("hashchange",K,!1),()=>Ae.removeEventListener("hashchange",K)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(K){this.location.pathname=K}pushState(K,Ae,dt){fe()?this._history.pushState(K,Ae,dt):this.location.hash=dt}replaceState(K,Ae,dt){fe()?this._history.replaceState(K,Ae,dt):this.location.hash=dt}forward(){this._history.forward()}back(){this._history.back()}historyGo(K=0){this._history.go(K)}getState(){return this._history.state}}return j.\u0275fac=function(K){return new(K||j)(o.LFG(_e))},j.\u0275prov=o.Yz7({token:j,factory:function(){return function ye(){return new oe((0,o.LFG)(_e))}()},providedIn:"platform"}),j})();function fe(){return!!window.history.pushState}function je(j,le){if(0==j.length)return le;if(0==le.length)return j;let K=0;return j.endsWith("/")&&K++,le.startsWith("/")&&K++,2==K?j+le.substring(1):1==K?j+le:j+"/"+le}function ft(j){const le=j.match(/#|\?|$/),K=le&&le.index||j.length;return j.slice(0,K-("/"===j[K-1]?1:0))+j.slice(K)}function Ve(j){return j&&"?"!==j[0]?"?"+j:j}let Be=(()=>{class j{historyGo(K){throw new Error("Not implemented")}}return j.\u0275fac=function(K){return new(K||j)},j.\u0275prov=o.Yz7({token:j,factory:function(){return(0,o.f3M)(Lt)},providedIn:"root"}),j})();const Ge=new o.OlP("appBaseHref");let Lt=(()=>{class j extends Be{constructor(K,Ae){super(),this._platformLocation=K,this._removeListenerFns=[],this._baseHref=Ae??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}prepareExternalUrl(K){return je(this._baseHref,K)}path(K=!1){const Ae=this._platformLocation.pathname+Ve(this._platformLocation.search),dt=this._platformLocation.hash;return dt&&K?`${Ae}${dt}`:Ae}pushState(K,Ae,dt,Yt){const ln=this.prepareExternalUrl(dt+Ve(Yt));this._platformLocation.pushState(K,Ae,ln)}replaceState(K,Ae,dt,Yt){const ln=this.prepareExternalUrl(dt+Ve(Yt));this._platformLocation.replaceState(K,Ae,ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}}return j.\u0275fac=function(K){return new(K||j)(o.LFG(ge),o.LFG(Ge,8))},j.\u0275prov=o.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})(),vt=(()=>{class j extends Be{constructor(K,Ae){super(),this._platformLocation=K,this._baseHref="",this._removeListenerFns=[],null!=Ae&&(this._baseHref=Ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}path(K=!1){let Ae=this._platformLocation.hash;return null==Ae&&(Ae="#"),Ae.length>0?Ae.substring(1):Ae}prepareExternalUrl(K){const Ae=je(this._baseHref,K);return Ae.length>0?"#"+Ae:Ae}pushState(K,Ae,dt,Yt){let ln=this.prepareExternalUrl(dt+Ve(Yt));0==ln.length&&(ln=this._platformLocation.pathname),this._platformLocation.pushState(K,Ae,ln)}replaceState(K,Ae,dt,Yt){let ln=this.prepareExternalUrl(dt+Ve(Yt));0==ln.length&&(ln=this._platformLocation.pathname),this._platformLocation.replaceState(K,Ae,ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}}return j.\u0275fac=function(K){return new(K||j)(o.LFG(ge),o.LFG(Ge,8))},j.\u0275prov=o.Yz7({token:j,factory:j.\u0275fac}),j})(),Et=(()=>{class j{constructor(K){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=K;const Ae=this._locationStrategy.getBaseHref();this._baseHref=ft(ke(Ae)),this._locationStrategy.onPopState(dt=>{this._subject.emit({url:this.path(!0),pop:!0,state:dt.state,type:dt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(K=!1){return this.normalize(this._locationStrategy.path(K))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(K,Ae=""){return this.path()==this.normalize(K+Ve(Ae))}normalize(K){return j.stripTrailingSlash(function We(j,le){return j&&le.startsWith(j)?le.substring(j.length):le}(this._baseHref,ke(K)))}prepareExternalUrl(K){return K&&"/"!==K[0]&&(K="/"+K),this._locationStrategy.prepareExternalUrl(K)}go(K,Ae="",dt=null){this._locationStrategy.pushState(dt,"",K,Ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+Ve(Ae)),dt)}replaceState(K,Ae="",dt=null){this._locationStrategy.replaceState(dt,"",K,Ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+Ve(Ae)),dt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(K=0){this._locationStrategy.historyGo?.(K)}onUrlChange(K){return this._urlChangeListeners.push(K),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ae=>{this._notifyUrlChangeListeners(Ae.url,Ae.state)})),()=>{const Ae=this._urlChangeListeners.indexOf(K);this._urlChangeListeners.splice(Ae,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(K="",Ae){this._urlChangeListeners.forEach(dt=>dt(K,Ae))}subscribe(K,Ae,dt){return this._subject.subscribe({next:K,error:Ae,complete:dt})}}return j.normalizeQueryParams=Ve,j.joinWithSlash=je,j.stripTrailingSlash=ft,j.\u0275fac=function(K){return new(K||j)(o.LFG(Be))},j.\u0275prov=o.Yz7({token:j,factory:function(){return function Qe(){return new Et((0,o.LFG)(Be))}()},providedIn:"root"}),j})();function ke(j){return j.replace(/\/index.html$/,"")}const tt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Percent=1]="Percent",Ee[Ee.Currency=2]="Currency",Ee[Ee.Scientific=3]="Scientific",Ee))(),Ie=(()=>((Ie=Ie||{})[Ie.Format=0]="Format",Ie[Ie.Standalone=1]="Standalone",Ie))(),ue=(()=>((ue=ue||{})[ue.Narrow=0]="Narrow",ue[ue.Abbreviated=1]="Abbreviated",ue[ue.Wide=2]="Wide",ue[ue.Short=3]="Short",ue))(),Ce=(()=>((Ce=Ce||{})[Ce.Short=0]="Short",Ce[Ce.Medium=1]="Medium",Ce[Ce.Long=2]="Long",Ce[Ce.Full=3]="Full",Ce))(),me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Group=1]="Group",me[me.List=2]="List",me[me.PercentSign=3]="PercentSign",me[me.PlusSign=4]="PlusSign",me[me.MinusSign=5]="MinusSign",me[me.Exponential=6]="Exponential",me[me.SuperscriptingExponent=7]="SuperscriptingExponent",me[me.PerMille=8]="PerMille",me[me.Infinity=9]="Infinity",me[me.NaN=10]="NaN",me[me.TimeSeparator=11]="TimeSeparator",me[me.CurrencyDecimal=12]="CurrencyDecimal",me[me.CurrencyGroup=13]="CurrencyGroup",me))();function xt(j,le){return dn((0,o.cg1)(j)[o.wAp.DateFormat],le)}function $t(j,le){return dn((0,o.cg1)(j)[o.wAp.TimeFormat],le)}function En(j,le){return dn((0,o.cg1)(j)[o.wAp.DateTimeFormat],le)}function Ut(j,le){const K=(0,o.cg1)(j),Ae=K[o.wAp.NumberSymbols][le];if(typeof Ae>"u"){if(le===me.CurrencyDecimal)return K[o.wAp.NumberSymbols][me.Decimal];if(le===me.CurrencyGroup)return K[o.wAp.NumberSymbols][me.Group]}return Ae}function Er(j){if(!j[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${j[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dn(j,le){for(let K=le;K>-1;K--)if(typeof j[K]<"u")return j[K];throw new Error("Locale data API: locale data undefined")}function Ni(j){const[le,K]=j.split(":");return{hours:+le,minutes:+K}}const vi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Di={},zt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ot=(()=>((ot=ot||{})[ot.Short=0]="Short",ot[ot.ShortGMT=1]="ShortGMT",ot[ot.Long=2]="Long",ot[ot.Extended=3]="Extended",ot))(),He=(()=>((He=He||{})[He.FullYear=0]="FullYear",He[He.Month=1]="Month",He[He.Date=2]="Date",He[He.Hours=3]="Hours",He[He.Minutes=4]="Minutes",He[He.Seconds=5]="Seconds",He[He.FractionalSeconds=6]="FractionalSeconds",He[He.Day=7]="Day",He))(),Ot=(()=>((Ot=Ot||{})[Ot.DayPeriods=0]="DayPeriods",Ot[Ot.Days=1]="Days",Ot[Ot.Months=2]="Months",Ot[Ot.Eras=3]="Eras",Ot))();function jt(j,le,K,Ae){let dt=function Bi(j){if(mr(j))return j;if("number"==typeof j&&!isNaN(j))return new Date(j);if("string"==typeof j){if(j=j.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(j)){const[dt,Yt=1,ln=1]=j.split("-").map(si=>+si);return Tn(dt,Yt-1,ln)}const K=parseFloat(j);if(!isNaN(j-K))return new Date(K);let Ae;if(Ae=j.match(vi))return function tr(j){const le=new Date(0);let K=0,Ae=0;const dt=j[8]?le.setUTCFullYear:le.setFullYear,Yt=j[8]?le.setUTCHours:le.setHours;j[9]&&(K=Number(j[9]+j[10]),Ae=Number(j[9]+j[11])),dt.call(le,Number(j[1]),Number(j[2])-1,Number(j[3]));const ln=Number(j[4]||0)-K,si=Number(j[5]||0)-Ae,yr=Number(j[6]||0),Ur=Math.floor(1e3*parseFloat("0."+(j[7]||0)));return Yt.call(le,ln,si,yr,Ur),le}(Ae)}const le=new Date(j);if(!mr(le))throw new Error(`Unable to convert "${j}" into a date`);return le}(j);le=Bn(K,le)||le;let si,ln=[];for(;le;){if(si=zt.exec(le),!si){ln.push(le);break}{ln=ln.concat(si.slice(1));const Rr=ln.pop();if(!Rr)break;le=Rr}}let yr=dt.getTimezoneOffset();Ae&&(yr=ki(Ae,yr),dt=function Hn(j,le,K){const Ae=K?-1:1,dt=j.getTimezoneOffset();return function pi(j,le){return(j=new Date(j.getTime())).setMinutes(j.getMinutes()+le),j}(j,Ae*(ki(le,dt)-dt))}(dt,Ae,!0));let Ur="";return ln.forEach(Rr=>{const vr=function Oi(j){if(Ki[j])return Ki[j];let le;switch(j){case"G":case"GG":case"GGG":le=ci(Ot.Eras,ue.Abbreviated);break;case"GGGG":le=ci(Ot.Eras,ue.Wide);break;case"GGGGG":le=ci(Ot.Eras,ue.Narrow);break;case"y":le=Nn(He.FullYear,1,0,!1,!0);break;case"yy":le=Nn(He.FullYear,2,0,!0,!0);break;case"yyy":le=Nn(He.FullYear,3,0,!1,!0);break;case"yyyy":le=Nn(He.FullYear,4,0,!1,!0);break;case"Y":le=Vn(1);break;case"YY":le=Vn(2,!0);break;case"YYY":le=Vn(3);break;case"YYYY":le=Vn(4);break;case"M":case"L":le=Nn(He.Month,1,1);break;case"MM":case"LL":le=Nn(He.Month,2,1);break;case"MMM":le=ci(Ot.Months,ue.Abbreviated);break;case"MMMM":le=ci(Ot.Months,ue.Wide);break;case"MMMMM":le=ci(Ot.Months,ue.Narrow);break;case"LLL":le=ci(Ot.Months,ue.Abbreviated,Ie.Standalone);break;case"LLLL":le=ci(Ot.Months,ue.Wide,Ie.Standalone);break;case"LLLLL":le=ci(Ot.Months,ue.Narrow,Ie.Standalone);break;case"w":le=_n(1);break;case"ww":le=_n(2);break;case"W":le=_n(1,!0);break;case"d":le=Nn(He.Date,1);break;case"dd":le=Nn(He.Date,2);break;case"c":case"cc":le=Nn(He.Day,1);break;case"ccc":le=ci(Ot.Days,ue.Abbreviated,Ie.Standalone);break;case"cccc":le=ci(Ot.Days,ue.Wide,Ie.Standalone);break;case"ccccc":le=ci(Ot.Days,ue.Narrow,Ie.Standalone);break;case"cccccc":le=ci(Ot.Days,ue.Short,Ie.Standalone);break;case"E":case"EE":case"EEE":le=ci(Ot.Days,ue.Abbreviated);break;case"EEEE":le=ci(Ot.Days,ue.Wide);break;case"EEEEE":le=ci(Ot.Days,ue.Narrow);break;case"EEEEEE":le=ci(Ot.Days,ue.Short);break;case"a":case"aa":case"aaa":le=ci(Ot.DayPeriods,ue.Abbreviated);break;case"aaaa":le=ci(Ot.DayPeriods,ue.Wide);break;case"aaaaa":le=ci(Ot.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":le=ci(Ot.DayPeriods,ue.Abbreviated,Ie.Standalone,!0);break;case"bbbb":le=ci(Ot.DayPeriods,ue.Wide,Ie.Standalone,!0);break;case"bbbbb":le=ci(Ot.DayPeriods,ue.Narrow,Ie.Standalone,!0);break;case"B":case"BB":case"BBB":le=ci(Ot.DayPeriods,ue.Abbreviated,Ie.Format,!0);break;case"BBBB":le=ci(Ot.DayPeriods,ue.Wide,Ie.Format,!0);break;case"BBBBB":le=ci(Ot.DayPeriods,ue.Narrow,Ie.Format,!0);break;case"h":le=Nn(He.Hours,1,-12);break;case"hh":le=Nn(He.Hours,2,-12);break;case"H":le=Nn(He.Hours,1);break;case"HH":le=Nn(He.Hours,2);break;case"m":le=Nn(He.Minutes,1);break;case"mm":le=Nn(He.Minutes,2);break;case"s":le=Nn(He.Seconds,1);break;case"ss":le=Nn(He.Seconds,2);break;case"S":le=Nn(He.FractionalSeconds,1);break;case"SS":le=Nn(He.FractionalSeconds,2);break;case"SSS":le=Nn(He.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":le=nt(ot.Short);break;case"ZZZZZ":le=nt(ot.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":le=nt(ot.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":le=nt(ot.Long);break;default:return null}return Ki[j]=le,le}(Rr);Ur+=vr?vr(dt,K,yr):"''"===Rr?"'":Rr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ur}function Tn(j,le,K){const Ae=new Date(0);return Ae.setFullYear(j,le,K),Ae.setHours(0,0,0),Ae}function Bn(j,le){const K=function St(j){return(0,o.cg1)(j)[o.wAp.LocaleId]}(j);if(Di[K]=Di[K]||{},Di[K][le])return Di[K][le];let Ae="";switch(le){case"shortDate":Ae=xt(j,Ce.Short);break;case"mediumDate":Ae=xt(j,Ce.Medium);break;case"longDate":Ae=xt(j,Ce.Long);break;case"fullDate":Ae=xt(j,Ce.Full);break;case"shortTime":Ae=$t(j,Ce.Short);break;case"mediumTime":Ae=$t(j,Ce.Medium);break;case"longTime":Ae=$t(j,Ce.Long);break;case"fullTime":Ae=$t(j,Ce.Full);break;case"short":const dt=Bn(j,"shortTime"),Yt=Bn(j,"shortDate");Ae=ni(En(j,Ce.Short),[dt,Yt]);break;case"medium":const ln=Bn(j,"mediumTime"),si=Bn(j,"mediumDate");Ae=ni(En(j,Ce.Medium),[ln,si]);break;case"long":const yr=Bn(j,"longTime"),Ur=Bn(j,"longDate");Ae=ni(En(j,Ce.Long),[yr,Ur]);break;case"full":const Rr=Bn(j,"fullTime"),vr=Bn(j,"fullDate");Ae=ni(En(j,Ce.Full),[Rr,vr])}return Ae&&(Di[K][le]=Ae),Ae}function ni(j,le){return le&&(j=j.replace(/\{([^}]+)}/g,function(K,Ae){return null!=le&&Ae in le?le[Ae]:K})),j}function mn(j,le,K="-",Ae,dt){let Yt="";(j<0||dt&&j<=0)&&(dt?j=1-j:(j=-j,Yt=K));let ln=String(j);for(;ln.length<le;)ln="0"+ln;return Ae&&(ln=ln.slice(ln.length-le)),Yt+ln}function Nn(j,le,K=0,Ae=!1,dt=!1){return function(Yt,ln){let si=function Pi(j,le){switch(j){case He.FullYear:return le.getFullYear();case He.Month:return le.getMonth();case He.Date:return le.getDate();case He.Hours:return le.getHours();case He.Minutes:return le.getMinutes();case He.Seconds:return le.getSeconds();case He.FractionalSeconds:return le.getMilliseconds();case He.Day:return le.getDay();default:throw new Error(`Unknown DateType value "${j}".`)}}(j,Yt);if((K>0||si>-K)&&(si+=K),j===He.Hours)0===si&&-12===K&&(si=12);else if(j===He.FractionalSeconds)return function ai(j,le){return mn(j,3).substring(0,le)}(si,le);const yr=Ut(ln,me.MinusSign);return mn(si,le,yr,Ae,dt)}}function ci(j,le,K=Ie.Format,Ae=!1){return function(dt,Yt){return function ct(j,le,K,Ae,dt,Yt){switch(K){case Ot.Months:return function Je(j,le,K){const Ae=(0,o.cg1)(j),Yt=dn([Ae[o.wAp.MonthsFormat],Ae[o.wAp.MonthsStandalone]],le);return dn(Yt,K)}(le,dt,Ae)[j.getMonth()];case Ot.Days:return function mt(j,le,K){const Ae=(0,o.cg1)(j),Yt=dn([Ae[o.wAp.DaysFormat],Ae[o.wAp.DaysStandalone]],le);return dn(Yt,K)}(le,dt,Ae)[j.getDay()];case Ot.DayPeriods:const ln=j.getHours(),si=j.getMinutes();if(Yt){const Ur=function $n(j){const le=(0,o.cg1)(j);return Er(le),(le[o.wAp.ExtraData][2]||[]).map(Ae=>"string"==typeof Ae?Ni(Ae):[Ni(Ae[0]),Ni(Ae[1])])}(le),Rr=function ei(j,le,K){const Ae=(0,o.cg1)(j);Er(Ae);const Yt=dn([Ae[o.wAp.ExtraData][0],Ae[o.wAp.ExtraData][1]],le)||[];return dn(Yt,K)||[]}(le,dt,Ae),vr=Ur.findIndex(Co=>{if(Array.isArray(Co)){const[Qr,ws]=Co,ja=ln>=Qr.hours&&si>=Qr.minutes,ya=ln<ws.hours||ln===ws.hours&&si<ws.minutes;if(Qr.hours<ws.hours){if(ja&&ya)return!0}else if(ja||ya)return!0}else if(Co.hours===ln&&Co.minutes===si)return!0;return!1});if(-1!==vr)return Rr[vr]}return function Mt(j,le,K){const Ae=(0,o.cg1)(j),Yt=dn([Ae[o.wAp.DayPeriodsFormat],Ae[o.wAp.DayPeriodsStandalone]],le);return dn(Yt,K)}(le,dt,Ae)[ln<12?0:1];case Ot.Eras:return function Ye(j,le){return dn((0,o.cg1)(j)[o.wAp.Eras],le)}(le,Ae)[j.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${K}`)}}(dt,Yt,j,le,K,Ae)}}function nt(j){return function(le,K,Ae){const dt=-1*Ae,Yt=Ut(K,me.MinusSign),ln=dt>0?Math.floor(dt/60):Math.ceil(dt/60);switch(j){case ot.Short:return(dt>=0?"+":"")+mn(ln,2,Yt)+mn(Math.abs(dt%60),2,Yt);case ot.ShortGMT:return"GMT"+(dt>=0?"+":"")+mn(ln,1,Yt);case ot.Long:return"GMT"+(dt>=0?"+":"")+mn(ln,2,Yt)+":"+mn(Math.abs(dt%60),2,Yt);case ot.Extended:return 0===Ae?"Z":(dt>=0?"+":"")+mn(ln,2,Yt)+":"+mn(Math.abs(dt%60),2,Yt);default:throw new Error(`Unknown zone width "${j}"`)}}}function on(j){return Tn(j.getFullYear(),j.getMonth(),j.getDate()+(4-j.getDay()))}function _n(j,le=!1){return function(K,Ae){let dt;if(le){const Yt=new Date(K.getFullYear(),K.getMonth(),1).getDay()-1,ln=K.getDate();dt=1+Math.floor((ln+Yt)/7)}else{const Yt=on(K),ln=function rt(j){const le=Tn(j,0,1).getDay();return Tn(j,0,1+(le<=4?4:11)-le)}(Yt.getFullYear()),si=Yt.getTime()-ln.getTime();dt=1+Math.round(si/6048e5)}return mn(dt,j,Ut(Ae,me.MinusSign))}}function Vn(j,le=!1){return function(K,Ae){return mn(on(K).getFullYear(),j,Ut(Ae,me.MinusSign),le)}}const Ki={};function ki(j,le){j=j.replace(/:/g,"");const K=Date.parse("Jan 01, 1970 00:00:00 "+j)/6e4;return isNaN(K)?le:K}function mr(j){return j instanceof Date&&!isNaN(j.valueOf())}const hr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Qt(j,le,K,Ae,dt){const ln=function Gn(j,le="-"){const K={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Ae=j.split(";"),dt=Ae[0],Yt=Ae[1],ln=-1!==dt.indexOf(".")?dt.split("."):[dt.substring(0,dt.lastIndexOf("0")+1),dt.substring(dt.lastIndexOf("0")+1)],si=ln[0],yr=ln[1]||"";K.posPre=si.substring(0,si.indexOf("#"));for(let Rr=0;Rr<yr.length;Rr++){const vr=yr.charAt(Rr);"0"===vr?K.minFrac=K.maxFrac=Rr+1:"#"===vr?K.maxFrac=Rr+1:K.posSuf+=vr}const Ur=si.split(",");if(K.gSize=Ur[1]?Ur[1].length:0,K.lgSize=Ur[2]||Ur[1]?(Ur[2]||Ur[1]).length:0,Yt){const Rr=dt.length-K.posPre.length-K.posSuf.length,vr=Yt.indexOf("#");K.negPre=Yt.substring(0,vr).replace(/'/g,""),K.negSuf=Yt.slice(vr+Rr).replace(/'/g,"")}else K.negPre=le+K.posPre,K.negSuf=K.posSuf;return K}(function bn(j,le){return(0,o.cg1)(j)[o.wAp.NumberFormats][le]}(le,Ee.Currency),Ut(le,me.MinusSign));return ln.minFrac=function mi(j){let le;const K=tt[j];return K&&(le=K[2]),"number"==typeof le?le:2}(Ae),ln.maxFrac=ln.minFrac,function Zt(j,le,K,Ae,dt,Yt,ln=!1){let si="",yr=!1;if(isFinite(j)){let Ur=function Mi(j){let Ae,dt,Yt,ln,si,le=Math.abs(j)+"",K=0;for((dt=le.indexOf("."))>-1&&(le=le.replace(".","")),(Yt=le.search(/e/i))>0?(dt<0&&(dt=Yt),dt+=+le.slice(Yt+1),le=le.substring(0,Yt)):dt<0&&(dt=le.length),Yt=0;"0"===le.charAt(Yt);Yt++);if(Yt===(si=le.length))Ae=[0],dt=1;else{for(si--;"0"===le.charAt(si);)si--;for(dt-=Yt,Ae=[],ln=0;Yt<=si;Yt++,ln++)Ae[ln]=Number(le.charAt(Yt))}return dt>22&&(Ae=Ae.splice(0,21),K=dt-1,dt=1),{digits:Ae,exponent:K,integerLen:dt}}(j);ln&&(Ur=function di(j){if(0===j.digits[0])return j;const le=j.digits.length-j.integerLen;return j.exponent?j.exponent+=2:(0===le?j.digits.push(0,0):1===le&&j.digits.push(0),j.integerLen+=2),j}(Ur));let Rr=le.minInt,vr=le.minFrac,Co=le.maxFrac;if(Yt){const Ha=Yt.match(hr);if(null===Ha)throw new Error(`${Yt} is not a valid digit info`);const Qo=Ha[1],ua=Ha[3],va=Ha[5];null!=Qo&&(Rr=Ri(Qo)),null!=ua&&(vr=Ri(ua)),null!=va?Co=Ri(va):null!=ua&&vr>Co&&(Co=vr)}!function bi(j,le,K){if(le>K)throw new Error(`The minimum number of digits after fraction (${le}) is higher than the maximum (${K}).`);let Ae=j.digits,dt=Ae.length-j.integerLen;const Yt=Math.min(Math.max(le,dt),K);let ln=Yt+j.integerLen,si=Ae[ln];if(ln>0){Ae.splice(Math.max(j.integerLen,ln));for(let vr=ln;vr<Ae.length;vr++)Ae[vr]=0}else{dt=Math.max(0,dt),j.integerLen=1,Ae.length=Math.max(1,ln=Yt+1),Ae[0]=0;for(let vr=1;vr<ln;vr++)Ae[vr]=0}if(si>=5)if(ln-1<0){for(let vr=0;vr>ln;vr--)Ae.unshift(0),j.integerLen++;Ae.unshift(1),j.integerLen++}else Ae[ln-1]++;for(;dt<Math.max(0,Yt);dt++)Ae.push(0);let yr=0!==Yt;const Ur=le+j.integerLen,Rr=Ae.reduceRight(function(vr,Co,Qr,ws){return ws[Qr]=(Co+=vr)<10?Co:Co-10,yr&&(0===ws[Qr]&&Qr>=Ur?ws.pop():yr=!1),Co>=10?1:0},0);Rr&&(Ae.unshift(Rr),j.integerLen++)}(Ur,vr,Co);let Qr=Ur.digits,ws=Ur.integerLen;const ja=Ur.exponent;let ya=[];for(yr=Qr.every(Ha=>!Ha);ws<Rr;ws++)Qr.unshift(0);for(;ws<0;ws++)Qr.unshift(0);ws>0?ya=Qr.splice(ws,Qr.length):(ya=Qr,Qr=[0]);const Do=[];for(Qr.length>=le.lgSize&&Do.unshift(Qr.splice(-le.lgSize,Qr.length).join(""));Qr.length>le.gSize;)Do.unshift(Qr.splice(-le.gSize,Qr.length).join(""));Qr.length&&Do.unshift(Qr.join("")),si=Do.join(Ut(K,Ae)),ya.length&&(si+=Ut(K,dt)+ya.join("")),ja&&(si+=Ut(K,me.Exponential)+"+"+ja)}else si=Ut(K,me.Infinity);return si=j<0&&!yr?le.negPre+si+le.negSuf:le.posPre+si+le.posSuf,si}(j,ln,le,me.CurrencyGroup,me.CurrencyDecimal,dt).replace("\xa4",K).replace("\xa4","").trim()}function Ri(j){const le=parseInt(j);if(isNaN(le))throw new Error("Invalid integer literal when parsing "+j);return le}function ss(j,le){le=encodeURIComponent(le);for(const K of j.split(";")){const Ae=K.indexOf("="),[dt,Yt]=-1==Ae?[K,""]:[K.slice(0,Ae),K.slice(Ae+1)];if(dt.trim()===le)return decodeURIComponent(Yt)}return null}let Cr=(()=>{class j{constructor(K,Ae,dt,Yt){this._iterableDiffers=K,this._keyValueDiffers=Ae,this._ngEl=dt,this._renderer=Yt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(K){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof K?K.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(K){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof K?K.split(/\s+/):K,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const K=this._iterableDiffer.diff(this._rawClass);K&&this._applyIterableChanges(K)}else if(this._keyValueDiffer){const K=this._keyValueDiffer.diff(this._rawClass);K&&this._applyKeyValueChanges(K)}}_applyKeyValueChanges(K){K.forEachAddedItem(Ae=>this._toggleClass(Ae.key,Ae.currentValue)),K.forEachChangedItem(Ae=>this._toggleClass(Ae.key,Ae.currentValue)),K.forEachRemovedItem(Ae=>{Ae.previousValue&&this._toggleClass(Ae.key,!1)})}_applyIterableChanges(K){K.forEachAddedItem(Ae=>{if("string"!=typeof Ae.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(Ae.item)}`);this._toggleClass(Ae.item,!0)}),K.forEachRemovedItem(Ae=>this._toggleClass(Ae.item,!1))}_applyClasses(K){K&&(Array.isArray(K)||K instanceof Set?K.forEach(Ae=>this._toggleClass(Ae,!0)):Object.keys(K).forEach(Ae=>this._toggleClass(Ae,!!K[Ae])))}_removeClasses(K){K&&(Array.isArray(K)||K instanceof Set?K.forEach(Ae=>this._toggleClass(Ae,!1)):Object.keys(K).forEach(Ae=>this._toggleClass(Ae,!1)))}_toggleClass(K,Ae){(K=K.trim())&&K.split(/\s+/g).forEach(dt=>{Ae?this._renderer.addClass(this._ngEl.nativeElement,dt):this._renderer.removeClass(this._ngEl.nativeElement,dt)})}}return j.\u0275fac=function(K){return new(K||j)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},j.\u0275dir=o.lG2({type:j,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),j})();class fs{constructor(le,K,Ae,dt){this.$implicit=le,this.ngForOf=K,this.index=Ae,this.count=dt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jr=(()=>{class j{constructor(K,Ae,dt){this._viewContainer=K,this._template=Ae,this._differs=dt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;!this._differ&&K&&(this._differ=this._differs.find(K).create(this.ngForTrackBy))}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const Ae=this._viewContainer;K.forEachOperation((dt,Yt,ln)=>{if(null==dt.previousIndex)Ae.createEmbeddedView(this._template,new fs(dt.item,this._ngForOf,-1,-1),null===ln?void 0:ln);else if(null==ln)Ae.remove(null===Yt?void 0:Yt);else if(null!==Yt){const si=Ae.get(Yt);Ae.move(si,ln),ts(si,dt)}});for(let dt=0,Yt=Ae.length;dt<Yt;dt++){const si=Ae.get(dt).context;si.index=dt,si.count=Yt,si.ngForOf=this._ngForOf}K.forEachIdentityChange(dt=>{ts(Ae.get(dt.currentIndex),dt)})}static ngTemplateContextGuard(K,Ae){return!0}}return j.\u0275fac=function(K){return new(K||j)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},j.\u0275dir=o.lG2({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),j})();function ts(j,le){j.context.$implicit=le.item}let $e=(()=>{class j{constructor(K,Ae){this._viewContainer=K,this._context=new Ct,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ae}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){Nt("ngIfThen",K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){Nt("ngIfElse",K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(K,Ae){return!0}}return j.\u0275fac=function(K){return new(K||j)(o.Y36(o.s_b),o.Y36(o.Rgc))},j.\u0275dir=o.lG2({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),j})();class Ct{constructor(){this.$implicit=null,this.ngIf=null}}function Nt(j,le){if(le&&!le.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,o.AaK)(le)}'.`)}let Fi=(()=>{class j{constructor(K){this._viewContainerRef=K,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(K){if(K.ngTemplateOutlet||K.ngTemplateOutletInjector){const Ae=this._viewContainerRef;if(this._viewRef&&Ae.remove(Ae.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:dt,ngTemplateOutletContext:Yt,ngTemplateOutletInjector:ln}=this;this._viewRef=Ae.createEmbeddedView(dt,Yt,ln?{injector:ln}:void 0)}else this._viewRef=null}else this._viewRef&&K.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return j.\u0275fac=function(K){return new(K||j)(o.Y36(o.s_b))},j.\u0275dir=o.lG2({type:j,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),j})();function Ir(j,le){return new o.vHH(2100,!1)}let li=(()=>{class j{transform(K){if(null==K)return null;if("string"!=typeof K)throw Ir();return K.toLowerCase()}}return j.\u0275fac=function(K){return new(K||j)},j.\u0275pipe=o.Yjl({name:"lowercase",type:j,pure:!0,standalone:!0}),j})();const Ei=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ms=(()=>{class j{transform(K){if(null==K)return null;if("string"!=typeof K)throw Ir();return K.replace(Ei,Ae=>Ae[0].toUpperCase()+Ae.slice(1).toLowerCase())}}return j.\u0275fac=function(K){return new(K||j)},j.\u0275pipe=o.Yjl({name:"titlecase",type:j,pure:!0,standalone:!0}),j})();const Cs=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ls=(()=>{class j{constructor(K,Ae){this.locale=K,this.defaultTimezone=Ae}transform(K,Ae="mediumDate",dt,Yt){if(null==K||""===K||K!=K)return null;try{return jt(K,Ae,Yt||this.locale,dt??this.defaultTimezone??void 0)}catch(ln){throw Ir()}}}return j.\u0275fac=function(K){return new(K||j)(o.Y36(o.soG,16),o.Y36(Cs,24))},j.\u0275pipe=o.Yjl({name:"date",type:j,pure:!0,standalone:!0}),j})(),so=(()=>{class j{constructor(K,Ae="USD"){this._locale=K,this._defaultCurrencyCode=Ae}transform(K,Ae=this._defaultCurrencyCode,dt="symbol",Yt,ln){if(!function no(j){return!(null==j||""===j||j!=j)}(K))return null;ln=ln||this._locale,"boolean"==typeof dt&&(dt=dt?"symbol":"code");let si=Ae||this._defaultCurrencyCode;"code"!==dt&&(si="symbol"===dt||"symbol-narrow"===dt?function xi(j,le,K="en"){const Ae=function zn(j){return(0,o.cg1)(j)[o.wAp.Currencies]}(K)[j]||tt[j]||[],dt=Ae[1];return"narrow"===le&&"string"==typeof dt?dt:Ae[0]||j}(si,"symbol"===dt?"wide":"narrow",ln):dt);try{return Qt(function Qi(j){if("string"==typeof j&&!isNaN(Number(j)-parseFloat(j)))return Number(j);if("number"!=typeof j)throw new Error(`${j} is not a number`);return j}(K),ln,si,Ae,Yt)}catch(yr){throw Ir()}}}return j.\u0275fac=function(K){return new(K||j)(o.Y36(o.soG,16),o.Y36(o.EJc,16))},j.\u0275pipe=o.Yjl({name:"currency",type:j,pure:!0,standalone:!0}),j})();let As=(()=>{class j{}return j.\u0275fac=function(K){return new(K||j)},j.\u0275mod=o.oAB({type:j}),j.\u0275inj=o.cJS({}),j})();const ur="browser";function ca(j){return j===ur}function ir(j){return"server"===j}let ho=(()=>{class j{}return j.\u0275prov=(0,o.Yz7)({token:j,providedIn:"root",factory:()=>new ys((0,o.LFG)(_e),window)}),j})();class ys{constructor(le,K){this.document=le,this.window=K,this.offset=()=>[0,0]}setOffset(le){this.offset=Array.isArray(le)?()=>le:le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(le){this.supportsScrolling()&&this.window.scrollTo(le[0],le[1])}scrollToAnchor(le){if(!this.supportsScrolling())return;const K=function $s(j,le){const K=j.getElementById(le)||j.getElementsByName(le)[0];if(K)return K;if("function"==typeof j.createTreeWalker&&j.body&&(j.body.createShadowRoot||j.body.attachShadow)){const Ae=j.createTreeWalker(j.body,NodeFilter.SHOW_ELEMENT);let dt=Ae.currentNode;for(;dt;){const Yt=dt.shadowRoot;if(Yt){const ln=Yt.getElementById(le)||Yt.querySelector(`[name="${le}"]`);if(ln)return ln}dt=Ae.nextNode()}}return null}(this.document,le);K&&(this.scrollToElement(K),K.focus())}setHistoryScrollRestoration(le){if(this.supportScrollRestoration()){const K=this.window.history;K&&K.scrollRestoration&&(K.scrollRestoration=le)}}scrollToElement(le){const K=le.getBoundingClientRect(),Ae=K.left+this.window.pageXOffset,dt=K.top+this.window.pageYOffset,Yt=this.offset();this.window.scrollTo(Ae-Yt[0],dt-Yt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const le=fo(this.window.history)||fo(Object.getPrototypeOf(this.window.history));return!(!le||!le.writable&&!le.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fo(j){return Object.getOwnPropertyDescriptor(j,"scrollRestoration")}class io{}},529:(Sn,bt,L)=>{"use strict";L.d(bt,{JF:()=>mi,LE:()=>Ge,WM:()=>he,eN:()=>St});var o=L(6895),q=L(4650),Q=L(1086),Fe=L(6498),ie=L(1406),de=L(2198),_e=L(4850);class ge{}class Se{}class he{constructor(ot){this.normalizedNames=new Map,this.lazyUpdate=null,ot?this.lazyInit="string"==typeof ot?()=>{this.headers=new Map,ot.split("\n").forEach(He=>{const Ot=He.indexOf(":");if(Ot>0){const jt=He.slice(0,Ot),Tn=jt.toLowerCase(),Bn=He.slice(Ot+1).trim();this.maybeSetNormalizedName(jt,Tn),this.headers.has(Tn)?this.headers.get(Tn).push(Bn):this.headers.set(Tn,[Bn])}})}:()=>{this.headers=new Map,Object.keys(ot).forEach(He=>{let Ot=ot[He];const jt=He.toLowerCase();"string"==typeof Ot&&(Ot=[Ot]),Ot.length>0&&(this.headers.set(jt,Ot),this.maybeSetNormalizedName(He,jt))})}:this.headers=new Map}has(ot){return this.init(),this.headers.has(ot.toLowerCase())}get(ot){this.init();const He=this.headers.get(ot.toLowerCase());return He&&He.length>0?He[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ot){return this.init(),this.headers.get(ot.toLowerCase())||null}append(ot,He){return this.clone({name:ot,value:He,op:"a"})}set(ot,He){return this.clone({name:ot,value:He,op:"s"})}delete(ot,He){return this.clone({name:ot,value:He,op:"d"})}maybeSetNormalizedName(ot,He){this.normalizedNames.has(He)||this.normalizedNames.set(He,ot)}init(){this.lazyInit&&(this.lazyInit instanceof he?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ot=>this.applyUpdate(ot)),this.lazyUpdate=null))}copyFrom(ot){ot.init(),Array.from(ot.headers.keys()).forEach(He=>{this.headers.set(He,ot.headers.get(He)),this.normalizedNames.set(He,ot.normalizedNames.get(He))})}clone(ot){const He=new he;return He.lazyInit=this.lazyInit&&this.lazyInit instanceof he?this.lazyInit:this,He.lazyUpdate=(this.lazyUpdate||[]).concat([ot]),He}applyUpdate(ot){const He=ot.name.toLowerCase();switch(ot.op){case"a":case"s":let Ot=ot.value;if("string"==typeof Ot&&(Ot=[Ot]),0===Ot.length)return;this.maybeSetNormalizedName(ot.name,He);const jt=("a"===ot.op?this.headers.get(He):void 0)||[];jt.push(...Ot),this.headers.set(He,jt);break;case"d":const Tn=ot.value;if(Tn){let Bn=this.headers.get(He);if(!Bn)return;Bn=Bn.filter(ni=>-1===Tn.indexOf(ni)),0===Bn.length?(this.headers.delete(He),this.normalizedNames.delete(He)):this.headers.set(He,Bn)}else this.headers.delete(He),this.normalizedNames.delete(He)}}forEach(ot){this.init(),Array.from(this.normalizedNames.keys()).forEach(He=>ot(this.normalizedNames.get(He),this.headers.get(He)))}}class fe{encodeKey(ot){return Ve(ot)}encodeValue(ot){return Ve(ot)}decodeKey(ot){return decodeURIComponent(ot)}decodeValue(ot){return decodeURIComponent(ot)}}const je=/%(\d[a-f0-9])/gi,ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ve(zt){return encodeURIComponent(zt).replace(je,(ot,He)=>ft[He]??ot)}function Be(zt){return`${zt}`}class Ge{constructor(ot={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ot.encoder||new fe,ot.fromString){if(ot.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ye(zt,ot){const He=new Map;return zt.length>0&&zt.replace(/^\?/,"").split("&").forEach(jt=>{const Tn=jt.indexOf("="),[Bn,ni]=-1==Tn?[ot.decodeKey(jt),""]:[ot.decodeKey(jt.slice(0,Tn)),ot.decodeValue(jt.slice(Tn+1))],mn=He.get(Bn)||[];mn.push(ni),He.set(Bn,mn)}),He}(ot.fromString,this.encoder)}else ot.fromObject?(this.map=new Map,Object.keys(ot.fromObject).forEach(He=>{const Ot=ot.fromObject[He],jt=Array.isArray(Ot)?Ot.map(Be):[Be(Ot)];this.map.set(He,jt)})):this.map=null}has(ot){return this.init(),this.map.has(ot)}get(ot){this.init();const He=this.map.get(ot);return He?He[0]:null}getAll(ot){return this.init(),this.map.get(ot)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ot,He){return this.clone({param:ot,value:He,op:"a"})}appendAll(ot){const He=[];return Object.keys(ot).forEach(Ot=>{const jt=ot[Ot];Array.isArray(jt)?jt.forEach(Tn=>{He.push({param:Ot,value:Tn,op:"a"})}):He.push({param:Ot,value:jt,op:"a"})}),this.clone(He)}set(ot,He){return this.clone({param:ot,value:He,op:"s"})}delete(ot,He){return this.clone({param:ot,value:He,op:"d"})}toString(){return this.init(),this.keys().map(ot=>{const He=this.encoder.encodeKey(ot);return this.map.get(ot).map(Ot=>He+"="+this.encoder.encodeValue(Ot)).join("&")}).filter(ot=>""!==ot).join("&")}clone(ot){const He=new Ge({encoder:this.encoder});return He.cloneFrom=this.cloneFrom||this,He.updates=(this.updates||[]).concat(ot),He}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ot=>this.map.set(ot,this.cloneFrom.map.get(ot))),this.updates.forEach(ot=>{switch(ot.op){case"a":case"s":const He=("a"===ot.op?this.map.get(ot.param):void 0)||[];He.push(Be(ot.value)),this.map.set(ot.param,He);break;case"d":if(void 0===ot.value){this.map.delete(ot.param);break}{let Ot=this.map.get(ot.param)||[];const jt=Ot.indexOf(Be(ot.value));-1!==jt&&Ot.splice(jt,1),Ot.length>0?this.map.set(ot.param,Ot):this.map.delete(ot.param)}}}),this.cloneFrom=this.updates=null)}}class vt{constructor(){this.map=new Map}set(ot,He){return this.map.set(ot,He),this}get(ot){return this.map.has(ot)||this.map.set(ot,ot.defaultValue()),this.map.get(ot)}delete(ot){return this.map.delete(ot),this}has(ot){return this.map.has(ot)}keys(){return this.map.keys()}}function Qe(zt){return typeof ArrayBuffer<"u"&&zt instanceof ArrayBuffer}function We(zt){return typeof Blob<"u"&&zt instanceof Blob}function ke(zt){return typeof FormData<"u"&&zt instanceof FormData}class Ee{constructor(ot,He,Ot,jt){let Tn;if(this.url=He,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ot.toUpperCase(),function Et(zt){switch(zt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||jt?(this.body=void 0!==Ot?Ot:null,Tn=jt):Tn=Ot,Tn&&(this.reportProgress=!!Tn.reportProgress,this.withCredentials=!!Tn.withCredentials,Tn.responseType&&(this.responseType=Tn.responseType),Tn.headers&&(this.headers=Tn.headers),Tn.context&&(this.context=Tn.context),Tn.params&&(this.params=Tn.params)),this.headers||(this.headers=new he),this.context||(this.context=new vt),this.params){const Bn=this.params.toString();if(0===Bn.length)this.urlWithParams=He;else{const ni=He.indexOf("?");this.urlWithParams=He+(-1===ni?"?":ni<He.length-1?"&":"")+Bn}}else this.params=new Ge,this.urlWithParams=He}serializeBody(){return null===this.body?null:Qe(this.body)||We(this.body)||ke(this.body)||function tt(zt){return typeof URLSearchParams<"u"&&zt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ge?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ke(this.body)?null:We(this.body)?this.body.type||null:Qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ge?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ot={}){const He=ot.method||this.method,Ot=ot.url||this.url,jt=ot.responseType||this.responseType,Tn=void 0!==ot.body?ot.body:this.body,Bn=void 0!==ot.withCredentials?ot.withCredentials:this.withCredentials,ni=void 0!==ot.reportProgress?ot.reportProgress:this.reportProgress;let mn=ot.headers||this.headers,ai=ot.params||this.params;const Nn=ot.context??this.context;return void 0!==ot.setHeaders&&(mn=Object.keys(ot.setHeaders).reduce((Pi,ci)=>Pi.set(ci,ot.setHeaders[ci]),mn)),ot.setParams&&(ai=Object.keys(ot.setParams).reduce((Pi,ci)=>Pi.set(ci,ot.setParams[ci]),ai)),new Ee(He,Ot,Tn,{params:ai,headers:mn,context:Nn,reportProgress:ni,responseType:jt,withCredentials:Bn})}}var ve=(()=>((ve=ve||{})[ve.Sent=0]="Sent",ve[ve.UploadProgress=1]="UploadProgress",ve[ve.ResponseHeader=2]="ResponseHeader",ve[ve.DownloadProgress=3]="DownloadProgress",ve[ve.Response=4]="Response",ve[ve.User=5]="User",ve))();class Ie{constructor(ot,He=200,Ot="OK"){this.headers=ot.headers||new he,this.status=void 0!==ot.status?ot.status:He,this.statusText=ot.statusText||Ot,this.url=ot.url||null,this.ok=this.status>=200&&this.status<300}}class ue extends Ie{constructor(ot={}){super(ot),this.type=ve.ResponseHeader}clone(ot={}){return new ue({headers:ot.headers||this.headers,status:void 0!==ot.status?ot.status:this.status,statusText:ot.statusText||this.statusText,url:ot.url||this.url||void 0})}}class Ce extends Ie{constructor(ot={}){super(ot),this.type=ve.Response,this.body=void 0!==ot.body?ot.body:null}clone(ot={}){return new Ce({body:void 0!==ot.body?ot.body:this.body,headers:ot.headers||this.headers,status:void 0!==ot.status?ot.status:this.status,statusText:ot.statusText||this.statusText,url:ot.url||this.url||void 0})}}class me extends Ie{constructor(ot){super(ot,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ot.url||"(unknown url)"}`:`Http failure response for ${ot.url||"(unknown url)"}: ${ot.status} ${ot.statusText}`,this.error=ot.error||null}}function At(zt,ot){return{body:ot,headers:zt.headers,context:zt.context,observe:zt.observe,params:zt.params,reportProgress:zt.reportProgress,responseType:zt.responseType,withCredentials:zt.withCredentials}}let St=(()=>{class zt{constructor(He){this.handler=He}request(He,Ot,jt={}){let Tn;if(He instanceof Ee)Tn=He;else{let mn,ai;mn=jt.headers instanceof he?jt.headers:new he(jt.headers),jt.params&&(ai=jt.params instanceof Ge?jt.params:new Ge({fromObject:jt.params})),Tn=new Ee(He,Ot,void 0!==jt.body?jt.body:null,{headers:mn,context:jt.context,params:ai,reportProgress:jt.reportProgress,responseType:jt.responseType||"json",withCredentials:jt.withCredentials})}const Bn=(0,Q.of)(Tn).pipe((0,ie.b)(mn=>this.handler.handle(mn)));if(He instanceof Ee||"events"===jt.observe)return Bn;const ni=Bn.pipe((0,de.h)(mn=>mn instanceof Ce));switch(jt.observe||"body"){case"body":switch(Tn.responseType){case"arraybuffer":return ni.pipe((0,_e.U)(mn=>{if(null!==mn.body&&!(mn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return mn.body}));case"blob":return ni.pipe((0,_e.U)(mn=>{if(null!==mn.body&&!(mn.body instanceof Blob))throw new Error("Response is not a Blob.");return mn.body}));case"text":return ni.pipe((0,_e.U)(mn=>{if(null!==mn.body&&"string"!=typeof mn.body)throw new Error("Response is not a string.");return mn.body}));default:return ni.pipe((0,_e.U)(mn=>mn.body))}case"response":return ni;default:throw new Error(`Unreachable: unhandled observe type ${jt.observe}}`)}}delete(He,Ot={}){return this.request("DELETE",He,Ot)}get(He,Ot={}){return this.request("GET",He,Ot)}head(He,Ot={}){return this.request("HEAD",He,Ot)}jsonp(He,Ot){return this.request("JSONP",He,{params:(new Ge).append(Ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(He,Ot={}){return this.request("OPTIONS",He,Ot)}patch(He,Ot,jt={}){return this.request("PATCH",He,At(jt,Ot))}post(He,Ot,jt={}){return this.request("POST",He,At(jt,Ot))}put(He,Ot,jt={}){return this.request("PUT",He,At(jt,Ot))}}return zt.\u0275fac=function(He){return new(He||zt)(q.LFG(ge))},zt.\u0275prov=q.Yz7({token:zt,factory:zt.\u0275fac}),zt})();class Mt{constructor(ot,He){this.next=ot,this.interceptor=He}handle(ot){return this.interceptor.intercept(ot,this.next)}}const mt=new q.OlP("HTTP_INTERCEPTORS");let Je=(()=>{class zt{intercept(He,Ot){return Ot.handle(He)}}return zt.\u0275fac=function(He){return new(He||zt)},zt.\u0275prov=q.Yz7({token:zt,factory:zt.\u0275fac}),zt})();const Cn=/^\)\]\}',?\n/;let zn=(()=>{class zt{constructor(He){this.xhrFactory=He}handle(He){if("JSONP"===He.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Fe.y(Ot=>{const jt=this.xhrFactory.build();if(jt.open(He.method,He.urlWithParams),He.withCredentials&&(jt.withCredentials=!0),He.headers.forEach((ct,nt)=>jt.setRequestHeader(ct,nt.join(","))),He.headers.has("Accept")||jt.setRequestHeader("Accept","application/json, text/plain, */*"),!He.headers.has("Content-Type")){const ct=He.detectContentTypeHeader();null!==ct&&jt.setRequestHeader("Content-Type",ct)}if(He.responseType){const ct=He.responseType.toLowerCase();jt.responseType="json"!==ct?ct:"text"}const Tn=He.serializeBody();let Bn=null;const ni=()=>{if(null!==Bn)return Bn;const ct=jt.statusText||"OK",nt=new he(jt.getAllResponseHeaders()),Xe=function Zn(zt){return"responseURL"in zt&&zt.responseURL?zt.responseURL:/^X-Request-URL:/m.test(zt.getAllResponseHeaders())?zt.getResponseHeader("X-Request-URL"):null}(jt)||He.url;return Bn=new ue({headers:nt,status:jt.status,statusText:ct,url:Xe}),Bn},mn=()=>{let{headers:ct,status:nt,statusText:Xe,url:ut}=ni(),rt=null;204!==nt&&(rt=typeof jt.response>"u"?jt.responseText:jt.response),0===nt&&(nt=rt?200:0);let on=nt>=200&&nt<300;if("json"===He.responseType&&"string"==typeof rt){const _n=rt;rt=rt.replace(Cn,"");try{rt=""!==rt?JSON.parse(rt):null}catch(Vn){rt=_n,on&&(on=!1,rt={error:Vn,text:rt})}}on?(Ot.next(new Ce({body:rt,headers:ct,status:nt,statusText:Xe,url:ut||void 0})),Ot.complete()):Ot.error(new me({error:rt,headers:ct,status:nt,statusText:Xe,url:ut||void 0}))},ai=ct=>{const{url:nt}=ni(),Xe=new me({error:ct,status:jt.status||0,statusText:jt.statusText||"Unknown Error",url:nt||void 0});Ot.error(Xe)};let Nn=!1;const Pi=ct=>{Nn||(Ot.next(ni()),Nn=!0);let nt={type:ve.DownloadProgress,loaded:ct.loaded};ct.lengthComputable&&(nt.total=ct.total),"text"===He.responseType&&!!jt.responseText&&(nt.partialText=jt.responseText),Ot.next(nt)},ci=ct=>{let nt={type:ve.UploadProgress,loaded:ct.loaded};ct.lengthComputable&&(nt.total=ct.total),Ot.next(nt)};return jt.addEventListener("load",mn),jt.addEventListener("error",ai),jt.addEventListener("timeout",ai),jt.addEventListener("abort",ai),He.reportProgress&&(jt.addEventListener("progress",Pi),null!==Tn&&jt.upload&&jt.upload.addEventListener("progress",ci)),jt.send(Tn),Ot.next({type:ve.Sent}),()=>{jt.removeEventListener("error",ai),jt.removeEventListener("abort",ai),jt.removeEventListener("load",mn),jt.removeEventListener("timeout",ai),He.reportProgress&&(jt.removeEventListener("progress",Pi),null!==Tn&&jt.upload&&jt.upload.removeEventListener("progress",ci)),jt.readyState!==jt.DONE&&jt.abort()}})}}return zt.\u0275fac=function(He){return new(He||zt)(q.LFG(o.JF))},zt.\u0275prov=q.Yz7({token:zt,factory:zt.\u0275fac}),zt})();const yi=new q.OlP("XSRF_COOKIE_NAME"),Er=new q.OlP("XSRF_HEADER_NAME");class $n{}let ei=(()=>{class zt{constructor(He,Ot,jt){this.doc=He,this.platform=Ot,this.cookieName=jt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const He=this.doc.cookie||"";return He!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,o.Mx)(He,this.cookieName),this.lastCookieString=He),this.lastToken}}return zt.\u0275fac=function(He){return new(He||zt)(q.LFG(o.K0),q.LFG(q.Lbi),q.LFG(yi))},zt.\u0275prov=q.Yz7({token:zt,factory:zt.\u0275fac}),zt})(),sn=(()=>{class zt{constructor(He,Ot){this.tokenService=He,this.headerName=Ot}intercept(He,Ot){const jt=He.url.toLowerCase();if("GET"===He.method||"HEAD"===He.method||jt.startsWith("http://")||jt.startsWith("https://"))return Ot.handle(He);const Tn=this.tokenService.getToken();return null!==Tn&&!He.headers.has(this.headerName)&&(He=He.clone({headers:He.headers.set(this.headerName,Tn)})),Ot.handle(He)}}return zt.\u0275fac=function(He){return new(He||zt)(q.LFG($n),q.LFG(Er))},zt.\u0275prov=q.Yz7({token:zt,factory:zt.\u0275fac}),zt})(),dn=(()=>{class zt{constructor(He,Ot){this.backend=He,this.injector=Ot,this.chain=null}handle(He){if(null===this.chain){const Ot=this.injector.get(mt,[]);this.chain=Ot.reduceRight((jt,Tn)=>new Mt(jt,Tn),this.backend)}return this.chain.handle(He)}}return zt.\u0275fac=function(He){return new(He||zt)(q.LFG(Se),q.LFG(q.zs3))},zt.\u0275prov=q.Yz7({token:zt,factory:zt.\u0275fac}),zt})(),Kn=(()=>{class zt{static disable(){return{ngModule:zt,providers:[{provide:sn,useClass:Je}]}}static withOptions(He={}){return{ngModule:zt,providers:[He.cookieName?{provide:yi,useValue:He.cookieName}:[],He.headerName?{provide:Er,useValue:He.headerName}:[]]}}}return zt.\u0275fac=function(He){return new(He||zt)},zt.\u0275mod=q.oAB({type:zt}),zt.\u0275inj=q.cJS({providers:[sn,{provide:mt,useExisting:sn,multi:!0},{provide:$n,useClass:ei},{provide:yi,useValue:"XSRF-TOKEN"},{provide:Er,useValue:"X-XSRF-TOKEN"}]}),zt})(),mi=(()=>{class zt{}return zt.\u0275fac=function(He){return new(He||zt)},zt.\u0275mod=q.oAB({type:zt}),zt.\u0275inj=q.cJS({providers:[St,{provide:ge,useClass:dn},zn,{provide:Se,useExisting:zn}],imports:[Kn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),zt})()},4650:(Sn,bt,L)=>{"use strict";L.d(bt,{$8M:()=>Lo,$Z:()=>uu,AFp:()=>Sb,ALo:()=>z0,AaK:()=>ge,AsE:()=>F_,BQk:()=>Fu,CHM:()=>X,CRH:()=>ib,CZH:()=>Wy,CqO:()=>ay,D6c:()=>NC,DdM:()=>L0,Dn7:()=>Y0,EJc:()=>GE,EpF:()=>b_,F$t:()=>Um,F4k:()=>oy,FYo:()=>qn,FiY:()=>Us,G48:()=>dC,Gf:()=>tb,GfV:()=>Wo,GkF:()=>gd,Gpc:()=>oe,Hsn:()=>ly,Ikx:()=>U_,JOm:()=>fi,Jf7:()=>E,KtG:()=>M,LFG:()=>qe,LMc:()=>xC,LSH:()=>oc,Lbi:()=>VE,Lck:()=>$w,MAs:()=>El,MGl:()=>Qf,MMx:()=>Iv,NdJ:()=>w_,O4$:()=>si,OlP:()=>us,Oqu:()=>k_,PXZ:()=>sC,Q6J:()=>ul,QGY:()=>Zg,QP$:()=>mr,QbO:()=>UE,Qsj:()=>Ii,QtT:()=>I0,R0b:()=>Qd,RDi:()=>Ta,Rgc:()=>q_,SBq:()=>Pe,SDv:()=>D0,Sil:()=>zE,Suo:()=>nb,TTD:()=>ps,TgZ:()=>ef,Tol:()=>Jg,Udp:()=>jm,VKq:()=>B0,W1O:()=>ab,WLB:()=>$0,X6Q:()=>uC,XFs:()=>dn,Xpm:()=>ut,Xts:()=>Ic,Y36:()=>dd,YKP:()=>A0,YNc:()=>ks,Yjl:()=>pi,Yz7:()=>$t,Z0I:()=>Te,ZZ4:()=>Zv,_Bn:()=>S0,_UZ:()=>Na,_Vd:()=>w,_c5:()=>SC,_uU:()=>wy,aQg:()=>Qv,c2e:()=>jE,cJS:()=>Ut,cg1:()=>j_,dDg:()=>tC,dqk:()=>jt,eFA:()=>Vb,ekj:()=>Hm,eoX:()=>Lb,f3M:()=>nn,g9A:()=>Nb,h0i:()=>Zm,hGG:()=>AC,hij:()=>Gm,iGM:()=>eb,ifc:()=>Ot,ip1:()=>Tb,jDz:()=>M0,kEZ:()=>V0,kL8:()=>tm,kcU:()=>Ur,lG2:()=>ki,lcZ:()=>K0,lnq:()=>L_,lqb:()=>lc,lri:()=>kb,n5z:()=>Bl,oAB:()=>Vn,oxw:()=>I_,pQV:()=>vv,q4F:()=>Rl,qLn:()=>Oh,qOj:()=>Kg,qZA:()=>Zf,rWj:()=>Fb,s9C:()=>Lp,sBO:()=>hC,sIi:()=>h,s_b:()=>jy,soG:()=>zy,tb:()=>Mb,tp0:()=>Ia,uIk:()=>Pn,vHH:()=>ft,vpe:()=>cf,wAp:()=>Dr,xp6:()=>uh,ynx:()=>Ma,z2F:()=>Ky,zSh:()=>Tc,zs3:()=>ud});var o=L(8929),q=L(2654),Q=L(6498),Fe=L(6787),ie=L(2474);function de(n){for(let i in n)if(n[i]===de)return i;throw Error("Could not find renamed property on target object.")}function _e(n,i){for(const l in i)i.hasOwnProperty(l)&&!n.hasOwnProperty(l)&&(n[l]=i[l])}function ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const l=i.indexOf("\n");return-1===l?i:i.substring(0,l)}function Se(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const he=de({__forward_ref__:de});function oe(n){return n.__forward_ref__=oe,n.toString=function(){return ge(this())},n}function fe(n){return ye(n)?n():n}function ye(n){return"function"==typeof n&&n.hasOwnProperty(he)&&n.__forward_ref__===oe}class ft extends Error{constructor(i,l){super(function Ve(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,l)),this.code=i}}function Be(n){return"string"==typeof n?n:null==n?"":String(n)}function Qe(n,i){throw new ft(-201,!1)}function Ye(n,i,l,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${l} ${d} ${i} <=Actual]`))}function $t(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function bn(n){return Cn(n,Er)||Cn(n,ei)}function Te(n){return null!==bn(n)}function Cn(n,i){return n.hasOwnProperty(i)?n[i]:null}function yi(n){return n&&(n.hasOwnProperty($n)||n.hasOwnProperty(sn))?n[$n]:null}const Er=de({\u0275prov:de}),$n=de({\u0275inj:de}),ei=de({ngInjectableDef:de}),sn=de({ngInjectorDef:de});var dn=(()=>((dn=dn||{})[dn.Default=0]="Default",dn[dn.Host=1]="Host",dn[dn.Self=2]="Self",dn[dn.SkipSelf=4]="SkipSelf",dn[dn.Optional=8]="Optional",dn))();let Ni;function Kn(n){const i=Ni;return Ni=n,i}function mi(n,i,l){const d=bn(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&dn.Optional?null:void 0!==i?i:void Qe(ge(n))}function Di(n){return{toString:n}.toString()}var zt=(()=>((zt=zt||{})[zt.OnPush=0]="OnPush",zt[zt.Default=1]="Default",zt))(),Ot=(()=>{return(n=Ot||(Ot={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ot;var n})();const jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},mn=[],ai=de({\u0275cmp:de}),Nn=de({\u0275dir:de}),Pi=de({\u0275pipe:de}),ci=de({\u0275mod:de}),ct=de({\u0275fac:de}),nt=de({__NG_ELEMENT_ID__:de});let Xe=0;function ut(n){return Di(()=>{const l=!0===n.standalone,d={},g={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===zt.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||mn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ot.Emulated,id:"c"+Xe++,styles:n.styles||mn,_:null,setInput:null,schemas:n.schemas||null,tView:null},b=n.dependencies,R=n.features;return g.inputs=Oi(n.inputs,d),g.outputs=Oi(n.outputs),R&&R.forEach($=>$(g)),g.directiveDefs=b?()=>("function"==typeof b?b():b).map(on).filter(_n):null,g.pipeDefs=b?()=>("function"==typeof b?b():b).map(tr).filter(_n):null,g})}function on(n){return Hn(n)||Bi(n)}function _n(n){return null!==n}function Vn(n){return Di(()=>({type:n.type,bootstrap:n.bootstrap||mn,declarations:n.declarations||mn,imports:n.imports||mn,exports:n.exports||mn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Oi(n,i){if(null==n)return ni;const l={};for(const d in n)if(n.hasOwnProperty(d)){let g=n[d],b=g;Array.isArray(g)&&(b=g[1],g=g[0]),l[g]=d,i&&(i[g]=b)}return l}const ki=ut;function pi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Hn(n){return n[ai]||null}function Bi(n){return n[Nn]||null}function tr(n){return n[Pi]||null}function mr(n){const i=Hn(n)||Bi(n)||tr(n);return null!==i&&i.standalone}function hr(n,i){const l=n[ci]||null;if(!l&&!0===i)throw new Error(`Type ${ge(n)} does not have '\u0275mod' property.`);return l}function Nt(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ue(n){return Array.isArray(n)&&!0===n[1]}function et(n){return 0!=(8&n.flags)}function Pt(n){return 2==(2&n.flags)}function cn(n){return 1==(1&n.flags)}function rn(n){return null!==n.template}function hn(n){return 0!=(256&n[2])}function _s(n,i){return n.hasOwnProperty(ct)?n[ct]:null}class Ds{constructor(i,l,d){this.previousValue=i,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function ps(){return so}function so(n){return n.type.prototype.ngOnChanges&&(n.setInput=Qi),no}function no(){const n=Yi(this),i=n?.current;if(i){const l=n.previous;if(l===ni)n.previous=i;else for(let d in i)l[d]=i[d];n.current=null,this.ngOnChanges(i)}}function Qi(n,i,l,d){const g=Yi(n)||function As(n,i){return n[ar]=i}(n,{previous:ni,current:null}),b=g.current||(g.current={}),R=g.previous,$=this.declaredInputs[l],H=R[$];b[$]=new Ds(H&&H.currentValue,i,R===ni),n[d]=i}ps.ngInherit=!0;const ar="__ngSimpleChanges__";function Yi(n){return n[ar]||null}function kr(n){for(;Array.isArray(n);)n=n[0];return n}function fo(n,i){return kr(i[n])}function $s(n,i){return kr(i[n.index])}function io(n,i){return n.data[i]}function Xr(n,i){return n[i]}function Tr(n,i){const l=i[n];return Nt(l)?l:l[0]}function zo(n){return 64==(64&n[2])}function as(n,i){return null==i?null:n[i]}function Oo(n){n[18]=0}function Hr(n,i){n[5]+=i;let l=n,d=n[3];for(;null!==d&&(1===i&&1===l[5]||-1===i&&0===l[5]);)d[5]+=i,l=d,d=d[3]}const Ui={lFrame:go(null),bindingsEnabled:!0};function cs(){return Ui.bindingsEnabled}function wn(){return Ui.lFrame.lView}function S(){return Ui.lFrame.tView}function X(n){return Ui.lFrame.contextLView=n,n[8]}function M(n){return Ui.lFrame.contextLView=null,n}function Z(){let n=Oe();for(;null!==n&&64===n.type;)n=n.parent;return n}function Oe(){return Ui.lFrame.currentTNode}function Kt(){const n=Ui.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function jn(n,i){const l=Ui.lFrame;l.currentTNode=n,l.isParent=i}function gi(){return Ui.lFrame.isParent}function D(){Ui.lFrame.isParent=!1}function gt(){const n=Ui.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Wt(){return Ui.lFrame.bindingIndex}function Ln(){return Ui.lFrame.bindingIndex++}function Ai(n){const i=Ui.lFrame,l=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,l}function Fr(n){Ui.lFrame.inI18n=n}function Vr(n,i){const l=Ui.lFrame;l.bindingIndex=l.bindingRootIndex=n,hi(i)}function hi(n){Ui.lFrame.currentDirectiveIndex=n}function rr(){return Ui.lFrame.currentQueryIndex}function Po(n){Ui.lFrame.currentQueryIndex=n}function Lr(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function Ns(n,i,l){if(l&dn.SkipSelf){let g=i,b=n;for(;!(g=g.parent,null!==g||l&dn.Host||(g=Lr(b),null===g||(b=b[15],10&g.type))););if(null===g)return!1;i=g,n=b}const d=Ui.lFrame=Ko();return d.currentTNode=i,d.lView=n,!0}function Ts(n){const i=Ko(),l=n[1];Ui.lFrame=i,i.currentTNode=l.firstChild,i.lView=n,i.tView=l,i.contextLView=n,i.bindingIndex=l.bindingStartIndex,i.inI18n=!1}function Ko(){const n=Ui.lFrame,i=null===n?null:n.child;return null===i?go(n):i}function go(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Zo(){const n=Ui.lFrame;return Ui.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const j=Zo;function le(){const n=Zo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function dt(){return Ui.lFrame.selectedIndex}function Yt(n){Ui.lFrame.selectedIndex=n}function ln(){const n=Ui.lFrame;return io(n.tView,n.selectedIndex)}function si(){Ui.lFrame.currentNamespace="svg"}function Ur(){!function Rr(){Ui.lFrame.currentNamespace=null}()}function Qr(n,i){for(let l=i.directiveStart,d=i.directiveEnd;l<d;l++){const b=n.data[l].type.prototype,{ngAfterContentInit:R,ngAfterContentChecked:$,ngAfterViewInit:H,ngAfterViewChecked:se,ngOnDestroy:Me}=b;R&&(n.contentHooks||(n.contentHooks=[])).push(-l,R),$&&((n.contentHooks||(n.contentHooks=[])).push(l,$),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(l,$)),H&&(n.viewHooks||(n.viewHooks=[])).push(-l,H),se&&((n.viewHooks||(n.viewHooks=[])).push(l,se),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(l,se)),null!=Me&&(n.destroyHooks||(n.destroyHooks=[])).push(l,Me)}}function ws(n,i,l){Do(n,i,3,l)}function ja(n,i,l,d){(3&n[2])===l&&Do(n,i,l,d)}function ya(n,i){let l=n[2];(3&l)===i&&(l&=2047,l+=1,n[2]=l)}function Do(n,i,l,d){const b=d??-1,R=i.length-1;let $=0;for(let H=void 0!==d?65535&n[18]:0;H<R;H++)if("number"==typeof i[H+1]){if($=i[H],null!=d&&$>=d)break}else i[H]<0&&(n[18]+=65536),($<b||-1==b)&&(Ha(n,l,i,H),n[18]=(4294901760&n[18])+H+2),H++}function Ha(n,i,l,d){const g=l[d]<0,b=l[d+1],$=n[g?-l[d]:l[d]];if(g){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{b.call($)}finally{}}}else try{b.call($)}finally{}}class ua{constructor(i,l,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function ko(n,i,l){let d=0;for(;d<l.length;){const g=l[d];if("number"==typeof g){if(0!==g)break;d++;const b=l[d++],R=l[d++],$=l[d++];n.setAttribute(i,R,$,b)}else{const b=g,R=l[++d];gc(b)?n.setProperty(i,b,R):n.setAttribute(i,b,R),d++}}return d}function Sl(n){return 3===n||4===n||6===n}function gc(n){return 64===n.charCodeAt(0)}function Xa(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let l=-1;for(let d=0;d<i.length;d++){const g=i[d];"number"==typeof g?l=g:0===l||$u(n,l,g,null,-1===l||2===l?i[++d]:null)}}return n}function $u(n,i,l,d,g){let b=0,R=n.length;if(-1===i)R=-1;else for(;b<n.length;){const $=n[b++];if("number"==typeof $){if($===i){R=-1;break}if($>i){R=b-1;break}}}for(;b<n.length;){const $=n[b];if("number"==typeof $)break;if($===l){if(null===d)return void(null!==g&&(n[b+1]=g));if(d===n[b+1])return void(n[b+2]=g)}b++,null!==d&&b++,null!==g&&b++}-1!==R&&(n.splice(R,0,i),b=R+1),n.splice(b++,0,l),null!==d&&n.splice(b++,0,d),null!==g&&n.splice(b++,0,g)}function Vu(n){return-1!==n}function Io(n){return 32767&n}function Ql(n,i){let l=function Jo(n){return n>>16}(n),d=i;for(;l>0;)d=d[15],l--;return d}let ba=!0;function hl(n){const i=ba;return ba=n,i}let xr=0;const Ks={};function fl(n,i){const l=On(n,i);if(-1!==l)return l;const d=i[1];d.firstCreatePass&&(n.injectorIndex=i.length,za(d.data,n),za(i,null),za(d.blueprint,null));const g=Ms(n,i),b=n.injectorIndex;if(Vu(g)){const R=Io(g),$=Ql(g,i),H=$[1].data;for(let se=0;se<8;se++)i[b+se]=$[R+se]|H[R+se]}return i[b+8]=g,b}function za(n,i){n.push(0,0,0,0,0,0,0,0,i)}function On(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Ms(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let l=0,d=null,g=i;for(;null!==g;){if(d=wa(g),null===d)return-1;if(l++,g=g[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Fo(n,i,l){!function Wa(n,i,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(nt)&&(d=l[nt]),null==d&&(d=l[nt]=xr++);const g=255&d;i.data[n+(g>>5)]|=1<<g}(n,i,l)}function ii(n,i,l){if(l&dn.Optional||void 0!==n)return n;Qe()}function $i(n,i,l,d){if(l&dn.Optional&&void 0===d&&(d=null),0==(l&(dn.Self|dn.Host))){const g=n[9],b=Kn(void 0);try{return g?g.get(i,d,l&dn.Optional):mi(i,d,l&dn.Optional)}finally{Kn(b)}}return ii(d,0,l)}function mo(n,i,l,d=dn.Default,g){if(null!==n){if(1024&i[2]){const R=function Al(n,i,l,d,g){let b=n,R=i;for(;null!==b&&null!==R&&1024&R[2]&&!(256&R[2]);){const $=Xn(b,R,l,d|dn.Self,Ks);if($!==Ks)return $;let H=b.parent;if(!H){const se=R[21];if(se){const Me=se.get(l,Ks,d);if(Me!==Ks)return Me}H=wa(R),R=R[15]}b=H}return g}(n,i,l,d,Ks);if(R!==Ks)return R}const b=Xn(n,i,l,d,Ks);if(b!==Ks)return b}return $i(i,l,d,g)}function Xn(n,i,l,d,g){const b=function gl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(nt)?n[nt]:void 0;return"number"==typeof i?i>=0?255&i:Ka:i}(l);if("function"==typeof b){if(!Ns(i,n,d))return d&dn.Host?ii(g,0,d):$i(i,l,d,g);try{const R=b(d);if(null!=R||d&dn.Optional)return R;Qe()}finally{j()}}else if("number"==typeof b){let R=null,$=On(n,i),H=-1,se=d&dn.Host?i[16][6]:null;for((-1===$||d&dn.SkipSelf)&&(H=-1===$?Ms(n,i):i[$+8],-1!==H&&Ll(d,!1)?(R=i[1],$=Io(H),i=Ql(H,i)):$=-1);-1!==$;){const Me=i[1];if(vs(b,$,Me.data)){const Ke=un($,i,l,R,d,se);if(Ke!==Ks)return Ke}H=i[$+8],-1!==H&&Ll(d,i[1].data[$+8]===se)&&vs(b,$,i)?(R=Me,$=Io(H),i=Ql(H,i)):$=-1}}return g}function un(n,i,l,d,g,b){const R=i[1],$=R.data[n+8],Me=pn($,R,l,null==d?Pt($)&&ba:d!=R&&0!=(3&$.type),g&dn.Host&&b===$);return null!==Me?Kr(i,R,Me,$):Ks}function pn(n,i,l,d,g){const b=n.providerIndexes,R=i.data,$=1048575&b,H=n.directiveStart,Me=b>>20,Ft=g?$+Me:n.directiveEnd;for(let qt=d?$:$+Me;qt<Ft;qt++){const Mn=R[qt];if(qt<H&&l===Mn||qt>=H&&Mn.type===l)return qt}if(g){const qt=R[H];if(qt&&rn(qt)&&qt.type===l)return H}return null}function Kr(n,i,l,d){let g=n[l];const b=i.data;if(function va(n){return n instanceof ua}(g)){const R=g;R.resolving&&function Lt(n,i){const l=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new ft(-200,`Circular dependency in DI detected for ${n}${l}`)}(function Ge(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Be(n)}(b[l]));const $=hl(R.canSeeViewProviders);R.resolving=!0;const H=R.injectImpl?Kn(R.injectImpl):null;Ns(n,d,dn.Default);try{g=n[l]=R.factory(void 0,b,n,d),i.firstCreatePass&&l>=d.directiveStart&&function Co(n,i,l){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:b}=i.type.prototype;if(d){const R=so(i);(l.preOrderHooks||(l.preOrderHooks=[])).push(n,R),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(n,R)}g&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-n,g),b&&((l.preOrderHooks||(l.preOrderHooks=[])).push(n,b),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(n,b))}(l,b[l],i)}finally{null!==H&&Kn(H),hl($),R.resolving=!1,j()}}return g}function vs(n,i,l){return!!(l[i+(n>>5)]&1<<n)}function Ll(n,i){return!(n&dn.Self||n&dn.Host&&i)}class tl{constructor(i,l){this._tNode=i,this._lView=l}get(i,l,d){return mo(this._tNode,this._lView,i,d,l)}}function Ka(){return new tl(Z(),wn())}function Bl(n){return Di(()=>{const i=n.prototype.constructor,l=i[ct]||Oa(i),d=Object.prototype;let g=Object.getPrototypeOf(n.prototype).constructor;for(;g&&g!==d;){const b=g[ct]||Oa(g);if(b&&b!==l)return b;g=Object.getPrototypeOf(g)}return b=>new b})}function Oa(n){return ye(n)?()=>{const i=Oa(fe(n));return i&&i()}:_s(n)}function wa(n){const i=n[1],l=i.type;return 2===l?i.declTNode:1===l?n[6]:null}function Lo(n){return function pl(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const l=n.attrs;if(l){const d=l.length;let g=0;for(;g<d;){const b=l[g];if(Sl(b))break;if(0===b)g+=2;else if("number"==typeof b)for(g++;g<d&&"string"==typeof l[g];)g++;else{if(b===i)return l[g+1];g+=2}}}return null}(Z(),n)}const qi="__parameters__";function Hi(n,i,l){return Di(()=>{const d=function ns(n){return function(...l){if(n){const d=n(...l);for(const g in d)this[g]=d[g]}}}(i);function g(...b){if(this instanceof g)return d.apply(this,b),this;const R=new g(...b);return $.annotation=R,$;function $(H,se,Me){const Ke=H.hasOwnProperty(qi)?H[qi]:Object.defineProperty(H,qi,{value:[]})[qi];for(;Ke.length<=Me;)Ke.push(null);return(Ke[Me]=Ke[Me]||[]).push(R),H}}return l&&(g.prototype=Object.create(l.prototype)),g.prototype.ngMetadataName=n,g.annotationCls=g,g})}class us{constructor(i,l){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=$t({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _o(n,i){void 0===i&&(i=n);for(let l=0;l<n.length;l++){let d=n[l];Array.isArray(d)?(i===n&&(i=n.slice(0,l)),_o(d,i)):i!==n&&i.push(d)}return i}function da(n,i){n.forEach(l=>Array.isArray(l)?da(l,i):i(l))}function en(n,i,l){i>=n.length?n.push(l):n.splice(i,0,l)}function Ea(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function yo(n,i){const l=[];for(let d=0;d<n;d++)l.push(i);return l}function O(n,i,l){let d=J(n,i);return d>=0?n[1|d]=l:(d=~d,function Ca(n,i,l,d){let g=n.length;if(g==i)n.push(l,d);else if(1===g)n.push(d,n[0]),n[0]=l;else{for(g--,n.push(n[g-1],n[g]);g>i;)n[g]=n[g-2],g--;n[i]=l,n[i+1]=d}}(n,d,i,l)),d}function W(n,i){const l=J(n,i);if(l>=0)return n[1|l]}function J(n,i){return function st(n,i,l){let d=0,g=n.length>>l;for(;g!==d;){const b=d+(g-d>>1),R=n[b<<l];if(i===R)return b<<l;R>i?g=b:d=b+1}return~(g<<l)}(n,i,1)}const Os={},oo="__NG_DI_FLAG__",Vl="ngTempTokenPath",qs=/\n/gm,md="__source";let z;function ee(n){const i=z;return z=n,i}function Ne(n,i=dn.Default){if(void 0===z)throw new ft(-203,!1);return null===z?mi(n,void 0,i):z.get(n,i&dn.Optional?null:void 0,i)}function qe(n,i=dn.Default){return(function xi(){return Ni}()||Ne)(fe(n),i)}function nn(n,i=dn.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),qe(n,i)}function An(n){const i=[];for(let l=0;l<n.length;l++){const d=fe(n[l]);if(Array.isArray(d)){if(0===d.length)throw new ft(900,!1);let g,b=dn.Default;for(let R=0;R<d.length;R++){const $=d[R],H=zi($);"number"==typeof H?-1===H?g=$.token:b|=H:g=$}i.push(qe(g,b))}else i.push(qe(d))}return i}function Qn(n,i){return n[oo]=i,n.prototype[oo]=i,n}function zi(n){return n[oo]}const Us=Qn(Hi("Optional"),8),Ia=Qn(Hi("SkipSelf"),4);let Vc,zu;function Ta(n){Vc=n}function Uc(n){return function vd(){if(void 0===zu&&(zu=null,jt.trustedTypes))try{zu=jt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zu}()?.createHTML(n)||n}class tu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ml(n){return n instanceof tu?n.changingThisBreaksApplicationSecurity:n}class qu{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const l=(new window.DOMParser).parseFromString(Uc(i),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(i):(l.removeChild(l.firstChild),l)}catch{return null}}}class Ah{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(i){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Uc(i),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Uc(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(i){const l=i.attributes;for(let g=l.length-1;0<g;g--){const R=l.item(g).name;("xmlns:ns1"===R||0===R.indexOf("ns1:"))&&i.removeAttribute(R)}let d=i.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const yl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function wc(n){return(n=String(n)).match(yl)?n:"unsafe:"+n}function al(n){const i={};for(const l of n.split(","))i[l]=!0;return i}function xl(...n){const i={};for(const l of n)for(const d in l)l.hasOwnProperty(d)&&(i[d]=!0);return i}const iu=al("area,br,col,hr,img,wbr"),Eu=al("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ru=al("rp,rt"),Za=xl(iu,xl(Eu,al("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xl(ru,al("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xl(ru,Eu)),jl=al("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cc=xl(jl,al("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),al("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var sa=(()=>((sa=sa||{})[sa.NONE=0]="NONE",sa[sa.HTML=1]="HTML",sa[sa.STYLE=2]="STYLE",sa[sa.SCRIPT=3]="SCRIPT",sa[sa.URL=4]="URL",sa[sa.RESOURCE_URL=5]="RESOURCE_URL",sa))();function oc(n){const i=function Dc(){const n=wn();return n&&n[12]}();return i?i.sanitize(sa.URL,n)||"":function wu(n,i){const l=function sc(n){return n instanceof tu&&n.getTypeName()||null}(n);if(null!=l&&l!==i){if("ResourceURL"===l&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===i}(n,"URL")?Ml(n):wc(Be(n))}const Ic=new us("ENVIRONMENT_INITIALIZER"),Gl=new us("INJECTOR",-1),Ol=new us("INJECTOR_DEF_TYPES");class Bo{get(i,l=Os){if(l===Os){const d=new Error(`NullInjectorError: No provider for ${ge(i)}!`);throw d.name="NullInjectorError",d}return l}}function nh(...n){return{\u0275providers:Pa(0,n)}}function Pa(n,...i){const l=[],d=new Set;let g;return da(i,b=>{const R=b;bo(R,l,[],d)&&(g||(g=[]),g.push(R))}),void 0!==g&&Xu(g,l),l}function Xu(n,i){for(let l=0;l<n.length;l++){const{providers:g}=n[l];da(g,b=>{i.push(b)})}}function bo(n,i,l,d){if(!(n=fe(n)))return!1;let g=null,b=yi(n);const R=!b&&Hn(n);if(b||R){if(R&&!R.standalone)return!1;g=n}else{const H=n.ngModule;if(b=yi(H),!b)return!1;g=H}const $=d.has(g);if(R){if($)return!1;if(d.add(g),R.dependencies){const H="function"==typeof R.dependencies?R.dependencies():R.dependencies;for(const se of H)bo(se,i,l,d)}}else{if(!b)return!1;{if(null!=b.imports&&!$){let se;d.add(g);try{da(b.imports,Me=>{bo(Me,i,l,d)&&(se||(se=[]),se.push(Me))})}finally{}void 0!==se&&Xu(se,i)}if(!$){const se=_s(g)||(()=>new g);i.push({provide:g,useFactory:se,deps:mn},{provide:Ol,useValue:g,multi:!0},{provide:Ic,useValue:()=>qe(g),multi:!0})}const H=b.providers;null==H||$||da(H,Me=>{i.push(Me)})}}return g!==n&&void 0!==n.providers}const Du=de({provide:String,useValue:de});function Wc(n){return null!==n&&"object"==typeof n&&Du in n}function ac(n){return"function"==typeof n}const Tc=new us("Set Injector scope."),ka={},td={};let cu;function nd(){return void 0===cu&&(cu=new Bo),cu}class lc{}class Iu extends lc{constructor(i,l,d,g){super(),this.parent=l,this.source=d,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ac(i,R=>this.processProvider(R)),this.records.set(Gl,Ao(void 0,this)),g.has("environment")&&this.records.set(lc,Ao(void 0,this));const b=this.records.get(Tc);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Ol.multi,mn,dn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const l=ee(this),d=Kn(void 0);try{return i()}finally{ee(l),Kn(d)}}get(i,l=Os,d=dn.Default){this.assertNotDestroyed();const g=ee(this),b=Kn(void 0);try{if(!(d&dn.SkipSelf)){let $=this.records.get(i);if(void 0===$){const H=function Sc(n){return"function"==typeof n||"object"==typeof n&&n instanceof us}(i)&&bn(i);$=H&&this.injectableDefInScope(H)?Ao(Go(i),ka):null,this.records.set(i,$)}if(null!=$)return this.hydrate(i,$)}return(d&dn.Self?nd():this.parent).get(i,l=d&dn.Optional&&l===Os?null:l)}catch(R){if("NullInjectorError"===R.name){if((R[Vl]=R[Vl]||[]).unshift(ge(i)),g)throw R;return function Ji(n,i,l,d){const g=n[Vl];throw i[md]&&g.unshift(i[md]),n.message=function Ci(n,i,l,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let g=ge(i);if(Array.isArray(i))g=i.map(ge).join(" -> ");else if("object"==typeof i){let b=[];for(let R in i)if(i.hasOwnProperty(R)){let $=i[R];b.push(R+":"+("string"==typeof $?JSON.stringify($):ge($)))}g=`{${b.join(", ")}}`}return`${l}${d?"("+d+")":""}[${g}]: ${n.replace(qs,"\n  ")}`}("\n"+n.message,g,l,d),n.ngTokenPath=g,n[Vl]=null,n}(R,i,"R3InjectorError",this.source)}throw R}finally{Kn(b),ee(g)}}resolveInjectorInitializers(){const i=ee(this),l=Kn(void 0);try{const d=this.get(Ic.multi,mn,dn.Self);for(const g of d)g()}finally{ee(i),Kn(l)}}toString(){const i=[],l=this.records;for(const d of l.keys())i.push(ge(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ft(205,!1)}processProvider(i){let l=ac(i=fe(i))?i:fe(i&&i.provide);const d=function Fa(n){return Wc(n)?Ao(void 0,n.useValue):Ao(id(n),ka)}(i);if(ac(i)||!0!==i.multi)this.records.get(l);else{let g=this.records.get(l);g||(g=Ao(void 0,ka,!0),g.factory=()=>An(g.multi),this.records.set(l,g)),l=i,g.multi.push(i)}this.records.set(l,d)}hydrate(i,l){return l.value===ka&&(l.value=td,l.value=l.factory()),"object"==typeof l.value&&l.value&&function vl(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(i){if(!i.providedIn)return!1;const l=fe(i.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Go(n){const i=bn(n),l=null!==i?i.factory:_s(n);if(null!==l)return l;if(n instanceof us)throw new ft(204,!1);if(n instanceof Function)return function Tu(n){const i=n.length;if(i>0)throw yo(i,"?"),new ft(204,!1);const l=function Zn(n){const i=n&&(n[Er]||n[ei]);if(i){const l=function zn(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),i}return null}(n);return null!==l?()=>l.factory(n):()=>new n}(n);throw new ft(204,!1)}function id(n,i,l){let d;if(ac(n)){const g=fe(n);return _s(g)||Go(g)}if(Wc(n))d=()=>fe(n.useValue);else if(function Ar(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...An(n.deps||[]));else if(function ed(n){return!(!n||!n.useExisting)}(n))d=()=>qe(fe(n.useExisting));else{const g=fe(n&&(n.useClass||n.provide));if(!function zl(n){return!!n.deps}(n))return _s(g)||Go(g);d=()=>new g(...An(n.deps))}return d}function Ao(n,i,l=!1){return{factory:n,value:i,multi:l?[]:void 0}}function oa(n){return!!n.\u0275providers}function Ac(n,i){for(const l of n)Array.isArray(l)?Ac(l,i):oa(l)?Ac(l.\u0275providers,i):i(l)}class Su{}class _{resolveComponentFactory(i){throw function Kl(n){const i=Error(`No component factory found for ${ge(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let w=(()=>{class n{}return n.NULL=new _,n})();function k(){return ae(Z(),wn())}function ae(n,i){return new Pe($s(n,i))}let Pe=(()=>{class n{constructor(l){this.nativeElement=l}}return n.__NG_ELEMENT_ID__=k,n})();function kt(n){return n instanceof Pe?n.nativeElement:n}class qn{}let Ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function sr(){const n=wn(),l=Tr(Z().index,n);return(Nt(l)?l:n)[11]}(),n})(),Xi=(()=>{class n{}return n.\u0275prov=$t({token:n,providedIn:"root",factory:()=>null}),n})();class Wo{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Rl=new Wo("14.2.2"),La={};function up(n){return n.ngOriginalError}class Oh{constructor(){this._console=console}handleError(i){const l=this._findOriginalError(i);this._console.error("ERROR",i),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(i){let l=i&&up(i);for(;l&&up(l);)l=up(l);return l||null}}const rm=/^>|^->|<!--|-->|--!>|<!-$/g,Kc=/(<|>)/;const Rh=new Map;let Jp=0;const Ad="__ngContext__";function qo(n,i){Nt(i)?(n[Ad]=i[20],function dp(n){Rh.set(n[20],n)}(i)):n[Ad]=i}function E(n){return n.ownerDocument.defaultView}function ne(n){return n instanceof Function?n():n}var fi=(()=>((fi=fi||{})[fi.Important=1]="Important",fi[fi.DashCase=2]="DashCase",fi))();let Si;function zr(n,i){return Si(n,i)}function Gr(n){const i=n[3];return Ue(i)?i[3]:i}function Br(n){return Qs(n[13])}function gs(n){return Qs(n[4])}function Qs(n){for(;null!==n&&!Ue(n);)n=n[4];return n}function lo(n,i,l,d,g){if(null!=d){let b,R=!1;Ue(d)?b=d:Nt(d)&&(R=!0,d=d[0]);const $=kr(d);0===n&&null!==l?null==g?uc(i,l,$):Zl(i,l,$,g||null,!0):1===n&&null!==l?Zl(i,l,$,g||null,!0):2===n?Mu(i,$,R):3===n&&i.destroyNode($),null!=b&&function Xm(n,i,l,d,g){const b=l[7];b!==kr(l)&&lo(i,n,d,b,g);for(let $=10;$<l.length;$++){const H=l[$];No(H[1],H,n,i,d,b)}}(i,n,b,l,g)}}function Eo(n,i){return n.createText(i)}function $o(n,i,l){n.setValue(i,l)}function Yl(n,i){return n.createComment(function sh(n){return n.replace(rm,i=>i.replace(Kc,"\u200b$1\u200b"))}(i))}function js(n,i,l){return n.createElement(i,l)}function xd(n,i){const l=n[9],d=l.indexOf(i),g=i[3];512&i[2]&&(i[2]&=-513,Hr(g,-1)),l.splice(d,1)}function Oc(n,i){if(n.length<=10)return;const l=10+i,d=n[l];if(d){const g=d[17];null!==g&&g!==n&&xd(g,d),i>0&&(n[l-1][4]=d[4]);const b=Ea(n,10+i);!function Au(n,i){No(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(d[1],d);const R=b[19];null!==R&&R.detachView(b[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Od(n,i){if(!(128&i[2])){const l=i[11];l.destroyNode&&No(n,i,l,3,null,null),function cc(n){let i=n[13];if(!i)return Rc(n[1],n);for(;i;){let l=null;if(Nt(i))l=i[13];else{const d=i[10];d&&(l=d)}if(!l){for(;i&&!i[4]&&i!==n;)Nt(i)&&Rc(i[1],i),i=i[3];null===i&&(i=n),Nt(i)&&Rc(i[1],i),l=i&&i[4]}i=l}}(i)}}function Rc(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function bl(n,i){let l;if(null!=n&&null!=(l=n.destroyHooks))for(let d=0;d<l.length;d+=2){const g=i[l[d]];if(!(g instanceof ua)){const b=l[d+1];if(Array.isArray(b))for(let R=0;R<b.length;R+=2){const $=g[b[R]],H=b[R+1];try{H.call($)}finally{}}else try{b.call(g)}finally{}}}}(n,i),function ad(n,i){const l=n.cleanup,d=i[7];let g=-1;if(null!==l)for(let b=0;b<l.length-1;b+=2)if("string"==typeof l[b]){const R=l[b+1],$="function"==typeof R?R(i):kr(i[R]),H=d[g=l[b+2]],se=l[b+3];"boolean"==typeof se?$.removeEventListener(l[b],H,se):se>=0?d[g=se]():d[g=-se].unsubscribe(),b+=2}else{const R=d[g=l[b+1]];l[b].call(R)}if(null!==d){for(let b=g+1;b<d.length;b++)(0,d[b])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const l=i[17];if(null!==l&&Ue(i[3])){l!==i[3]&&xd(l,i);const d=i[19];null!==d&&d.detachView(n)}!function Xp(n){Rh.delete(n[20])}(i)}}function ld(n,i,l){return Rd(n,i.parent,l)}function Rd(n,i,l){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return l[0];if(2&d.flags){const g=n.data[d.directiveStart].encapsulation;if(g===Ot.None||g===Ot.Emulated)return null}return $s(d,l)}function Zl(n,i,l,d,g){n.insertBefore(i,l,d,g)}function uc(n,i,l){n.appendChild(i,l)}function ig(n,i,l,d,g){null!==d?Zl(n,i,l,d,g):uc(n,i,l)}function Pd(n,i){return n.parentNode(i)}function rg(n,i,l){return Nu(n,i,l)}function bf(n,i,l){return 40&n.type?$s(n,l):null}let kd,Nu=bf;function fp(n,i){Nu=n,kd=i}function qc(n,i,l,d){const g=ld(n,d,i),b=i[11],$=rg(d.parent||i[6],d,i);if(null!=g)if(Array.isArray(l))for(let H=0;H<l.length;H++)ig(b,g,l[H],$,!1);else ig(b,g,l,$,!1);void 0!==kd&&kd(b,d,i,l,g)}function Fd(n,i){if(null!==i){const l=i.type;if(3&l)return $s(i,n);if(4&l)return ch(-1,n[i.index]);if(8&l){const d=i.child;if(null!==d)return Fd(n,d);{const g=n[i.index];return Ue(g)?ch(-1,g):kr(g)}}if(32&l)return zr(i,n)()||kr(n[i.index]);{const d=wf(n,i);return null!==d?Array.isArray(d)?d[0]:Fd(Gr(n[16]),d):Fd(n,i.next)}}return null}function wf(n,i){return null!==i?n[16][6].projection[i.projection]:null}function ch(n,i){const l=10+n+1;if(l<i.length){const d=i[l],g=d[1].firstChild;if(null!==g)return Fd(d,g)}return i[7]}function Mu(n,i,l){const d=Pd(n,i);d&&function lh(n,i,l,d){n.removeChild(i,l,d)}(n,d,i,l)}function cd(n,i,l,d,g,b,R){for(;null!=l;){const $=d[l.index],H=l.type;if(R&&0===i&&($&&qo(kr($),d),l.flags|=4),64!=(64&l.flags))if(8&H)cd(n,i,l.child,d,g,b,!1),lo(i,n,g,$,b);else if(32&H){const se=zr(l,d);let Me;for(;Me=se();)lo(i,n,g,Me,b);lo(i,n,g,$,b)}else 16&H?kh(n,i,d,l,g,b):lo(i,n,g,$,b);l=R?l.projectionNext:l.next}}function No(n,i,l,d,g,b){cd(l,d,n.firstChild,i,g,b,!1)}function kh(n,i,l,d,g,b){const R=l[16],H=R[6].projection[d.projection];if(Array.isArray(H))for(let se=0;se<H.length;se++)lo(i,n,g,H[se],b);else cd(n,i,H,R[3],g,b,!0)}function og(n,i,l){n.setAttribute(i,"style",l)}function ag(n,i,l){""===l?n.removeAttribute(i,"class"):n.setAttribute(i,"class",l)}function Ef(n,i,l){let d=n.length;for(;;){const g=n.indexOf(i,l);if(-1===g)return g;if(0===g||n.charCodeAt(g-1)<=32){const b=i.length;if(g+b===d||n.charCodeAt(g+b)<=32)return g}l=g+1}}const lg="ng-template";function cg(n,i,l){let d=0;for(;d<n.length;){let g=n[d++];if(l&&"class"===g){if(g=n[d],-1!==Ef(g.toLowerCase(),i,0))return!0}else if(1===g){for(;d<n.length&&"string"==typeof(g=n[d++]);)if(g.toLowerCase()===i)return!0;return!1}}return!1}function pp(n){return 4===n.type&&n.value!==lg}function Cf(n,i,l){return i===(4!==n.type||l?n.value:lg)}function ug(n,i,l){let d=4;const g=n.attrs||[],b=function um(n){for(let i=0;i<n.length;i++)if(Sl(n[i]))return i;return n.length}(g);let R=!1;for(let $=0;$<i.length;$++){const H=i[$];if("number"!=typeof H){if(!R)if(4&d){if(d=2|1&d,""!==H&&!Cf(n,H,l)||""===H&&1===i.length){if(Pc(d))return!1;R=!0}}else{const se=8&d?H:i[++$];if(8&d&&null!==n.attrs){if(!cg(n.attrs,se,l)){if(Pc(d))return!1;R=!0}continue}const Ke=dg(8&d?"class":H,g,pp(n),l);if(-1===Ke){if(Pc(d))return!1;R=!0;continue}if(""!==se){let Ft;Ft=Ke>b?"":g[Ke+1].toLowerCase();const qt=8&d?Ft:null;if(qt&&-1!==Ef(qt,se,0)||2&d&&se!==Ft){if(Pc(d))return!1;R=!0}}}}else{if(!R&&!Pc(d)&&!Pc(H))return!1;if(R&&Pc(H))continue;R=!1,d=H|1&d}}return Pc(d)||R}function Pc(n){return 0==(1&n)}function dg(n,i,l,d){if(null===i)return-1;let g=0;if(d||!l){let b=!1;for(;g<i.length;){const R=i[g];if(R===n)return g;if(3===R||6===R)b=!0;else{if(1===R||2===R){let $=i[++g];for(;"string"==typeof $;)$=i[++g];continue}if(4===R)break;if(0===R){g+=4;continue}}g+=b?1:2}return-1}return function dm(n,i){let l=n.indexOf(4);if(l>-1)for(l++;l<n.length;){const d=n[l];if("number"==typeof d)return-1;if(d===i)return l;l++}return-1}(i,n)}function hg(n,i,l=!1){for(let d=0;d<i.length;d++)if(ug(n,i[d],l))return!0;return!1}function fg(n,i){e:for(let l=0;l<i.length;l++){const d=i[l];if(n.length===d.length){for(let g=0;g<n.length;g++)if(n[g]!==d[g])continue e;return!0}}return!1}function hm(n,i){return n?":not("+i.trim()+")":i}function fm(n){let i=n[0],l=1,d=2,g="",b=!1;for(;l<n.length;){let R=n[l];if("string"==typeof R)if(2&d){const $=n[++l];g+="["+R+($.length>0?'="'+$+'"':"")+"]"}else 8&d?g+="."+R:4&d&&(g+=" "+R);else""!==g&&!Pc(R)&&(i+=hm(b,g),g=""),d=R,b=b||!Pc(d);l++}return""!==g&&(i+=hm(b,g)),i}const Wr={};function uh(n){dh(S(),wn(),dt()+n,!1)}function dh(n,i,l,d){if(!d)if(3==(3&i[2])){const b=n.preOrderCheckHooks;null!==b&&ws(i,b,l)}else{const b=n.preOrderHooks;null!==b&&ja(i,b,0,l)}Yt(l)}function mg(n,i=null,l=null,d){const g=_g(n,i,l,d);return g.resolveInjectorInitializers(),g}function _g(n,i=null,l=null,d,g=new Set){const b=[l||mn,nh(n)];return d=d||("object"==typeof n?void 0:ge(n)),new Iu(b,i||nd(),d||null,g)}let ud=(()=>{class n{static create(l,d){if(Array.isArray(l))return mg({name:""},d,l,"");{const g=l.name??"";return mg({name:g},l.parent,l.providers,g)}}}return n.THROW_IF_NOT_FOUND=Os,n.NULL=new Bo,n.\u0275prov=$t({token:n,providedIn:"any",factory:()=>qe(Gl)}),n.__NG_ELEMENT_ID__=-1,n})();function dd(n,i=dn.Default){const l=wn();return null===l?qe(n,i):mo(Z(),l,fe(n),i)}function uu(){throw new Error("invalid")}function $h(n,i){return n<<17|i<<2}function Pl(n){return n>>17&32767}function bp(n){return 2|n}function hu(n){return(131068&n)>>2}function mh(n,i){return-131069&n|i<<2}function xf(n){return 1|n}function $f(n,i){const l=n.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const g=l[d],b=l[d+1];if(-1!==b){const R=n.data[b];Po(g),R.contentQueries(2,i[b],b)}}}function Hh(n,i,l,d,g,b,R,$,H,se,Me){const Ke=i.blueprint.slice();return Ke[0]=g,Ke[2]=76|d,(null!==Me||n&&1024&n[2])&&(Ke[2]|=1024),Oo(Ke),Ke[3]=Ke[15]=n,Ke[8]=l,Ke[10]=R||n&&n[10],Ke[11]=$||n&&n[11],Ke[12]=H||n&&n[12]||null,Ke[9]=se||n&&n[9]||null,Ke[6]=b,Ke[20]=function lm(){return Jp++}(),Ke[21]=Me,Ke[16]=2==i.type?n[16]:Ke,Ke}function jd(n,i,l,d,g){let b=n.data[i];if(null===b)b=Vf(n,i,l,d,g),function lr(){return Ui.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=l,b.value=d,b.attrs=g;const R=Kt();b.injectorIndex=null===R?-1:R.injectorIndex}return jn(b,!0),b}function Vf(n,i,l,d,g){const b=Oe(),R=gi(),H=n.data[i]=function Im(n,i,l,d,g,b){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,R?b:b&&b.parent,l,i,d,g);return null===n.firstChild&&(n.firstChild=H),null!==b&&(R?null==b.child&&null!==H.parent&&(b.child=H):null===b.next&&(b.next=H)),H}function Hd(n,i,l,d){if(0===l)return-1;const g=i.length;for(let b=0;b<l;b++)i.push(d),n.blueprint.push(d),n.data.push(null);return g}function Uf(n,i,l){Ts(i);try{const d=n.viewQuery;null!==d&&Zh(1,d,l);const g=n.template;null!==g&&Gh(n,i,g,1,l),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&$f(n,i),n.staticViewQueries&&Zh(2,n.viewQuery,l);const b=n.components;null!==b&&function u_(n,i){for(let l=0;l<i.length;l++)g_(n,i[l])}(i,b)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[2]&=-5,le()}}function vh(n,i,l,d){const g=i[2];if(128!=(128&g)){Ts(i);try{Oo(i),function Yn(n){return Ui.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==l&&Gh(n,i,l,2,d);const R=3==(3&g);if(R){const se=n.preOrderCheckHooks;null!==se&&ws(i,se,null)}else{const se=n.preOrderHooks;null!==se&&ja(i,se,0,null),ya(i,0)}if(function $g(n){for(let i=Br(n);null!==i;i=gs(i)){if(!i[2])continue;const l=i[9];for(let d=0;d<l.length;d++){const g=l[d],b=g[3];0==(512&g[2])&&Hr(b,1),g[2]|=512}}}(i),function Bg(n){for(let i=Br(n);null!==i;i=gs(i))for(let l=10;l<i.length;l++){const d=i[l],g=d[1];zo(d)&&vh(g,d,g.template,d[8])}}(i),null!==n.contentQueries&&$f(n,i),R){const se=n.contentCheckHooks;null!==se&&ws(i,se)}else{const se=n.contentHooks;null!==se&&ja(i,se,1),ya(i,1)}!function Ag(n,i){const l=n.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const g=l[d];if(g<0)Yt(~g);else{const b=g,R=l[++d],$=l[++d];Vr(R,b),$(2,i[b])}}}finally{Yt(-1)}}(n,i);const $=n.components;null!==$&&function c_(n,i){for(let l=0;l<i.length;l++)Vg(n,i[l])}(i,$);const H=n.viewQuery;if(null!==H&&Zh(2,H,d),R){const se=n.viewCheckHooks;null!==se&&ws(i,se)}else{const se=n.viewHooks;null!==se&&ja(i,se,2),ya(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,Hr(i[3],-1))}finally{le()}}}function Gh(n,i,l,d,g){const b=dt(),R=2&d;try{Yt(-1),R&&i.length>22&&dh(n,i,22,!1),l(d,g)}finally{Yt(b)}}function Wh(n,i,l){if(et(i)){const g=i.directiveEnd;for(let b=i.directiveStart;b<g;b++){const R=n.data[b];R.contentQueries&&R.contentQueries(1,l[b],b)}}}function jf(n,i,l){!cs()||(function Rg(n,i,l,d){const g=l.directiveStart,b=l.directiveEnd;n.firstCreatePass||fl(l,i),qo(d,i);const R=l.initialInputs;for(let $=g;$<b;$++){const H=n.data[$],se=rn(H);se&&Fg(i,l,H);const Me=Kr(i,n,$,l);qo(Me,i),null!==R&&Kh(0,$-g,Me,H,0,R),se&&(Tr(l.index,i)[8]=Me)}}(n,i,l,$s(l,i)),128==(128&l.flags)&&function Sm(n,i,l){const d=l.directiveStart,g=l.directiveEnd,b=l.index,R=function Zr(){return Ui.lFrame.currentDirectiveIndex}();try{Yt(b);for(let $=d;$<g;$++){const H=n.data[$],se=i[$];hi($),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Am(H,se)}}finally{Yt(-1),hi(R)}}(n,i,l))}function Hf(n,i,l=$s){const d=i.localNames;if(null!==d){let g=i.index+1;for(let b=0;b<d.length;b+=2){const R=d[b+1],$=-1===R?l(i,n):n[R];n[g++]=$}}}function Dm(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Mp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Mp(n,i,l,d,g,b,R,$,H,se){const Me=22+d,Ke=Me+g,Ft=function Ng(n,i){const l=[];for(let d=0;d<i;d++)l.push(d<n?null:Wr);return l}(Me,Ke),qt="function"==typeof se?se():se;return Ft[1]={type:n,blueprint:Ft,template:l,queries:null,viewQuery:$,declTNode:i,data:Ft.slice().fill(null,Me),bindingStartIndex:Me,expandoStartIndex:Ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof R?R():R,firstChild:null,schemas:H,consts:qt,incompleteFirstPass:!1}}function xp(n,i,l,d){const g=jg(i);null===l?g.push(d):(g.push(l),n.firstCreatePass&&Mm(n).push(d,g.length-1))}function zh(n,i,l){for(let d in n)if(n.hasOwnProperty(d)){const g=n[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(i,g):l[d]=[i,g]}return l}function Gf(n,i){const d=i.directiveEnd,g=n.data,b=i.attrs,R=[];let $=null,H=null;for(let se=i.directiveStart;se<d;se++){const Me=g[se],Ke=Me.inputs,Ft=null===b||pp(i)?null:Lg(Ke,b);R.push(Ft),$=zh(Ke,se,$),H=zh(Me.outputs,se,H)}null!==$&&($.hasOwnProperty("class")&&(i.flags|=16),$.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=R,i.inputs=$,i.outputs=H}function cl(n,i,l,d,g,b,R,$){const H=$s(i,l);let Me,se=i.inputs;!$&&null!=se&&(Me=se[d])?(Kf(n,l,Me,d,g),Pt(i)&&Mg(l,i.index)):3&i.type&&(d=function Tm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),g=null!=R?R(g,i.value||"",d):g,b.setProperty(H,d,g))}function Mg(n,i){const l=Tr(i,n);16&l[2]||(l[2]|=32)}function pu(n,i,l,d){let g=!1;if(cs()){const b=function zf(n,i,l){const d=n.directiveRegistry;let g=null;if(d)for(let b=0;b<d.length;b++){const R=d[b];hg(l,R.selectors,!1)&&(g||(g=[]),Fo(fl(l,i),n,R.type),rn(R)?(Nm(n,l),g.unshift(R)):g.push(R))}return g}(n,i,l),R=null===d?null:{"":-1};if(null!==b){g=!0,Op(l,n.data.length,b.length);for(let Me=0;Me<b.length;Me++){const Ke=b[Me];Ke.providersResolver&&Ke.providersResolver(Ke)}let $=!1,H=!1,se=Hd(n,i,b.length,null);for(let Me=0;Me<b.length;Me++){const Ke=b[Me];l.mergedAttrs=Xa(l.mergedAttrs,Ke.hostAttrs),kg(n,l,i,se,Ke),p_(se,Ke,R),null!==Ke.contentQueries&&(l.flags|=8),(null!==Ke.hostBindings||null!==Ke.hostAttrs||0!==Ke.hostVars)&&(l.flags|=128);const Ft=Ke.type.prototype;!$&&(Ft.ngOnChanges||Ft.ngOnInit||Ft.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(l.index),$=!0),!H&&(Ft.ngOnChanges||Ft.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(l.index),H=!0),se++}Gf(n,l)}R&&function Pg(n,i,l){if(i){const d=n.localNames=[];for(let g=0;g<i.length;g+=2){const b=l[i[g+1]];if(null==b)throw new ft(-301,!1);d.push(i[g],b)}}}(l,d,R)}return l.mergedAttrs=Xa(l.mergedAttrs,l.attrs),g}function Wf(n,i,l,d,g,b){const R=b.hostBindings;if(R){let $=n.hostBindingOpCodes;null===$&&($=n.hostBindingOpCodes=[]);const H=~i.index;(function f_(n){let i=n.length;for(;i>0;){const l=n[--i];if("number"==typeof l&&l<0)return l}return 0})($)!=H&&$.push(H),$.push(d,g,R)}}function Am(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Nm(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function p_(n,i,l){if(l){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)l[i.exportAs[d]]=n;rn(i)&&(l[""]=n)}}function Op(n,i,l){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+l,n.providerIndexes=i}function kg(n,i,l,d,g){n.data[d]=g;const b=g.factory||(g.factory=_s(g.type)),R=new ua(b,rn(g),dd);n.blueprint[d]=R,l[d]=R,Wf(n,i,0,d,Hd(n,l,g.hostVars,Wr),g)}function Fg(n,i,l){const d=$s(i,n),g=Dm(l),b=n[10],R=Yh(n,Hh(n,g,null,l.onPush?32:16,d,i,b,b.createRenderer(d,l),null,null,null));n[i.index]=R}function bh(n,i,l,d,g,b,R){if(null==b)n.removeAttribute(i,g,l);else{const $=null==R?Be(b):R(b,d||"",g);n.setAttribute(i,g,$,l)}}function Kh(n,i,l,d,g,b){const R=b[i];if(null!==R){const $=d.setInput;for(let H=0;H<R.length;){const se=R[H++],Me=R[H++],Ke=R[H++];null!==$?d.setInput(l,Ke,se,Me):l[Me]=Ke}}}function Lg(n,i){let l=null,d=0;for(;d<i.length;){const g=i[d];if(0!==g)if(5!==g){if("number"==typeof g)break;n.hasOwnProperty(g)&&(null===l&&(l=[]),l.push(g,n[g],i[d+1])),d+=2}else d+=2;else d+=4}return l}function Rp(n,i,l,d){return new Array(n,!0,!1,i,null,0,d,l,null,null)}function Vg(n,i){const l=Tr(i,n);if(zo(l)){const d=l[1];48&l[2]?vh(d,l,d.template,l[8]):l[5]>0&&Gd(l)}}function Gd(n){for(let d=Br(n);null!==d;d=gs(d))for(let g=10;g<d.length;g++){const b=d[g];if(zo(b))if(512&b[2]){const R=b[1];vh(R,b,R.template,b[8])}else b[5]>0&&Gd(b)}const l=n[1].components;if(null!==l)for(let d=0;d<l.length;d++){const g=Tr(l[d],n);zo(g)&&g[5]>0&&Gd(g)}}function g_(n,i){const l=Tr(i,n),d=l[1];(function Ug(n,i){for(let l=i.length;l<n.blueprint.length;l++)i.push(n.blueprint[l])})(d,l),Uf(d,l,l[8])}function Yh(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Pp(n){for(;n;){n[2]|=32;const i=Gr(n);if(hn(n)&&!i)return n;n=i}return null}function wl(n,i,l,d=!0){const g=i[10];g.begin&&g.begin();try{vh(n,i,n.template,l)}catch(R){throw d&&Qh(i,R),R}finally{g.end&&g.end()}}function Zh(n,i,l){Po(0),i(n,l)}function jg(n){return n[7]||(n[7]=[])}function Mm(n){return n.cleanup||(n.cleanup=[])}function Qh(n,i){const l=n[9],d=l?l.get(Oh,null):null;d&&d.handleError(i)}function Kf(n,i,l,d,g){for(let b=0;b<l.length;){const R=l[b++],$=l[b++],H=i[R],se=n.data[R];null!==se.setInput?se.setInput(H,g,d,$):H[$]=g}}function xu(n,i,l){const d=fo(i,n);$o(n[11],d,l)}function Wd(n,i,l){let d=l?n.styles:null,g=l?n.classes:null,b=0;if(null!==i)for(let R=0;R<i.length;R++){const $=i[R];"number"==typeof $?b=$:1==b?g=Se(g,$):2==b&&(d=Se(d,$+": "+i[++R]+";"))}l?n.styles=d:n.stylesWithoutHost=d,l?n.classes=g:n.classesWithoutHost=g}function Jh(n,i,l,d,g=!1){for(;null!==l;){const b=i[l.index];if(null!==b&&d.push(kr(b)),Ue(b))for(let $=10;$<b.length;$++){const H=b[$],se=H[1].firstChild;null!==se&&Jh(H[1],H,se,d)}const R=l.type;if(8&R)Jh(n,i,l.child,d);else if(32&R){const $=zr(l,i);let H;for(;H=$();)d.push(H)}else if(16&R){const $=wf(i,l);if(Array.isArray($))d.push(...$);else{const H=Gr(i[16]);Jh(H[1],H,$,d,!0)}}l=g?l.projectionNext:l.next}return d}class zd{constructor(i,l){this._lView=i,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,l=i[1];return Jh(l,i,l.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Ue(i)){const l=i[8],d=l?l.indexOf(this):-1;d>-1&&(Oc(i,d),Ea(l,d))}this._attachedToViewContainer=!1}Od(this._lView[1],this._lView)}onDestroy(i){xp(this._lView[1],this._lView,null,i)}markForCheck(){Pp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){wl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ja(n,i){No(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ft(902,!1);this._appRef=i}}class kp extends zd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;wl(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Yf extends w{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const l=Hn(i);return new Ou(l,this.ngModule)}}function Gg(n){const i=[];for(let l in n)n.hasOwnProperty(l)&&i.push({propName:n[l],templateName:l});return i}class Wg{constructor(i,l){this.injector=i,this.parentInjector=l}get(i,l,d){const g=this.injector.get(i,La,d);return g!==La||l===La?g:this.parentInjector.get(i,l,d)}}class Ou extends Su{constructor(i,l){super(),this.componentDef=i,this.ngModule=l,this.componentType=i.type,this.selector=function n_(n){return n.map(fm).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Gg(this.componentDef.inputs)}get outputs(){return Gg(this.componentDef.outputs)}create(i,l,d,g){let b=(g=g||this.ngModule)instanceof lc?g:g?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const R=b?new Wg(i,b):i,$=R.get(qn,null);if(null===$)throw new ft(407,!1);const H=R.get(Xi,null),se=$.createRenderer(null,this.componentDef),Me=this.componentDef.selectors[0][0]||"div",Ke=d?function h_(n,i,l){return n.selectRootElement(i,l===Ot.ShadowDom)}(se,d,this.componentDef.encapsulation):js($.createRenderer(null,this.componentDef),Me,function Fp(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Me)),Ft=this.componentDef.onPush?288:272,qt=Mp(0,null,null,1,0,null,null,null,null,null),Mn=Hh(null,qt,null,Ft,null,null,$,se,H,R,null);let ti,wi;Ts(Mn);try{const er=function m_(n,i,l,d,g,b){const R=l[1];l[22]=n;const H=jd(R,22,2,"#host",null),se=H.mergedAttrs=i.hostAttrs;null!==se&&(Wd(H,se,!0),null!==n&&(ko(g,n,se),null!==H.classes&&ag(g,n,H.classes),null!==H.styles&&og(g,n,H.styles)));const Me=d.createRenderer(n,i),Ke=Hh(l,Dm(i),null,i.onPush?32:16,l[22],H,d,Me,b||null,null,null);return R.firstCreatePass&&(Fo(fl(H,l),R,i.type),Nm(R,H),Op(H,l.length,1)),Yh(l,Ke),l[22]=Ke}(Ke,this.componentDef,Mn,$,se);if(Ke)if(d)ko(se,Ke,["ng-version",Rl.full]);else{const{attrs:Mr,classes:Un}=function pm(n){const i=[],l=[];let d=1,g=2;for(;d<n.length;){let b=n[d];if("string"==typeof b)2===g?""!==b&&i.push(b,n[++d]):8===g&&l.push(b);else{if(!Pc(g))break;g=b}d++}return{attrs:i,classes:l}}(this.componentDef.selectors[0]);Mr&&ko(se,Ke,Mr),Un&&Un.length>0&&ag(se,Ke,Un.join(" "))}if(wi=io(qt,22),void 0!==l){const Mr=wi.projection=[];for(let Un=0;Un<this.ngContentSelectors.length;Un++){const $r=l[Un];Mr.push(null!=$r?Array.from($r):null)}}ti=function Rm(n,i,l,d){const g=l[1],b=function Og(n,i,l){const d=Z();n.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),kg(n,d,i,Hd(n,i,1,null),l),Gf(n,d));const g=Kr(i,n,d.directiveStart,d);qo(g,i);const b=$s(d,i);return b&&qo(b,i),g}(g,l,i);if(n[8]=l[8]=b,null!==d)for(const $ of d)$(b,i);if(i.contentQueries){const $=Z();i.contentQueries(1,b,$.directiveStart)}const R=Z();return!g.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Yt(R.index),Wf(l[1],R,0,R.directiveStart,R.directiveEnd,i),Am(i,b)),b}(er,this.componentDef,Mn,[__]),Uf(qt,Mn,null)}finally{le()}return new Om(this.componentType,ti,ae(wi,Mn),Mn,wi)}}class Om extends class Nc{}{constructor(i,l,d,g,b){super(),this.location=d,this._rootLView=g,this._tNode=b,this.instance=l,this.hostView=this.changeDetectorRef=new kp(g),this.componentType=i}setInput(i,l){const d=this._tNode.inputs;let g;if(null!==d&&(g=d[i])){const b=this._rootLView;Kf(b[1],b,g,i,l),Mg(b,this._tNode.index)}}get injector(){return new tl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function __(){const n=Z();Qr(wn()[1],n)}function Kg(n){let i=function zg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),l=!0;const d=[n];for(;i;){let g;if(rn(n))g=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ft(903,!1);g=i.\u0275dir}if(g){if(l){d.push(g);const R=n;R.inputs=qf(n.inputs),R.declaredInputs=qf(n.declaredInputs),R.outputs=qf(n.outputs);const $=g.hostBindings;$&&Lm(n,$);const H=g.viewQuery,se=g.contentQueries;if(H&&km(n,H),se&&Fm(n,se),_e(n.inputs,g.inputs),_e(n.declaredInputs,g.declaredInputs),_e(n.outputs,g.outputs),rn(g)&&g.data.animation){const Me=n.data;Me.animation=(Me.animation||[]).concat(g.data.animation)}}const b=g.features;if(b)for(let R=0;R<b.length;R++){const $=b[R];$&&$.ngInherit&&$(n),$===Kg&&(l=!1)}}i=Object.getPrototypeOf(i)}!function Pm(n){let i=0,l=null;for(let d=n.length-1;d>=0;d--){const g=n[d];g.hostVars=i+=g.hostVars,g.hostAttrs=Xa(g.hostAttrs,l=Xa(l,g.hostAttrs))}}(d)}function qf(n){return n===ni?{}:n===mn?[]:n}function km(n,i){const l=n.viewQuery;n.viewQuery=l?(d,g)=>{i(d,g),l(d,g)}:i}function Fm(n,i){const l=n.contentQueries;n.contentQueries=l?(d,g,b)=>{i(d,g,b),l(d,g,b)}:i}function Lm(n,i){const l=n.hostBindings;n.hostBindings=l?(d,g)=>{i(d,g),l(d,g)}:i}let u=null;function s(){if(!u){const n=jt.Symbol;if(n&&n.iterator)u=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<i.length;++l){const d=i[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(u=d)}}}return u}function h(n){return!!B(n)&&(Array.isArray(n)||!(n instanceof Map)&&s()in n)}function B(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ce(n,i,l){return n[i]=l}function Dt(n,i,l){return!Object.is(n[i],l)&&(n[i]=l,!0)}function Rt(n,i,l,d){const g=Dt(n,i,l);return Dt(n,i+1,d)||g}function Jt(n,i,l,d,g){const b=Rt(n,i,l,d);return Dt(n,i+2,g)||b}function Pn(n,i,l,d){const g=wn();return Dt(g,Ln(),i)&&(S(),function pa(n,i,l,d,g,b){const R=$s(n,i);bh(i[11],R,b,n.value,l,d,g)}(ln(),g,n,i,l,d)),Pn}function wr(n,i,l,d){return Dt(n,Ln(),l)?i+Be(l)+d:Wr}function ks(n,i,l,d,g,b,R,$){const H=wn(),se=S(),Me=n+22,Ke=se.firstCreatePass?function or(n,i,l,d,g,b,R,$,H){const se=i.consts,Me=jd(i,n,4,R||null,as(se,$));pu(i,l,Me,as(se,H)),Qr(i,Me);const Ke=Me.tViews=Mp(2,Me,d,g,b,i.directiveRegistry,i.pipeRegistry,null,i.schemas,se);return null!==i.queries&&(i.queries.template(i,Me),Ke.queries=i.queries.embeddedTView(Me)),Me}(Me,se,H,i,l,d,g,b,R):se.data[Me];jn(Ke,!1);const Ft=H[11].createComment("");qc(se,H,Ft,Ke),qo(Ft,H),Yh(H,H[Me]=Rp(Ft,H,Ft,Ke)),cn(Ke)&&jf(se,H,Ke),null!=R&&Hf(H,Ke,$)}function El(n){return Xr(function A(){return Ui.lFrame.contextLView}(),22+n)}function ul(n,i,l){const d=wn();return Dt(d,Ln(),i)&&cl(S(),ln(),d,n,i,d[11],l,!1),ul}function ku(n,i,l,d,g){const R=g?"class":"style";Kf(n,l,i.inputs[R],R,d)}function ef(n,i,l,d){const g=wn(),b=S(),R=22+n,$=g[11],H=g[R]=js($,i,function vr(){return Ui.lFrame.currentNamespace}()),se=b.firstCreatePass?function la(n,i,l,d,g,b,R){const $=i.consts,se=jd(i,n,2,g,as($,b));return pu(i,l,se,as($,R)),null!==se.attrs&&Wd(se,se.attrs,!1),null!==se.mergedAttrs&&Wd(se,se.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,se),se}(R,b,g,0,i,l,d):b.data[R];jn(se,!0);const Me=se.mergedAttrs;null!==Me&&ko($,H,Me);const Ke=se.classes;null!==Ke&&ag($,H,Ke);const Ft=se.styles;return null!==Ft&&og($,H,Ft),64!=(64&se.flags)&&qc(b,g,H,se),0===function Ro(){return Ui.lFrame.elementDepthCount}()&&qo(H,g),function xa(){Ui.lFrame.elementDepthCount++}(),cn(se)&&(jf(b,g,se),Wh(b,se,g)),null!==d&&Hf(g,se),ef}function Zf(){let n=Z();gi()?D():(n=n.parent,jn(n,!1));const i=n;!function Ua(){Ui.lFrame.elementDepthCount--}();const l=S();return l.firstCreatePass&&(Qr(l,n),et(n)&&l.queries.elementEnd(n)),null!=i.classesWithoutHost&&function _u(n){return 0!=(16&n.flags)}(i)&&ku(l,i,wn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function $c(n){return 0!=(32&n.flags)}(i)&&ku(l,i,wn(),i.stylesWithoutHost,!1),Zf}function Na(n,i,l,d){return ef(n,i,l,d),Zf(),Na}function Ma(n,i,l){const d=wn(),g=S(),b=n+22,R=g.firstCreatePass?function Eh(n,i,l,d,g){const b=i.consts,R=as(b,d),$=jd(i,n,8,"ng-container",R);return null!==R&&Wd($,R,!0),pu(i,l,$,as(b,g)),null!==i.queries&&i.queries.elementStart(i,$),$}(b,g,d,i,l):g.data[b];jn(R,!0);const $=d[b]=d[11].createComment("");return qc(g,d,$,R),qo($,d),cn(R)&&(jf(g,d,R),Wh(g,R,d)),null!=l&&Hf(d,R),Ma}function Fu(){let n=Z();const i=S();return gi()?D():(n=n.parent,jn(n,!1)),i.firstCreatePass&&(Qr(i,n),et(n)&&i.queries.elementEnd(n)),Fu}function gd(n,i,l){return Ma(n,i,l),Fu(),gd}function b_(){return wn()}function Zg(n){return!!n&&"function"==typeof n.then}function oy(n){return!!n&&"function"==typeof n.subscribe}const ay=oy;function w_(n,i,l,d){const g=wn(),b=S(),R=Z();return function C_(n,i,l,d,g,b,R,$){const H=cn(d),Me=n.firstCreatePass&&Mm(n),Ke=i[8],Ft=jg(i);let qt=!0;if(3&d.type||$){const wi=$s(d,i),er=$?$(wi):wi,Mr=Ft.length,Un=$?xo=>$(kr(xo[d.index])):d.index;let $r=null;if(!$&&H&&($r=function E_(n,i,l,d){const g=n.cleanup;if(null!=g)for(let b=0;b<g.length-1;b+=2){const R=g[b];if(R===l&&g[b+1]===d){const $=i[7],H=g[b+2];return $.length>H?$[H]:null}"string"==typeof R&&(b+=2)}return null}(n,i,g,d.index)),null!==$r)($r.__ngLastListenerFn__||$r).__ngNextListenerFn__=b,$r.__ngLastListenerFn__=b,qt=!1;else{b=D_(d,i,Ke,b,!1);const xo=l.listen(er,g,b);Ft.push(b,xo),Me&&Me.push(g,Un,Mr,Mr+1)}}else b=D_(d,i,Ke,b,!1);const Mn=d.outputs;let ti;if(qt&&null!==Mn&&(ti=Mn[g])){const wi=ti.length;if(wi)for(let er=0;er<wi;er+=2){const Va=i[ti[er]][ti[er+1]].subscribe(b),im=Ft.length;Ft.push(b,Va),Me&&Me.push(g,d.index,im,-(im+1))}}}(b,g,g[11],R,n,i,0,d),w_}function tf(n,i,l,d){try{return!1!==l(d)}catch(g){return Qh(n,g),!1}}function D_(n,i,l,d,g){return function b(R){if(R===Function)return d;Pp(2&n.flags?Tr(n.index,i):i);let H=tf(i,0,d,R),se=b.__ngNextListenerFn__;for(;se;)H=tf(i,0,se,R)&&H,se=se.__ngNextListenerFn__;return g&&!1===H&&(R.preventDefault(),R.returnValue=!1),H}}function I_(n=1){return function K(n){return(Ui.lFrame.contextLView=function Ae(n,i){for(;n>0;)i=i[15],n--;return i}(n,Ui.lFrame.contextLView))[8]}(n)}function T_(n,i){let l=null;const d=function t_(n){const i=n.attrs;if(null!=i){const l=i.indexOf(5);if(0==(1&l))return i[l+1]}return null}(n);for(let g=0;g<i.length;g++){const b=i[g];if("*"!==b){if(null===d?hg(n,b,!0):fg(d,b))return g}else l=g}return l}function Um(n){const i=wn()[16][6];if(!i.projection){const d=i.projection=yo(n?n.length:1,null),g=d.slice();let b=i.child;for(;null!==b;){const R=n?T_(b,n):0;null!==R&&(g[R]?g[R].projectionNext=b:d[R]=b,g[R]=b),b=b.next}}}function ly(n,i=0,l){const d=wn(),g=S(),b=jd(g,22+n,16,null,l||null);null===b.projection&&(b.projection=i),D(),64!=(64&b.flags)&&function sg(n,i,l){kh(i[11],0,i,l,ld(n,l,i),rg(l.parent||i[6],l,i))}(g,d,b)}function Lp(n,i,l){return Qf(n,"",i,"",l),Lp}function Qf(n,i,l,d,g){const b=wn(),R=wr(b,i,l,d);return R!==Wr&&cl(S(),ln(),b,n,R,b[11],g,!1),Qf}function Vp(n,i,l,d,g){const b=n[l+1],R=null===i;let $=d?Pl(b):hu(b),H=!1;for(;0!==$&&(!1===H||R);){const Me=n[$+1];rf(n[$],i)&&(H=!0,n[$+1]=d?xf(Me):bp(Me)),$=d?Pl(Me):hu(Me)}H&&(n[l+1]=d?bp(b):xf(b))}function rf(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&J(n,i)>=0}const Cl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hy(n){return n.substring(Cl.key,Cl.keyEnd)}function A_(n,i){const l=Cl.textEnd;return l===i?-1:(i=Cl.keyEnd=function ev(n,i,l){for(;i<l&&n.charCodeAt(i)>32;)i++;return i}(n,Cl.key=i,l),Up(n,i,l))}function Up(n,i,l){for(;i<l&&n.charCodeAt(i)<=32;)i++;return i}function jm(n,i,l){return Lu(n,i,l,!1),jm}function Hm(n,i){return Lu(n,i,null,!0),Hm}function Jg(n){!function Fl(n,i,l,d){const g=S(),b=Ai(2);g.firstUpdatePass&&sf(g,null,b,d);const R=wn();if(l!==Wr&&Dt(R,b,l)){const $=g.data[dt()];if(by($,d)&&!my(g,b)){let H=d?$.classesWithoutHost:$.stylesWithoutHost;null!==H&&(l=Se(H,l||"")),ku(g,$,R,l,d)}else!function av(n,i,l,d,g,b,R,$){g===Wr&&(g=mn);let H=0,se=0,Me=0<g.length?g[0]:null,Ke=0<b.length?b[0]:null;for(;null!==Me||null!==Ke;){const Ft=H<g.length?g[H+1]:void 0,qt=se<b.length?b[se+1]:void 0;let ti,Mn=null;Me===Ke?(H+=2,se+=2,Ft!==qt&&(Mn=Ke,ti=qt)):null===Ke||null!==Me&&Me<Ke?(H+=2,Mn=Me):(se+=2,Mn=Ke,ti=qt),null!==Mn&&R_(n,i,l,d,Mn,ti,R,$),Me=H<g.length?g[H]:null,Ke=se<b.length?b[se]:null}}(g,$,R,R[11],R[b+1],R[b+1]=function _y(n,i,l){if(null==l||""===l)return mn;const d=[],g=Ml(l);if(Array.isArray(g))for(let b=0;b<g.length;b++)n(d,g[b],!0);else if("object"==typeof g)for(const b in g)g.hasOwnProperty(b)&&n(d,b,g[b]);else"string"==typeof g&&i(d,g);return d}(n,i,l),d,b)}}(O,Zd,n,!0)}function Zd(n,i){for(let l=function Jy(n){return function N_(n){Cl.key=0,Cl.keyEnd=0,Cl.value=0,Cl.valueEnd=0,Cl.textEnd=n.length}(n),A_(n,Up(n,0,Cl.textEnd))}(i);l>=0;l=A_(i,l))O(n,hy(i),!0)}function Lu(n,i,l,d){const g=wn(),b=S(),R=Ai(2);b.firstUpdatePass&&sf(b,n,R,d),i!==Wr&&Dt(g,R,i)&&R_(b,b.data[dt()],g,g[11],n,g[R+1]=function P_(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ge(Ml(n)))),n}(i,l),d,R)}function my(n,i){return i>=n.expandoStartIndex}function sf(n,i,l,d){const g=n.data;if(null===g[l+1]){const b=g[dt()],R=my(n,l);by(b,d)&&null===i&&!R&&(i=!1),i=function iv(n,i,l,d){const g=function po(n){const i=Ui.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let b=d?i.residualClasses:i.residualStyles;if(null===g)0===(d?i.classBindings:i.styleBindings)&&(l=jp(l=O_(null,n,i,l,d),i.attrs,d),b=null);else{const R=i.directiveStylingLast;if(-1===R||n[R]!==g)if(l=O_(g,n,i,l,d),null===b){let H=function rv(n,i,l){const d=l?i.classBindings:i.styleBindings;if(0!==hu(d))return n[Pl(d)]}(n,i,d);void 0!==H&&Array.isArray(H)&&(H=O_(null,n,i,H[1],d),H=jp(H,i.attrs,d),function sv(n,i,l,d){n[Pl(l?i.classBindings:i.styleBindings)]=d}(n,i,d,H))}else b=function ov(n,i,l){let d;const g=i.directiveEnd;for(let b=1+i.directiveStylingLast;b<g;b++)d=jp(d,n[b].hostAttrs,l);return jp(d,i.attrs,l)}(n,i,d)}return void 0!==b&&(d?i.residualClasses=b:i.residualStyles=b),l}(g,b,i,d),function uy(n,i,l,d,g,b){let R=b?i.classBindings:i.styleBindings,$=Pl(R),H=hu(R);n[d]=l;let Me,se=!1;if(Array.isArray(l)){const Ke=l;Me=Ke[1],(null===Me||J(Ke,Me)>0)&&(se=!0)}else Me=l;if(g)if(0!==H){const Ft=Pl(n[$+1]);n[d+1]=$h(Ft,$),0!==Ft&&(n[Ft+1]=mh(n[Ft+1],d)),n[$+1]=function gh(n,i){return 131071&n|i<<17}(n[$+1],d)}else n[d+1]=$h($,0),0!==$&&(n[$+1]=mh(n[$+1],d)),$=d;else n[d+1]=$h(H,0),0===$?$=d:n[H+1]=mh(n[H+1],d),H=d;se&&(n[d+1]=bp(n[d+1])),Vp(n,Me,d,!0),Vp(n,Me,d,!1),function dy(n,i,l,d,g){const b=g?n.residualClasses:n.residualStyles;null!=b&&"string"==typeof i&&J(b,i)>=0&&(l[d+1]=xf(l[d+1]))}(i,Me,n,d,b),R=$h($,H),b?i.classBindings=R:i.styleBindings=R}(g,b,i,l,R,d)}}function O_(n,i,l,d,g){let b=null;const R=l.directiveEnd;let $=l.directiveStylingLast;for(-1===$?$=l.directiveStart:$++;$<R&&(b=i[$],d=jp(d,b.hostAttrs,g),b!==n);)$++;return null!==n&&(l.directiveStylingLast=$),d}function jp(n,i,l){const d=l?1:2;let g=-1;if(null!==i)for(let b=0;b<i.length;b++){const R=i[b];"number"==typeof R?g=R:g===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),O(n,R,!!l||i[++b]))}return void 0===n?null:n}function R_(n,i,l,d,g,b,R,$){if(!(3&i.type))return;const H=n.data,se=H[$+1];Dh(function fu(n){return 1==(1&n)}(se)?vy(H,i,l,g,hu(se),R):void 0)||(Dh(b)||function Em(n){return 2==(2&n)}(se)&&(b=vy(H,null,l,g,$,R)),function e_(n,i,l,d,g){if(i)g?n.addClass(l,d):n.removeClass(l,d);else{let b=-1===d.indexOf("-")?void 0:fi.DashCase;null==g?n.removeStyle(l,d,b):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),b|=fi.Important),n.setStyle(l,d,g,b))}}(d,R,fo(dt(),l),g,b))}function vy(n,i,l,d,g,b){const R=null===i;let $;for(;g>0;){const H=n[g],se=Array.isArray(H),Me=se?H[1]:H,Ke=null===Me;let Ft=l[g+1];Ft===Wr&&(Ft=Ke?mn:void 0);let qt=Ke?W(Ft,d):Me===d?Ft:void 0;if(se&&!Dh(qt)&&(qt=W(H,d)),Dh(qt)&&($=qt,R))return $;const Mn=n[g+1];g=R?Pl(Mn):hu(Mn)}if(null!==i){let H=b?i.residualClasses:i.residualStyles;null!=H&&($=W(H,d))}return $}function Dh(n){return void 0!==n}function by(n,i){return 0!=(n.flags&(i?16:32))}function wy(n,i=""){const l=wn(),d=S(),g=n+22,b=d.firstCreatePass?jd(d,g,1,i,null):d.data[g],R=l[g]=Eo(l[11],i);qc(d,l,R,b),jn(b,!1)}function k_(n){return Gm("",n,""),k_}function Gm(n,i,l){const d=wn(),g=wr(d,n,i,l);return g!==Wr&&xu(d,dt(),g),Gm}function F_(n,i,l,d,g){const b=wn(),R=function Yr(n,i,l,d,g,b){const $=Rt(n,Wt(),l,g);return Ai(2),$?i+Be(l)+d+Be(g)+b:Wr}(b,n,i,l,d,g);return R!==Wr&&xu(b,dt(),R),F_}function L_(n,i,l,d,g,b,R){const $=wn(),H=function cr(n,i,l,d,g,b,R,$){const se=Jt(n,Wt(),l,g,R);return Ai(3),se?i+Be(l)+d+Be(g)+b+Be(R)+$:Wr}($,n,i,l,d,g,b,R);return H!==Wr&&xu($,dt(),H),L_}function U_(n,i,l){const d=wn();return Dt(d,Ln(),i)&&cl(S(),ln(),d,n,i,d[11],l,!0),U_}const Zc=void 0;var c0=["en",[["a","p"],["AM","PM"],Zc],[["AM","PM"],Zc,Zc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zc,"{1} 'at' {0}",Zc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fv(n){const l=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Gp={};function j_(n){const i=function gv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let l=H_(i);if(l)return l;const d=i.split("-")[0];if(l=H_(d),l)return l;if("en"===d)return c0;throw new ft(701,!1)}function tm(n){return j_(n)[Dr.PluralCase]}function H_(n){return n in Gp||(Gp[n]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[n]),Gp[n]}var Dr=(()=>((Dr=Dr||{})[Dr.LocaleId=0]="LocaleId",Dr[Dr.DayPeriodsFormat=1]="DayPeriodsFormat",Dr[Dr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dr[Dr.DaysFormat=3]="DaysFormat",Dr[Dr.DaysStandalone=4]="DaysStandalone",Dr[Dr.MonthsFormat=5]="MonthsFormat",Dr[Dr.MonthsStandalone=6]="MonthsStandalone",Dr[Dr.Eras=7]="Eras",Dr[Dr.FirstDayOfWeek=8]="FirstDayOfWeek",Dr[Dr.WeekendRange=9]="WeekendRange",Dr[Dr.DateFormat=10]="DateFormat",Dr[Dr.TimeFormat=11]="TimeFormat",Dr[Dr.DateTimeFormat=12]="DateTimeFormat",Dr[Dr.NumberSymbols=13]="NumberSymbols",Dr[Dr.NumberFormats=14]="NumberFormats",Dr[Dr.CurrencyCode=15]="CurrencyCode",Dr[Dr.CurrencySymbol=16]="CurrencySymbol",Dr[Dr.CurrencyName=17]="CurrencyName",Dr[Dr.Currencies=18]="Currencies",Dr[Dr.Directionality=19]="Directionality",Dr[Dr.PluralCase=20]="PluralCase",Dr[Dr.ExtraData=21]="ExtraData",Dr))();const Fy=["zero","one","two","few","many"],ep="en-US",Ym={marker:"element"},qm={marker:"ICU"};var $a=(()=>(($a=$a||{})[$a.SHIFT=2]="SHIFT",$a[$a.APPEND_EAGERLY=1]="APPEND_EAGERLY",$a[$a.COMMENT=2]="COMMENT",$a))();let G_=ep;function By(n){(function Je(n,i){null==n&&Ye(i,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(G_=n.toLowerCase().replace(/_/g,"-"))}function $y(n,i,l){const d=i.insertBeforeIndex,g=Array.isArray(d)?d[0]:d;return null===g?bf(n,0,l):kr(l[g])}function r(n,i,l,d,g){const b=i.insertBeforeIndex;if(Array.isArray(b)){let R=d,$=null;if(3&i.type||($=R,R=g),null!==R&&0==(2&i.flags))for(let H=1;H<b.length;H++)Zl(n,R,l[b[H]],$,!1)}}function e(n,i){if(n.push(i),n.length>1)for(let l=n.length-2;l>=0;l--){const d=n[l];t(d)||c(d,i)&&null===f(d)&&y(d,i.index)}}function t(n){return!(64&n.type)}function c(n,i){return t(i)||n.index>i.index}function f(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function y(n,i){const l=n.insertBeforeIndex;Array.isArray(l)?l[0]=i:(fp($y,r),n.insertBeforeIndex=i)}function I(n,i){const l=n.data[i];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function pe(n,i,l){const d=Vf(n,l,64,null,null);return e(i,d),d}function Le(n,i){const l=i[n.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function yt(n){return n>>>17}function Xt(n){return(131070&n)>>>1}let ui=0,Vi=0;function ga(n,i,l,d){const g=l[11];let R,b=null;for(let $=0;$<i.length;$++){const H=i[$];if("string"==typeof H){const se=i[++$];null===l[se]&&(l[se]=Eo(g,H))}else if("number"==typeof H)switch(1&H){case 0:const se=yt(H);let Me,Ke;if(null===b&&(b=se,R=Pd(g,d)),se===b?(Me=d,Ke=R):(Me=null,Ke=kr(l[se])),null!==Ke){const ti=Xt(H);Zl(g,Ke,l[ti],Me,!1);const er=I(n,ti);if(null!==er&&"object"==typeof er){const Mr=Le(er,l);null!==Mr&&ga(n,er.create[Mr],l,l[er.anchorIdx])}}break;case 1:const qt=i[++$],Mn=i[++$];bh(g,fo(H>>>1,l),null,null,qt,Mn,null)}else switch(H){case qm:const se=i[++$],Me=i[++$];null===l[Me]&&qo(l[Me]=Yl(g,se),l);break;case Ym:const Ke=i[++$],Ft=i[++$];null===l[Ft]&&qo(l[Ft]=js(g,Ke,null),l)}}}function Js(n,i,l,d,g){for(let b=0;b<l.length;b++){const R=l[b],$=l[++b];if(R&g){let H="";for(let se=b+1;se<=b+$;se++){const Me=l[se];if("string"==typeof Me)H+=Me;else if("number"==typeof Me)if(Me<0)H+=Be(i[d-Me]);else{const Ke=Me>>>2;switch(3&Me){case 1:const Ft=l[++se],qt=l[++se],Mn=n.data[Ke];"string"==typeof Mn?bh(i[11],i[Ke],null,Mn,Ft,H,qt):cl(n,Mn,i,Ft,H,i[11],qt,!1);break;case 0:const ti=i[Ke];null!==ti&&$o(i[11],ti,H);break;case 2:Dl(n,I(n,Ke),i,H);break;case 3:uo(n,I(n,Ke),d,i)}}}}else{const H=l[b+1];if(H>0&&3==(3&H)){const Me=I(n,H>>>2);i[Me.currentCaseLViewIndex]<0&&uo(n,Me,d,i)}}b+=$}}function uo(n,i,l,d){let g=d[i.currentCaseLViewIndex];if(null!==g){let b=ui;g<0&&(g=d[i.currentCaseLViewIndex]=~g,b=-1),Js(n,d,i.update[g],l,b)}}function Dl(n,i,l,d){const g=function sw(n,i){let l=n.cases.indexOf(i);if(-1===l)switch(n.type){case 1:{const d=function Ly(n,i){const l=tm(i)(parseInt(n,10)),d=Fy[l];return void 0!==d?d:"other"}(i,function h0(){return G_}());l=n.cases.indexOf(d),-1===l&&"other"!==d&&(l=n.cases.indexOf("other"));break}case 0:l=n.cases.indexOf("other")}return-1===l?null:l}(i,d);if(Le(i,l)!==g&&(Wp(n,i,l),l[i.currentCaseLViewIndex]=null===g?null:~g,null!==g)){const R=l[i.anchorIdx];R&&ga(n,i.create[g],l,R)}}function Wp(n,i,l){let d=Le(i,l);if(null!==d){const g=i.remove[d];for(let b=0;b<g.length;b++){const R=g[b];if(R>0){const $=fo(R,l);null!==$&&Mu(l[11],$)}else Wp(n,I(n,~R),l)}}}function ow(){const n=[];let l,d,i=-1;function b($,H){i=0;const se=Le($,H);d=null!==se?$.remove[se]:mn}function R(){if(i<d.length){const $=d[i++];return $>0?l[$]:(n.push(i,d),b(l[1].data[~$],l),R())}return 0===n.length?null:(d=n.pop(),i=n.pop(),R())}return function g($,H){for(l=H;n.length;)n.pop();return b($.value,H),R}}const Vy=/\ufffd(\d+):?\d*\ufffd/gi,lw=/\ufffd(\d+)\ufffd/,p0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cw=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,uw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dw=/\uE500/g;function g0(n,i,l,d,g,b,R){const $=Hd(n,d,1,null);let H=$<<$a.SHIFT,se=Kt();i===se&&(se=null),null===se&&(H|=$a.APPEND_EAGERLY),R&&(H|=$a.COMMENT,function Zi(n){void 0===Si&&(Si=n())}(ow)),g.push(H,null===b?"":b);const Me=Vf(n,$,R?32:1,null===b?"":b,null);e(l,Me);const Ke=Me.index;return jn(Me,!1),null!==se&&i!==se&&function re(n,i){let l=n.insertBeforeIndex;null===l?(fp($y,r),l=n.insertBeforeIndex=[null,i]):(function ve(n,i,l){n!=i&&Ye(l,n,i,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(i))}(se,Ke),Me}function pw(n,i,l,d,g,b,R){const $=R.match(Vy),H=g0(n,i,l,b,d,$?null:R,!1);$&&z_(g,R,H.index,null,0,null)}function z_(n,i,l,d,g,b){const R=n.length,$=R+1;n.push(null,null);const H=R+2,se=i.split(Vy);let Me=0;for(let Ke=0;Ke<se.length;Ke++){const Ft=se[Ke];if(1&Ke){const qt=g+parseInt(Ft,10);n.push(-1-qt),Me|=m0(qt)}else""!==Ft&&n.push(Ft)}return n.push(l<<2|(d?1:0)),d&&n.push(d,b),n[R]=Me,n[$]=n.length-H,Me}function m0(n){return 1<<Math.min(n,31)}function _0(n){let i,b,l="",d=0,g=!1;for(;null!==(i=cw.exec(n));)g?i[0]===`\ufffd/*${b}\ufffd`&&(d=i.index,g=!1):(l+=n.substring(d,i.index+i[0].length),b=i[1],g=!0);return l+=n.slice(d),l}function y0(n,i,l,d,g,b){let R=0;const $={type:g.type,currentCaseLViewIndex:Hd(n,i,1,null),anchorIdx:b,cases:[],create:[],remove:[],update:[]};(function Ew(n,i,l){n.push(m0(i.mainBinding),2,-1-i.mainBinding,l<<2|2)})(l,g,b),function U(n,i,l){const d=n.data[i];null===d?n.data[i]=l:d.value=l}(n,b,$);const H=g.values;for(let se=0;se<H.length;se++){const Me=H[se],Ke=[];for(let Ft=0;Ft<Me.length;Ft++){const qt=Me[Ft];if("string"!=typeof qt){const Mn=Ke.push(qt)-1;Me[Ft]=`\x3c!--\ufffd${Mn}\ufffd--\x3e`}}R=bw(n,$,i,l,d,g.cases[se],Me.join(""),Ke)|R}R&&function Cw(n,i,l){n.push(i,1,l<<2|3)}(l,R,b)}function vw(n){const i=[],l=[];let d=1,g=0;const b=_v(n=n.replace(p0,function(R,$,H){return d="select"===H?0:1,g=parseInt($.slice(1),10),""}));for(let R=0;R<b.length;){let $=b[R++].trim();1===d&&($=$.replace(/\s*(?:=)?(\w+)\s*/,"$1")),$.length&&i.push($);const H=_v(b[R++]);i.length>l.length&&l.push(H)}return{type:d,mainBinding:g,cases:i,values:l}}function _v(n){if(!n)return[];let i=0;const l=[],d=[],g=/[{}]/g;let b;for(g.lastIndex=0;b=g.exec(n);){const $=b.index;if("}"==b[0]){if(l.pop(),0==l.length){const H=n.substring(i,$);p0.test(H)?d.push(vw(H)):d.push(H),i=$+1}}else{if(0==l.length){const H=n.substring(i,$);d.push(H),i=$+1}l.push("{")}}const R=n.substring(i);return d.push(R),d}function bw(n,i,l,d,g,b,R,$){const H=[],se=[],Me=[];i.cases.push(b),i.create.push(H),i.remove.push(se),i.update.push(Me);const Ft=function ol(n){const i=new Ah(n);return function nu(){try{return!!(new window.DOMParser).parseFromString(Uc(""),"text/html")}catch{return!1}}()?new qu(i):i}(function uf(){return void 0!==Vc?Vc:typeof document<"u"?document:void 0}()).getInertBodyElement(R),qt=function th(n){return"content"in n&&function Zu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(Ft)||Ft;return qt?v0(n,i,l,d,H,se,Me,qt,g,$,0):0}function v0(n,i,l,d,g,b,R,$,H,se,Me){let Ke=0,Ft=$.firstChild;for(;Ft;){const qt=Hd(n,l,1,null);switch(Ft.nodeType){case Node.ELEMENT_NODE:const Mn=Ft,ti=Mn.tagName.toLowerCase();if(Za.hasOwnProperty(ti)){yv(g,Ym,ti,H,qt),n.data[qt]=ti;const Un=Mn.attributes;for(let $r=0;$r<Un.length;$r++){const xo=Un.item($r),Va=xo.name.toLowerCase();xo.value.match(Vy)?Cc.hasOwnProperty(Va)&&z_(R,xo.value,qt,xo.name,0,jl[Va]?wc:null):Dw(g,qt,xo)}Ke=v0(n,i,l,d,g,b,R,Ft,qt,se,Me+1)|Ke,b0(b,qt,Me)}break;case Node.TEXT_NODE:const wi=Ft.textContent||"",er=wi.match(Vy);yv(g,null,er?"":wi,H,qt),b0(b,qt,Me),er&&(Ke=z_(R,wi,qt,null,0,null)|Ke);break;case Node.COMMENT_NODE:const Mr=lw.exec(Ft.textContent||"");if(Mr){const $r=se[parseInt(Mr[1],10)];yv(g,qm,"",H,qt),y0(n,l,d,H,$r,qt),ww(b,qt,Me)}}Ft=Ft.nextSibling}return Ke}function b0(n,i,l){0===l&&n.push(i)}function ww(n,i,l){0===l&&(n.push(~i),n.push(i))}function yv(n,i,l,d,g){null!==i&&n.push(i),n.push(l,g,function xn(n,i,l){return n|i<<17|l<<1}(0,d,g))}function Dw(n,i,l){n.push(i<<1|1,l.name,l.value)}function E0(n,i,l=-1){const d=S(),g=wn(),b=22+n,R=as(d.consts,i),$=Kt();d.firstCreatePass&&function fw(n,i,l,d,g,b){const R=Kt(),$=[],H=[],se=[[]];g=function yw(n,i){if(function _w(n){return-1===n}(i))return _0(n);{const l=n.indexOf(`:${i}\ufffd`)+2+i.toString().length,d=n.search(new RegExp(`\ufffd\\/\\*\\d+:${i}\ufffd`));return _0(n.substring(l,d))}}(g,b);const Me=function hw(n){return n.replace(dw," ")}(g).split(uw);for(let Ke=0;Ke<Me.length;Ke++){let Ft=Me[Ke];if(0==(1&Ke)){const qt=_v(Ft);for(let Mn=0;Mn<qt.length;Mn++){let ti=qt[Mn];if(0==(1&Mn)){const wi=ti;""!==wi&&pw(n,R,se[0],$,H,l,wi)}else{const wi=ti;if("object"!=typeof wi)throw new Error(`Unable to parse ICU expression in "${g}" message.`);y0(n,l,H,i,wi,g0(n,R,se[0],l,$,"",!0).index)}}}else{const qt=47===Ft.charCodeAt(0),ti=(Ft.charCodeAt(qt?1:0),22+Number.parseInt(Ft.substring(qt?2:1)));if(qt)se.shift(),jn(Kt(),!1);else{const wi=pe(n,se[0],ti);se.unshift([]),jn(wi,!0)}}}n.data[d]={create:$,update:H}}(d,null===$?0:$.index,g,b,R,l);const H=d.data[b],Me=Rd(d,$===g[6]?null:$,g);(function co(n,i,l,d){const g=n[11];for(let b=0;b<i.length;b++){const R=i[b++],$=i[b],H=(R&$a.COMMENT)===$a.COMMENT,se=(R&$a.APPEND_EAGERLY)===$a.APPEND_EAGERLY,Me=R>>>$a.SHIFT;let Ke=n[Me];null===Ke&&(Ke=n[Me]=H?g.createComment($):Eo(g,$)),se&&null!==l&&Zl(g,l,Ke,d,!1)}})(g,H.create,Me,$&&8&$.type?g[$.index]:null),Fr(!0)}function D0(n,i,l){E0(n,i,l),function C0(){Fr(!1)}()}function vv(n){return function Hs(n){n&&(ui|=1<<Math.min(Vi,31)),Vi++}(Dt(wn(),Ln(),n)),vv}function I0(n){!function Uo(n,i,l){if(Vi>0){const d=n.data[l];Js(n,i,Array.isArray(d)?d:d.update,Wt()-Vi-1,ui)}ui=0,Vi=0}(S(),wn(),n+22)}function bv(n,i,l,d,g){if(n=fe(n),Array.isArray(n))for(let b=0;b<n.length;b++)bv(n[b],i,l,d,g);else{const b=S(),R=wn();let $=ac(n)?n:fe(n.provide),H=id(n);const se=Z(),Me=1048575&se.providerIndexes,Ke=se.directiveStart,Ft=se.providerIndexes>>20;if(ac(n)||!n.multi){const qt=new ua(H,g,dd),Mn=Ev($,i,g?Me:Me+Ft,Ke);-1===Mn?(Fo(fl(se,R),b,$),wv(b,n,i.length),i.push($),se.directiveStart++,se.directiveEnd++,g&&(se.providerIndexes+=1048576),l.push(qt),R.push(qt)):(l[Mn]=qt,R[Mn]=qt)}else{const qt=Ev($,i,Me+Ft,Ke),Mn=Ev($,i,Me,Me+Ft),ti=qt>=0&&l[qt],wi=Mn>=0&&l[Mn];if(g&&!wi||!g&&!ti){Fo(fl(se,R),b,$);const er=function Bw(n,i,l,d,g){const b=new ua(n,l,dd);return b.multi=[],b.index=i,b.componentProviders=0,T0(b,g,d&&!l),b}(g?Lw:Fw,l.length,g,d,H);!g&&wi&&(l[Mn].providerFactory=er),wv(b,n,i.length,0),i.push($),se.directiveStart++,se.directiveEnd++,g&&(se.providerIndexes+=1048576),l.push(er),R.push(er)}else wv(b,n,qt>-1?qt:Mn,T0(l[g?Mn:qt],H,!g&&d));!g&&d&&wi&&l[Mn].componentProviders++}}}function wv(n,i,l,d){const g=ac(i),b=function lu(n){return!!n.useClass}(i);if(g||b){const H=(b?fe(i.useClass):i).prototype.ngOnDestroy;if(H){const se=n.destroyHooks||(n.destroyHooks=[]);if(!g&&i.multi){const Me=se.indexOf(l);-1===Me?se.push(l,[d,H]):se[Me+1].push(d,H)}else se.push(l,H)}}}function T0(n,i,l){return l&&n.componentProviders++,n.multi.push(i)-1}function Ev(n,i,l,d){for(let g=l;g<d;g++)if(i[g]===n)return g;return-1}function Fw(n,i,l,d){return Cv(this.multi,[])}function Lw(n,i,l,d){const g=this.multi;let b;if(this.providerFactory){const R=this.providerFactory.componentProviders,$=Kr(l,l[1],this.providerFactory.index,d);b=$.slice(0,R),Cv(g,b);for(let H=R;H<$.length;H++)b.push($[H])}else b=[],Cv(g,b);return b}function Cv(n,i){for(let l=0;l<n.length;l++)i.push((0,n[l])());return i}function S0(n,i=[]){return l=>{l.providersResolver=(d,g)=>function kw(n,i,l){const d=S();if(d.firstCreatePass){const g=rn(n);bv(l,d.data,d.blueprint,g,!0),bv(i,d.data,d.blueprint,g,!1)}}(d,g?g(n):n,i)}}class Zm{}class A0{}function $w(n,i){return new N0(n,i??null)}class N0 extends Zm{constructor(i,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yf(this);const d=hr(i);this._bootstrapComponents=ne(d.bootstrap),this._r3Injector=_g(i,l,[{provide:Zm,useValue:this},{provide:w,useValue:this.componentFactoryResolver}],ge(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Dv extends A0{constructor(i){super(),this.moduleType=i}create(i){return new N0(this.moduleType,i)}}class Vw extends Zm{constructor(i,l,d){super(),this.componentFactoryResolver=new Yf(this),this.instance=null;const g=new Iu([...i,{provide:Zm,useValue:this},{provide:w,useValue:this.componentFactoryResolver}],l||nd(),d,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Iv(n,i,l=null){return new Vw(n,i,l).injector}let Uw=(()=>{class n{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=Pa(0,l.type),g=d.length>0?Iv([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,g)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=$t({token:n,providedIn:"environment",factory:()=>new n(qe(lc))}),n})();function M0(n){n.getStandaloneInjector=i=>i.get(Uw).getOrCreateStandaloneInjector(n)}function L0(n,i,l){const d=gt()+n,g=wn();return g[d]===Wr?ce(g,d,l?i.call(l):i()):function Re(n,i){return n[i]}(g,d)}function B0(n,i,l,d){return U0(wn(),gt(),n,i,l,d)}function $0(n,i,l,d,g){return function j0(n,i,l,d,g,b,R){const $=i+l;return Rt(n,$,g,b)?ce(n,$+2,R?d.call(R,g,b):d(g,b)):K_(n,$+2)}(wn(),gt(),n,i,l,d,g)}function V0(n,i,l,d,g,b){return H0(wn(),gt(),n,i,l,d,g,b)}function K_(n,i){const l=n[i];return l===Wr?void 0:l}function U0(n,i,l,d,g,b){const R=i+l;return Dt(n,R,g)?ce(n,R+1,b?d.call(b,g):d(g)):K_(n,R+1)}function H0(n,i,l,d,g,b,R,$){const H=i+l;return Jt(n,H,g,b,R)?ce(n,H+3,$?d.call($,g,b,R):d(g,b,R)):K_(n,H+3)}function z0(n,i){const l=S();let d;const g=n+22;l.firstCreatePass?(d=function nE(n,i){if(i)for(let l=i.length-1;l>=0;l--){const d=i[l];if(n===d.name)return d}}(i,l.pipeRegistry),l.data[g]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(g,d.onDestroy)):d=l.data[g];const b=d.factory||(d.factory=_s(d.type)),R=Kn(dd);try{const $=hl(!1),H=b();return hl($),function Mo(n,i,l,d){l>=n.data.length&&(n.data[l]=null,n.blueprint[l]=null),i[l]=d}(l,wn(),g,H),H}finally{Kn(R)}}function K0(n,i,l){const d=n+22,g=wn(),b=Xr(g,d);return Y_(g,d)?U0(g,gt(),i,b.transform,l,b):b.transform(l)}function Y0(n,i,l,d,g){const b=n+22,R=wn(),$=Xr(R,b);return Y_(R,b)?H0(R,gt(),i,$.transform,l,d,g,$):$.transform(l,d,g)}function Y_(n,i){return n[1].data[i].pure}function Sv(n){return i=>{setTimeout(n,void 0,i)}}const cf=class oE extends o.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,l,d){let g=i,b=l||(()=>null),R=d;if(i&&"object"==typeof i){const H=i;g=H.next?.bind(H),b=H.error?.bind(H),R=H.complete?.bind(H)}this.__isAsync&&(b=Sv(b),g&&(g=Sv(g)),R&&(R=Sv(R)));const $=super.subscribe({next:g,error:b,complete:R});return i instanceof q.w&&i.add($),$}};function aE(){return this._results[s()]()}class Av{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=s(),d=Av.prototype;d[l]||(d[l]=aE)}get changes(){return this._changes||(this._changes=new cf)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,l){return this._results.reduce(i,l)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,l){const d=this;d.dirty=!1;const g=_o(i);(this._changesDetected=!function tc(n,i,l){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let g=n[d],b=i[d];if(l&&(g=l(g),b=l(b)),b!==g)return!1}return!0}(d._results,g,l))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let q_=(()=>{class n{}return n.__NG_ELEMENT_ID__=uE,n})();const lE=q_,cE=class extends lE{constructor(i,l,d){super(),this._declarationLView=i,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(i,l){const d=this._declarationTContainer.tViews,g=Hh(this._declarationLView,d,i,16,null,d.declTNode,null,null,null,null,l||null);g[17]=this._declarationLView[this._declarationTContainer.index];const R=this._declarationLView[19];return null!==R&&(g[19]=R.createEmbeddedView(d)),Uf(d,g,i),new zd(g)}};function uE(){return Uy(Z(),wn())}function Uy(n,i){return 4&n.type?new cE(i,n,ae(n,i)):null}let jy=(()=>{class n{}return n.__NG_ELEMENT_ID__=dE,n})();function dE(){return Q0(Z(),wn())}const hE=jy,q0=class extends hE{constructor(i,l,d){super(),this._lContainer=i,this._hostTNode=l,this._hostLView=d}get element(){return ae(this._hostTNode,this._hostLView)}get injector(){return new tl(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ms(this._hostTNode,this._hostLView);if(Vu(i)){const l=Ql(i,this._hostLView),d=Io(i);return new tl(l[1].data[d+8],l)}return new tl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const l=Z0(this._lContainer);return null!==l&&l[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,l,d){let g,b;"number"==typeof d?g=d:null!=d&&(g=d.index,b=d.injector);const R=i.createEmbeddedView(l||{},b);return this.insert(R,g),R}createComponent(i,l,d,g,b){const R=i&&!function na(n){return"function"==typeof n}(i);let $;if(R)$=l;else{const Ke=l||{};$=Ke.index,d=Ke.injector,g=Ke.projectableNodes,b=Ke.environmentInjector||Ke.ngModuleRef}const H=R?i:new Ou(Hn(i)),se=d||this.parentInjector;if(!b&&null==H.ngModule){const Ft=(R?se:this.parentInjector).get(lc,null);Ft&&(b=Ft)}const Me=H.create(se,g,void 0,b);return this.insert(Me.hostView,$),Me}insert(i,l){const d=i._lView,g=d[1];if(function Pr(n){return Ue(n[3])}(d)){const Me=this.indexOf(i);if(-1!==Me)this.detach(Me);else{const Ke=d[3],Ft=new q0(Ke,Ke[6],Ke[3]);Ft.detach(Ft.indexOf(i))}}const b=this._adjustIndex(l),R=this._lContainer;!function xc(n,i,l,d){const g=10+d,b=l.length;d>0&&(l[g-1][4]=i),d<b-10?(i[4]=l[g],en(l,10+d,i)):(l.push(i),i[4]=null),i[3]=l;const R=i[17];null!==R&&l!==R&&function ql(n,i){const l=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===l?n[9]=[i]:l.push(i)}(R,i);const $=i[19];null!==$&&$.insertView(n),i[2]|=64}(g,d,R,b);const $=ch(b,R),H=d[11],se=Pd(H,R[7]);return null!==se&&function Yc(n,i,l,d,g,b){d[0]=g,d[6]=i,No(n,d,l,1,g,b)}(g,R[6],H,d,se,$),i.attachToViewContainerRef(),en(Nv(R),b,i),i}move(i,l){return this.insert(i,l)}indexOf(i){const l=Z0(this._lContainer);return null!==l?l.indexOf(i):-1}remove(i){const l=this._adjustIndex(i,-1),d=Oc(this._lContainer,l);d&&(Ea(Nv(this._lContainer),l),Od(d[1],d))}detach(i){const l=this._adjustIndex(i,-1),d=Oc(this._lContainer,l);return d&&null!=Ea(Nv(this._lContainer),l)?new zd(d):null}_adjustIndex(i,l=0){return i??this.length+l}};function Z0(n){return n[8]}function Nv(n){return n[8]||(n[8]=[])}function Q0(n,i){let l;const d=i[n.index];if(Ue(d))l=d;else{let g;if(8&n.type)g=kr(d);else{const b=i[11];g=b.createComment("");const R=$s(n,i);Zl(b,Pd(b,R),g,function vf(n,i){return n.nextSibling(i)}(b,R),!1)}i[n.index]=l=Rp(d,i,g,n),Yh(i,l)}return new q0(l,n,i)}class Mv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Mv(this.queryList)}setDirty(){this.queryList.setDirty()}}class xv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const l=i.queries;if(null!==l){const d=null!==i.contentQueries?i.contentQueries[0]:l.length,g=[];for(let b=0;b<d;b++){const R=l.getByIndex(b);g.push(this.queries[R.indexInDeclarationView].clone())}return new xv(g)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let l=0;l<this.queries.length;l++)null!==ob(i,l).matches&&this.queries[l].setDirty()}}class J0{constructor(i,l,d=null){this.predicate=i,this.flags=l,this.read=d}}class Ov{constructor(i=[]){this.queries=i}elementStart(i,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,l)}elementEnd(i){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(i)}embeddedTView(i){let l=null;for(let d=0;d<this.length;d++){const g=null!==l?l.length:0,b=this.getByIndex(d).embeddedTView(i,g);b&&(b.indexInDeclarationView=d,null!==l?l.push(b):l=[b])}return null!==l?new Ov(l):null}template(i,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,l)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Rv{constructor(i,l=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(i,l){this.isApplyingToNode(l)&&this.matchTNode(i,l)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,l){this.elementStart(i,l)}embeddedTView(i,l){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,l),new Rv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const b=d[g];this.matchTNodeWithReadOption(i,l,gE(l,b)),this.matchTNodeWithReadOption(i,l,pn(l,i,b,!1,!1))}else d===q_?4&l.type&&this.matchTNodeWithReadOption(i,l,-1):this.matchTNodeWithReadOption(i,l,pn(l,i,d,!1,!1))}matchTNodeWithReadOption(i,l,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===Pe||g===jy||g===q_&&4&l.type)this.addMatch(l.index,-2);else{const b=pn(l,i,g,!1,!1);null!==b&&this.addMatch(l.index,b)}else this.addMatch(l.index,d)}}addMatch(i,l){null===this.matches?this.matches=[i,l]:this.matches.push(i,l)}}function gE(n,i){const l=n.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===i)return l[d+1];return null}function _E(n,i,l,d){return-1===l?function mE(n,i){return 11&n.type?ae(n,i):4&n.type?Uy(n,i):null}(i,n):-2===l?function yE(n,i,l){return l===Pe?ae(i,n):l===q_?Uy(i,n):l===jy?Q0(i,n):void 0}(n,i,d):Kr(n,n[1],l,i)}function X0(n,i,l,d){const g=i[19].queries[d];if(null===g.matches){const b=n.data,R=l.matches,$=[];for(let H=0;H<R.length;H+=2){const se=R[H];$.push(se<0?null:_E(i,b[se],R[H+1],l.metadata.read))}g.matches=$}return g.matches}function Pv(n,i,l,d){const g=n.queries.getByIndex(l),b=g.matches;if(null!==b){const R=X0(n,i,g,l);for(let $=0;$<b.length;$+=2){const H=b[$];if(H>0)d.push(R[$/2]);else{const se=b[$+1],Me=i[-H];for(let Ke=10;Ke<Me.length;Ke++){const Ft=Me[Ke];Ft[17]===Ft[3]&&Pv(Ft[1],Ft,se,d)}if(null!==Me[9]){const Ke=Me[9];for(let Ft=0;Ft<Ke.length;Ft++){const qt=Ke[Ft];Pv(qt[1],qt,se,d)}}}}}return d}function eb(n){const i=wn(),l=S(),d=rr();Po(d+1);const g=ob(l,d);if(n.dirty&&function Ws(n){return 4==(4&n[2])}(i)===(2==(2&g.metadata.flags))){if(null===g.matches)n.reset([]);else{const b=g.crossesNgTemplate?Pv(l,i,d,[]):X0(l,i,g,d);n.reset(b,kt),n.notifyOnChanges()}return!0}return!1}function tb(n,i,l){const d=S();d.firstCreatePass&&(sb(d,new J0(n,i,l),-1),2==(2&i)&&(d.staticViewQueries=!0)),rb(d,wn(),i)}function nb(n,i,l,d){const g=S();if(g.firstCreatePass){const b=Z();sb(g,new J0(i,l,d),b.index),function bE(n,i){const l=n.contentQueries||(n.contentQueries=[]);i!==(l.length?l[l.length-1]:-1)&&l.push(n.queries.length-1,i)}(g,n),2==(2&l)&&(g.staticContentQueries=!0)}rb(g,wn(),l)}function ib(){return function vE(n,i){return n[19].queries[i].queryList}(wn(),rr())}function rb(n,i,l){const d=new Av(4==(4&l));xp(n,i,d,d.destroy),null===i[19]&&(i[19]=new xv),i[19].queries.push(new Mv(d))}function sb(n,i,l){null===n.queries&&(n.queries=new Ov),n.queries.track(new Rv(i,l))}function ob(n,i){return n.queries.getByIndex(i)}function ab(n,i){return Uy(n,i)}function Gy(...n){}const Tb=new us("Application Initializer");let Wy=(()=>{class n{constructor(l){this.appInits=l,this.resolve=Gy,this.reject=Gy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,g)=>{this.resolve=d,this.reject=g})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const b=this.appInits[g]();if(Zg(b))l.push(b);else if(ay(b)){const R=new Promise(($,H)=>{b.subscribe({complete:$,error:H})});l.push(R)}}Promise.all(l).then(()=>{d()}).catch(g=>{this.reject(g)}),0===l.length&&d(),this.initialized=!0}}return n.\u0275fac=function(l){return new(l||n)(qe(Tb,8))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sb=new us("AppId",{providedIn:"root",factory:function Ab(){return`${$v()}${$v()}${$v()}`}});function $v(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nb=new us("Platform Initializer"),VE=new us("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Mb=new us("appBootstrapListener"),UE=new us("AnimationModuleType");let jE=(()=>{class n{log(l){console.log(l)}warn(l){console.warn(l)}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const zy=new us("LocaleId",{providedIn:"root",factory:()=>nn(zy,dn.Optional|dn.SkipSelf)||function HE(){return typeof $localize<"u"&&$localize.locale||ep}()}),GE=new us("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WE{constructor(i,l){this.ngModuleFactory=i,this.componentFactories=l}}let zE=(()=>{class n{compileModuleSync(l){return new Dv(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),b=ne(hr(l).declarations).reduce((R,$)=>{const H=Hn($);return H&&R.push(new Ou(H)),R},[]);return new WE(d,b)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qE=(()=>Promise.resolve(0))();function Vv(n){typeof Zone>"u"?qE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Qd{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cf(!1),this.onMicrotaskEmpty=new cf(!1),this.onStable=new cf(!1),this.onError=new cf(!1),typeof Zone>"u")throw new ft(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const b=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new b("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&l,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function ZE(){let n=jt.requestAnimationFrame,i=jt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function XE(n){const i=()=>{!function JE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(jt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,jv(n),n.isCheckStableRunning=!0,Uv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),jv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,g,b,R,$)=>{try{return Rb(n),l.invokeTask(g,b,R,$)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||n.shouldCoalesceRunChangeDetection)&&i(),Pb(n)}},onInvoke:(l,d,g,b,R,$,H)=>{try{return Rb(n),l.invoke(g,b,R,$,H)}finally{n.shouldCoalesceRunChangeDetection&&i(),Pb(n)}},onHasTask:(l,d,g,b)=>{l.hasTask(g,b),d===g&&("microTask"==b.change?(n._hasPendingMicrotasks=b.microTask,jv(n),Uv(n)):"macroTask"==b.change&&(n.hasPendingMacrotasks=b.macroTask))},onHandleError:(l,d,g,b)=>(l.handleError(g,b),n.runOutsideAngular(()=>n.onError.emit(b)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qd.isInAngularZone())throw new ft(909,!1)}static assertNotInAngularZone(){if(Qd.isInAngularZone())throw new ft(909,!1)}run(i,l,d){return this._inner.run(i,l,d)}runTask(i,l,d,g){const b=this._inner,R=b.scheduleEventTask("NgZoneEvent: "+g,i,QE,Gy,Gy);try{return b.runTask(R,l,d)}finally{b.cancelTask(R)}}runGuarded(i,l,d){return this._inner.runGuarded(i,l,d)}runOutsideAngular(i){return this._outer.run(i)}}const QE={};function Uv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Rb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Pb(n){n._nesting--,Uv(n)}class eC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cf,this.onMicrotaskEmpty=new cf,this.onStable=new cf,this.onError=new cf}run(i,l,d){return i.apply(l,d)}runGuarded(i,l,d){return i.apply(l,d)}runOutsideAngular(i){return i()}runTask(i,l,d,g){return i.apply(l,d)}}const kb=new us(""),Fb=new us("");let Hv,tC=(()=>{class n{constructor(l,d,g){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hv||(function nC(n){Hv=n}(g),g.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qd.assertNotInAngularZone(),Vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vv(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,g){let b=-1;d&&d>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(R=>R.timeoutId!==b),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:b,updateCb:g})}whenStable(l,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,g){return[]}}return n.\u0275fac=function(l){return new(l||n)(qe(Qd),qe(Lb),qe(Fb))},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})(),Lb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Hv?.findTestabilityInTree(this,l,d)??null}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),zp=null;const Bb=new us("AllowMultipleToken"),Gv=new us("PlatformDestroyListeners");class sC{constructor(i,l){this.name=i,this.token=l}}function Vb(n,i,l=[]){const d=`Platform: ${i}`,g=new us(d);return(b=[])=>{let R=Wv();if(!R||R.injector.get(Bb,!1)){const $=[...l,...b,{provide:g,useValue:!0}];n?n($):function oC(n){if(zp&&!zp.get(Bb,!1))throw new ft(400,!1);zp=n;const i=n.get(jb);(function $b(n){const i=n.get(Nb,null);i&&i.forEach(l=>l())})(n)}(function Ub(n=[],i){return ud.create({name:i,providers:[{provide:Tc,useValue:"platform"},{provide:Gv,useValue:new Set([()=>zp=null])},...n]})}($,d))}return function lC(n){const i=Wv();if(!i)throw new ft(401,!1);return i}()}}function Wv(){return zp?.get(jb)??null}let jb=(()=>{class n{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const g=function Gb(n,i){let l;return l="noop"===n?new eC:("zone.js"===n?void 0:n)||new Qd(i),l}(d?.ngZone,function Hb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(d)),b=[{provide:Qd,useValue:g}];return g.run(()=>{const R=ud.create({providers:b,parent:this.injector,name:l.moduleType.name}),$=l.create(R),H=$.injector.get(Oh,null);if(!H)throw new ft(402,!1);return g.runOutsideAngular(()=>{const se=g.onError.subscribe({next:Me=>{H.handleError(Me)}});$.onDestroy(()=>{Yy(this._modules,$),se.unsubscribe()})}),function Wb(n,i,l){try{const d=l();return Zg(d)?d.catch(g=>{throw i.runOutsideAngular(()=>n.handleError(g)),g}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}(H,g,()=>{const se=$.injector.get(Wy);return se.runInitializers(),se.donePromise.then(()=>(By($.injector.get(zy,ep)||ep),this._moduleDoBootstrap($),$))})})}bootstrapModule(l,d=[]){const g=zb({},d);return function iC(n,i,l){const d=new Dv(l);return Promise.resolve(d)}(0,0,l).then(b=>this.bootstrapModuleFactory(b,g))}_moduleDoBootstrap(l){const d=l.injector.get(Ky);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!l.instance.ngDoBootstrap)throw new ft(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ft(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Gv,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(l){return new(l||n)(qe(ud))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function zb(n,i){return Array.isArray(i)?i.reduce(zb,n):{...n,...i}}let Ky=(()=>{class n{constructor(l,d,g){this._zone=l,this._injector=d,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new Q.y($=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{$.next(this._stable),$.complete()})}),R=new Q.y($=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{Qd.assertNotInAngularZone(),Vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,$.next(!0))})})});const se=this._zone.onUnstable.subscribe(()=>{Qd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{$.next(!1)}))});return()=>{H.unsubscribe(),se.unsubscribe()}});this.isStable=(0,Fe.T)(b,R.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const g=l instanceof Su;if(!this._injector.get(Wy).done)throw!g&&mr(l),new ft(405,false);let R;R=g?l:this._injector.get(w).resolveComponentFactory(l),this.componentTypes.push(R.componentType);const $=function rC(n){return n.isBoundToModule}(R)?void 0:this._injector.get(Zm),se=R.create(ud.NULL,[],d||R.selector,$),Me=se.location.nativeElement,Ke=se.injector.get(kb,null);return Ke?.registerApplication(Me),se.onDestroy(()=>{this.detachView(se.hostView),Yy(this.components,se),Ke?.unregisterApplication(Me)}),this._loadComponent(se),se}tick(){if(this._runningTick)throw new ft(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Yy(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Mb,[]).concat(this._bootstrapListeners).forEach(g=>g(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Yy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ft(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(l){return new(l||n)(qe(Qd),qe(lc),qe(Oh))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yy(n,i){const l=n.indexOf(i);l>-1&&n.splice(l,1)}let Yb=!0,qb=!1;function uC(){return qb=!0,Yb}function dC(){if(qb)throw new Error("Cannot enable prod mode after platform setup.");Yb=!1}let hC=(()=>{class n{}return n.__NG_ELEMENT_ID__=fC,n})();function fC(n){return function pC(n,i,l){if(Pt(n)&&!l){const d=Tr(n.index,i);return new zd(d,d)}return 47&n.type?new zd(i[16],i):null}(Z(),wn(),16==(16&n))}class Xb{constructor(){}supports(i){return h(i)}create(i){return new bC(i)}}const vC=(n,i)=>i;class bC{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||vC}forEachItem(i){let l;for(l=this._itHead;null!==l;l=l._next)i(l)}forEachOperation(i){let l=this._itHead,d=this._removalsHead,g=0,b=null;for(;l||d;){const R=!d||l&&l.currentIndex<tw(d,g,b)?l:d,$=tw(R,g,b),H=R.currentIndex;if(R===d)g--,d=d._nextRemoved;else if(l=l._next,null==R.previousIndex)g++;else{b||(b=[]);const se=$-g,Me=H-g;if(se!=Me){for(let Ft=0;Ft<se;Ft++){const qt=Ft<b.length?b[Ft]:b[Ft]=0,Mn=qt+Ft;Me<=Mn&&Mn<se&&(b[Ft]=qt+1)}b[R.previousIndex]=Me-se}}$!==H&&i(R,$,H)}}forEachPreviousItem(i){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)i(l)}forEachAddedItem(i){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)i(l)}forEachMovedItem(i){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)i(l)}forEachRemovedItem(i){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)i(l)}forEachIdentityChange(i){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)i(l)}diff(i){if(null==i&&(i=[]),!h(i))throw new ft(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let g,b,R,l=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let $=0;$<this.length;$++)b=i[$],R=this._trackByFn($,b),null!==l&&Object.is(l.trackById,R)?(d&&(l=this._verifyReinsertion(l,b,R,$)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,R,$),d=!0),l=l._next}else g=0,function N(n,i){if(Array.isArray(n))for(let l=0;l<n.length;l++)i(n[l]);else{const l=n[s()]();let d;for(;!(d=l.next()).done;)i(d.value)}}(i,$=>{R=this._trackByFn(g,$),null!==l&&Object.is(l.trackById,R)?(d&&(l=this._verifyReinsertion(l,$,R,g)),Object.is(l.item,$)||this._addIdentityChange(l,$)):(l=this._mismatch(l,$,R,g),d=!0),l=l._next,g++}),this.length=g;return this._truncate(l),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,l,d,g){let b;return null===i?b=this._itTail:(b=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,l)||this._addIdentityChange(i,l),this._reinsertAfter(i,b,g)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(i.item,l)||this._addIdentityChange(i,l),this._moveAfter(i,b,g)):i=this._addAfter(new wC(l,d),b,g),i}_verifyReinsertion(i,l,d,g){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==b?i=this._reinsertAfter(b,i._prev,g):i.currentIndex!=g&&(i.currentIndex=g,this._addToMoves(i,g)),i}_truncate(i){for(;null!==i;){const l=i._next;this._addToRemovals(this._unlink(i)),i=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const g=i._prevRemoved,b=i._nextRemoved;return null===g?this._removalsHead=b:g._nextRemoved=b,null===b?this._removalsTail=g:b._prevRemoved=g,this._insertAfter(i,l,d),this._addToMoves(i,d),i}_moveAfter(i,l,d){return this._unlink(i),this._insertAfter(i,l,d),this._addToMoves(i,d),i}_addAfter(i,l,d){return this._insertAfter(i,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,l,d){const g=null===l?this._itHead:l._next;return i._next=g,i._prev=l,null===g?this._itTail=i:g._prev=i,null===l?this._itHead=i:l._next=i,null===this._linkedRecords&&(this._linkedRecords=new ew),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const l=i._prev,d=i._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,i}_addToMoves(i,l){return i.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ew),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,l){return i.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class wC{constructor(i,l){this.item=i,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EC{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const l=i._prevDup,d=i._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class ew{constructor(){this.map=new Map}put(i){const l=i.trackById;let d=this.map.get(l);d||(d=new EC,this.map.set(l,d)),d.add(i)}get(i,l){const g=this.map.get(i);return g?g.get(i,l):null}remove(i){const l=i.trackById;return this.map.get(l).remove(i)&&this.map.delete(l),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tw(n,i,l){const d=n.previousIndex;if(null===d)return d;let g=0;return l&&d<l.length&&(g=l[d]),d+i+g}class nw{constructor(){}supports(i){return i instanceof Map||B(i)}create(){return new CC}}class CC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let l;for(l=this._mapHead;null!==l;l=l._next)i(l)}forEachPreviousItem(i){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)i(l)}forEachChangedItem(i){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)i(l)}forEachAddedItem(i){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)i(l)}forEachRemovedItem(i){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)i(l)}diff(i){if(i){if(!(i instanceof Map||B(i)))throw new ft(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,g)=>{if(l&&l.key===g)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const b=this._getOrCreateRecordForKey(g,d);l=this._insertBeforeOrAppend(l,b)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,l){if(i){const d=i._prev;return l._next=i,l._prev=d,i._prev=l,d&&(d._next=l),i===this._mapHead&&(this._mapHead=l),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(i,l){if(this._records.has(i)){const g=this._records.get(i);this._maybeAddToChanges(g,l);const b=g._prev,R=g._next;return b&&(b._next=R),R&&(R._prev=b),g._next=null,g._prev=null,g}const d=new DC(i);return this._records.set(i,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,l){Object.is(l,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=l,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,l){i instanceof Map?i.forEach(l):Object.keys(i).forEach(d=>l(i[d],d))}}class DC{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iw(){return new Zv([new Xb])}let Zv=(()=>{class n{constructor(l){this.factories=l}static create(l,d){if(null!=d){const g=d.factories.slice();l=l.concat(g)}return new n(l)}static extend(l){return{provide:n,useFactory:d=>n.create(l,d||iw()),deps:[[n,new Ia,new Us]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(null!=d)return d;throw new ft(901,!1)}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:iw}),n})();function rw(){return new Qv([new nw])}let Qv=(()=>{class n{constructor(l){this.factories=l}static create(l,d){if(d){const g=d.factories.slice();l=l.concat(g)}return new n(l)}static extend(l){return{provide:n,useFactory:d=>n.create(l,d||rw()),deps:[[n,new Ia,new Us]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(d)return d;throw new ft(901,!1)}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:rw}),n})();const SC=Vb(null,"core",[]);let AC=(()=>{class n{constructor(l){}}return n.\u0275fac=function(l){return new(l||n)(qe(Ky))},n.\u0275mod=Vn({type:n}),n.\u0275inj=Ut({}),n})();function NC(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function xC(n,i){const l=Hn(n),d=i.elementInjector||nd();return new Ou(l).create(d,i.projectableNodes,i.hostElement,i.environmentInjector)}},4719:(Sn,bt,L)=>{"use strict";L.d(bt,{Fj:()=>Ge,qu:()=>Oe,NI:()=>Nt,u:()=>Qi,cw:()=>hr,sg:()=>Ss,u5:()=>zs,nD:()=>ls,JU:()=>fe,a5:()=>dn,JJ:()=>mi,JL:()=>vi,F:()=>we,On:()=>wt,UX:()=>wn,Q7:()=>Ws,kI:()=>tt,_Y:()=>Tt});var o=L(4650),q=L(6895),Q=L(5254),Fe=L(6498),ie=L(6688),de=L(4850),_e=L(7830);function Se(D,C){return new Fe.y(A=>{const G=D.length;if(0===G)return void A.complete();const xe=new Array(G);let gt=0,Wt=0;for(let Yn=0;Yn<G;Yn++){const Ln=(0,Q.D)(D[Yn]);let Ai=!1;A.add(Ln.subscribe({next:lr=>{Ai||(Ai=!0,Wt++),xe[Yn]=lr},error:lr=>A.error(lr),complete:()=>{gt++,(gt===G||!Ai)&&(Wt===G&&A.next(C?C.reduce((lr,Fr,Vr)=>(lr[Fr]=xe[Vr],lr),{}):xe),A.complete())}}))}})}let he=(()=>{class D{constructor(A,G){this._renderer=A,this._elementRef=G,this.onChange=xe=>{},this.onTouched=()=>{}}setProperty(A,G){this._renderer.setProperty(this._elementRef.nativeElement,A,G)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return D.\u0275fac=function(A){return new(A||D)(o.Y36(o.Qsj),o.Y36(o.SBq))},D.\u0275dir=o.lG2({type:D}),D})(),oe=(()=>{class D extends he{}return D.\u0275fac=function(){let C;return function(G){return(C||(C=o.n5z(D)))(G||D)}}(),D.\u0275dir=o.lG2({type:D,features:[o.qOj]}),D})();const fe=new o.OlP("NgValueAccessor"),ft={provide:fe,useExisting:(0,o.Gpc)(()=>Ge),multi:!0},Be=new o.OlP("CompositionEventMode");let Ge=(()=>{class D extends he{constructor(A,G,xe){super(A,G),this._compositionMode=xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ve(){const D=(0,q.q)()?(0,q.q)().getUserAgent():"";return/android (\d+)/.test(D.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return D.\u0275fac=function(A){return new(A||D)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Be,8))},D.\u0275dir=o.lG2({type:D,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,G){1&A&&o.NdJ("input",function(gt){return G._handleInput(gt.target.value)})("blur",function(){return G.onTouched()})("compositionstart",function(){return G._compositionStart()})("compositionend",function(gt){return G._compositionEnd(gt.target.value)})},features:[o._Bn([ft]),o.qOj]}),D})();function vt(D){return null==D||("string"==typeof D||Array.isArray(D))&&0===D.length}function Et(D){return null!=D&&"number"==typeof D.length}const Qe=new o.OlP("NgValidators"),We=new o.OlP("NgAsyncValidators"),ke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tt{static min(C){return function Ee(D){return C=>{if(vt(C.value)||vt(D))return null;const A=parseFloat(C.value);return!isNaN(A)&&A<D?{min:{min:D,actual:C.value}}:null}}(C)}static max(C){return function ve(D){return C=>{if(vt(C.value)||vt(D))return null;const A=parseFloat(C.value);return!isNaN(A)&&A>D?{max:{max:D,actual:C.value}}:null}}(C)}static required(C){return Ie(C)}static requiredTrue(C){return function ue(D){return!0===D.value?null:{required:!0}}(C)}static email(C){return function Ce(D){return vt(D.value)||ke.test(D.value)?null:{email:!0}}(C)}static minLength(C){return function me(D){return C=>vt(C.value)||!Et(C.value)?null:C.value.length<D?{minlength:{requiredLength:D,actualLength:C.value.length}}:null}(C)}static maxLength(C){return At(C)}static pattern(C){return function St(D){if(!D)return Mt;let C,A;return"string"==typeof D?(A="","^"!==D.charAt(0)&&(A+="^"),A+=D,"$"!==D.charAt(D.length-1)&&(A+="$"),C=new RegExp(A)):(A=D.toString(),C=D),G=>{if(vt(G.value))return null;const xe=G.value;return C.test(xe)?null:{pattern:{requiredPattern:A,actualValue:xe}}}}(C)}static nullValidator(C){return null}static compose(C){return $t(C)}static composeAsync(C){return Ut(C)}}function Ie(D){return vt(D.value)?{required:!0}:null}function At(D){return C=>Et(C.value)&&C.value.length>D?{maxlength:{requiredLength:D,actualLength:C.value.length}}:null}function Mt(D){return null}function mt(D){return null!=D}function Je(D){return(0,o.QGY)(D)?(0,Q.D)(D):D}function Ye(D){let C={};return D.forEach(A=>{C=null!=A?{...C,...A}:C}),0===Object.keys(C).length?null:C}function at(D,C){return C.map(A=>A(D))}function xt(D){return D.map(C=>function ht(D){return!D.validate}(C)?C:A=>C.validate(A))}function $t(D){if(!D)return null;const C=D.filter(mt);return 0==C.length?null:function(A){return Ye(at(A,C))}}function En(D){return null!=D?$t(xt(D)):null}function Ut(D){if(!D)return null;const C=D.filter(mt);return 0==C.length?null:function(A){return function ge(...D){if(1===D.length){const C=D[0];if((0,ie.k)(C))return Se(C,null);if((0,_e.K)(C)&&Object.getPrototypeOf(C)===Object.prototype){const A=Object.keys(C);return Se(A.map(G=>C[G]),A)}}if("function"==typeof D[D.length-1]){const C=D.pop();return Se(D=1===D.length&&(0,ie.k)(D[0])?D[0]:D,null).pipe((0,de.U)(A=>C(...A)))}return Se(D,null)}(at(A,C).map(Je)).pipe((0,de.U)(Ye))}}function bn(D){return null!=D?Ut(xt(D)):null}function Te(D,C){return null===D?[C]:Array.isArray(D)?[...D,C]:[D,C]}function Cn(D){return D._rawValidators}function Zn(D){return D._rawAsyncValidators}function zn(D){return D?Array.isArray(D)?D:[D]:[]}function yi(D,C){return Array.isArray(D)?D.includes(C):D===C}function Er(D,C){const A=zn(C);return zn(D).forEach(xe=>{yi(A,xe)||A.push(xe)}),A}function $n(D,C){return zn(C).filter(A=>!yi(D,A))}class ei{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(C){this._rawValidators=C||[],this._composedValidatorFn=En(this._rawValidators)}_setAsyncValidators(C){this._rawAsyncValidators=C||[],this._composedAsyncValidatorFn=bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(C){this._onDestroyCallbacks.push(C)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(C=>C()),this._onDestroyCallbacks=[]}reset(C){this.control&&this.control.reset(C)}hasError(C,A){return!!this.control&&this.control.hasError(C,A)}getError(C,A){return this.control?this.control.getError(C,A):null}}class sn extends ei{get formDirective(){return null}get path(){return null}}class dn extends ei{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ni{constructor(C){this._cd=C}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let mi=(()=>{class D extends Ni{constructor(A){super(A)}}return D.\u0275fac=function(A){return new(A||D)(o.Y36(dn,2))},D.\u0275dir=o.lG2({type:D,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,G){2&A&&o.ekj("ng-untouched",G.isUntouched)("ng-touched",G.isTouched)("ng-pristine",G.isPristine)("ng-dirty",G.isDirty)("ng-valid",G.isValid)("ng-invalid",G.isInvalid)("ng-pending",G.isPending)},features:[o.qOj]}),D})(),vi=(()=>{class D extends Ni{constructor(A){super(A)}}return D.\u0275fac=function(A){return new(A||D)(o.Y36(sn,10))},D.\u0275dir=o.lG2({type:D,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,G){2&A&&o.ekj("ng-untouched",G.isUntouched)("ng-touched",G.isTouched)("ng-pristine",G.isPristine)("ng-dirty",G.isDirty)("ng-valid",G.isValid)("ng-invalid",G.isInvalid)("ng-pending",G.isPending)("ng-submitted",G.isSubmitted)},features:[o.qOj]}),D})();const rt="VALID",on="INVALID",_n="PENDING",Vn="DISABLED";function Ki(D){return(Hn(D)?D.validators:D)||null}function Oi(D){return Array.isArray(D)?En(D):D||null}function ki(D,C){return(Hn(C)?C.asyncValidators:D)||null}function pi(D){return Array.isArray(D)?bn(D):D||null}function Hn(D){return null!=D&&!Array.isArray(D)&&"object"==typeof D}function Bi(D,C,A){const G=D.controls;if(!(C?Object.keys(G):G).length)throw new o.vHH(1e3,"");if(!G[A])throw new o.vHH(1001,"")}function tr(D,C,A){D._forEachChild((G,xe)=>{if(void 0===A[xe])throw new o.vHH(1002,"")})}class mr{constructor(C,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=C,this._rawAsyncValidators=A,this._composedValidatorFn=Oi(this._rawValidators),this._composedAsyncValidatorFn=pi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(C){this._rawValidators=this._composedValidatorFn=C}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(C){this._rawAsyncValidators=this._composedAsyncValidatorFn=C}get parent(){return this._parent}get valid(){return this.status===rt}get invalid(){return this.status===on}get pending(){return this.status==_n}get disabled(){return this.status===Vn}get enabled(){return this.status!==Vn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(C){this._rawValidators=C,this._composedValidatorFn=Oi(C)}setAsyncValidators(C){this._rawAsyncValidators=C,this._composedAsyncValidatorFn=pi(C)}addValidators(C){this.setValidators(Er(C,this._rawValidators))}addAsyncValidators(C){this.setAsyncValidators(Er(C,this._rawAsyncValidators))}removeValidators(C){this.setValidators($n(C,this._rawValidators))}removeAsyncValidators(C){this.setAsyncValidators($n(C,this._rawAsyncValidators))}hasValidator(C){return yi(this._rawValidators,C)}hasAsyncValidator(C){return yi(this._rawAsyncValidators,C)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(C={}){this.touched=!0,this._parent&&!C.onlySelf&&this._parent.markAsTouched(C)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(C=>C.markAllAsTouched())}markAsUntouched(C={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!C.onlySelf&&this._parent._updateTouched(C)}markAsDirty(C={}){this.pristine=!1,this._parent&&!C.onlySelf&&this._parent.markAsDirty(C)}markAsPristine(C={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!C.onlySelf&&this._parent._updatePristine(C)}markAsPending(C={}){this.status=_n,!1!==C.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!C.onlySelf&&this._parent.markAsPending(C)}disable(C={}){const A=this._parentMarkedDirty(C.onlySelf);this.status=Vn,this.errors=null,this._forEachChild(G=>{G.disable({...C,onlySelf:!0})}),this._updateValue(),!1!==C.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...C,skipPristineCheck:A}),this._onDisabledChange.forEach(G=>G(!0))}enable(C={}){const A=this._parentMarkedDirty(C.onlySelf);this.status=rt,this._forEachChild(G=>{G.enable({...C,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:C.emitEvent}),this._updateAncestors({...C,skipPristineCheck:A}),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(C){this._parent&&!C.onlySelf&&(this._parent.updateValueAndValidity(C),C.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(C){this._parent=C}getRawValue(){return this.value}updateValueAndValidity(C={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rt||this.status===_n)&&this._runAsyncValidator(C.emitEvent)),!1!==C.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!C.onlySelf&&this._parent.updateValueAndValidity(C)}_updateTreeValidity(C={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(C)),this.updateValueAndValidity({onlySelf:!0,emitEvent:C.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vn:rt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(C){if(this.asyncValidator){this.status=_n,this._hasOwnPendingAsyncValidator=!0;const A=Je(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(G=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(G,{emitEvent:C})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(C,A={}){this.errors=C,this._updateControlsErrors(!1!==A.emitEvent)}get(C){let A=C;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((G,xe)=>G&&G._find(xe),this)}getError(C,A){const G=A?this.get(A):this;return G&&G.errors?G.errors[C]:null}hasError(C,A){return!!this.getError(C,A)}get root(){let C=this;for(;C._parent;)C=C._parent;return C}_updateControlsErrors(C){this.status=this._calculateStatus(),C&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(C)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Vn:this.errors?on:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_n)?_n:this._anyControlsHaveStatus(on)?on:rt}_anyControlsHaveStatus(C){return this._anyControls(A=>A.status===C)}_anyControlsDirty(){return this._anyControls(C=>C.dirty)}_anyControlsTouched(){return this._anyControls(C=>C.touched)}_updatePristine(C={}){this.pristine=!this._anyControlsDirty(),this._parent&&!C.onlySelf&&this._parent._updatePristine(C)}_updateTouched(C={}){this.touched=this._anyControlsTouched(),this._parent&&!C.onlySelf&&this._parent._updateTouched(C)}_registerOnCollectionChange(C){this._onCollectionChange=C}_setUpdateStrategy(C){Hn(C)&&null!=C.updateOn&&(this._updateOn=C.updateOn)}_parentMarkedDirty(C){return!C&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(C){return null}}class hr extends mr{constructor(C,A,G){super(Ki(A),ki(G,A)),this.controls=C,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(C,A){return this.controls[C]?this.controls[C]:(this.controls[C]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(C,A,G={}){this.registerControl(C,A),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}removeControl(C,A={}){this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),delete this.controls[C],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(C,A,G={}){this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),delete this.controls[C],A&&this.registerControl(C,A),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}contains(C){return this.controls.hasOwnProperty(C)&&this.controls[C].enabled}setValue(C,A={}){tr(this,0,C),Object.keys(C).forEach(G=>{Bi(this,!0,G),this.controls[G].setValue(C[G],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(C,A={}){null!=C&&(Object.keys(C).forEach(G=>{const xe=this.controls[G];xe&&xe.patchValue(C[G],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(C={},A={}){this._forEachChild((G,xe)=>{G.reset(C[xe],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(C,A,G)=>(C[G]=A.getRawValue(),C))}_syncPendingControls(){let C=this._reduceChildren(!1,(A,G)=>!!G._syncPendingControls()||A);return C&&this.updateValueAndValidity({onlySelf:!0}),C}_forEachChild(C){Object.keys(this.controls).forEach(A=>{const G=this.controls[A];G&&C(G,A)})}_setUpControls(){this._forEachChild(C=>{C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(C){for(const[A,G]of Object.entries(this.controls))if(this.contains(A)&&C(G))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,G,xe)=>((G.enabled||this.disabled)&&(A[xe]=G.value),A))}_reduceChildren(C,A){let G=C;return this._forEachChild((xe,gt)=>{G=A(G,xe,gt)}),G}_allControlsDisabled(){for(const C of Object.keys(this.controls))if(this.controls[C].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(C){return this.controls.hasOwnProperty(C)?this.controls[C]:null}}class Ze extends hr{}function be(D,C){return[...C.path,D]}function it(D,C){Qt(D,C),C.valueAccessor.writeValue(D.value),D.disabled&&C.valueAccessor.setDisabledState?.(!0),function tn(D,C){C.valueAccessor.registerOnChange(A=>{D._pendingValue=A,D._pendingChange=!0,D._pendingDirty=!0,"change"===D.updateOn&&di(D,C)})}(D,C),function Mi(D,C){const A=(G,xe)=>{C.valueAccessor.writeValue(G),xe&&C.viewToModelUpdate(G)};D.registerOnChange(A),C._registerOnDestroy(()=>{D._unregisterOnChange(A)})}(D,C),function Gn(D,C){C.valueAccessor.registerOnTouched(()=>{D._pendingTouched=!0,"blur"===D.updateOn&&D._pendingChange&&di(D,C),"submit"!==D.updateOn&&D.markAsTouched()})}(D,C),function Zt(D,C){if(C.valueAccessor.setDisabledState){const A=G=>{C.valueAccessor.setDisabledState(G)};D.registerOnDisabledChange(A),C._registerOnDestroy(()=>{D._unregisterOnDisabledChange(A)})}}(D,C)}function _t(D,C,A=!0){const G=()=>{};C.valueAccessor&&(C.valueAccessor.registerOnChange(G),C.valueAccessor.registerOnTouched(G)),kn(D,C),D&&(C._invokeOnDestroyCallbacks(),D._registerOnCollectionChange(()=>{}))}function Ht(D,C){D.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(C)})}function Qt(D,C){const A=Cn(D);null!==C.validator?D.setValidators(Te(A,C.validator)):"function"==typeof A&&D.setValidators([A]);const G=Zn(D);null!==C.asyncValidator?D.setAsyncValidators(Te(G,C.asyncValidator)):"function"==typeof G&&D.setAsyncValidators([G]);const xe=()=>D.updateValueAndValidity();Ht(C._rawValidators,xe),Ht(C._rawAsyncValidators,xe)}function kn(D,C){let A=!1;if(null!==D){if(null!==C.validator){const xe=Cn(D);if(Array.isArray(xe)&&xe.length>0){const gt=xe.filter(Wt=>Wt!==C.validator);gt.length!==xe.length&&(A=!0,D.setValidators(gt))}}if(null!==C.asyncValidator){const xe=Zn(D);if(Array.isArray(xe)&&xe.length>0){const gt=xe.filter(Wt=>Wt!==C.asyncValidator);gt.length!==xe.length&&(A=!0,D.setAsyncValidators(gt))}}}const G=()=>{};return Ht(C._rawValidators,G),Ht(C._rawAsyncValidators,G),A}function di(D,C){D._pendingDirty&&D.markAsDirty(),D.setValue(D._pendingValue,{emitModelToViewChange:!1}),C.viewToModelUpdate(D._pendingValue),D._pendingChange=!1}function bi(D,C){Qt(D,C)}function ss(D,C){if(!D.hasOwnProperty("model"))return!1;const A=D.model;return!!A.isFirstChange()||!Object.is(C,A.currentValue)}function Fs(D,C){D._syncPendingControls(),C.forEach(A=>{const G=A.control;"submit"===G.updateOn&&G._pendingChange&&(A.viewToModelUpdate(G._pendingValue),G._pendingChange=!1)})}function hs(D,C){if(!C)return null;let A,G,xe;return Array.isArray(C),C.forEach(gt=>{gt.constructor===Ge?A=gt:function Cr(D){return Object.getPrototypeOf(D.constructor)===oe}(gt)?G=gt:xe=gt}),xe||G||A||null}const Jr={provide:sn,useExisting:(0,o.Gpc)(()=>we)},ts=(()=>Promise.resolve())();let we=(()=>{class D extends sn{constructor(A,G){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new hr({},En(A),bn(G))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(A){ts.then(()=>{const G=this._findContainer(A.path);A.control=G.registerControl(A.name,A.control),it(A.control,A),A.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(A)})}getControl(A){return this.form.get(A.path)}removeControl(A){ts.then(()=>{const G=this._findContainer(A.path);G&&G.removeControl(A.name),this._directives.delete(A)})}addFormGroup(A){ts.then(()=>{const G=this._findContainer(A.path),xe=new hr({});bi(xe,A),G.registerControl(A.name,xe),xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(A){ts.then(()=>{const G=this._findContainer(A.path);G&&G.removeControl(A.name)})}getFormGroup(A){return this.form.get(A.path)}updateModel(A,G){ts.then(()=>{this.form.get(A.path).setValue(G)})}setValue(A){this.control.setValue(A)}onSubmit(A){return this.submitted=!0,Fs(this.form,this._directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(A){return A.pop(),A.length?this.form.get(A):this.form}}return D.\u0275fac=function(A){return new(A||D)(o.Y36(Qe,10),o.Y36(We,10))},D.\u0275dir=o.lG2({type:D,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(A,G){1&A&&o.NdJ("submit",function(gt){return G.onSubmit(gt)})("reset",function(){return G.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Jr]),o.qOj]}),D})();function $e(D,C){const A=D.indexOf(C);A>-1&&D.splice(A,1)}function Ct(D){return"object"==typeof D&&null!==D&&2===Object.keys(D).length&&"value"in D&&"disabled"in D}const Nt=class extends mr{constructor(C=null,A,G){super(Ki(A),ki(G,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(C),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hn(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=Ct(C)?C.value:C)}setValue(C,A={}){this.value=this._pendingValue=C,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(C,A={}){this.setValue(C,A)}reset(C=this.defaultValue,A={}){this._applyFormState(C),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(C){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(C){this._onChange.push(C)}_unregisterOnChange(C){$e(this._onChange,C)}registerOnDisabledChange(C){this._onDisabledChange.push(C)}_unregisterOnDisabledChange(C){$e(this._onDisabledChange,C)}_forEachChild(C){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(C){Ct(C)?(this.value=this._pendingValue=C.value,C.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=C}},jr={provide:dn,useExisting:(0,o.Gpc)(()=>wt)},Ir=(()=>Promise.resolve())();let wt=(()=>{class D extends dn{constructor(A,G,xe,gt,Wt){super(),this._changeDetectorRef=Wt,this.control=new Nt,this._registered=!1,this.update=new o.vpe,this._parent=A,this._setValidators(G),this._setAsyncValidators(xe),this.valueAccessor=hs(0,gt)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const G=A.name.previousValue;this.formDirective.removeControl({name:G,path:this._getPath(G)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),ss(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){it(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){Ir.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(A){const G=A.isDisabled.currentValue,xe=0!==G&&(0,o.D6c)(G);Ir.then(()=>{xe&&!this.control.disabled?this.control.disable():!xe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(A){return this._parent?be(A,this._parent):[A]}}return D.\u0275fac=function(A){return new(A||D)(o.Y36(sn,9),o.Y36(Qe,10),o.Y36(We,10),o.Y36(fe,10),o.Y36(o.sBO,8))},D.\u0275dir=o.lG2({type:D,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([jr]),o.qOj,o.TTD]}),D})(),Tt=(()=>{class D{}return D.\u0275fac=function(A){return new(A||D)},D.\u0275dir=o.lG2({type:D,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),D})(),Ei=(()=>{class D{}return D.\u0275fac=function(A){return new(A||D)},D.\u0275mod=o.oAB({type:D}),D.\u0275inj=o.cJS({}),D})();const Xs=new o.OlP("NgModelWithFormControlWarning"),jo={provide:sn,useExisting:(0,o.Gpc)(()=>Ss)};let Ss=(()=>{class D extends sn{constructor(A,G){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(A),this._setAsyncValidators(G)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const G=this.form.get(A.path);return it(G,A),G.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),G}getControl(A){return this.form.get(A.path)}removeControl(A){_t(A.control||null,A,!1),function bs(D,C){const A=D.indexOf(C);A>-1&&D.splice(A,1)}(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,G){this.form.get(A.path).setValue(G)}onSubmit(A){return this.submitted=!0,Fs(this.form,this.directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const G=A.control,xe=this.form.get(A.path);G!==xe&&(_t(G||null,A),(D=>D instanceof Nt)(xe)&&(it(xe,A),A.control=xe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const G=this.form.get(A.path);bi(G,A),G.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const G=this.form.get(A.path);G&&function Ri(D,C){return kn(D,C)}(G,A)&&G.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qt(this.form,this),this._oldForm&&kn(this._oldForm,this)}_checkFormPresent(){}}return D.\u0275fac=function(A){return new(A||D)(o.Y36(Qe,10),o.Y36(We,10))},D.\u0275dir=o.lG2({type:D,selectors:[["","formGroup",""]],hostBindings:function(A,G){1&A&&o.NdJ("submit",function(gt){return G.onSubmit(gt)})("reset",function(){return G.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([jo]),o.qOj,o.TTD]}),D})();const no={provide:dn,useExisting:(0,o.Gpc)(()=>Qi)};let Qi=(()=>{class D extends dn{constructor(A,G,xe,gt,Wt){super(),this._ngModelWarningConfig=Wt,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(G),this._setAsyncValidators(xe),this.valueAccessor=hs(0,gt)}set isDisabled(A){}ngOnChanges(A){this._added||this._setUpControl(),ss(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return be(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return D._ngModelWarningSentOnce=!1,D.\u0275fac=function(A){return new(A||D)(o.Y36(sn,13),o.Y36(Qe,10),o.Y36(We,10),o.Y36(fe,10),o.Y36(Xs,8))},D.\u0275dir=o.lG2({type:D,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([no]),o.qOj,o.TTD]}),D})();let ys=(()=>{class D{constructor(){this._validator=Mt}ngOnChanges(A){if(this.inputName in A){const G=this.normalizeInput(A[this.inputName].currentValue);this._enabled=this.enabled(G),this._validator=this._enabled?this.createValidator(G):Mt,this._onChange&&this._onChange()}}validate(A){return this._validator(A)}registerOnValidatorChange(A){this._onChange=A}enabled(A){return null!=A}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275dir=o.lG2({type:D,features:[o.TTD]}),D})();const Xr={provide:Qe,useExisting:(0,o.Gpc)(()=>Ws),multi:!0};let Ws=(()=>{class D extends ys{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.D6c,this.createValidator=A=>Ie}enabled(A){return A}}return D.\u0275fac=function(){let C;return function(G){return(C||(C=o.n5z(D)))(G||D)}}(),D.\u0275dir=o.lG2({type:D,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(A,G){2&A&&o.uIk("required",G._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([Xr]),o.qOj]}),D})();const Ui={provide:Qe,useExisting:(0,o.Gpc)(()=>ls),multi:!0};let ls=(()=>{class D extends ys{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=A=>function kr(D){return"number"==typeof D?D:parseInt(D,10)}(A),this.createValidator=A=>At(A)}}return D.\u0275fac=function(){let C;return function(G){return(C||(C=o.n5z(D)))(G||D)}}(),D.\u0275dir=o.lG2({type:D,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(A,G){2&A&&o.uIk("maxlength",G._enabled?G.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([Ui]),o.qOj]}),D})(),Vs=(()=>{class D{}return D.\u0275fac=function(A){return new(A||D)},D.\u0275mod=o.oAB({type:D}),D.\u0275inj=o.cJS({imports:[Ei]}),D})(),zs=(()=>{class D{}return D.\u0275fac=function(A){return new(A||D)},D.\u0275mod=o.oAB({type:D}),D.\u0275inj=o.cJS({imports:[Vs]}),D})(),wn=(()=>{class D{static withConfig(A){return{ngModule:D,providers:[{provide:Xs,useValue:A.warnOnNgModelWithFormControl}]}}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275mod=o.oAB({type:D}),D.\u0275inj=o.cJS({imports:[Vs]}),D})();class S extends mr{constructor(C,A,G){super(Ki(A),ki(G,A)),this.controls=C,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(C){return this.controls[this._adjustIndex(C)]}push(C,A={}){this.controls.push(C),this._registerControl(C),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(C,A,G={}){this.controls.splice(C,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:G.emitEvent})}removeAt(C,A={}){let G=this._adjustIndex(C);G<0&&(G=0),this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),this.controls.splice(G,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(C,A,G={}){let xe=this._adjustIndex(C);xe<0&&(xe=0),this.controls[xe]&&this.controls[xe]._registerOnCollectionChange(()=>{}),this.controls.splice(xe,1),A&&(this.controls.splice(xe,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(C,A={}){tr(this,0,C),C.forEach((G,xe)=>{Bi(this,!1,xe),this.at(xe).setValue(G,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(C,A={}){null!=C&&(C.forEach((G,xe)=>{this.at(xe)&&this.at(xe).patchValue(G,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(C=[],A={}){this._forEachChild((G,xe)=>{G.reset(C[xe],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(C=>C.getRawValue())}clear(C={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:C.emitEvent}))}_adjustIndex(C){return C<0?C+this.length:C}_syncPendingControls(){let C=this.controls.reduce((A,G)=>!!G._syncPendingControls()||A,!1);return C&&this.updateValueAndValidity({onlySelf:!0}),C}_forEachChild(C){this.controls.forEach((A,G)=>{C(A,G)})}_updateValue(){this.value=this.controls.filter(C=>C.enabled||this.disabled).map(C=>C.value)}_anyControls(C){return this.controls.some(A=>A.enabled&&C(A))}_setUpControls(){this._forEachChild(C=>this._registerControl(C))}_allControlsDisabled(){for(const C of this.controls)if(C.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(C){C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange)}_find(C){return this.at(C)??null}}function Z(D){return!!D&&(void 0!==D.asyncValidators||void 0!==D.validators||void 0!==D.updateOn)}let Oe=(()=>{class D{constructor(){this.useNonNullable=!1}get nonNullable(){const A=new D;return A.useNonNullable=!0,A}group(A,G=null){const xe=this._reduceControls(A);let gt={};return Z(G)?gt=G:null!==G&&(gt.validators=G.validator,gt.asyncValidators=G.asyncValidator),new hr(xe,gt)}record(A,G=null){const xe=this._reduceControls(A);return new Ze(xe,G)}control(A,G,xe){let gt={};return this.useNonNullable?(Z(G)?gt=G:(gt.validators=G,gt.asyncValidators=xe),new Nt(A,{...gt,nonNullable:!0})):new Nt(A,G,xe)}array(A,G,xe){const gt=A.map(Wt=>this._createControl(Wt));return new S(gt,G,xe)}_reduceControls(A){const G={};return Object.keys(A).forEach(xe=>{G[xe]=this._createControl(A[xe])}),G}_createControl(A){return A instanceof Nt||A instanceof mr?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=o.Yz7({token:D,factory:D.\u0275fac,providedIn:wn}),D})()},1481:(Sn,bt,L)=>{"use strict";L.d(bt,{Dx:()=>zt,b2:()=>xi,q6:()=>ei,se:()=>me});var o=L(6895),q=L(4650);class Q extends o.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fe extends Q{static makeCurrent(){(0,o.HT)(new Fe)}onAndCancel(Ze,te,be){return Ze.addEventListener(te,be,!1),()=>{Ze.removeEventListener(te,be,!1)}}dispatchEvent(Ze,te){Ze.dispatchEvent(te)}remove(Ze){Ze.parentNode&&Ze.parentNode.removeChild(Ze)}createElement(Ze,te){return(te=te||this.getDefaultDocument()).createElement(Ze)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ze){return Ze.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ze){return Ze instanceof DocumentFragment}getGlobalEventTarget(Ze,te){return"window"===te?window:"document"===te?Ze:"body"===te?Ze.body:null}getBaseHref(Ze){const te=function de(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}();return null==te?null:function ge(lt){_e=_e||document.createElement("a"),_e.setAttribute("href",lt);const Ze=_e.pathname;return"/"===Ze.charAt(0)?Ze:`/${Ze}`}(te)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ze){return(0,o.Mx)(document.cookie,Ze)}}let _e,ie=null;const Se=new q.OlP("TRANSITION_ID"),oe=[{provide:q.ip1,useFactory:function he(lt,Ze,te){return()=>{te.get(q.CZH).donePromise.then(()=>{const be=(0,o.q)(),it=Ze.querySelectorAll(`style[ng-transition="${lt}"]`);for(let _t=0;_t<it.length;_t++)be.remove(it[_t])})}},deps:[Se,o.K0,q.zs3],multi:!0}];let ye=(()=>{class lt{build(){return new XMLHttpRequest}}return lt.\u0275fac=function(te){return new(te||lt)},lt.\u0275prov=q.Yz7({token:lt,factory:lt.\u0275fac}),lt})();const je=new q.OlP("EventManagerPlugins");let ft=(()=>{class lt{constructor(te,be){this._zone=be,this._eventNameToPlugin=new Map,te.forEach(it=>it.manager=this),this._plugins=te.slice().reverse()}addEventListener(te,be,it){return this._findPluginFor(be).addEventListener(te,be,it)}addGlobalEventListener(te,be,it){return this._findPluginFor(be).addGlobalEventListener(te,be,it)}getZone(){return this._zone}_findPluginFor(te){const be=this._eventNameToPlugin.get(te);if(be)return be;const it=this._plugins;for(let _t=0;_t<it.length;_t++){const Ht=it[_t];if(Ht.supports(te))return this._eventNameToPlugin.set(te,Ht),Ht}throw new Error(`No event manager plugin found for event ${te}`)}}return lt.\u0275fac=function(te){return new(te||lt)(q.LFG(je),q.LFG(q.R0b))},lt.\u0275prov=q.Yz7({token:lt,factory:lt.\u0275fac}),lt})();class Ve{constructor(Ze){this._doc=Ze}addGlobalEventListener(Ze,te,be){const it=(0,o.q)().getGlobalEventTarget(this._doc,Ze);if(!it)throw new Error(`Unsupported event target ${it} for event ${te}`);return this.addEventListener(it,te,be)}}let Be=(()=>{class lt{constructor(){this._stylesSet=new Set}addStyles(te){const be=new Set;te.forEach(it=>{this._stylesSet.has(it)||(this._stylesSet.add(it),be.add(it))}),this.onStylesAdded(be)}onStylesAdded(te){}getAllStyles(){return Array.from(this._stylesSet)}}return lt.\u0275fac=function(te){return new(te||lt)},lt.\u0275prov=q.Yz7({token:lt,factory:lt.\u0275fac}),lt})(),Ge=(()=>{class lt extends Be{constructor(te){super(),this._doc=te,this._hostNodes=new Map,this._hostNodes.set(te.head,[])}_addStylesToHost(te,be,it){te.forEach(_t=>{const Ht=this._doc.createElement("style");Ht.textContent=_t,it.push(be.appendChild(Ht))})}addHost(te){const be=[];this._addStylesToHost(this._stylesSet,te,be),this._hostNodes.set(te,be)}removeHost(te){const be=this._hostNodes.get(te);be&&be.forEach(Lt),this._hostNodes.delete(te)}onStylesAdded(te){this._hostNodes.forEach((be,it)=>{this._addStylesToHost(te,it,be)})}ngOnDestroy(){this._hostNodes.forEach(te=>te.forEach(Lt))}}return lt.\u0275fac=function(te){return new(te||lt)(q.LFG(o.K0))},lt.\u0275prov=q.Yz7({token:lt,factory:lt.\u0275fac}),lt})();function Lt(lt){(0,o.q)().remove(lt)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Et=/%COMP%/g;function Ie(lt,Ze,te){for(let be=0;be<Ze.length;be++){let it=Ze[be];Array.isArray(it)?Ie(lt,it,te):(it=it.replace(Et,lt),te.push(it))}return te}function ue(lt){return Ze=>{if("__ngUnwrap__"===Ze)return lt;!1===lt(Ze)&&(Ze.preventDefault(),Ze.returnValue=!1)}}let me=(()=>{class lt{constructor(te,be,it){this.eventManager=te,this.sharedStylesHost=be,this.appId=it,this.rendererByCompId=new Map,this.defaultRenderer=new At(te)}createRenderer(te,be){if(!te||!be)return this.defaultRenderer;switch(be.encapsulation){case q.ifc.Emulated:{let it=this.rendererByCompId.get(be.id);return it||(it=new Je(this.eventManager,this.sharedStylesHost,be,this.appId),this.rendererByCompId.set(be.id,it)),it.applyToHost(te),it}case 1:case q.ifc.ShadowDom:return new Ye(this.eventManager,this.sharedStylesHost,te,be);default:if(!this.rendererByCompId.has(be.id)){const it=Ie(be.id,be.styles,[]);this.sharedStylesHost.addStyles(it),this.rendererByCompId.set(be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return lt.\u0275fac=function(te){return new(te||lt)(q.LFG(ft),q.LFG(Ge),q.LFG(q.AFp))},lt.\u0275prov=q.Yz7({token:lt,factory:lt.\u0275fac}),lt})();class At{constructor(Ze){this.eventManager=Ze,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ze,te){return te?document.createElementNS(vt[te]||te,Ze):document.createElement(Ze)}createComment(Ze){return document.createComment(Ze)}createText(Ze){return document.createTextNode(Ze)}appendChild(Ze,te){(mt(Ze)?Ze.content:Ze).appendChild(te)}insertBefore(Ze,te,be){Ze&&(mt(Ze)?Ze.content:Ze).insertBefore(te,be)}removeChild(Ze,te){Ze&&Ze.removeChild(te)}selectRootElement(Ze,te){let be="string"==typeof Ze?document.querySelector(Ze):Ze;if(!be)throw new Error(`The selector "${Ze}" did not match any elements`);return te||(be.textContent=""),be}parentNode(Ze){return Ze.parentNode}nextSibling(Ze){return Ze.nextSibling}setAttribute(Ze,te,be,it){if(it){te=it+":"+te;const _t=vt[it];_t?Ze.setAttributeNS(_t,te,be):Ze.setAttribute(te,be)}else Ze.setAttribute(te,be)}removeAttribute(Ze,te,be){if(be){const it=vt[be];it?Ze.removeAttributeNS(it,te):Ze.removeAttribute(`${be}:${te}`)}else Ze.removeAttribute(te)}addClass(Ze,te){Ze.classList.add(te)}removeClass(Ze,te){Ze.classList.remove(te)}setStyle(Ze,te,be,it){it&(q.JOm.DashCase|q.JOm.Important)?Ze.style.setProperty(te,be,it&q.JOm.Important?"important":""):Ze.style[te]=be}removeStyle(Ze,te,be){be&q.JOm.DashCase?Ze.style.removeProperty(te):Ze.style[te]=""}setProperty(Ze,te,be){Ze[te]=be}setValue(Ze,te){Ze.nodeValue=te}listen(Ze,te,be){return"string"==typeof Ze?this.eventManager.addGlobalEventListener(Ze,te,ue(be)):this.eventManager.addEventListener(Ze,te,ue(be))}}function mt(lt){return"TEMPLATE"===lt.tagName&&void 0!==lt.content}class Je extends At{constructor(Ze,te,be,it){super(Ze),this.component=be;const _t=Ie(it+"-"+be.id,be.styles,[]);te.addStyles(_t),this.contentAttr=function Ee(lt){return"_ngcontent-%COMP%".replace(Et,lt)}(it+"-"+be.id),this.hostAttr=function ve(lt){return"_nghost-%COMP%".replace(Et,lt)}(it+"-"+be.id)}applyToHost(Ze){super.setAttribute(Ze,this.hostAttr,"")}createElement(Ze,te){const be=super.createElement(Ze,te);return super.setAttribute(be,this.contentAttr,""),be}}class Ye extends At{constructor(Ze,te,be,it){super(Ze),this.sharedStylesHost=te,this.hostEl=be,this.shadowRoot=be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _t=Ie(it.id,it.styles,[]);for(let Ht=0;Ht<_t.length;Ht++){const Zt=document.createElement("style");Zt.textContent=_t[Ht],this.shadowRoot.appendChild(Zt)}}nodeOrShadowRoot(Ze){return Ze===this.hostEl?this.shadowRoot:Ze}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ze,te){return super.appendChild(this.nodeOrShadowRoot(Ze),te)}insertBefore(Ze,te,be){return super.insertBefore(this.nodeOrShadowRoot(Ze),te,be)}removeChild(Ze,te){return super.removeChild(this.nodeOrShadowRoot(Ze),te)}parentNode(Ze){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ze)))}}let at=(()=>{class lt extends Ve{constructor(te){super(te)}supports(te){return!0}addEventListener(te,be,it){return te.addEventListener(be,it,!1),()=>this.removeEventListener(te,be,it)}removeEventListener(te,be,it){return te.removeEventListener(be,it)}}return lt.\u0275fac=function(te){return new(te||lt)(q.LFG(o.K0))},lt.\u0275prov=q.Yz7({token:lt,factory:lt.\u0275fac}),lt})();const ht=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$t={alt:lt=>lt.altKey,control:lt=>lt.ctrlKey,meta:lt=>lt.metaKey,shift:lt=>lt.shiftKey};let En=(()=>{class lt extends Ve{constructor(te){super(te)}supports(te){return null!=lt.parseEventName(te)}addEventListener(te,be,it){const _t=lt.parseEventName(be),Ht=lt.eventCallback(_t.fullKey,it,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,o.q)().onAndCancel(te,_t.domEventName,Ht))}static parseEventName(te){const be=te.toLowerCase().split("."),it=be.shift();if(0===be.length||"keydown"!==it&&"keyup"!==it)return null;const _t=lt._normalizeKey(be.pop());let Ht="",Zt=be.indexOf("code");if(Zt>-1&&(be.splice(Zt,1),Ht="code."),ht.forEach(kn=>{const tn=be.indexOf(kn);tn>-1&&(be.splice(tn,1),Ht+=kn+".")}),Ht+=_t,0!=be.length||0===_t.length)return null;const Qt={};return Qt.domEventName=it,Qt.fullKey=Ht,Qt}static matchEventFullKeyCode(te,be){let it=xt[te.key]||te.key,_t="";return be.indexOf("code.")>-1&&(it=te.code,_t="code."),!(null==it||!it)&&(it=it.toLowerCase()," "===it?it="space":"."===it&&(it="dot"),ht.forEach(Ht=>{Ht!==it&&(0,$t[Ht])(te)&&(_t+=Ht+".")}),_t+=it,_t===be)}static eventCallback(te,be,it){return _t=>{lt.matchEventFullKeyCode(_t,te)&&it.runGuarded(()=>be(_t))}}static _normalizeKey(te){return"esc"===te?"escape":te}}return lt.\u0275fac=function(te){return new(te||lt)(q.LFG(o.K0))},lt.\u0275prov=q.Yz7({token:lt,factory:lt.\u0275fac}),lt})();const ei=(0,q.eFA)(q._c5,"browser",[{provide:q.Lbi,useValue:o.bD},{provide:q.g9A,useValue:function zn(){Fe.makeCurrent()},multi:!0},{provide:o.K0,useFactory:function Er(){return(0,q.RDi)(document),document},deps:[]}]),sn=new q.OlP(""),dn=[{provide:q.rWj,useClass:class fe{addToWindow(Ze){q.dqk.getAngularTestability=(be,it=!0)=>{const _t=Ze.findTestabilityInTree(be,it);if(null==_t)throw new Error("Could not find testability for element.");return _t},q.dqk.getAllAngularTestabilities=()=>Ze.getAllTestabilities(),q.dqk.getAllAngularRootElements=()=>Ze.getAllRootElements(),q.dqk.frameworkStabilizers||(q.dqk.frameworkStabilizers=[]),q.dqk.frameworkStabilizers.push(be=>{const it=q.dqk.getAllAngularTestabilities();let _t=it.length,Ht=!1;const Zt=function(Qt){Ht=Ht||Qt,_t--,0==_t&&be(Ht)};it.forEach(function(Qt){Qt.whenStable(Zt)})})}findTestabilityInTree(Ze,te,be){return null==te?null:Ze.getTestability(te)??(be?(0,o.q)().isShadowRoot(te)?this.findTestabilityInTree(Ze,te.host,!0):this.findTestabilityInTree(Ze,te.parentElement,!0):null)}},deps:[]},{provide:q.lri,useClass:q.dDg,deps:[q.R0b,q.eoX,q.rWj]},{provide:q.dDg,useClass:q.dDg,deps:[q.R0b,q.eoX,q.rWj]}],Ni=[{provide:q.zSh,useValue:"root"},{provide:q.qLn,useFactory:function yi(){return new q.qLn},deps:[]},{provide:je,useClass:at,multi:!0,deps:[o.K0,q.R0b,q.Lbi]},{provide:je,useClass:En,multi:!0,deps:[o.K0]},{provide:me,useClass:me,deps:[ft,Ge,q.AFp]},{provide:q.FYo,useExisting:me},{provide:Be,useExisting:Ge},{provide:Ge,useClass:Ge,deps:[o.K0]},{provide:ft,useClass:ft,deps:[je,q.R0b]},{provide:o.JF,useClass:ye,deps:[]},[]];let xi=(()=>{class lt{constructor(te){}static withServerTransition(te){return{ngModule:lt,providers:[{provide:q.AFp,useValue:te.appId},{provide:Se,useExisting:q.AFp},oe]}}}return lt.\u0275fac=function(te){return new(te||lt)(q.LFG(sn,12))},lt.\u0275mod=q.oAB({type:lt}),lt.\u0275inj=q.cJS({providers:[...Ni,...dn],imports:[o.ez,q.hGG]}),lt})(),zt=(()=>{class lt{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}}return lt.\u0275fac=function(te){return new(te||lt)(q.LFG(o.K0))},lt.\u0275prov=q.Yz7({token:lt,factory:function(te){let be=null;return be=te?new te:function Di(){return new zt((0,q.LFG)(o.K0))}(),be},providedIn:"root"}),lt})();typeof window<"u"&&window},1808:(Sn,bt,L)=>{"use strict";L.d(bt,{gz:()=>Ss,y6:()=>kr,OD:()=>et,eC:()=>Cn,wm:()=>Lo,wN:()=>xr,F0:()=>vs,rH:()=>Ka,yS:()=>Bl,Bz:()=>_o,Hx:()=>Xe});var o=L(4650),q=L(5254),Q=L(1086),Fe=L(591),ie=L(4450),de=L(6053),_e=L(1221),ge=L(6498),Se=L(8896);function he(P){return new ge.y(F=>{let O;try{O=P()}catch(J){return void F.error(J)}return(O?(0,q.D)(O):(0,Se.c)()).subscribe(F)})}var oe=L(4843),fe=L(1737),ye=L(1762),je=L(8929),ft=L(6895),Ve=L(4850),Be=L(7545),Ge=L(2986),Lt=L(1059),vt=L(2198),Et=L(1709),Qe=L(7224),We=L(1406),ke=L(2994),tt=L(7221),Ee=L(2014),ve=L(3489),Ie=L(4231);function ue(P){return function(O){return 0===P?(0,Se.c)():O.lift(new Ce(P))}}class Ce{constructor(F){if(this.total=F,this.total<0)throw new Ie.W}call(F,O){return O.subscribe(new me(F,this.total))}}class me extends ve.L{constructor(F,O){super(F),this.total=O,this.ring=new Array,this.count=0}_next(F){const O=this.ring,W=this.total,J=this.count++;O.length<W?O.push(F):O[J%W]=F}_complete(){const F=this.destination;let O=this.count;if(O>0){const W=this.count>=this.total?this.total:this.count,J=this.ring;for(let De=0;De<W;De++){const st=O++%W;F.next(J[st])}}F.complete()}}var At=L(4907),St=L(7314),Mt=L(5379);function mt(P,F){const O=arguments.length>=2;return W=>W.pipe(P?(0,vt.h)((J,De)=>P(J,De,W)):Mt.y,ue(1),O?(0,St.d)(F):(0,At.T)(()=>new ie.K))}class Ye{constructor(F,O){this.predicate=F,this.inclusive=O}call(F,O){return O.subscribe(new at(F,this.predicate,this.inclusive))}}class at extends ve.L{constructor(F,O,W){super(F),this.predicate=O,this.inclusive=W,this.index=0}_next(F){const O=this.destination;let W;try{W=this.predicate(F,this.index++)}catch(J){return void O.error(J)}this.nextOrComplete(F,W)}nextOrComplete(F,O){const W=this.destination;Boolean(O)?W.next(F):(this.inclusive&&W.next(F),W.complete())}}class xt{constructor(F){this.value=F}call(F,O){return O.subscribe(new $t(F,this.value))}}class $t extends ve.L{constructor(F,O){super(F),this.value=O}_next(F){this.destination.next(this.value)}}var En=L(537),Ut=L(4327),bn=L(9146),Te=L(1481);const Cn="primary",Zn=Symbol("RouteTitle");class zn{constructor(F){this.params=F||{}}has(F){return Object.prototype.hasOwnProperty.call(this.params,F)}get(F){if(this.has(F)){const O=this.params[F];return Array.isArray(O)?O[0]:O}return null}getAll(F){if(this.has(F)){const O=this.params[F];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function yi(P){return new zn(P)}function Er(P,F,O){const W=O.path.split("/");if(W.length>P.length||"full"===O.pathMatch&&(F.hasChildren()||W.length<P.length))return null;const J={};for(let De=0;De<W.length;De++){const st=W[De],pt=P[De];if(st.startsWith(":"))J[st.substring(1)]=pt;else if(st!==pt.path)return null}return{consumed:P.slice(0,W.length),posParams:J}}function ei(P,F){const O=P?Object.keys(P):void 0,W=F?Object.keys(F):void 0;if(!O||!W||O.length!=W.length)return!1;let J;for(let De=0;De<O.length;De++)if(J=O[De],!sn(P[J],F[J]))return!1;return!0}function sn(P,F){if(Array.isArray(P)&&Array.isArray(F)){if(P.length!==F.length)return!1;const O=[...P].sort(),W=[...F].sort();return O.every((J,De)=>W[De]===J)}return P===F}function dn(P){return Array.prototype.concat.apply([],P)}function Ni(P){return P.length>0?P[P.length-1]:null}function Kn(P,F){for(const O in P)P.hasOwnProperty(O)&&F(P[O],O)}function mi(P){return(0,o.CqO)(P)?P:(0,o.QGY)(P)?(0,q.D)(Promise.resolve(P)):(0,Q.of)(P)}const zt={exact:function jt(P,F,O){if(!ct(P.segments,F.segments)||!mn(P.segments,F.segments,O)||P.numberOfChildren!==F.numberOfChildren)return!1;for(const W in F.children)if(!P.children[W]||!jt(P.children[W],F.children[W],O))return!1;return!0},subset:Bn},ot={exact:function Ot(P,F){return ei(P,F)},subset:function Tn(P,F){return Object.keys(F).length<=Object.keys(P).length&&Object.keys(F).every(O=>sn(P[O],F[O]))},ignored:()=>!0};function He(P,F,O){return zt[O.paths](P.root,F.root,O.matrixParams)&&ot[O.queryParams](P.queryParams,F.queryParams)&&!("exact"===O.fragment&&P.fragment!==F.fragment)}function Bn(P,F,O){return ni(P,F,F.segments,O)}function ni(P,F,O,W){if(P.segments.length>O.length){const J=P.segments.slice(0,O.length);return!(!ct(J,O)||F.hasChildren()||!mn(J,O,W))}if(P.segments.length===O.length){if(!ct(P.segments,O)||!mn(P.segments,O,W))return!1;for(const J in F.children)if(!P.children[J]||!Bn(P.children[J],F.children[J],W))return!1;return!0}{const J=O.slice(0,P.segments.length),De=O.slice(P.segments.length);return!!(ct(P.segments,J)&&mn(P.segments,J,W)&&P.children[Cn])&&ni(P.children[Cn],F,De,W)}}function mn(P,F,O){return F.every((W,J)=>ot[O](P[J].parameters,W.parameters))}class ai{constructor(F,O,W){this.root=F,this.queryParams=O,this.fragment=W}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yi(this.queryParams)),this._queryParamMap}toString(){return rt.serialize(this)}}class Nn{constructor(F,O){this.segments=F,this.children=O,this.parent=null,Kn(O,(W,J)=>W.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return on(this)}}class Pi{constructor(F,O){this.path=F,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=yi(this.parameters)),this._parameterMap}toString(){return Bi(this)}}function ct(P,F){return P.length===F.length&&P.every((O,W)=>O.path===F[W].path)}let Xe=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=o.Yz7({token:P,factory:function(){return new ut},providedIn:"root"}),P})();class ut{parse(F){const O=new it(F);return new ai(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(F){const O=`/${_n(F.root,!0)}`,W=function mr(P){const F=Object.keys(P).map(O=>{const W=P[O];return Array.isArray(W)?W.map(J=>`${Ki(O)}=${Ki(J)}`).join("&"):`${Ki(O)}=${Ki(W)}`}).filter(O=>!!O);return F.length?`?${F.join("&")}`:""}(F.queryParams);return`${O}${W}${"string"==typeof F.fragment?`#${function Oi(P){return encodeURI(P)}(F.fragment)}`:""}`}}const rt=new ut;function on(P){return P.segments.map(F=>Bi(F)).join("/")}function _n(P,F){if(!P.hasChildren())return on(P);if(F){const O=P.children[Cn]?_n(P.children[Cn],!1):"",W=[];return Kn(P.children,(J,De)=>{De!==Cn&&W.push(`${De}:${_n(J,!1)}`)}),W.length>0?`${O}(${W.join("//")})`:O}{const O=function nt(P,F){let O=[];return Kn(P.children,(W,J)=>{J===Cn&&(O=O.concat(F(W,J)))}),Kn(P.children,(W,J)=>{J!==Cn&&(O=O.concat(F(W,J)))}),O}(P,(W,J)=>J===Cn?[_n(P.children[Cn],!1)]:[`${J}:${_n(W,!1)}`]);return 1===Object.keys(P.children).length&&null!=P.children[Cn]?`${on(P)}/${O[0]}`:`${on(P)}/(${O.join("//")})`}}function Vn(P){return encodeURIComponent(P).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ki(P){return Vn(P).replace(/%3B/gi,";")}function ki(P){return Vn(P).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pi(P){return decodeURIComponent(P)}function Hn(P){return pi(P.replace(/\+/g,"%20"))}function Bi(P){return`${ki(P.path)}${function tr(P){return Object.keys(P).map(F=>`;${ki(F)}=${ki(P[F])}`).join("")}(P.parameters)}`}const hr=/^[^\/()?;=#]+/;function fr(P){const F=P.match(hr);return F?F[0]:""}const lt=/^[^=?&#]+/,te=/^[^&#]+/;class it{constructor(F){this.url=F,this.remaining=F}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const F={};if(this.consumeOptional("?"))do{this.parseQueryParam(F)}while(this.consumeOptional("&"));return F}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const F=[];for(this.peekStartsWith("(")||F.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),F.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let W={};return this.peekStartsWith("(")&&(W=this.parseParens(!1)),(F.length>0||Object.keys(O).length>0)&&(W[Cn]=new Nn(F,O)),W}parseSegment(){const F=fr(this.remaining);if(""===F&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(F),new Pi(pi(F),this.parseMatrixParams())}parseMatrixParams(){const F={};for(;this.consumeOptional(";");)this.parseParam(F);return F}parseParam(F){const O=fr(this.remaining);if(!O)return;this.capture(O);let W="";if(this.consumeOptional("=")){const J=fr(this.remaining);J&&(W=J,this.capture(W))}F[pi(O)]=pi(W)}parseQueryParam(F){const O=function Ze(P){const F=P.match(lt);return F?F[0]:""}(this.remaining);if(!O)return;this.capture(O);let W="";if(this.consumeOptional("=")){const st=function be(P){const F=P.match(te);return F?F[0]:""}(this.remaining);st&&(W=st,this.capture(W))}const J=Hn(O),De=Hn(W);if(F.hasOwnProperty(J)){let st=F[J];Array.isArray(st)||(st=[st],F[J]=st),st.push(De)}else F[J]=De}parseParens(F){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const W=fr(this.remaining),J=this.remaining[W.length];if("/"!==J&&")"!==J&&";"!==J)throw new o.vHH(4010,!1);let De;W.indexOf(":")>-1?(De=W.slice(0,W.indexOf(":")),this.capture(De),this.capture(":")):F&&(De=Cn);const st=this.parseChildren();O[De]=1===Object.keys(st).length?st[Cn]:new Nn([],st),this.consumeOptional("//")}return O}peekStartsWith(F){return this.remaining.startsWith(F)}consumeOptional(F){return!!this.peekStartsWith(F)&&(this.remaining=this.remaining.substring(F.length),!0)}capture(F){if(!this.consumeOptional(F))throw new o.vHH(4011,!1)}}function _t(P){return P.segments.length>0?new Nn([],{[Cn]:P}):P}function Ht(P){const F={};for(const W of Object.keys(P.children)){const De=Ht(P.children[W]);(De.segments.length>0||De.hasChildren())&&(F[W]=De)}return function Zt(P){if(1===P.numberOfChildren&&P.children[Cn]){const F=P.children[Cn];return new Nn(P.segments.concat(F.segments),F.children)}return P}(new Nn(P.segments,F))}function Qt(P){return P instanceof ai}function Mi(P,F,O,W,J){if(0===O.length)return Sr(F.root,F.root,F.root,W,J);const De=function pr(P){if("string"==typeof P[0]&&1===P.length&&"/"===P[0])return new Or(!0,0,P);let F=0,O=!1;const W=P.reduce((J,De,st)=>{if("object"==typeof De&&null!=De){if(De.outlets){const pt={};return Kn(De.outlets,(gn,Rn)=>{pt[Rn]="string"==typeof gn?gn.split("/"):gn}),[...J,{outlets:pt}]}if(De.segmentPath)return[...J,De.segmentPath]}return"string"!=typeof De?[...J,De]:0===st?(De.split("/").forEach((pt,gn)=>{0==gn&&"."===pt||(0==gn&&""===pt?O=!0:".."===pt?F++:""!=pt&&J.push(pt))}),J):[...J,De]},[]);return new Or(O,F,W)}(O);return De.toRoot()?Sr(F.root,F.root,new Nn([],{}),W,J):function st(gn){const Rn=function Fs(P,F,O,W){if(P.isAbsolute)return new ss(F.root,!0,0);if(-1===W)return new ss(O,O===F.root,0);return function hs(P,F,O){let W=P,J=F,De=O;for(;De>J;){if(De-=J,W=W.parent,!W)throw new o.vHH(4005,!1);J=W.segments.length}return new ss(W,!1,J-De)}(O,W+(bi(P.commands[0])?0:1),P.numberOfDoubleDots)}(De,F,P.snapshot?._urlSegment,gn),dr=Rn.processChildren?Jr(Rn.segmentGroup,Rn.index,De.commands):fs(Rn.segmentGroup,Rn.index,De.commands);return Sr(F.root,Rn.segmentGroup,dr,W,J)}(P.snapshot?._lastPathIndex)}function bi(P){return"object"==typeof P&&null!=P&&!P.outlets&&!P.segmentPath}function Ri(P){return"object"==typeof P&&null!=P&&P.outlets}function Sr(P,F,O,W,J){let st,De={};W&&Kn(W,(gn,Rn)=>{De[Rn]=Array.isArray(gn)?gn.map(dr=>`${dr}`):`${gn}`}),st=P===F?O:qr(P,F,O);const pt=_t(Ht(st));return new ai(pt,De,J)}function qr(P,F,O){const W={};return Kn(P.children,(J,De)=>{W[De]=J===F?O:qr(J,F,O)}),new Nn(P.segments,W)}class Or{constructor(F,O,W){if(this.isAbsolute=F,this.numberOfDoubleDots=O,this.commands=W,F&&W.length>0&&bi(W[0]))throw new o.vHH(4003,!1);const J=W.find(Ri);if(J&&J!==Ni(W))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ss{constructor(F,O,W){this.segmentGroup=F,this.processChildren=O,this.index=W}}function fs(P,F,O){if(P||(P=new Nn([],{})),0===P.segments.length&&P.hasChildren())return Jr(P,F,O);const W=function ts(P,F,O){let W=0,J=F;const De={match:!1,pathIndex:0,commandIndex:0};for(;J<P.segments.length;){if(W>=O.length)return De;const st=P.segments[J],pt=O[W];if(Ri(pt))break;const gn=`${pt}`,Rn=W<O.length-1?O[W+1]:null;if(J>0&&void 0===gn)break;if(gn&&Rn&&"object"==typeof Rn&&void 0===Rn.outlets){if(!Nt(gn,Rn,st))return De;W+=2}else{if(!Nt(gn,{},st))return De;W++}J++}return{match:!0,pathIndex:J,commandIndex:W}}(P,F,O),J=O.slice(W.commandIndex);if(W.match&&W.pathIndex<P.segments.length){const De=new Nn(P.segments.slice(0,W.pathIndex),{});return De.children[Cn]=new Nn(P.segments.slice(W.pathIndex),P.children),Jr(De,0,J)}return W.match&&0===J.length?new Nn(P.segments,{}):W.match&&!P.hasChildren()?we(P,F,O):W.match?Jr(P,0,J):we(P,F,O)}function Jr(P,F,O){if(0===O.length)return new Nn(P.segments,{});{const W=function bs(P){return Ri(P[0])?P[0].outlets:{[Cn]:P}}(O),J={};return Kn(W,(De,st)=>{"string"==typeof De&&(De=[De]),null!==De&&(J[st]=fs(P.children[st],F,De))}),Kn(P.children,(De,st)=>{void 0===W[st]&&(J[st]=De)}),new Nn(P.segments,J)}}function we(P,F,O){const W=P.segments.slice(0,F);let J=0;for(;J<O.length;){const De=O[J];if(Ri(De)){const gn=$e(De.outlets);return new Nn(W,gn)}if(0===J&&bi(O[0])){W.push(new Pi(P.segments[F].path,Ct(O[0]))),J++;continue}const st=Ri(De)?De.outlets[Cn]:`${De}`,pt=J<O.length-1?O[J+1]:null;st&&pt&&bi(pt)?(W.push(new Pi(st,Ct(pt))),J+=2):(W.push(new Pi(st,{})),J++)}return new Nn(W,{})}function $e(P){const F={};return Kn(P,(O,W)=>{"string"==typeof O&&(O=[O]),null!==O&&(F[W]=we(new Nn([],{}),0,O))}),F}function Ct(P){const F={};return Kn(P,(O,W)=>F[W]=`${O}`),F}function Nt(P,F,O){return P==O.path&&ei(F,O.parameters)}class Ue{constructor(F,O){this.id=F,this.url=O}}class et extends Ue{constructor(F,O,W="imperative",J=null){super(F,O),this.type=0,this.navigationTrigger=W,this.restoredState=J}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pt extends Ue{constructor(F,O,W){super(F,O),this.urlAfterRedirects=W,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cn extends Ue{constructor(F,O,W,J){super(F,O),this.reason=W,this.code=J,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rn extends Ue{constructor(F,O,W,J){super(F,O),this.error=W,this.target=J,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hn extends Ue{constructor(F,O,W,J){super(F,O),this.urlAfterRedirects=W,this.state=J,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends Ue{constructor(F,O,W,J){super(F,O),this.urlAfterRedirects=W,this.state=J,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends Ue{constructor(F,O,W,J,De){super(F,O),this.urlAfterRedirects=W,this.state=J,this.shouldActivate=De,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fi extends Ue{constructor(F,O,W,J){super(F,O),this.urlAfterRedirects=W,this.state=J,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends Ue{constructor(F,O,W,J){super(F,O),this.urlAfterRedirects=W,this.state=J,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ir{constructor(F){this.route=F,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wt{constructor(F){this.route=F,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tt{constructor(F){this.snapshot=F,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(F){this.snapshot=F,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{constructor(F){this.snapshot=F,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{constructor(F){this.snapshot=F,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class li{constructor(F,O,W){this.routerEvent=F,this.position=O,this.anchor=W,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ms{constructor(F){this._root=F}get root(){return this._root.value}parent(F){const O=this.pathFromRoot(F);return O.length>1?O[O.length-2]:null}children(F){const O=nr(F,this._root);return O?O.children.map(W=>W.value):[]}firstChild(F){const O=nr(F,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(F){const O=Cs(F,this._root);return O.length<2?[]:O[O.length-2].children.map(J=>J.value).filter(J=>J!==F)}pathFromRoot(F){return Cs(F,this._root).map(O=>O.value)}}function nr(P,F){if(P===F.value)return F;for(const O of F.children){const W=nr(P,O);if(W)return W}return null}function Cs(P,F){if(P===F.value)return[F];for(const O of F.children){const W=Cs(P,O);if(W.length)return W.unshift(F),W}return[]}class Ls{constructor(F,O){this.value=F,this.children=O}toString(){return`TreeNode(${this.value})`}}function Xs(P){const F={};return P&&P.children.forEach(O=>F[O.value.outlet]=O),F}class eo extends ms{constructor(F,O){super(F),this.snapshot=O,so(this,F)}toString(){return this.snapshot.toString()}}function to(P,F){const O=function jo(P,F){const st=new Ds([],{},{},"",{},Cn,F,null,P.root,-1,{});return new ps("",new Ls(st,[]))}(P,F),W=new Fe.X([new Pi("",{})]),J=new Fe.X({}),De=new Fe.X({}),st=new Fe.X({}),pt=new Fe.X(""),gn=new Ss(W,J,st,pt,De,Cn,F,O.root);return gn.snapshot=O.root,new eo(new Ls(gn,[]),O)}class Ss{constructor(F,O,W,J,De,st,pt,gn){this.url=F,this.params=O,this.queryParams=W,this.fragment=J,this.data=De,this.outlet=st,this.component=pt,this.title=this.data?.pipe((0,Ve.U)(Rn=>Rn[Zn]))??(0,Q.of)(void 0),this._futureSnapshot=gn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.U)(F=>yi(F)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.U)(F=>yi(F)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ma(P,F="emptyOnly"){const O=P.pathFromRoot;let W=0;if("always"!==F)for(W=O.length-1;W>=1;){const J=O[W],De=O[W-1];if(J.routeConfig&&""===J.routeConfig.path)W--;else{if(De.component)break;W--}}return function _s(P){return P.reduce((F,O)=>({params:{...F.params,...O.params},data:{...F.data,...O.data},resolve:{...O.data,...F.resolve,...O.routeConfig?.data,...O._resolvedData}}),{params:{},data:{},resolve:{}})}(O.slice(W))}class Ds{constructor(F,O,W,J,De,st,pt,gn,Rn,dr,Jn,Gi){this.url=F,this.params=O,this.queryParams=W,this.fragment=J,this.data=De,this.outlet=st,this.component=pt,this.title=this.data?.[Zn],this.routeConfig=gn,this._urlSegment=Rn,this._lastPathIndex=dr,this._correctedLastPathIndex=Gi??dr,this._resolve=Jn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(W=>W.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ps extends ms{constructor(F,O){super(O),this.url=F,so(this,O)}toString(){return no(this._root)}}function so(P,F){F.value._routerState=P,F.children.forEach(O=>so(P,O))}function no(P){const F=P.children.length>0?` { ${P.children.map(no).join(", ")} } `:"";return`${P.value}${F}`}function Qi(P){if(P.snapshot){const F=P.snapshot,O=P._futureSnapshot;P.snapshot=O,ei(F.queryParams,O.queryParams)||P.queryParams.next(O.queryParams),F.fragment!==O.fragment&&P.fragment.next(O.fragment),ei(F.params,O.params)||P.params.next(O.params),function $n(P,F){if(P.length!==F.length)return!1;for(let O=0;O<P.length;++O)if(!ei(P[O],F[O]))return!1;return!0}(F.url,O.url)||P.url.next(O.url),ei(F.data,O.data)||P.data.next(O.data)}else P.snapshot=P._futureSnapshot,P.data.next(P._futureSnapshot.data)}function ar(P,F){const O=ei(P.params,F.params)&&function ci(P,F){return ct(P,F)&&P.every((O,W)=>ei(O.parameters,F[W].parameters))}(P.url,F.url);return O&&!(!P.parent!=!F.parent)&&(!P.parent||ar(P.parent,F.parent))}function As(P,F,O){if(O&&P.shouldReuseRoute(F.value,O.value.snapshot)){const W=O.value;W._futureSnapshot=F.value;const J=function ur(P,F,O){return F.children.map(W=>{for(const J of O.children)if(P.shouldReuseRoute(W.value,J.value.snapshot))return As(P,W,J);return As(P,W)})}(P,F,O);return new Ls(W,J)}{if(P.shouldAttach(F.value)){const De=P.retrieve(F.value);if(null!==De){const st=De.route;return st.value._futureSnapshot=F.value,st.children=F.children.map(pt=>As(P,pt)),st}}const W=function Is(P){return new Ss(new Fe.X(P.url),new Fe.X(P.params),new Fe.X(P.queryParams),new Fe.X(P.fragment),new Fe.X(P.data),P.outlet,P.component,P)}(F.value),J=F.children.map(De=>As(P,De));return new Ls(W,J)}}const Gs="ngNavigationCancelingError";function Bs(P,F){const{redirectTo:O,navigationBehaviorOptions:W}=Qt(F)?{redirectTo:F,navigationBehaviorOptions:void 0}:F,J=ca(!1,0,F);return J.url=O,J.navigationBehaviorOptions=W,J}function ca(P,F,O){const W=new Error("NavigationCancelingError: "+(P||""));return W[Gs]=!0,W.cancellationCode=F,O&&(W.url=O),W}function ir(P){return ji(P)&&Qt(P.url)}function ji(P){return P&&P[Gs]}class os{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new kr,this.attachRef=null}}let kr=(()=>{class P{constructor(){this.contexts=new Map}onChildOutletCreated(O,W){const J=this.getOrCreateContext(O);J.outlet=W,this.contexts.set(O,J)}onChildOutletDestroyed(O){const W=this.getContext(O);W&&(W.outlet=null,W.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let W=this.getContext(O);return W||(W=new os,this.contexts.set(O,W)),W}getContext(O){return this.contexts.get(O)||null}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();const ho=!1;let ys=(()=>{class P{constructor(O,W,J,De,st){this.parentContexts=O,this.location=W,this.changeDetector=De,this.environmentInjector=st,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=J||Cn,O.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const O=this.parentContexts.getContext(this.name);O&&O.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,ho);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,ho);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,ho);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,W){this.activated=O,this._activatedRoute=W,this.location.insert(O.hostView),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,W){if(this.isActivated)throw new o.vHH(4013,ho);this._activatedRoute=O;const J=this.location,st=O._futureSnapshot.component,pt=this.parentContexts.getOrCreateContext(this.name).children,gn=new fo(O,pt,J.injector);if(W&&function $s(P){return!!P.resolveComponentFactory}(W)){const Rn=W.resolveComponentFactory(st);this.activated=J.createComponent(Rn,J.length,gn)}else this.activated=J.createComponent(st,{index:J.length,injector:gn,environmentInjector:W??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return P.\u0275fac=function(O){return new(O||P)(o.Y36(kr),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},P.\u0275dir=o.lG2({type:P,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),P})();class fo{constructor(F,O,W){this.route=F,this.childContexts=O,this.parent=W}get(F,O){return F===Ss?this.route:F===kr?this.childContexts:this.parent.get(F,O)}}let _a=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275cmp=o.Xpm({type:P,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(O,W){1&O&&o._UZ(0,"router-outlet")},dependencies:[ys],encapsulation:2}),P})();function io(P,F){return P.providers&&!P._injector&&(P._injector=(0,o.MMx)(P.providers,F,`Route: ${P.path}`)),P._injector??F}function Ui(P){const F=P.children&&P.children.map(Ui),O=F?{...P,children:F}:{...P};return!O.component&&!O.loadComponent&&(F||O.loadChildren)&&O.outlet&&O.outlet!==Cn&&(O.component=_a),O}function ls(P){return P.outlet||Cn}function _r(P,F){const O=P.filter(W=>ls(W)===F);return O.push(...P.filter(W=>ls(W)!==F)),O}function Ro(P){if(!P)return null;if(P.routeConfig?._injector)return P.routeConfig._injector;for(let F=P.parent;F;F=F.parent){const O=F.routeConfig;if(O?._loadedInjector)return O._loadedInjector;if(O?._injector)return O._injector}return null}class Ua{constructor(F,O,W,J){this.routeReuseStrategy=F,this.futureState=O,this.currState=W,this.forwardEvent=J}activate(F){const O=this.futureState._root,W=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,W,F),Qi(this.futureState.root),this.activateChildRoutes(O,W,F)}deactivateChildRoutes(F,O,W){const J=Xs(O);F.children.forEach(De=>{const st=De.value.outlet;this.deactivateRoutes(De,J[st],W),delete J[st]}),Kn(J,(De,st)=>{this.deactivateRouteAndItsChildren(De,W)})}deactivateRoutes(F,O,W){const J=F.value,De=O?O.value:null;if(J===De)if(J.component){const st=W.getContext(J.outlet);st&&this.deactivateChildRoutes(F,O,st.children)}else this.deactivateChildRoutes(F,O,W);else De&&this.deactivateRouteAndItsChildren(O,W)}deactivateRouteAndItsChildren(F,O){F.value.component&&this.routeReuseStrategy.shouldDetach(F.value.snapshot)?this.detachAndStoreRouteSubtree(F,O):this.deactivateRouteAndOutlet(F,O)}detachAndStoreRouteSubtree(F,O){const W=O.getContext(F.value.outlet),J=W&&F.value.component?W.children:O,De=Xs(F);for(const st of Object.keys(De))this.deactivateRouteAndItsChildren(De[st],J);if(W&&W.outlet){const st=W.outlet.detach(),pt=W.children.onOutletDeactivated();this.routeReuseStrategy.store(F.value.snapshot,{componentRef:st,route:F,contexts:pt})}}deactivateRouteAndOutlet(F,O){const W=O.getContext(F.value.outlet),J=W&&F.value.component?W.children:O,De=Xs(F);for(const st of Object.keys(De))this.deactivateRouteAndItsChildren(De[st],J);W&&W.outlet&&(W.outlet.deactivate(),W.children.onOutletDeactivated(),W.attachRef=null,W.resolver=null,W.route=null)}activateChildRoutes(F,O,W){const J=Xs(O);F.children.forEach(De=>{this.activateRoutes(De,J[De.value.outlet],W),this.forwardEvent(new Fn(De.value.snapshot))}),F.children.length&&this.forwardEvent(new Gt(F.value.snapshot))}activateRoutes(F,O,W){const J=F.value,De=O?O.value:null;if(Qi(J),J===De)if(J.component){const st=W.getOrCreateContext(J.outlet);this.activateChildRoutes(F,O,st.children)}else this.activateChildRoutes(F,O,W);else if(J.component){const st=W.getOrCreateContext(J.outlet);if(this.routeReuseStrategy.shouldAttach(J.snapshot)){const pt=this.routeReuseStrategy.retrieve(J.snapshot);this.routeReuseStrategy.store(J.snapshot,null),st.children.onOutletReAttached(pt.contexts),st.attachRef=pt.componentRef,st.route=pt.route.value,st.outlet&&st.outlet.attach(pt.componentRef,pt.route.value),Qi(pt.route.value),this.activateChildRoutes(F,null,st.children)}else{const pt=Ro(J.snapshot),gn=pt?.get(o._Vd)??null;st.attachRef=null,st.route=J,st.resolver=gn,st.injector=pt,st.outlet&&st.outlet.activateWith(J,st.injector),this.activateChildRoutes(F,null,st.children)}}else this.activateChildRoutes(F,null,W)}}class cs{constructor(F){this.path=F,this.route=this.path[this.path.length-1]}}class Vs{constructor(F,O){this.component=F,this.route=O}}function zs(P,F,O){const W=P._root;return X(W,F?F._root:null,O,[W.value])}function S(P,F){const O=Symbol(),W=F.get(P,O);return W===O?"function"!=typeof P||(0,o.Z0I)(P)?F.get(P):P:W}function X(P,F,O,W,J={canDeactivateChecks:[],canActivateChecks:[]}){const De=Xs(F);return P.children.forEach(st=>{(function M(P,F,O,W,J={canDeactivateChecks:[],canActivateChecks:[]}){const De=P.value,st=F?F.value:null,pt=O?O.getContext(P.value.outlet):null;if(st&&De.routeConfig===st.routeConfig){const gn=function Z(P,F,O){if("function"==typeof O)return O(P,F);switch(O){case"pathParamsChange":return!ct(P.url,F.url);case"pathParamsOrQueryParamsChange":return!ct(P.url,F.url)||!ei(P.queryParams,F.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ar(P,F)||!ei(P.queryParams,F.queryParams);default:return!ar(P,F)}}(st,De,De.routeConfig.runGuardsAndResolvers);gn?J.canActivateChecks.push(new cs(W)):(De.data=st.data,De._resolvedData=st._resolvedData),X(P,F,De.component?pt?pt.children:null:O,W,J),gn&&pt&&pt.outlet&&pt.outlet.isActivated&&J.canDeactivateChecks.push(new Vs(pt.outlet.component,st))}else st&&Oe(F,pt,J),J.canActivateChecks.push(new cs(W)),X(P,null,De.component?pt?pt.children:null:O,W,J)})(st,De[st.value.outlet],O,W.concat([st.value]),J),delete De[st.value.outlet]}),Kn(De,(st,pt)=>Oe(st,O.getContext(pt),J)),J}function Oe(P,F,O){const W=Xs(P),J=P.value;Kn(W,(De,st)=>{Oe(De,J.component?F?F.children.getContext(st):null:F,O)}),O.canDeactivateChecks.push(new Vs(J.component&&F&&F.outlet&&F.outlet.isActivated?F.outlet.component:null,J))}function Kt(P){return"function"==typeof P}function Wt(P){return P instanceof ie.K||"EmptyError"===P?.name}const Yn=Symbol("INITIAL_VALUE");function Ln(){return(0,Be.w)(P=>(0,de.aj)(P.map(F=>F.pipe((0,Ge.q)(1),(0,Lt.O)(Yn)))).pipe((0,Ve.U)(F=>{for(const O of F)if(!0!==O){if(O===Yn)return Yn;if(!1===O||O instanceof ai)return O}return!0}),(0,vt.h)(F=>F!==Yn),(0,Ge.q)(1)))}function Lr(P){return(0,oe.z)((0,ke.b)(F=>{if(Qt(F))throw Bs(0,F)}),(0,Ve.U)(F=>!0===F))}const Ts={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ko(P,F,O,W,J){const De=go(P,F,O);return De.matched?function Ns(P,F,O,W){const J=F.canMatch;if(!J||0===J.length)return(0,Q.of)(!0);const De=J.map(st=>{const pt=S(st,P);return mi(function G(P){return P&&Kt(P.canMatch)}(pt)?pt.canMatch(F,O):P.runInContext(()=>pt(F,O)))});return(0,Q.of)(De).pipe(Ln(),Lr())}(W=io(F,W),F,O).pipe((0,Ve.U)(st=>!0===st?De:{...Ts})):(0,Q.of)(De)}function go(P,F,O){if(""===F.path)return"full"===F.pathMatch&&(P.hasChildren()||O.length>0)?{...Ts}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const J=(F.matcher||Er)(O,P,F);if(!J)return{...Ts};const De={};Kn(J.posParams,(pt,gn)=>{De[gn]=pt.path});const st=J.consumed.length>0?{...De,...J.consumed[J.consumed.length-1].parameters}:De;return{matched:!0,consumedSegments:J.consumed,remainingSegments:O.slice(J.consumed.length),parameters:st,positionalParamSegments:J.posParams??{}}}function Zo(P,F,O,W,J="corrected"){if(O.length>0&&function K(P,F,O){return O.some(W=>dt(P,F,W)&&ls(W)!==Cn)}(P,O,W)){const st=new Nn(F,function le(P,F,O,W){const J={};J[Cn]=W,W._sourceSegment=P,W._segmentIndexShift=F.length;for(const De of O)if(""===De.path&&ls(De)!==Cn){const st=new Nn([],{});st._sourceSegment=P,st._segmentIndexShift=F.length,J[ls(De)]=st}return J}(P,F,W,new Nn(O,P.children)));return st._sourceSegment=P,st._segmentIndexShift=F.length,{segmentGroup:st,slicedSegments:[]}}if(0===O.length&&function Ae(P,F,O){return O.some(W=>dt(P,F,W))}(P,O,W)){const st=new Nn(P.segments,function j(P,F,O,W,J,De){const st={};for(const pt of W)if(dt(P,O,pt)&&!J[ls(pt)]){const gn=new Nn([],{});gn._sourceSegment=P,gn._segmentIndexShift="legacy"===De?P.segments.length:F.length,st[ls(pt)]=gn}return{...J,...st}}(P,F,O,W,P.children,J));return st._sourceSegment=P,st._segmentIndexShift=F.length,{segmentGroup:st,slicedSegments:O}}const De=new Nn(P.segments,P.children);return De._sourceSegment=P,De._segmentIndexShift=F.length,{segmentGroup:De,slicedSegments:O}}function dt(P,F,O){return(!(P.hasChildren()||F.length>0)||"full"!==O.pathMatch)&&""===O.path}function Yt(P,F,O,W){return!!(ls(P)===W||W!==Cn&&dt(F,O,P))&&("**"===P.path||go(F,P,O).matched)}function ln(P,F,O){return 0===F.length&&!P.children[O]}const si=!1;class yr{constructor(F){this.segmentGroup=F||null}}class Ur{constructor(F){this.urlTree=F}}function Rr(P){return(0,fe._)(new yr(P))}function vr(P){return(0,fe._)(new Ur(P))}class ja{constructor(F,O,W,J,De){this.injector=F,this.configLoader=O,this.urlSerializer=W,this.urlTree=J,this.config=De,this.allowRedirects=!0}apply(){const F=Zo(this.urlTree.root,[],[],this.config).segmentGroup,O=new Nn(F.segments,F.children);return this.expandSegmentGroup(this.injector,this.config,O,Cn).pipe((0,Ve.U)(De=>this.createUrlTree(Ht(De),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,tt.K)(De=>{if(De instanceof Ur)return this.allowRedirects=!1,this.match(De.urlTree);throw De instanceof yr?this.noMatchError(De):De}))}match(F){return this.expandSegmentGroup(this.injector,this.config,F.root,Cn).pipe((0,Ve.U)(J=>this.createUrlTree(Ht(J),F.queryParams,F.fragment))).pipe((0,tt.K)(J=>{throw J instanceof yr?this.noMatchError(J):J}))}noMatchError(F){return new o.vHH(4002,si)}createUrlTree(F,O,W){const J=_t(F);return new ai(J,O,W)}expandSegmentGroup(F,O,W,J){return 0===W.segments.length&&W.hasChildren()?this.expandChildren(F,O,W).pipe((0,Ve.U)(De=>new Nn([],De))):this.expandSegment(F,W,O,W.segments,J,!0)}expandChildren(F,O,W){const J=[];for(const De of Object.keys(W.children))"primary"===De?J.unshift(De):J.push(De);return(0,q.D)(J).pipe((0,We.b)(De=>{const st=W.children[De],pt=_r(O,De);return this.expandSegmentGroup(F,pt,st,De).pipe((0,Ve.U)(gn=>({segment:gn,outlet:De})))}),(0,Ee.R)((De,st)=>(De[st.outlet]=st.segment,De),{}),mt())}expandSegment(F,O,W,J,De,st){return(0,q.D)(W).pipe((0,We.b)(pt=>this.expandSegmentAgainstRoute(F,O,W,pt,J,De,st).pipe((0,tt.K)(Rn=>{if(Rn instanceof yr)return(0,Q.of)(null);throw Rn}))),(0,Qe.P)(pt=>!!pt),(0,tt.K)((pt,gn)=>{if(Wt(pt))return ln(O,J,De)?(0,Q.of)(new Nn([],{})):Rr(O);throw pt}))}expandSegmentAgainstRoute(F,O,W,J,De,st,pt){return Yt(J,O,De,st)?void 0===J.redirectTo?this.matchSegmentAgainstRoute(F,O,J,De,st):pt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(F,O,W,J,De,st):Rr(O):Rr(O)}expandSegmentAgainstRouteUsingRedirect(F,O,W,J,De,st){return"**"===J.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(F,W,J,st):this.expandRegularSegmentAgainstRouteUsingRedirect(F,O,W,J,De,st)}expandWildCardWithParamsAgainstRouteUsingRedirect(F,O,W,J){const De=this.applyRedirectCommands([],W.redirectTo,{});return W.redirectTo.startsWith("/")?vr(De):this.lineralizeSegments(W,De).pipe((0,Et.zg)(st=>{const pt=new Nn(st,{});return this.expandSegment(F,pt,O,st,J,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(F,O,W,J,De,st){const{matched:pt,consumedSegments:gn,remainingSegments:Rn,positionalParamSegments:dr}=go(O,J,De);if(!pt)return Rr(O);const Jn=this.applyRedirectCommands(gn,J.redirectTo,dr);return J.redirectTo.startsWith("/")?vr(Jn):this.lineralizeSegments(J,Jn).pipe((0,Et.zg)(Gi=>this.expandSegment(F,O,W,Gi.concat(Rn),st,!1)))}matchSegmentAgainstRoute(F,O,W,J,De){return"**"===W.path?(F=io(W,F),W.loadChildren?(W._loadedRoutes?(0,Q.of)({routes:W._loadedRoutes,injector:W._loadedInjector}):this.configLoader.loadChildren(F,W)).pipe((0,Ve.U)(pt=>(W._loadedRoutes=pt.routes,W._loadedInjector=pt.injector,new Nn(J,{})))):(0,Q.of)(new Nn(J,{}))):Ko(O,W,J,F).pipe((0,Be.w)(({matched:st,consumedSegments:pt,remainingSegments:gn})=>st?this.getChildConfig(F=W._injector??F,W,J).pipe((0,Et.zg)(dr=>{const Jn=dr.injector??F,Gi=dr.routes,{segmentGroup:To,slicedSegments:xs}=Zo(O,pt,gn,Gi),So=new Nn(To.segments,To.children);if(0===xs.length&&So.hasChildren())return this.expandChildren(Jn,Gi,So).pipe((0,Ve.U)(Da=>new Nn(pt,Da)));if(0===Gi.length&&0===xs.length)return(0,Q.of)(new Nn(pt,{}));const Os=ls(W)===De;return this.expandSegment(Jn,So,Gi,xs,Os?Cn:De,!0).pipe((0,Ve.U)(Vl=>new Nn(pt.concat(Vl.segments),Vl.children)))})):Rr(O)))}getChildConfig(F,O,W){return O.children?(0,Q.of)({routes:O.children,injector:F}):O.loadChildren?void 0!==O._loadedRoutes?(0,Q.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function Po(P,F,O,W){const J=F.canLoad;if(void 0===J||0===J.length)return(0,Q.of)(!0);const De=J.map(st=>{const pt=S(st,P);return mi(function gi(P){return P&&Kt(P.canLoad)}(pt)?pt.canLoad(F,O):P.runInContext(()=>pt(F,O)))});return(0,Q.of)(De).pipe(Ln(),Lr())}(F,O,W).pipe((0,Et.zg)(J=>J?this.configLoader.loadChildren(F,O).pipe((0,ke.b)(De=>{O._loadedRoutes=De.routes,O._loadedInjector=De.injector})):function Qr(P){return(0,fe._)(ca(si,3))}())):(0,Q.of)({routes:[],injector:F})}lineralizeSegments(F,O){let W=[],J=O.root;for(;;){if(W=W.concat(J.segments),0===J.numberOfChildren)return(0,Q.of)(W);if(J.numberOfChildren>1||!J.children[Cn])return(0,fe._)(new o.vHH(4e3,si));J=J.children[Cn]}}applyRedirectCommands(F,O,W){return this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),F,W)}applyRedirectCreateUrlTree(F,O,W,J){const De=this.createSegmentGroup(F,O.root,W,J);return new ai(De,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(F,O){const W={};return Kn(F,(J,De)=>{if("string"==typeof J&&J.startsWith(":")){const pt=J.substring(1);W[De]=O[pt]}else W[De]=J}),W}createSegmentGroup(F,O,W,J){const De=this.createSegments(F,O.segments,W,J);let st={};return Kn(O.children,(pt,gn)=>{st[gn]=this.createSegmentGroup(F,pt,W,J)}),new Nn(De,st)}createSegments(F,O,W,J){return O.map(De=>De.path.startsWith(":")?this.findPosParam(F,De,J):this.findOrReturn(De,W))}findPosParam(F,O,W){const J=W[O.path.substring(1)];if(!J)throw new o.vHH(4001,si);return J}findOrReturn(F,O){let W=0;for(const J of O){if(J.path===F.path)return O.splice(W),J;W++}return F}}class Ha{}class va{constructor(F,O,W,J,De,st,pt,gn){this.injector=F,this.rootComponentType=O,this.config=W,this.urlTree=J,this.url=De,this.paramsInheritanceStrategy=st,this.relativeLinkResolution=pt,this.urlSerializer=gn}recognize(){const F=Zo(this.urlTree.root,[],[],this.config.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,F,Cn).pipe((0,Ve.U)(O=>{if(null===O)return null;const W=new Ds([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Cn,this.rootComponentType,null,this.urlTree.root,-1,{}),J=new Ls(W,O),De=new ps(this.url,J);return this.inheritParamsAndData(De._root),De}))}inheritParamsAndData(F){const O=F.value,W=ma(O,this.paramsInheritanceStrategy);O.params=Object.freeze(W.params),O.data=Object.freeze(W.data),F.children.forEach(J=>this.inheritParamsAndData(J))}processSegmentGroup(F,O,W,J){return 0===W.segments.length&&W.hasChildren()?this.processChildren(F,O,W):this.processSegment(F,O,W,W.segments,J)}processChildren(F,O,W){return(0,q.D)(Object.keys(W.children)).pipe((0,We.b)(J=>{const De=W.children[J],st=_r(O,J);return this.processSegmentGroup(F,st,De,J)}),(0,Ee.R)((J,De)=>J&&De?(J.push(...De),J):null),function Je(P,F=!1){return O=>O.lift(new Ye(P,F))}(J=>null!==J),(0,St.d)(null),mt(),(0,Ve.U)(J=>{if(null===J)return null;const De=_u(J);return function pc(P){P.sort((F,O)=>F.value.outlet===Cn?-1:O.value.outlet===Cn?1:F.value.outlet.localeCompare(O.value.outlet))}(De),De}))}processSegment(F,O,W,J,De){return(0,q.D)(O).pipe((0,We.b)(st=>this.processSegmentAgainstRoute(st._injector??F,st,W,J,De)),(0,Qe.P)(st=>!!st),(0,tt.K)(st=>{if(Wt(st))return ln(W,J,De)?(0,Q.of)([]):(0,Q.of)(null);throw st}))}processSegmentAgainstRoute(F,O,W,J,De){if(O.redirectTo||!Yt(O,W,J,De))return(0,Q.of)(null);let st;if("**"===O.path){const pt=J.length>0?Ni(J).parameters:{},gn=dl(W)+J.length,Rn=new Ds(J,pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Sl(O),ls(O),O.component??O._loadedComponent??null,O,Tl(W),gn,gc(O),gn);st=(0,Q.of)({snapshot:Rn,consumedSegments:[],remainingSegments:[]})}else st=Ko(W,O,J,F).pipe((0,Ve.U)(({matched:pt,consumedSegments:gn,remainingSegments:Rn,parameters:dr})=>{if(!pt)return null;const Jn=dl(W)+gn.length;return{snapshot:new Ds(gn,dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Sl(O),ls(O),O.component??O._loadedComponent??null,O,Tl(W),Jn,gc(O),Jn),consumedSegments:gn,remainingSegments:Rn}}));return st.pipe((0,Be.w)(pt=>{if(null===pt)return(0,Q.of)(null);const{snapshot:gn,consumedSegments:Rn,remainingSegments:dr}=pt;F=O._injector??F;const Jn=O._loadedInjector??F,Gi=function Es(P){return P.children?P.children:P.loadChildren?P._loadedRoutes:[]}(O),{segmentGroup:To,slicedSegments:xs}=Zo(W,Rn,dr,Gi.filter(Os=>void 0===Os.redirectTo),this.relativeLinkResolution);if(0===xs.length&&To.hasChildren())return this.processChildren(Jn,Gi,To).pipe((0,Ve.U)(Os=>null===Os?null:[new Ls(gn,Os)]));if(0===Gi.length&&0===xs.length)return(0,Q.of)([new Ls(gn,[])]);const So=ls(O)===De;return this.processSegment(Jn,Gi,To,xs,So?Cn:De).pipe((0,Ve.U)(Os=>null===Os?null:[new Ls(gn,Os)]))}))}}function Il(P){const F=P.value.routeConfig;return F&&""===F.path&&void 0===F.redirectTo}function _u(P){const F=[],O=new Set;for(const W of P){if(!Il(W)){F.push(W);continue}const J=F.find(De=>W.value.routeConfig===De.value.routeConfig);void 0!==J?(J.children.push(...W.children),O.add(J)):F.push(W)}for(const W of O){const J=_u(W.children);F.push(new Ls(W.value,J))}return F.filter(W=>!O.has(W))}function Tl(P){let F=P;for(;F._sourceSegment;)F=F._sourceSegment;return F}function dl(P){let F=P,O=F._segmentIndexShift??0;for(;F._sourceSegment;)F=F._sourceSegment,O+=F._segmentIndexShift??0;return O-1}function Sl(P){return P.data||{}}function gc(P){return P.resolve||{}}function ba(P){return"string"==typeof P.title||null===P.title}function hl(P){return(0,Be.w)(F=>{const O=P(F);return O?(0,q.D)(O).pipe((0,Ve.U)(()=>F)):(0,Q.of)(F)})}let Jl=(()=>{class P{buildTitle(O){let W,J=O.root;for(;void 0!==J;)W=this.getResolvedTitleForRoute(J)??W,J=J.children.find(De=>De.outlet===Cn);return W}getResolvedTitleForRoute(O){return O.data[Zn]}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=o.Yz7({token:P,factory:function(){return(0,o.f3M)(Ga)},providedIn:"root"}),P})(),Ga=(()=>{class P extends Jl{constructor(O){super(),this.title=O}updateTitle(O){const W=this.buildTitle(O);void 0!==W&&this.title.setTitle(W)}}return P.\u0275fac=function(O){return new(O||P)(o.LFG(Te.Dx))},P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();class xr{}class Wa extends class Ks{shouldDetach(F){return!1}store(F,O){}shouldAttach(F){return!1}retrieve(F){return null}shouldReuseRoute(F,O){return F.routeConfig===O.routeConfig}}{}const za=new o.OlP("",{providedIn:"root",factory:()=>({})}),Ms=new o.OlP("ROUTES");let Fo=(()=>{class P{constructor(O,W){this.injector=O,this.compiler=W,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,Q.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const W=mi(O.loadComponent()).pipe((0,ke.b)(De=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=De}),(0,En.x)(()=>{this.componentLoaders.delete(O)})),J=new ye.c(W,()=>new je.xQ).pipe((0,Ut.x)());return this.componentLoaders.set(O,J),J}loadChildren(O,W){if(this.childrenLoaders.get(W))return this.childrenLoaders.get(W);if(W._loadedRoutes)return(0,Q.of)({routes:W._loadedRoutes,injector:W._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(W);const De=this.loadModuleFactoryOrRoutes(W.loadChildren).pipe((0,Ve.U)(pt=>{this.onLoadEndListener&&this.onLoadEndListener(W);let gn,Rn,dr=!1;Array.isArray(pt)?Rn=pt:(gn=pt.create(O).injector,Rn=dn(gn.get(Ms,[],o.XFs.Self|o.XFs.Optional)));return{routes:Rn.map(Ui),injector:gn}}),(0,En.x)(()=>{this.childrenLoaders.delete(W)})),st=new ye.c(De,()=>new je.xQ).pipe((0,Ut.x)());return this.childrenLoaders.set(W,st),st}loadModuleFactoryOrRoutes(O){return mi(O()).pipe((0,Et.zg)(W=>W instanceof o.YKP||Array.isArray(W)?(0,Q.of)(W):(0,q.D)(this.compiler.compileModuleAsync(W))))}}return P.\u0275fac=function(O){return new(O||P)(o.LFG(o.zs3),o.LFG(o.Sil))},P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();class pl{}class ii{shouldProcessUrl(F){return!0}extract(F){return F}merge(F,O){return F}}function mo(P){throw P}function Xn(P,F,O){return F.parse("/")}const un={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function gl(){const P=(0,o.f3M)(Xe),F=(0,o.f3M)(kr),O=(0,o.f3M)(ft.Ye),W=(0,o.f3M)(o.zs3),J=(0,o.f3M)(o.Sil),De=(0,o.f3M)(Ms,{optional:!0})??[],st=(0,o.f3M)(za,{optional:!0})??{},pt=(0,o.f3M)(Ga),gn=(0,o.f3M)(Jl,{optional:!0}),Rn=(0,o.f3M)(pl,{optional:!0}),dr=(0,o.f3M)(xr,{optional:!0}),Jn=new vs(null,P,F,O,W,J,dn(De));return Rn&&(Jn.urlHandlingStrategy=Rn),dr&&(Jn.routeReuseStrategy=dr),Jn.titleStrategy=gn??pt,function Kr(P,F){P.errorHandler&&(F.errorHandler=P.errorHandler),P.malformedUriErrorHandler&&(F.malformedUriErrorHandler=P.malformedUriErrorHandler),P.onSameUrlNavigation&&(F.onSameUrlNavigation=P.onSameUrlNavigation),P.paramsInheritanceStrategy&&(F.paramsInheritanceStrategy=P.paramsInheritanceStrategy),P.relativeLinkResolution&&(F.relativeLinkResolution=P.relativeLinkResolution),P.urlUpdateStrategy&&(F.urlUpdateStrategy=P.urlUpdateStrategy),P.canceledNavigationResolution&&(F.canceledNavigationResolution=P.canceledNavigationResolution)}(st,Jn),Jn}let vs=(()=>{class P{constructor(O,W,J,De,st,pt,gn){this.rootComponentType=O,this.urlSerializer=W,this.rootContexts=J,this.location=De,this.config=gn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je.xQ,this.errorHandler=mo,this.malformedUriErrorHandler=Xn,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Q.of)(void 0),this.urlHandlingStrategy=new ii,this.routeReuseStrategy=new Wa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=st.get(Fo),this.configLoader.onLoadEndListener=Gi=>this.triggerEvent(new wt(Gi)),this.configLoader.onLoadStartListener=Gi=>this.triggerEvent(new Ir(Gi)),this.ngModule=st.get(o.h0i),this.console=st.get(o.c2e);const Jn=st.get(o.R0b);this.isNgZoneEnabled=Jn instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(gn),this.currentUrlTree=function Di(){return new ai(new Nn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=to(this.currentUrlTree,this.rootComponentType),this.transitions=new Fe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(O){const W=this.events;return O.pipe((0,vt.h)(J=>0!==J.id),(0,Ve.U)(J=>({...J,extractedUrl:this.urlHandlingStrategy.extract(J.rawUrl)})),(0,Be.w)(J=>{let De=!1,st=!1;return(0,Q.of)(J).pipe((0,ke.b)(pt=>{this.currentNavigation={id:pt.id,initialUrl:pt.rawUrl,extractedUrl:pt.extractedUrl,trigger:pt.source,extras:pt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Be.w)(pt=>{const gn=this.browserUrlTree.toString(),Rn=!this.navigated||pt.extractedUrl.toString()!==gn||gn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Rn)&&this.urlHandlingStrategy.shouldProcessUrl(pt.rawUrl))return tl(pt.source)&&(this.browserUrlTree=pt.extractedUrl),(0,Q.of)(pt).pipe((0,Be.w)(Jn=>{const Gi=this.transitions.getValue();return W.next(new et(Jn.id,this.serializeUrl(Jn.extractedUrl),Jn.source,Jn.restoredState)),Gi!==this.transitions.getValue()?Se.E:Promise.resolve(Jn)}),function ya(P,F,O,W){return(0,Be.w)(J=>function ws(P,F,O,W,J){return new ja(P,F,O,W,J).apply()}(P,F,O,J.extractedUrl,W).pipe((0,Ve.U)(De=>({...J,urlAfterRedirects:De}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ke.b)(Jn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Jn.urlAfterRedirects},J.urlAfterRedirects=Jn.urlAfterRedirects}),function Xa(P,F,O,W,J,De){return(0,Et.zg)(st=>function ua(P,F,O,W,J,De,st="emptyOnly",pt="legacy"){return new va(P,F,O,W,J,st,pt,De).recognize().pipe((0,Be.w)(gn=>null===gn?function Qo(P){return new ge.y(F=>F.error(P))}(new Ha):(0,Q.of)(gn)))}(P,F,O,st.urlAfterRedirects,W.serialize(st.urlAfterRedirects),W,J,De).pipe((0,Ve.U)(pt=>({...st,targetSnapshot:pt}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ke.b)(Jn=>{if(J.targetSnapshot=Jn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Jn.extras.skipLocationChange){const To=this.urlHandlingStrategy.merge(Jn.urlAfterRedirects,Jn.rawUrl);this.setBrowserUrl(To,Jn)}this.browserUrlTree=Jn.urlAfterRedirects}const Gi=new hn(Jn.id,this.serializeUrl(Jn.extractedUrl),this.serializeUrl(Jn.urlAfterRedirects),Jn.targetSnapshot);W.next(Gi)}));if(Rn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Gi,extractedUrl:To,source:xs,restoredState:So,extras:Os}=pt,oo=new et(Gi,this.serializeUrl(To),xs,So);W.next(oo);const Vl=to(To,this.rootComponentType).snapshot;return J={...pt,targetSnapshot:Vl,urlAfterRedirects:To,extras:{...Os,skipLocationChange:!1,replaceUrl:!1}},(0,Q.of)(J)}return this.rawUrlTree=pt.rawUrl,pt.resolve(null),Se.E}),(0,ke.b)(pt=>{const gn=new Wn(pt.id,this.serializeUrl(pt.extractedUrl),this.serializeUrl(pt.urlAfterRedirects),pt.targetSnapshot);this.triggerEvent(gn)}),(0,Ve.U)(pt=>J={...pt,guards:zs(pt.targetSnapshot,pt.currentSnapshot,this.rootContexts)}),function Ai(P,F){return(0,Et.zg)(O=>{const{targetSnapshot:W,currentSnapshot:J,guards:{canActivateChecks:De,canDeactivateChecks:st}}=O;return 0===st.length&&0===De.length?(0,Q.of)({...O,guardsResult:!0}):function lr(P,F,O,W){return(0,q.D)(P).pipe((0,Et.zg)(J=>function rr(P,F,O,W,J){const De=F&&F.routeConfig?F.routeConfig.canDeactivate:null;if(!De||0===De.length)return(0,Q.of)(!0);const st=De.map(pt=>{const gn=Ro(F)??J,Rn=S(pt,gn);return mi(function A(P){return P&&Kt(P.canDeactivate)}(Rn)?Rn.canDeactivate(P,F,O,W):gn.runInContext(()=>Rn(P,F,O,W))).pipe((0,Qe.P)())});return(0,Q.of)(st).pipe(Ln())}(J.component,J.route,O,F,W)),(0,Qe.P)(J=>!0!==J,!0))}(st,W,J,P).pipe((0,Et.zg)(pt=>pt&&function jn(P){return"boolean"==typeof P}(pt)?function Fr(P,F,O,W){return(0,q.D)(F).pipe((0,We.b)(J=>(0,_e.z)(function Zr(P,F){return null!==P&&F&&F(new Tt(P)),(0,Q.of)(!0)}(J.route.parent,W),function Vr(P,F){return null!==P&&F&&F(new yn(P)),(0,Q.of)(!0)}(J.route,W),function po(P,F,O){const W=F[F.length-1],De=F.slice(0,F.length-1).reverse().map(st=>function wn(P){const F=P.routeConfig?P.routeConfig.canActivateChild:null;return F&&0!==F.length?{node:P,guards:F}:null}(st)).filter(st=>null!==st).map(st=>he(()=>{const pt=st.guards.map(gn=>{const Rn=Ro(st.node)??O,dr=S(gn,Rn);return mi(function C(P){return P&&Kt(P.canActivateChild)}(dr)?dr.canActivateChild(W,P):Rn.runInContext(()=>dr(W,P))).pipe((0,Qe.P)())});return(0,Q.of)(pt).pipe(Ln())}));return(0,Q.of)(De).pipe(Ln())}(P,J.path,O),function hi(P,F,O){const W=F.routeConfig?F.routeConfig.canActivate:null;if(!W||0===W.length)return(0,Q.of)(!0);const J=W.map(De=>he(()=>{const st=Ro(F)??O,pt=S(De,st);return mi(function D(P){return P&&Kt(P.canActivate)}(pt)?pt.canActivate(F,P):st.runInContext(()=>pt(F,P))).pipe((0,Qe.P)())}));return(0,Q.of)(J).pipe(Ln())}(P,J.route,O))),(0,Qe.P)(J=>!0!==J,!0))}(W,De,P,F):(0,Q.of)(pt)),(0,Ve.U)(pt=>({...O,guardsResult:pt})))})}(this.ngModule.injector,pt=>this.triggerEvent(pt)),(0,ke.b)(pt=>{if(J.guardsResult=pt.guardsResult,Qt(pt.guardsResult))throw Bs(0,pt.guardsResult);const gn=new _i(pt.id,this.serializeUrl(pt.extractedUrl),this.serializeUrl(pt.urlAfterRedirects),pt.targetSnapshot,!!pt.guardsResult);this.triggerEvent(gn)}),(0,vt.h)(pt=>!!pt.guardsResult||(this.restoreHistory(pt),this.cancelNavigationTransition(pt,"",3),!1)),hl(pt=>{if(pt.guards.canActivateChecks.length)return(0,Q.of)(pt).pipe((0,ke.b)(gn=>{const Rn=new Fi(gn.id,this.serializeUrl(gn.extractedUrl),this.serializeUrl(gn.urlAfterRedirects),gn.targetSnapshot);this.triggerEvent(Rn)}),(0,Be.w)(gn=>{let Rn=!1;return(0,Q.of)(gn).pipe(function $u(P,F){return(0,Et.zg)(O=>{const{targetSnapshot:W,guards:{canActivateChecks:J}}=O;if(!J.length)return(0,Q.of)(O);let De=0;return(0,q.D)(J).pipe((0,We.b)(st=>function Vu(P,F,O,W){const J=P.routeConfig,De=P._resolve;return void 0!==J?.title&&!ba(J)&&(De[Zn]=J.title),function Io(P,F,O,W){const J=function Jo(P){return[...Object.keys(P),...Object.getOwnPropertySymbols(P)]}(P);if(0===J.length)return(0,Q.of)({});const De={};return(0,q.D)(J).pipe((0,Et.zg)(st=>function Ql(P,F,O,W){const J=Ro(F)??W,De=S(P,J);return mi(De.resolve?De.resolve(F,O):J.runInContext(()=>De(F,O)))}(P[st],F,O,W).pipe((0,Qe.P)(),(0,ke.b)(pt=>{De[st]=pt}))),ue(1),function ht(P){return F=>F.lift(new xt(P))}(De),(0,tt.K)(st=>Wt(st)?Se.E:(0,fe._)(st)))}(De,P,F,W).pipe((0,Ve.U)(st=>(P._resolvedData=st,P.data=ma(P,O).resolve,J&&ba(J)&&(P.data[Zn]=J.title),null)))}(st.route,W,P,F)),(0,ke.b)(()=>De++),ue(1),(0,Et.zg)(st=>De===J.length?(0,Q.of)(O):Se.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ke.b)({next:()=>Rn=!0,complete:()=>{Rn||(this.restoreHistory(gn),this.cancelNavigationTransition(gn,"",2))}}))}),(0,ke.b)(gn=>{const Rn=new jr(gn.id,this.serializeUrl(gn.extractedUrl),this.serializeUrl(gn.urlAfterRedirects),gn.targetSnapshot);this.triggerEvent(Rn)}))}),hl(pt=>{const gn=Rn=>{const dr=[];Rn.routeConfig?.loadComponent&&!Rn.routeConfig._loadedComponent&&dr.push(this.configLoader.loadComponent(Rn.routeConfig).pipe((0,ke.b)(Jn=>{Rn.component=Jn}),(0,Ve.U)(()=>{})));for(const Jn of Rn.children)dr.push(...gn(Jn));return dr};return(0,de.aj)(gn(pt.targetSnapshot.root)).pipe((0,St.d)(),(0,Ge.q)(1))}),hl(()=>this.afterPreactivation()),(0,Ve.U)(pt=>{const gn=function Yi(P,F,O){const W=As(P,F._root,O?O._root:void 0);return new eo(W,F)}(this.routeReuseStrategy,pt.targetSnapshot,pt.currentRouterState);return J={...pt,targetRouterState:gn}}),(0,ke.b)(pt=>{this.currentUrlTree=pt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(pt.urlAfterRedirects,pt.rawUrl),this.routerState=pt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(pt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,pt),this.browserUrlTree=pt.urlAfterRedirects)}),((P,F,O)=>(0,Ve.U)(W=>(new Ua(F,W.targetRouterState,W.currentRouterState,O).activate(P),W)))(this.rootContexts,this.routeReuseStrategy,pt=>this.triggerEvent(pt)),(0,ke.b)({next(){De=!0},complete(){De=!0}}),(0,En.x)(()=>{De||st||this.cancelNavigationTransition(J,"",1),this.currentNavigation?.id===J.id&&(this.currentNavigation=null)}),(0,tt.K)(pt=>{if(st=!0,ji(pt)){ir(pt)||(this.navigated=!0,this.restoreHistory(J,!0));const gn=new cn(J.id,this.serializeUrl(J.extractedUrl),pt.message,pt.cancellationCode);if(W.next(gn),ir(pt)){const Rn=this.urlHandlingStrategy.merge(pt.url,this.rawUrlTree),dr={skipLocationChange:J.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tl(J.source)};this.scheduleNavigation(Rn,"imperative",null,dr,{resolve:J.resolve,reject:J.reject,promise:J.promise})}else J.resolve(!1)}else{this.restoreHistory(J,!0);const gn=new rn(J.id,this.serializeUrl(J.extractedUrl),pt,J.targetSnapshot??void 0);W.next(gn);try{J.resolve(this.errorHandler(pt))}catch(Rn){J.reject(Rn)}}return Se.E}))}))}resetRootComponentType(O){this.rootComponentType=O,this.routerState.root.component=this.rootComponentType}setTransition(O){this.transitions.next({...this.transitions.value,...O})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const W="popstate"===O.type?"popstate":"hashchange";"popstate"===W&&setTimeout(()=>{const J={replaceUrl:!0},De=O.state?.navigationId?O.state:null;if(De){const pt={...De};delete pt.navigationId,delete pt.\u0275routerPageId,0!==Object.keys(pt).length&&(J.state=pt)}const st=this.parseUrl(O.url);this.scheduleNavigation(st,W,De,J)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(O){this.events.next(O)}resetConfig(O){this.config=O.map(Ui),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(O,W={}){const{relativeTo:J,queryParams:De,fragment:st,queryParamsHandling:pt,preserveFragment:gn}=W,Rn=J||this.routerState.root,dr=gn?this.currentUrlTree.fragment:st;let Jn=null;switch(pt){case"merge":Jn={...this.currentUrlTree.queryParams,...De};break;case"preserve":Jn=this.currentUrlTree.queryParams;break;default:Jn=De||null}return null!==Jn&&(Jn=this.removeEmptyProps(Jn)),Mi(Rn,this.currentUrlTree,O,Jn,dr??null)}navigateByUrl(O,W={skipLocationChange:!1}){const J=Qt(O)?O:this.parseUrl(O),De=this.urlHandlingStrategy.merge(J,this.rawUrlTree);return this.scheduleNavigation(De,"imperative",null,W)}navigate(O,W={skipLocationChange:!1}){return function Ll(P){for(let F=0;F<P.length;F++){if(null==P[F])throw new o.vHH(4008,false)}}(O),this.navigateByUrl(this.createUrlTree(O,W),W)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let W;try{W=this.urlSerializer.parse(O)}catch(J){W=this.malformedUriErrorHandler(J,this.urlSerializer,O)}return W}isActive(O,W){let J;if(J=!0===W?{...un}:!1===W?{...pn}:W,Qt(O))return He(this.currentUrlTree,O,J);const De=this.parseUrl(O);return He(this.currentUrlTree,De,J)}removeEmptyProps(O){return Object.keys(O).reduce((W,J)=>{const De=O[J];return null!=De&&(W[J]=De),W},{})}processNavigations(){this.navigations.subscribe(O=>{this.navigated=!0,this.lastSuccessfulId=O.id,this.currentPageId=O.targetPageId,this.events.next(new Pt(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),O.resolve(!0)},O=>{this.console.warn(`Unhandled Navigation Error: ${O}`)})}scheduleNavigation(O,W,J,De,st){if(this.disposed)return Promise.resolve(!1);let pt,gn,Rn;st?(pt=st.resolve,gn=st.reject,Rn=st.promise):Rn=new Promise((Gi,To)=>{pt=Gi,gn=To});const dr=++this.navigationId;let Jn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(J=this.location.getState()),Jn=J&&J.\u0275routerPageId?J.\u0275routerPageId:De.replaceUrl||De.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Jn=0,this.setTransition({id:dr,targetPageId:Jn,source:W,restoredState:J,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:O,extras:De,resolve:pt,reject:gn,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(Gi=>Promise.reject(Gi))}setBrowserUrl(O,W){const J=this.urlSerializer.serialize(O),De={...W.extras.state,...this.generateNgRouterState(W.id,W.targetPageId)};this.location.isCurrentPathEqualTo(J)||W.extras.replaceUrl?this.location.replaceState(J,"",De):this.location.go(J,"",De)}restoreHistory(O,W=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-O.targetPageId;"popstate"!==O.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===J?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===J&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(J)}else"replace"===this.canceledNavigationResolution&&(W&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(O,W,J){const De=new cn(O.id,this.serializeUrl(O.extractedUrl),W,J);this.triggerEvent(De),O.resolve(!1)}generateNgRouterState(O,W){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:W}:{navigationId:O}}}return P.\u0275fac=function(O){o.$Z()},P.\u0275prov=o.Yz7({token:P,factory:function(){return gl()},providedIn:"root"}),P})();function tl(P){return"imperative"!==P}let Ka=(()=>{class P{constructor(O,W,J,De,st){this.router=O,this.route=W,this.tabIndexAttribute=J,this.renderer=De,this.el=st,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new je.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(O){this._preserveFragment=(0,o.D6c)(O)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(O){this._skipLocationChange=(0,o.D6c)(O)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(O){this._replaceUrl=(0,o.D6c)(O)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(O){if(null!=this.tabIndexAttribute)return;const W=this.renderer,J=this.el.nativeElement;null!==O?W.setAttribute(J,"tabindex",O):W.removeAttribute(J,"tabindex")}ngOnChanges(O){this.onChanges.next(this)}set routerLink(O){null!=O?(this.commands=Array.isArray(O)?O:[O],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return P.\u0275fac=function(O){return new(O||P)(o.Y36(vs),o.Y36(Ss),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},P.\u0275dir=o.lG2({type:P,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(O,W){1&O&&o.NdJ("click",function(){return W.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),P})(),Bl=(()=>{class P{constructor(O,W,J){this.router=O,this.route=W,this.locationStrategy=J,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new je.xQ,this.subscription=O.events.subscribe(De=>{De instanceof Pt&&this.updateTargetUrlAndHref()})}set preserveFragment(O){this._preserveFragment=(0,o.D6c)(O)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(O){this._skipLocationChange=(0,o.D6c)(O)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(O){this._replaceUrl=(0,o.D6c)(O)}get replaceUrl(){return this._replaceUrl}set routerLink(O){this.commands=null!=O?Array.isArray(O)?O:[O]:null}ngOnChanges(O){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(O,W,J,De,st){return!!(0!==O||W||J||De||st||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return P.\u0275fac=function(O){return new(O||P)(o.Y36(vs),o.Y36(Ss),o.Y36(ft.S$))},P.\u0275dir=o.lG2({type:P,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(O,W){1&O&&o.NdJ("click",function(De){return W.onClick(De.button,De.ctrlKey,De.shiftKey,De.altKey,De.metaKey)}),2&O&&o.uIk("target",W.target)("href",W.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),P})();class wa{}let Lo=(()=>{class P{preload(O,W){return W().pipe((0,tt.K)(()=>(0,Q.of)(null)))}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),qi=(()=>{class P{constructor(O,W,J,De,st){this.router=O,this.injector=J,this.preloadingStrategy=De,this.loader=st}setUpPreloading(){this.subscription=this.router.events.pipe((0,vt.h)(O=>O instanceof Pt),(0,We.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,W){const J=[];for(const De of W){De.providers&&!De._injector&&(De._injector=(0,o.MMx)(De.providers,O,`Route: ${De.path}`));const st=De._injector??O,pt=De._loadedInjector??st;De.loadChildren&&!De._loadedRoutes&&void 0===De.canLoad||De.loadComponent&&!De._loadedComponent?J.push(this.preloadConfig(st,De)):(De.children||De._loadedRoutes)&&J.push(this.processRoutes(pt,De.children??De._loadedRoutes))}return(0,q.D)(J).pipe((0,bn.J)())}preloadConfig(O,W){return this.preloadingStrategy.preload(W,()=>{let J;J=W.loadChildren&&void 0===W.canLoad?this.loader.loadChildren(O,W):(0,Q.of)(null);const De=J.pipe((0,Et.zg)(st=>null===st?(0,Q.of)(void 0):(W._loadedRoutes=st.routes,W._loadedInjector=st.injector,this.processRoutes(st.injector??O,st.routes))));if(W.loadComponent&&!W._loadedComponent){const st=this.loader.loadComponent(W);return(0,q.D)([De,st]).pipe((0,bn.J)())}return De})}}return P.\u0275fac=function(O){return new(O||P)(o.LFG(vs),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(wa),o.LFG(Fo))},P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();const Xo=new o.OlP("");let Ya=(()=>{class P{constructor(O,W,J={}){this.router=O,this.viewportScroller=W,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(O=>{O instanceof et?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof Pt&&(this.lastId=O.id,this.scheduleScrollEvent(O,this.router.parseUrl(O.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(O=>{O instanceof li&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,W){this.router.triggerEvent(new li(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,W))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return P.\u0275fac=function(O){o.$Z()},P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac}),P})();function br(P,F){return{\u0275kind:P,\u0275providers:F}}function us(P){return[{provide:Ms,multi:!0,useValue:P}]}function ri(){const P=(0,o.f3M)(o.zs3);return F=>{const O=P.get(o.z2F);if(F!==O.components[0])return;const W=P.get(vs),J=P.get(Xl);1===P.get(mc)&&W.initialNavigation(),P.get($l,null,o.XFs.Optional)?.setUpPreloading(),P.get(Xo,null,o.XFs.Optional)?.init(),W.resetRootComponentType(O.componentTypes[0]),J.next(),J.complete()}}const Xl=new o.OlP("",{factory:()=>new je.xQ}),mc=new o.OlP("",{providedIn:"root",factory:()=>1});const $l=new o.OlP("");function yc(P){return br(0,[{provide:$l,useExisting:qi},{provide:wa,useExisting:P}])}const na=new o.OlP("ROUTER_FORROOT_GUARD"),ec=[ft.Ye,{provide:Xe,useClass:ut},{provide:vs,useFactory:gl},kr,{provide:Ss,useFactory:function ea(P){return P.routerState.root},deps:[vs]},Fo];function tc(){return new o.PXZ("Router",vs)}let _o=(()=>{class P{constructor(O){}static forRoot(O,W){return{ngModule:P,providers:[ec,[],us(O),{provide:na,useFactory:yo,deps:[[vs,new o.FiY,new o.tp0]]},{provide:za,useValue:W||{}},W?.useHash?{provide:ft.S$,useClass:ft.Do}:{provide:ft.S$,useClass:ft.b0},{provide:Xo,useFactory:()=>{const P=(0,o.f3M)(vs),F=(0,o.f3M)(ft.EM),O=(0,o.f3M)(za);return O.scrollOffset&&F.setOffset(O.scrollOffset),new Ya(P,F,O)}},W?.preloadingStrategy?yc(W.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:tc},W?.initialNavigation?nl(W):[],[{provide:vc,useFactory:ri},{provide:o.tb,multi:!0,useExisting:vc}]]}}static forChild(O){return{ngModule:P,providers:[us(O)]}}}return P.\u0275fac=function(O){return new(O||P)(o.LFG(na,8))},P.\u0275mod=o.oAB({type:P}),P.\u0275inj=o.cJS({imports:[_a]}),P})();function yo(P){return"guarded"}function nl(P){return["disabled"===P.initialNavigation?br(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const F=(0,o.f3M)(vs);return()=>{F.setUpLocationChangeListener()}}},{provide:mc,useValue:2}]).\u0275providers:[],"enabledBlocking"===P.initialNavigation?br(2,[{provide:mc,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:F=>{const O=F.get(ft.V_,Promise.resolve());let W=!1;return()=>O.then(()=>new Promise(De=>{const st=F.get(vs),pt=F.get(Xl);(function J(De){F.get(vs).events.pipe((0,vt.h)(pt=>pt instanceof Pt||pt instanceof cn||pt instanceof rn),(0,Ve.U)(pt=>pt instanceof Pt||pt instanceof cn&&(0===pt.code||1===pt.code)&&null),(0,vt.h)(pt=>null!==pt),(0,Ge.q)(1)).subscribe(()=>{De()})})(()=>{De(!0),W=!0}),st.afterPreactivation=()=>(De(!0),W||pt.closed?(0,Q.of)(void 0):pt),st.initialNavigation()}))}}]).\u0275providers:[]]}const vc=new o.OlP("")},3942:(Sn,bt,L)=>{"use strict";L.d(bt,{Z:()=>ft});var o=L(2090),q=L(4859),Q=L(9681),Fe=L(1877);class ie{constructor(Be,Ge){this._delegate=Be,this.firebase=Ge,(0,Q._addComponent)(Be,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(Be,Ge=Q._DEFAULT_ENTRY_NAME){var Lt;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Be);return!vt.isInitialized()&&"EXPLICIT"===(null===(Lt=vt.getComponent())||void 0===Lt?void 0:Lt.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:Ge})}_removeServiceInstance(Be,Ge=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(Ge)}_addComponent(Be){(0,Q._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,Q._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Se(){const Ve=function ge(Ve){const Be={},Ge={__esModule:!0,initializeApp:function Et(tt,Ee={}){const ve=Q.initializeApp(tt,Ee);if((0,o.r3)(Be,ve.name))return Be[ve.name];const Ie=new Ve(ve,Ge);return Be[ve.name]=Ie,Ie},app:vt,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function We(tt){const Ee=tt.name,ve=Ee.replace("-compat","");if(Q._registerComponent(tt)&&"PUBLIC"===tt.type){const Ie=(ue=vt())=>{if("function"!=typeof ue[ve])throw _e.create("invalid-app-argument",{appName:Ee});return ue[ve]()};void 0!==tt.serviceProps&&(0,o.ZB)(Ie,tt.serviceProps),Ge[ve]=Ie,Ve.prototype[ve]=function(...ue){return this._getService.bind(this,Ee).apply(this,tt.multipleInstances?ue:[])}}return"PUBLIC"===tt.type?Ge[ve]:null},removeApp:function Lt(tt){delete Be[tt]},useAsService:function ke(tt,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:Q}};function vt(tt){if(!(0,o.r3)(Be,tt=tt||Q._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:tt});return Be[tt]}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function Qe(){return Object.keys(Be).map(tt=>Be[tt])}}),vt.App=Ve,Ge}(ie);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function Be(Ge){(0,o.ZB)(Ve,Ge)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ve}(),oe=new Fe.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ft=he;!function je(Ve){(0,Q.registerVersion)("@firebase/app-compat","0.1.34",Ve)}()},9681:(Sn,bt,L)=>{"use strict";L.r(bt),L.d(bt,{FirebaseError:()=>Fe.ZR,SDK_VERSION:()=>yi,_DEFAULT_ENTRY_NAME:()=>Je,_addComponent:()=>xt,_addOrOverwriteComponent:()=>$t,_apps:()=>at,_clearComponents:()=>Te,_components:()=>ht,_getProvider:()=>Ut,_registerComponent:()=>En,_removeServiceInstance:()=>bn,deleteApp:()=>sn,getApp:()=>$n,getApps:()=>ei,initializeApp:()=>Er,onLog:()=>xi,registerVersion:()=>Ni,setLogLevel:()=>Kn});var o=L(5861),q=L(4859),Q=L(1877),Fe=L(2090),ie=L(8766);class de{constructor(ut){this.container=ut}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function _e(Xe){return"VERSION"===Xe.getComponent()?.type}(rt)){const on=rt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(rt=>rt).join(" ")}}const ge="@firebase/app",he=new Q.Yd("@firebase/app"),Je="[DEFAULT]",Ye={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},at=new Map,ht=new Map;function xt(Xe,ut){try{Xe.container.addComponent(ut)}catch(rt){he.debug(`Component ${ut.name} failed to register with FirebaseApp ${Xe.name}`,rt)}}function $t(Xe,ut){Xe.container.addOrOverwriteComponent(ut)}function En(Xe){const ut=Xe.name;if(ht.has(ut))return he.debug(`There were multiple attempts to register component ${ut}.`),!1;ht.set(ut,Xe);for(const rt of at.values())xt(rt,Xe);return!0}function Ut(Xe,ut){const rt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),Xe.container.getProvider(ut)}function bn(Xe,ut,rt=Je){Ut(Xe,ut).clearInstance(rt)}function Te(){ht.clear()}const Zn=new Fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(ut,rt,on){this._isDeleted=!1,this._options=Object.assign({},ut),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this.checkDestroyed(),this._automaticDataCollectionEnabled=ut}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ut){this._isDeleted=ut}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const yi="9.10.0";function Er(Xe,ut={}){"object"!=typeof ut&&(ut={name:ut});const rt=Object.assign({name:Je,automaticDataCollectionEnabled:!1},ut),on=rt.name;if("string"!=typeof on||!on)throw Zn.create("bad-app-name",{appName:String(on)});const _n=at.get(on);if(_n){if((0,Fe.vZ)(Xe,_n.options)&&(0,Fe.vZ)(rt,_n.config))return _n;throw Zn.create("duplicate-app",{appName:on})}const Vn=new q.H0(on);for(const Oi of ht.values())Vn.addComponent(Oi);const Ki=new zn(Xe,rt,Vn);return at.set(on,Ki),Ki}function $n(Xe=Je){const ut=at.get(Xe);if(!ut)throw Zn.create("no-app",{appName:Xe});return ut}function ei(){return Array.from(at.values())}function sn(Xe){return dn.apply(this,arguments)}function dn(){return(dn=(0,o.Z)(function*(Xe){const ut=Xe.name;at.has(ut)&&(at.delete(ut),yield Promise.all(Xe.container.getProviders().map(rt=>rt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function Ni(Xe,ut,rt){var on;let _n=null!==(on=Ye[Xe])&&void 0!==on?on:Xe;rt&&(_n+=`-${rt}`);const Vn=_n.match(/\s|\//),Ki=ut.match(/\s|\//);if(Vn||Ki){const Oi=[`Unable to register library "${_n}" with version "${ut}":`];return Vn&&Oi.push(`library name "${_n}" contains illegal characters (whitespace or "/")`),Vn&&Ki&&Oi.push("and"),Ki&&Oi.push(`version name "${ut}" contains illegal characters (whitespace or "/")`),void he.warn(Oi.join(" "))}En(new q.wA(`${_n}-version`,()=>({library:_n,version:ut}),"VERSION"))}function xi(Xe,ut){if(null!==Xe&&"function"!=typeof Xe)throw Zn.create("invalid-log-argument");(0,Q.Am)(Xe,ut)}function Kn(Xe){(0,Q.Ub)(Xe)}const Di="firebase-heartbeat-store";let zt=null;function ot(){return zt||(zt=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(Xe,ut)=>{0===ut&&Xe.createObjectStore(Di)}}).catch(Xe=>{throw Zn.create("idb-open",{originalErrorMessage:Xe.message})})),zt}function Ot(){return(Ot=(0,o.Z)(function*(Xe){var ut;try{return(yield ot()).transaction(Di).objectStore(Di).get(Bn(Xe))}catch(rt){if(rt instanceof Fe.ZR)he.warn(rt.message);else{const on=Zn.create("idb-get",{originalErrorMessage:null===(ut=rt)||void 0===ut?void 0:ut.message});he.warn(on.message)}}})).apply(this,arguments)}function jt(Xe,ut){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,o.Z)(function*(Xe,ut){var rt;try{const _n=(yield ot()).transaction(Di,"readwrite");return yield _n.objectStore(Di).put(ut,Bn(Xe)),_n.done}catch(on){if(on instanceof Fe.ZR)he.warn(on.message);else{const _n=Zn.create("idb-set",{originalErrorMessage:null===(rt=on)||void 0===rt?void 0:rt.message});he.warn(_n.message)}}})).apply(this,arguments)}function Bn(Xe){return`${Xe.name}!${Xe.options.appId}`}class ai{constructor(ut){this.container=ut,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new ci(rt),this._heartbeatsCachePromise=this._storage.read().then(on=>(this._heartbeatsCache=on,on))}triggerHeartbeat(){var ut=this;return(0,o.Z)(function*(){const on=ut.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_n=Nn();if(null===ut._heartbeatsCache&&(ut._heartbeatsCache=yield ut._heartbeatsCachePromise),ut._heartbeatsCache.lastSentHeartbeatDate!==_n&&!ut._heartbeatsCache.heartbeats.some(Vn=>Vn.date===_n))return ut._heartbeatsCache.heartbeats.push({date:_n,agent:on}),ut._heartbeatsCache.heartbeats=ut._heartbeatsCache.heartbeats.filter(Vn=>{const Ki=new Date(Vn.date).valueOf();return Date.now()-Ki<=2592e6}),ut._storage.overwrite(ut._heartbeatsCache)})()}getHeartbeatsHeader(){var ut=this;return(0,o.Z)(function*(){if(null===ut._heartbeatsCache&&(yield ut._heartbeatsCachePromise),null===ut._heartbeatsCache||0===ut._heartbeatsCache.heartbeats.length)return"";const rt=Nn(),{heartbeatsToSend:on,unsentEntries:_n}=function Pi(Xe,ut=1024){const rt=[];let on=Xe.slice();for(const _n of Xe){const Vn=rt.find(Ki=>Ki.agent===_n.agent);if(Vn){if(Vn.dates.push(_n.date),ct(rt)>ut){Vn.dates.pop();break}}else if(rt.push({agent:_n.agent,dates:[_n.date]}),ct(rt)>ut){rt.pop();break}on=on.slice(1)}return{heartbeatsToSend:rt,unsentEntries:on}}(ut._heartbeatsCache.heartbeats),Vn=(0,Fe.L)(JSON.stringify({version:2,heartbeats:on}));return ut._heartbeatsCache.lastSentHeartbeatDate=rt,_n.length>0?(ut._heartbeatsCache.heartbeats=_n,yield ut._storage.overwrite(ut._heartbeatsCache)):(ut._heartbeatsCache.heartbeats=[],ut._storage.overwrite(ut._heartbeatsCache)),Vn})()}}function Nn(){return(new Date).toISOString().substring(0,10)}class ci{constructor(ut){this.app=ut,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,Fe.hl)()&&(0,Fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ut=this;return(0,o.Z)(function*(){return(yield ut._canUseIndexedDBPromise)&&(yield function He(Xe){return Ot.apply(this,arguments)}(ut.app))||{heartbeats:[]}})()}overwrite(ut){var rt=this;return(0,o.Z)(function*(){var on;if(yield rt._canUseIndexedDBPromise){const Vn=yield rt.read();return jt(rt.app,{lastSentHeartbeatDate:null!==(on=ut.lastSentHeartbeatDate)&&void 0!==on?on:Vn.lastSentHeartbeatDate,heartbeats:ut.heartbeats})}})()}add(ut){var rt=this;return(0,o.Z)(function*(){var on;if(yield rt._canUseIndexedDBPromise){const Vn=yield rt.read();return jt(rt.app,{lastSentHeartbeatDate:null!==(on=ut.lastSentHeartbeatDate)&&void 0!==on?on:Vn.lastSentHeartbeatDate,heartbeats:[...Vn.heartbeats,...ut.heartbeats]})}})()}}function ct(Xe){return(0,Fe.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function nt(Xe){En(new q.wA("platform-logger",ut=>new de(ut),"PRIVATE")),En(new q.wA("heartbeat",ut=>new ai(ut),"PRIVATE")),Ni(ge,"0.7.33",Xe),Ni(ge,"0.7.33","esm2017"),Ni("fire-js","")}("")},4859:(Sn,bt,L)=>{"use strict";L.d(bt,{H0:()=>ge,wA:()=>Q,zt:()=>ie});var o=L(5861),q=L(2090);class Q{constructor(he,oe,fe){this.name=he,this.instanceFactory=oe,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Fe="[DEFAULT]";class ie{constructor(he,oe){this.name=he,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const oe=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(oe)){const fe=new q.BH;if(this.instancesDeferred.set(oe,fe),this.isInitialized(oe)||this.shouldAutoInitialize())try{const ye=this.getOrInitializeService({instanceIdentifier:oe});ye&&fe.resolve(ye)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(he){var oe;const fe=this.normalizeInstanceIdentifier(he?.identifier),ye=null!==(oe=he?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(je){if(ye)return null;throw je}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function _e(Se){return"EAGER"===Se.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Fe})}catch{}for(const[oe,fe]of this.instancesDeferred.entries()){const ye=this.normalizeInstanceIdentifier(oe);try{const je=this.getOrInitializeService({instanceIdentifier:ye});fe.resolve(je)}catch{}}}}clearInstance(he=Fe){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,o.Z)(function*(){const oe=Array.from(he.instances.values());yield Promise.all([...oe.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...oe.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Fe){return this.instances.has(he)}getOptions(he=Fe){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:oe={}}=he,fe=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ye=this.getOrInitializeService({instanceIdentifier:fe,options:oe});for(const[je,ft]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(je)&&ft.resolve(ye);return ye}onInit(he,oe){var fe;const ye=this.normalizeInstanceIdentifier(oe),je=null!==(fe=this.onInitCallbacks.get(ye))&&void 0!==fe?fe:new Set;je.add(he),this.onInitCallbacks.set(ye,je);const ft=this.instances.get(ye);return ft&&he(ft,ye),()=>{je.delete(he)}}invokeOnInitCallbacks(he,oe){const fe=this.onInitCallbacks.get(oe);if(fe)for(const ye of fe)try{ye(he,oe)}catch{}}getOrInitializeService({instanceIdentifier:he,options:oe={}}){let fe=this.instances.get(he);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=he,Se===Fe?void 0:Se),options:oe}),this.instances.set(he,fe),this.instancesOptions.set(he,oe),this.invokeOnInitCallbacks(fe,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,fe)}catch{}var Se;return fe||null}normalizeInstanceIdentifier(he=Fe){return this.component?this.component.multipleInstances?he:Fe:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const oe=this.getProvider(he.name);if(oe.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);oe.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const oe=new ie(he,this);return this.providers.set(he,oe),oe}getProviders(){return Array.from(this.providers.values())}}},1877:(Sn,bt,L)=>{"use strict";L.d(bt,{Am:()=>Se,Ub:()=>ge,Yd:()=>_e,in:()=>q});const o=[];var q=(()=>{return(he=q||(q={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",q;var he})();const Q={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},Fe=q.INFO,ie={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},de=(he,oe,...fe)=>{if(oe<he.logLevel)return;const ye=(new Date).toISOString(),je=ie[oe];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[je](`[${ye}]  ${he.name}:`,...fe)};class _e{constructor(oe){this.name=oe,this._logLevel=Fe,this._logHandler=de,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in q))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?Q[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...oe),this._logHandler(this,q.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...oe),this._logHandler(this,q.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,q.INFO,...oe),this._logHandler(this,q.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,q.WARN,...oe),this._logHandler(this,q.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...oe),this._logHandler(this,q.ERROR,...oe)}}function ge(he){o.forEach(oe=>{oe.setLogLevel(he)})}function Se(he,oe){for(const fe of o){let ye=null;oe&&oe.level&&(ye=Q[oe.level]),fe.userLogHandler=null===he?null:(je,ft,...Ve)=>{const Be=Ve.map(Ge=>{if(null==Ge)return null;if("string"==typeof Ge)return Ge;if("number"==typeof Ge||"boolean"==typeof Ge)return Ge.toString();if(Ge instanceof Error)return Ge.message;try{return JSON.stringify(Ge)}catch{return null}}).filter(Ge=>Ge).join(" ");ft>=(ye??je.logLevel)&&he({level:q[ft].toLowerCase(),message:Be,args:Ve,type:je.name})}}}},4130:(Sn,bt,L)=>{"use strict";L.d(bt,{uo:()=>yo,Lu:()=>da,IJ:()=>yf,xl:()=>Ea});var o=L(4650),q=L(6895),Q=L(6498),Fe=L(8896),ie=L(1086),de=L(8929),_e=L(3753),ge=L(353),Se=L(4241),he=L(2866);function oe(m=0,E,p){let T=-1;return(0,Se.k)(E)?T=Number(E)<1?1:Number(E):(0,he.K)(E)&&(p=E),(0,he.K)(p)||(p=ge.P),new Q.y(V=>{const ne=(0,Se.k)(m)?m:+m-p.now();return p.schedule(fe,ne,{index:0,period:T,subscriber:V})})}function fe(m){const{index:E,period:p,subscriber:T}=m;if(T.next(E),!T.closed){if(-1===p)return T.complete();m.index=E+1,this.schedule(m,p)}}var ye=L(6688),je=L(3009),ft=L(826),Ve=L(448);class Ge{call(E,p){return p.subscribe(new Lt(E))}}class Lt extends ft.L{constructor(E){super(E),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(E){this.observables.push(E)}_complete(){const E=this.observables,p=E.length;if(0===p)this.destination.complete();else{for(let T=0;T<p&&!this.hasFirst;T++){const ne=(0,Ve.D)(this,E[T],void 0,T);this.subscriptions&&this.subscriptions.push(ne),this.add(ne)}this.observables=null}}notifyNext(E,p,T){if(!this.hasFirst){this.hasFirst=!0;for(let V=0;V<this.subscriptions.length;V++)if(V!==T){let ne=this.subscriptions[V];ne.unsubscribe(),this.remove(ne)}this.subscriptions=null}this.destination.next(p)}}var vt=L(591),Et=L(6053),Qe=L(7876);const We=new Q.y(Qe.Z);var tt=L(3489),Ee=L(5430),ve=L(1177);function Ie(...m){const E=m[m.length-1];return"function"==typeof E&&m.pop(),(0,je.n)(m,void 0).lift(new ue(E))}class ue{constructor(E){this.resultSelector=E}call(E,p){return p.subscribe(new Ce(E,this.resultSelector))}}class Ce extends tt.L{constructor(E,p,T=Object.create(null)){super(E),this.resultSelector=p,this.iterators=[],this.active=0,this.resultSelector="function"==typeof p?p:void 0}_next(E){const p=this.iterators;(0,ye.k)(E)?p.push(new At(E)):p.push("function"==typeof E[Ee.hZ]?new me(E[Ee.hZ]()):new St(this.destination,this,E))}_complete(){const E=this.iterators,p=E.length;if(this.unsubscribe(),0!==p){this.active=p;for(let T=0;T<p;T++){let V=E[T];V.stillUnsubscribed?this.destination.add(V.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const E=this.iterators,p=E.length,T=this.destination;for(let ze=0;ze<p;ze++){let It=E[ze];if("function"==typeof It.hasValue&&!It.hasValue())return}let V=!1;const ne=[];for(let ze=0;ze<p;ze++){let It=E[ze],Bt=It.next();if(It.hasCompleted()&&(V=!0),Bt.done)return void T.complete();ne.push(Bt.value)}this.resultSelector?this._tryresultSelector(ne):T.next(ne),V&&T.complete()}_tryresultSelector(E){let p;try{p=this.resultSelector.apply(this,E)}catch(T){return void this.destination.error(T)}this.destination.next(p)}}class me{constructor(E){this.iterator=E,this.nextResult=E.next()}hasValue(){return!0}next(){const E=this.nextResult;return this.nextResult=this.iterator.next(),E}hasCompleted(){const E=this.nextResult;return Boolean(E&&E.done)}}class At{constructor(E){this.array=E,this.index=0,this.length=0,this.length=E.length}[Ee.hZ](){return this}next(E){const p=this.index++;return p<this.length?{value:this.array[p],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class St extends ve.Ds{constructor(E,p,T){super(E),this.parent=p,this.observable=T,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Ee.hZ](){return this}next(){const E=this.buffer;return 0===E.length&&this.isComplete?{value:null,done:!0}:{value:E.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(E){this.buffer.push(E),this.parent.checkIterators()}subscribe(){return(0,ve.ft)(this.observable,new ve.IY(this))}}var Mt=L(1221);function Je(m){return E=>E.lift(new Ye(m))}class Ye{constructor(E){this.notifier=E}call(E,p){const T=new at(E),V=(0,ve.ft)(this.notifier,new ve.IY(T));return V&&!T.seenValue?(T.add(V),p.subscribe(T)):T}}class at extends ve.Ds{constructor(E){super(E),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var ht=L(2198),xt=L(2986),$t=L(4850),En=L(1059),Ut=L(5778),bn=L(7545),Te=L(2994),Cn=L(7168);L(9312);var xi=L(4719);Math,Math,Math;const Ws=["*"];function zo(m,E){if(1&m){const p=o.EpF();o.TgZ(0,"button",6),o.NdJ("click",function(){const ne=o.CHM(p).$implicit,ze=o.oxw();return ze.focus(),o.KtG(ze.select(ne.id,ze.NgbSlideEventSource.INDICATOR))}),o.qZA()}if(2&m){const p=E.$implicit,T=o.oxw();o.ekj("active",p.id===T.activeId),o.uIk("aria-labelledby","slide-"+p.id)("aria-controls","slide-"+p.id)("aria-selected",p.id===T.activeId)}}function Pr(m,E){}function as(m,E){if(1&m&&(o.TgZ(0,"div",7)(1,"span",8),o.SDv(2,9),o.qZA(),o.YNc(3,Pr,0,0,"ng-template",10),o.qZA()),2&m){const p=E.$implicit,T=E.index,V=E.count;o.Q6J("id","slide-"+p.id),o.xp6(2),o.pQV(T+1)(V),o.QtT(2),o.xp6(1),o.Q6J("ngTemplateOutlet",p.tplRef)}}function Oo(m,E){if(1&m){const p=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(p);const V=o.oxw();return o.KtG(V.arrowLeft())}),o._UZ(1,"span",12),o.TgZ(2,"span",8),o.SDv(3,13),o.qZA()()}}function Hr(m,E){if(1&m){const p=o.EpF();o.TgZ(0,"button",14),o.NdJ("click",function(){o.CHM(p);const V=o.oxw();return o.KtG(V.arrowRight())}),o._UZ(1,"span",15),o.TgZ(2,"span",8),o.SDv(3,16),o.qZA()()}}const lr=["dialog"];function pl(m){return"string"==typeof m}function mo(m){return null!=m}function vs(m){return(m||document.body).getBoundingClientRect()}const Bl={animation:!0,transitionTimerDelayMs:5},Oa=()=>{},{transitionTimerDelayMs:Al}=Bl,wa=new Map,Lo=(m,E,p,T)=>{let V=T.context||{};const ne=wa.get(E);if(ne)switch(T.runningTransition){case"continue":return Fe.E;case"stop":m.run(()=>ne.transition$.complete()),V=Object.assign(ne.context,V),wa.delete(E)}const ze=p(E,T.animation,V)||Oa;if(!T.animation||"none"===window.getComputedStyle(E).transitionProperty)return m.run(()=>ze()),(0,ie.of)(void 0).pipe(function Ll(m){return E=>new Q.y(p=>E.subscribe({next:ze=>m.run(()=>p.next(ze)),error:ze=>m.run(()=>p.error(ze)),complete:()=>m.run(()=>p.complete())}))}(m));const It=new de.xQ,Bt=new de.xQ,fn=It.pipe(function mt(...m){return E=>(0,Mt.z)(E,(0,ie.of)(...m))}(!0));wa.set(E,{transition$:It,complete:()=>{Bt.next(),Bt.complete()},context:V});const vn=function Ka(m){const{transitionDelay:E,transitionDuration:p}=window.getComputedStyle(m);return 1e3*(parseFloat(E)+parseFloat(p))}(E);return m.runOutsideAngular(()=>{const Ti=(0,_e.R)(E,"transitionend").pipe(Je(fn),(0,ht.h)(({target:Si})=>Si===E));(function Be(...m){if(1===m.length){if(!(0,ye.k)(m[0]))return m[0];m=m[0]}return(0,je.n)(m,void 0).lift(new Ge)})(oe(vn+Al).pipe(Je(fn)),Ti,Bt).pipe(Je(fn)).subscribe(()=>{wa.delete(E),m.run(()=>{ze(),It.next(),It.complete()})})}),It.asObservable()};let Ya=(()=>{class m{constructor(){this.animation=Bl.animation}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Qc=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})(),ju=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})();var es=(()=>{return(m=es||(es={})).START="start",m.END="end",es;var m})();const ta=({classList:m})=>m.contains("carousel-item-start")||m.contains("carousel-item-end"),na=m=>{m.remove("carousel-item-start"),m.remove("carousel-item-end")},ec=m=>{na(m),m.remove("carousel-item-prev"),m.remove("carousel-item-next")},tc=(m,E,{direction:p})=>{const{classList:T}=m;return E?(ta(m)?na(T):(T.add("carousel-item-"+(p===es.START?"next":"prev")),vs(m),T.add("carousel-item-"+p)),()=>{ec(T),T.add("active")}):(na(T),ec(T),void T.add("active"))},_o=(m,E,{direction:p})=>{const{classList:T}=m;return E?(ta(m)?na(T):T.add("carousel-item-"+p),()=>{ec(T),T.remove("active")}):(na(T),ec(T),void T.remove("active"))};let da=(()=>{class m{constructor(p){this._ngbConfig=p,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(p){this._animation=p}}return m.\u0275fac=function(p){return new(p||m)(o.LFG(Ya))},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),en=0,Ea=(()=>{class m{constructor(p){this.tplRef=p,this.id="ngb-slide-"+en++,this.slid=new o.vpe}}return m.\u0275fac=function(p){return new(p||m)(o.Y36(o.Rgc))},m.\u0275dir=o.lG2({type:m,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),m})(),yo=(()=>{class m{constructor(p,T,V,ne,ze){this._platformId=T,this._ngZone=V,this._cd=ne,this._container=ze,this.NgbSlideEventSource=nl,this._destroy$=new de.xQ,this._interval$=new vt.X(0),this._mouseHover$=new vt.X(!1),this._focused$=new vt.X(!1),this._pauseOnHover$=new vt.X(!1),this._pauseOnFocus$=new vt.X(!1),this._pause$=new vt.X(!1),this._wrap$=new vt.X(!1),this.slide=new o.vpe,this.slid=new o.vpe,this._transitionIds=null,this.animation=p.animation,this.interval=p.interval,this.wrap=p.wrap,this.keyboard=p.keyboard,this.pauseOnHover=p.pauseOnHover,this.pauseOnFocus=p.pauseOnFocus,this.showNavigationArrows=p.showNavigationArrows,this.showNavigationIndicators=p.showNavigationIndicators}set interval(p){this._interval$.next(p)}get interval(){return this._interval$.value}set wrap(p){this._wrap$.next(p)}get wrap(){return this._wrap$.value}set pauseOnHover(p){this._pauseOnHover$.next(p)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(p){this._pauseOnFocus$.next(p)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(p){this._mouseHover$.next(p)}get mouseHover(){return this._mouseHover$.value}set focused(p){this._focused$.next(p)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(nl.ARROW_LEFT)}arrowRight(){this.focus(),this.next(nl.ARROW_RIGHT)}ngAfterContentInit(){(0,q.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const p=(0,Et.aj)([this.slide.pipe((0,$t.U)(T=>T.current),(0,En.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,En.O)(null))]).pipe((0,$t.U)(([T,V])=>{const ne=this.slides.toArray(),ze=this._getSlideIdxById(T);return V?ne.length>1:ze<ne.length-1}),(0,Ut.x)());(0,Et.aj)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,p]).pipe((0,$t.U)(([T,V,ne,ze,It,Bt,fn])=>T||V&&ne||ze&&It||!fn?0:Bt),(0,Ut.x)(),(0,bn.w)(T=>T>0?oe(T,T):We),Je(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(nl.TIMER)))}),this.slides.changes.pipe(Je(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(p=>(m=>{wa.get(m)?.complete()})(this._getSlideElement(p))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,xt.q)(1)).subscribe(()=>{for(const{id:p}of this.slides){const T=this._getSlideElement(p);p===this.activeId?T.classList.add("active"):T.classList.remove("active")}})})}ngAfterContentChecked(){let p=this._getSlideById(this.activeId);this.activeId=p?p.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const p=this._getSlideElement(this.activeId);p&&p.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(p,T){this._cycleToSelected(p,this._getSlideEventDirection(this.activeId,p),T)}prev(p){this._cycleToSelected(this._getPrevSlide(this.activeId),es.END,p)}next(p){this._cycleToSelected(this._getNextSlide(this.activeId),es.START,p)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(p,T,V){const ne=this._transitionIds;if(ne&&(ne[0]!==p||ne[1]!==this.activeId))return;let ze=this._getSlideById(p);if(ze&&ze.id!==this.activeId){this._transitionIds=[this.activeId,p],this.slide.emit({prev:this.activeId,current:ze.id,direction:T,paused:this._pause$.value,source:V});const It={animation:this.animation,runningTransition:"stop",context:{direction:T}},Bt=[],fn=this._getSlideById(this.activeId);if(fn){const Si=Lo(this._ngZone,this._getSlideElement(fn.id),_o,It);Si.subscribe(()=>{fn.slid.emit({isShown:!1,direction:T,source:V})}),Bt.push(Si)}const vn=this.activeId;this.activeId=ze.id;const Ti=this._getSlideById(this.activeId),fi=Lo(this._ngZone,this._getSlideElement(ze.id),tc,It);fi.subscribe(()=>{Ti?.slid.emit({isShown:!0,direction:T,source:V})}),Bt.push(fi),Ie(...Bt).pipe((0,xt.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:vn,current:ze.id,direction:T,paused:this._pause$.value,source:V})})}this._cd.markForCheck()}_getSlideEventDirection(p,T){return this._getSlideIdxById(p)>this._getSlideIdxById(T)?es.END:es.START}_getSlideById(p){return this.slides.find(T=>T.id===p)||null}_getSlideIdxById(p){const T=this._getSlideById(p);return null!=T?this.slides.toArray().indexOf(T):-1}_getNextSlide(p){const T=this.slides.toArray(),V=this._getSlideIdxById(p);return V===T.length-1?this.wrap?T[0].id:T[T.length-1].id:T[V+1].id}_getPrevSlide(p){const T=this.slides.toArray(),V=this._getSlideIdxById(p);return 0===V?this.wrap?T[T.length-1].id:T[0].id:T[V-1].id}_getSlideElement(p){return this._container.nativeElement.querySelector(`#slide-${p}`)}}return m.\u0275fac=function(p){return new(p||m)(o.Y36(da),o.Y36(o.Lbi),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(o.SBq))},m.\u0275cmp=o.Xpm({type:m,selectors:[["ngb-carousel"]],contentQueries:function(p,T,V){if(1&p&&o.Suo(V,Ea,4),2&p){let ne;o.iGM(ne=o.CRH())&&(T.slides=ne)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(p,T){1&p&&o.NdJ("keydown.arrowLeft",function(){return T.keyboard&&T.arrowLeft()})("keydown.arrowRight",function(){return T.keyboard&&T.arrowRight()})("mouseenter",function(){return T.mouseHover=!0})("mouseleave",function(){return T.mouseHover=!1})("focusin",function(){return T.focused=!0})("focusout",function(){return T.focused=!1}),2&p&&(o.uIk("aria-activedescendant","slide-"+T.activeId),o.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let E,p,T;return E=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,p=$localize`:@@ngb.carousel.previous:Previous`,T=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],E,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],p,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],T]},template:function(p,T){1&p&&(o.TgZ(0,"div",0),o.YNc(1,zo,1,5,"button",1),o.qZA(),o.TgZ(2,"div",2),o.YNc(3,as,4,4,"div",3),o.qZA(),o.YNc(4,Oo,4,0,"button",4),o.YNc(5,Hr,4,0,"button",5)),2&p&&(o.ekj("visually-hidden",!T.showNavigationIndicators),o.xp6(1),o.Q6J("ngForOf",T.slides),o.xp6(2),o.Q6J("ngForOf",T.slides),o.xp6(1),o.Q6J("ngIf",T.showNavigationArrows),o.xp6(1),o.Q6J("ngIf",T.showNavigationArrows))},dependencies:[q.sg,q.O5,q.tP],encapsulation:2,changeDetection:0}),m})();var nl=(()=>{return(m=nl||(nl={})).TIMER="timer",m.ARROW_LEFT="arrowLeft",m.ARROW_RIGHT="arrowRight",m.INDICATOR="indicator",nl;var m})();let Ca=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})(),F=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({}),m})();var Ci=(()=>{return(m=Ci||(Ci={}))[m.Tab=9]="Tab",m[m.Enter=13]="Enter",m[m.Escape=27]="Escape",m[m.Space=32]="Space",m[m.PageUp=33]="PageUp",m[m.PageDown=34]="PageDown",m[m.End=35]="End",m[m.Home=36]="Home",m[m.ArrowLeft=37]="ArrowLeft",m[m.ArrowUp=38]="ArrowUp",m[m.ArrowRight=39]="ArrowRight",m[m.ArrowDown=40]="ArrowDown",Ci;var m})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Nl=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ml(m){const E=Array.from(m.querySelectorAll(Nl)).filter(p=>-1!==p.tabIndex);return[E[0],E[E.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Cu=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez,xi.u5]}),m})(),nh=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({}),m})();class Pa{constructor(E,p,T){this.nodes=E,this.viewRef=p,this.componentRef=T}}let bo=(()=>{class m{constructor(p,T){this._el=p,this._zone=T}ngOnInit(){this._zone.onStable.asObservable().pipe((0,xt.q)(1)).subscribe(()=>{Lo(this._zone,this._el.nativeElement,(p,T)=>{T&&vs(p),p.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Lo(this._zone,this._el.nativeElement,({classList:p})=>p.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return m.\u0275fac=function(p){return new(p||m)(o.Y36(o.SBq),o.Y36(o.R0b))},m.\u0275cmp=o.Xpm({type:m,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(p,T){2&p&&(o.Tol("modal-backdrop"+(T.backdropClass?" "+T.backdropClass:"")),o.ekj("show",!T.animation)("fade",T.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(p,T){},encapsulation:2}),m})();class Wl{close(E){}dismiss(E){}}class Du{constructor(E,p,T,V){this._windowCmptRef=E,this._contentRef=p,this._backdropCmptRef=T,this._beforeDismiss=V,this._closed=new de.xQ,this._dismissed=new de.xQ,this._hidden=new de.xQ,E.instance.dismissEvent.subscribe(ne=>{this.dismiss(ne)}),this.result=new Promise((ne,ze)=>{this._resolve=ne,this._reject=ze}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Je(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Je(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(E){this._windowCmptRef&&(this._closed.next(E),this._resolve(E),this._removeModalElements())}_dismiss(E){this._dismissed.next(E),this._reject(E),this._removeModalElements()}dismiss(E){if(this._windowCmptRef)if(this._beforeDismiss){const p=this._beforeDismiss();!function Xn(m){return m&&m.then}(p)?!1!==p&&this._dismiss(E):p.then(T=>{!1!==T&&this._dismiss(E)},()=>{})}else this._dismiss(E)}_removeModalElements(){const E=this._windowCmptRef.instance.hide(),p=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,ie.of)(void 0);E.subscribe(()=>{const{nativeElement:T}=this._windowCmptRef.location;T.parentNode.removeChild(T),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),p.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:T}=this._backdropCmptRef.location;T.parentNode.removeChild(T),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ie(E,p).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Wc=(()=>{return(m=Wc||(Wc={}))[m.BACKDROP_CLICK=0]="BACKDROP_CLICK",m[m.ESC=1]="ESC",Wc;var m})();let ed=(()=>{class m{constructor(p,T,V){this._document=p,this._elRef=T,this._zone=V,this._closed$=new de.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new de.xQ,this.hidden=new de.xQ}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":pl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(p){this.dismissEvent.emit(p)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,xt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:p}=this._elRef,T={animation:this.animation,runningTransition:"stop"},ze=Ie(Lo(this._zone,p,()=>p.classList.remove("show"),T),Lo(this._zone,this._dialogEl.nativeElement,()=>{},T));return ze.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ze}_show(){const p={animation:this.animation,runningTransition:"continue"};Ie(Lo(this._zone,this._elRef.nativeElement,(ne,ze)=>{ze&&vs(ne),ne.classList.add("show")},p),Lo(this._zone,this._dialogEl.nativeElement,()=>{},p)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:p}=this._elRef;this._zone.runOutsideAngular(()=>{(0,_e.R)(p,"keydown").pipe(Je(this._closed$),(0,ht.h)(V=>V.which===Ci.Escape)).subscribe(V=>{this.keyboard?requestAnimationFrame(()=>{V.defaultPrevented||this._zone.run(()=>this.dismiss(Wc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let T=!1;(0,_e.R)(this._dialogEl.nativeElement,"mousedown").pipe(Je(this._closed$),(0,Te.b)(()=>T=!1),(0,bn.w)(()=>(0,_e.R)(p,"mouseup").pipe(Je(this._closed$),(0,xt.q)(1))),(0,ht.h)(({target:V})=>p===V)).subscribe(()=>{T=!0}),(0,_e.R)(p,"click").pipe(Je(this._closed$)).subscribe(({target:V})=>{p===V&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!T&&this._zone.run(()=>this.dismiss(Wc.BACKDROP_CLICK))),T=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:p}=this._elRef;if(!p.contains(document.activeElement)){const T=p.querySelector("[ngbAutofocus]"),V=ml(p)[0];(T||V||p).focus()}}_restoreFocus(){const p=this._document.body,T=this._elWithFocus;let V;V=T&&T.focus&&p.contains(T)?T:p,this._zone.runOutsideAngular(()=>{setTimeout(()=>V.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Lo(this._zone,this._elRef.nativeElement,({classList:p})=>(p.add("modal-static"),()=>p.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return m.\u0275fac=function(p){return new(p||m)(o.Y36(q.K0),o.Y36(o.SBq),o.Y36(o.R0b))},m.\u0275cmp=o.Xpm({type:m,selectors:[["ngb-modal-window"]],viewQuery:function(p,T){if(1&p&&o.Gf(lr,7),2&p){let V;o.iGM(V=o.CRH())&&(T._dialogEl=V.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(p,T){2&p&&(o.uIk("aria-modal",!0)("aria-labelledby",T.ariaLabelledBy)("aria-describedby",T.ariaDescribedBy),o.Tol("modal d-block"+(T.windowClass?" "+T.windowClass:"")),o.ekj("fade",T.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Ws,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(p,T){1&p&&(o.F$t(),o.TgZ(0,"div",0,1)(2,"div",2),o.Hsn(3),o.qZA()()),2&p&&o.Tol("modal-dialog"+(T.size?" modal-"+T.size:"")+(T.centered?" modal-dialog-centered":"")+T.fullscreenClass+(T.scrollable?" modal-dialog-scrollable":"")+(T.modalDialogClass?" "+T.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),m})(),Ar=(()=>{class m{constructor(p){this._document=p}hide(){const p=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),T=this._document.body,V=T.style,{overflow:ne,paddingRight:ze}=V;if(p>0){const It=parseFloat(window.getComputedStyle(T).paddingRight);V.paddingRight=`${It+p}px`}return V.overflow="hidden",()=>{p>0&&(V.paddingRight=ze),V.overflow=ne}}}return m.\u0275fac=function(p){return new(p||m)(o.LFG(q.K0))},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),ac=(()=>{class m{constructor(p,T,V,ne,ze,It){this._applicationRef=p,this._injector=T,this._document=V,this._scrollBar=ne,this._rendererFactory=ze,this._ngZone=It,this._activeWindowCmptHasChanged=new de.xQ,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Bt=this._windowCmpts[this._windowCmpts.length-1];((m,E,p,T=!1)=>{this._ngZone.runOutsideAngular(()=>{const V=(0,_e.R)(E,"focusin").pipe(Je(p),(0,$t.U)(ne=>ne.target));(0,_e.R)(E,"keydown").pipe(Je(p),(0,ht.h)(ne=>ne.which===Ci.Tab),(0,Cn.M)(V)).subscribe(([ne,ze])=>{const[It,Bt]=ml(E);(ze===It||ze===E)&&ne.shiftKey&&(Bt.focus(),ne.preventDefault()),ze===Bt&&!ne.shiftKey&&(It.focus(),ne.preventDefault())}),T&&(0,_e.R)(E,"click").pipe(Je(p),(0,Cn.M)(V),(0,$t.U)(ne=>ne[1])).subscribe(ne=>ne.focus())})})(0,Bt.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Bt.location.nativeElement)}})}_restoreScrollBar(){const p=this._scrollBarRestoreFn;p&&(this._scrollBarRestoreFn=null,p())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(p,T,V){const ne=V.container instanceof HTMLElement?V.container:mo(V.container)?this._document.querySelector(V.container):this._document.body,ze=this._rendererFactory.createRenderer(null,null);if(!ne)throw new Error(`The specified modal container "${V.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const It=new Wl,Bt=this._getContentRef(V.injector||p,T,It,V);let fn=!1!==V.backdrop?this._attachBackdrop(ne):void 0,vn=this._attachWindowComponent(ne,Bt.nodes),Ti=new Du(vn,Bt,fn,V.beforeDismiss);return this._registerModalRef(Ti),this._registerWindowCmpt(vn),Ti.hidden.pipe((0,xt.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ze.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),It.close=fi=>{Ti.close(fi)},It.dismiss=fi=>{Ti.dismiss(fi)},this._applyWindowOptions(vn.instance,V),1===this._modalRefs.length&&ze.addClass(this._document.body,"modal-open"),fn&&fn.instance&&(this._applyBackdropOptions(fn.instance,V),fn.changeDetectorRef.detectChanges()),vn.changeDetectorRef.detectChanges(),Ti}get activeInstances(){return this._activeInstances}dismissAll(p){this._modalRefs.forEach(T=>T.dismiss(p))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(p){let T=(0,o.LMc)(bo,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(T.hostView),p.appendChild(T.location.nativeElement),T}_attachWindowComponent(p,T){let V=(0,o.LMc)(ed,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:T});return this._applicationRef.attachView(V.hostView),p.appendChild(V.location.nativeElement),V}_applyWindowOptions(p,T){this._windowAttributes.forEach(V=>{mo(T[V])&&(p[V]=T[V])})}_applyBackdropOptions(p,T){this._backdropAttributes.forEach(V=>{mo(T[V])&&(p[V]=T[V])})}_getContentRef(p,T,V,ne){return T?T instanceof o.Rgc?this._createFromTemplateRef(T,V):pl(T)?this._createFromString(T):this._createFromComponent(p,T,V,ne):new Pa([])}_createFromTemplateRef(p,T){const ne=p.createEmbeddedView({$implicit:T,close(ze){T.close(ze)},dismiss(ze){T.dismiss(ze)}});return this._applicationRef.attachView(ne),new Pa([ne.rootNodes],ne)}_createFromString(p){const T=this._document.createTextNode(`${p}`);return new Pa([[T]])}_createFromComponent(p,T,V,ne){const ze=o.zs3.create({providers:[{provide:Wl,useValue:V}],parent:p}),It=(0,o.LMc)(T,{environmentInjector:this._applicationRef.injector,elementInjector:ze}),Bt=It.location.nativeElement;return ne.scrollable&&Bt.classList.add("component-host-scrollable"),this._applicationRef.attachView(It.hostView),new Pa([[Bt]],It.hostView,It)}_setAriaHidden(p){const T=p.parentElement;T&&p!==this._document.body&&(Array.from(T.children).forEach(V=>{V!==p&&"SCRIPT"!==V.nodeName&&(this._ariaHiddenValues.set(V,V.getAttribute("aria-hidden")),V.setAttribute("aria-hidden","true"))}),this._setAriaHidden(T))}_revertAriaHidden(){this._ariaHiddenValues.forEach((p,T)=>{p?T.setAttribute("aria-hidden",p):T.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(p){const T=()=>{const V=this._modalRefs.indexOf(p);V>-1&&(this._modalRefs.splice(V,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(p),this._activeInstances.emit(this._modalRefs),p.result.then(T,T)}_registerWindowCmpt(p){this._windowCmpts.push(p),this._activeWindowCmptHasChanged.next(),p.onDestroy(()=>{const T=this._windowCmpts.indexOf(p);T>-1&&(this._windowCmpts.splice(T,1),this._activeWindowCmptHasChanged.next())})}}return m.\u0275fac=function(p){return new(p||m)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(q.K0),o.LFG(Ar),o.LFG(o.FYo),o.LFG(o.R0b))},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),lu=(()=>{class m{constructor(p){this._ngbConfig=p,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(p){this._animation=p}}return m.\u0275fac=function(p){return new(p||m)(o.LFG(Ya))},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Tc=(()=>{class m{constructor(p,T,V){this._injector=p,this._modalStack=T,this._config=V}open(p,T={}){const V={...this._config,animation:this._config.animation,...T};return this._modalStack.open(this._injector,p,V)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(p){this._modalStack.dismissAll(p)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return m.\u0275fac=function(p){return new(p||m)(o.LFG(o.zs3),o.LFG(ac),o.LFG(lu))},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),ka=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({providers:[Tc]}),m})(),Sc=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})(),ae=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})(),Id=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})(),Td=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})(),Sd=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})(),cp=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})(),sh=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})(),Rh=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({}),m})();new o.OlP("live announcer delay",{providedIn:"root",factory:function Xp(){return 100}});let Ad=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[q.ez]}),m})(),Md=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({}),m})();const _f=[Qc,ju,Ca,F,Cu,nh,ka,Sc,Md,ae,Id,Td,Sd,cp,sh,Rh,Ad];let yf=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[_f,Qc,ju,Ca,F,Cu,nh,ka,Sc,Md,ae,Id,Td,Sd,cp,sh,Rh,Ad]}),m})()},8766:(Sn,bt,L)=>{"use strict";L.d(bt,{Lj:()=>Et,X3:()=>vt});var o=L(5861);let Q,Fe;const _e=new WeakMap,ge=new WeakMap,Se=new WeakMap,he=new WeakMap,oe=new WeakMap;let je={get(Ee,ve,Ie){if(Ee instanceof IDBTransaction){if("done"===ve)return ge.get(Ee);if("objectStoreNames"===ve)return Ee.objectStoreNames||Se.get(Ee);if("store"===ve)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return Ge(Ee[ve])},set:(Ee,ve,Ie)=>(Ee[ve]=Ie,!0),has:(Ee,ve)=>Ee instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in Ee};function Be(Ee){return"function"==typeof Ee?function Ve(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...ve){return Ee.apply(Lt(this),ve),Ge(_e.get(this))}:function(...ve){return Ge(Ee.apply(Lt(this),ve))}:function(ve,...Ie){const ue=Ee.call(Lt(this),ve,...Ie);return Se.set(ue,ve.sort?ve.sort():[ve]),Ge(ue)}}(Ee):(Ee instanceof IDBTransaction&&function ye(Ee){if(ge.has(Ee))return;const ve=new Promise((Ie,ue)=>{const Ce=()=>{Ee.removeEventListener("complete",me),Ee.removeEventListener("error",At),Ee.removeEventListener("abort",At)},me=()=>{Ie(),Ce()},At=()=>{ue(Ee.error||new DOMException("AbortError","AbortError")),Ce()};Ee.addEventListener("complete",me),Ee.addEventListener("error",At),Ee.addEventListener("abort",At)});ge.set(Ee,ve)}(Ee),((Ee,ve)=>ve.some(Ie=>Ee instanceof Ie))(Ee,function ie(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,je):Ee)}function Ge(Ee){if(Ee instanceof IDBRequest)return function fe(Ee){const ve=new Promise((Ie,ue)=>{const Ce=()=>{Ee.removeEventListener("success",me),Ee.removeEventListener("error",At)},me=()=>{Ie(Ge(Ee.result)),Ce()},At=()=>{ue(Ee.error),Ce()};Ee.addEventListener("success",me),Ee.addEventListener("error",At)});return ve.then(Ie=>{Ie instanceof IDBCursor&&_e.set(Ie,Ee)}).catch(()=>{}),oe.set(ve,Ee),ve}(Ee);if(he.has(Ee))return he.get(Ee);const ve=Be(Ee);return ve!==Ee&&(he.set(Ee,ve),oe.set(ve,Ee)),ve}const Lt=Ee=>oe.get(Ee);function vt(Ee,ve,{blocked:Ie,upgrade:ue,blocking:Ce,terminated:me}={}){const At=indexedDB.open(Ee,ve),St=Ge(At);return ue&&At.addEventListener("upgradeneeded",Mt=>{ue(Ge(At.result),Mt.oldVersion,Mt.newVersion,Ge(At.transaction))}),Ie&&At.addEventListener("blocked",()=>Ie()),St.then(Mt=>{me&&Mt.addEventListener("close",()=>me()),Ce&&Mt.addEventListener("versionchange",()=>Ce())}).catch(()=>{}),St}function Et(Ee,{blocked:ve}={}){const Ie=indexedDB.deleteDatabase(Ee);return ve&&Ie.addEventListener("blocked",()=>ve()),Ge(Ie).then(()=>{})}const Qe=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],ke=new Map;function tt(Ee,ve){if(!(Ee instanceof IDBDatabase)||ve in Ee||"string"!=typeof ve)return;if(ke.get(ve))return ke.get(ve);const Ie=ve.replace(/FromIndex$/,""),ue=ve!==Ie,Ce=We.includes(Ie);if(!(Ie in(ue?IDBIndex:IDBObjectStore).prototype)||!Ce&&!Qe.includes(Ie))return;const me=function(){var At=(0,o.Z)(function*(St,...Mt){const mt=this.transaction(St,Ce?"readwrite":"readonly");let Je=mt.store;return ue&&(Je=Je.index(Mt.shift())),(yield Promise.all([Je[Ie](...Mt),Ce&&mt.done]))[0]});return function(Mt){return At.apply(this,arguments)}}();return ke.set(ve,me),me}!function ft(Ee){je=Ee(je)}(Ee=>({...Ee,get:(ve,Ie,ue)=>tt(ve,Ie)||Ee.get(ve,Ie,ue),has:(ve,Ie)=>!!tt(ve,Ie)||Ee.has(ve,Ie)}))},5861:(Sn,bt,L)=>{"use strict";function o(Q,Fe,ie,de,_e,ge,Se){try{var he=Q[ge](Se),oe=he.value}catch(fe){return void ie(fe)}he.done?Fe(oe):Promise.resolve(oe).then(de,_e)}function q(Q){return function(){var Fe=this,ie=arguments;return new Promise(function(de,_e){var ge=Q.apply(Fe,ie);function Se(oe){o(ge,de,_e,Se,he,"next",oe)}function he(oe){o(ge,de,_e,Se,he,"throw",oe)}Se(void 0)})}}L.d(bt,{Z:()=>q})}},Sn=>{Sn(Sn.s=8998)}]);